(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"0049":function(e,t,n){"use strict";var r=n("65ee").IteratorPrototype,i=n("6756"),o=n("8d23"),s=n("77da"),a=n("ca70"),c=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),s(e,u,!1,!0),a[u]=c,e}},"00ee":function(e,t,n){var r=n("b622"),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},"0209":function(e,t,n){var r=n("db8f"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},"0368":function(e,t,n){var r=n("a714");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"06cf":function(e,t,n){var r=n("83ab"),i=n("d1e7"),o=n("5c6c"),s=n("fc6a"),a=n("c04e"),c=n("5135"),u=n("0cfb"),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=s(e),t=a(t,!0),u)try{return l(e,t)}catch(n){}if(c(e,t))return o(!i.f.call(e,t),e[t])}},"0761":function(e,t,n){var r=n("d0c8"),i=n("caad"),o=n("09d1"),s=n("4dd8"),a=n("c35a"),c=n("cf9e"),u=function(e,t){this.stopped=e,this.result=t},l=e.exports=function(e,t,n,l,d){var f,p,h,m,v,b,y,g=s(t,n,l?2:1);if(d)f=e;else{if(p=a(e),"function"!=typeof p)throw TypeError("Target is not iterable");if(i(p)){for(h=0,m=o(e.length);m>h;h++)if(v=l?g(r(y=e[h])[0],y[1]):g(e[h]),v&&v instanceof u)return v;return new u(!1)}f=p.call(e)}b=f.next;while(!(y=b.call(f)).done)if(v=c(f,g,y.value,l),"object"==typeof v&&v&&v instanceof u)return v;return new u(!1)};l.stop=function(e){return new u(!0,e)}},"0828":function(e,t,n){var r=n("0f33"),i=n("db8f");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},"09d1":function(e,t,n){var r=n("59c2"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},"09e4":function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n("c8ba"))},"0a06":function(e,t,n){"use strict";var r=n("2444"),i=n("c532"),o=n("f6b4"),s=n("5270");function a(e){this.defaults=e,this.interceptors={request:new o,response:new o}}a.prototype.request=function(e){"string"===typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),e=i.merge(r,{method:"get"},this.defaults,e),e.method=e.method.toLowerCase();var t=[s,void 0],n=Promise.resolve(e);this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));while(t.length)n=n.then(t.shift(),t.shift());return n},i.forEach(["delete","get","head","options"],(function(e){a.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}})),i.forEach(["post","put","patch"],(function(e){a.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}})),e.exports=a},"0cdd":function(e,t){window.MutationObserver||(window.MutationObserver=function(e){function t(e){this.i=[],this.m=e}function n(e){(function n(){var r=e.takeRecords();r.length&&e.m(r,e),e.h=setTimeout(n,t._period)})()}function r(t){var n,r={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null};for(n in t)r[n]!==e&&t[n]!==e&&(r[n]=t[n]);return r}function i(e,t){var n=u(e,t);return function(i){var o=i.length;if(t.a&&3===e.nodeType&&e.nodeValue!==n.a&&i.push(new r({type:"characterData",target:e,oldValue:n.a})),t.b&&n.b&&a(i,e,n.b,t.f),t.c||t.g)var s=c(i,e,n,t);(s||i.length!==o)&&(n=u(e,t))}}function o(e,t){return t.value}function s(e,t){return"style"!==t.name?t.value:e.style.cssText}function a(t,n,i,o){for(var s,a,c={},u=n.attributes,l=u.length;l--;)s=u[l],a=s.name,o&&o[a]===e||(m(n,s)!==i[a]&&t.push(r({type:"attributes",target:n,attributeName:a,oldValue:i[a],attributeNamespace:s.namespaceURI})),c[a]=!0);for(a in i)c[a]||t.push(r({target:n,type:"attributes",attributeName:a,oldValue:i[a]}))}function c(t,n,i,o){function s(e,n,i,s,u){var l,d,f,p=e.length-1;for(u=-~((p-u)/2);f=e.pop();)l=i[f.j],d=s[f.l],o.c&&u&&Math.abs(f.j-f.l)>=p&&(t.push(r({type:"childList",target:n,addedNodes:[l],removedNodes:[l],nextSibling:l.nextSibling,previousSibling:l.previousSibling})),u--),o.b&&d.b&&a(t,l,d.b,o.f),o.a&&3===l.nodeType&&l.nodeValue!==d.a&&t.push(r({type:"characterData",target:l,oldValue:d.a})),o.g&&c(l,d)}function c(n,i){for(var d,f,h,m,v,b=n.childNodes,y=i.c,g=b.length,_=y?y.length:0,S=0,w=0,x=0;w<g||x<_;)m=b[w],v=(h=y[x])&&h.node,m===v?(o.b&&h.b&&a(t,m,h.b,o.f),o.a&&h.a!==e&&m.nodeValue!==h.a&&t.push(r({type:"characterData",target:m,oldValue:h.a})),f&&s(f,n,b,y,S),o.g&&(m.childNodes.length||h.c&&h.c.length)&&c(m,h),w++,x++):(u=!0,d||(d={},f=[]),m&&(d[h=l(m)]||(d[h]=!0,-1===(h=p(y,m,x,"node"))?o.c&&(t.push(r({type:"childList",target:n,addedNodes:[m],nextSibling:m.nextSibling,previousSibling:m.previousSibling})),S++):f.push({j:w,l:h})),w++),v&&v!==b[w]&&(d[h=l(v)]||(d[h]=!0,-1===(h=p(b,v,w))?o.c&&(t.push(r({type:"childList",target:i.node,removedNodes:[v],nextSibling:y[x+1],previousSibling:y[x-1]})),S--):f.push({j:h,l:x})),x++));f&&s(f,n,b,y,S)}var u;return c(n,i),u}function u(e,t){var n=!0;return function e(r){var i={node:r};return!t.a||3!==r.nodeType&&8!==r.nodeType?(t.b&&n&&1===r.nodeType&&(i.b=f(r.attributes,(function(e,n){return t.f&&!t.f[n.name]||(e[n.name]=m(r,n)),e}),{})),n&&(t.c||t.a||t.b&&t.g)&&(i.c=d(r.childNodes,e)),n=t.g):i.a=r.nodeValue,i}(e)}function l(e){try{return e.id||(e.mo_id=e.mo_id||v++)}catch(t){try{return e.nodeValue}catch(n){return v++}}}function d(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r,e);return n}function f(e,t,n){for(var r=0;r<e.length;r++)n=t(n,e[r],r,e);return n}function p(e,t,n,r){for(;n<e.length;n++)if((r?e[n][r]:e[n])===t)return n;return-1}t._period=30,t.prototype={observe:function(e,t){for(var r={b:!!(t.attributes||t.attributeFilter||t.attributeOldValue),c:!!t.childList,g:!!t.subtree,a:!(!t.characterData&&!t.characterDataOldValue)},o=this.i,s=0;s<o.length;s++)o[s].s===e&&o.splice(s,1);t.attributeFilter&&(r.f=f(t.attributeFilter,(function(e,t){return e[t]=!0,e}),{})),o.push({s:e,o:i(e,r)}),this.h||n(this)},takeRecords:function(){for(var e=[],t=this.i,n=0;n<t.length;n++)t[n].o(e);return e},disconnect:function(){this.i=[],clearTimeout(this.h),this.h=null}};var h=document.createElement("i");h.style.top=0;var m=(h="null"!=h.attributes.style.value)?o:s,v=1;return t}(void 0))},"0cfb":function(e,t,n){var r=n("83ab"),i=n("d039"),o=n("cc12");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"0d05":function(e,t,n){var r=n("09e4"),i=n("0209"),o=r.WeakMap;e.exports="function"===typeof o&&/native code/.test(i(o))},"0df6":function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"0e17":function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},"0ee6":function(e,t,n){var r=n("d1d7"),i=n("09e4"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},"0f33":function(e,t){e.exports=!1},"0fd9":function(e,t,n){var r,i,o,s=n("09e4"),a=n("a714"),c=n("d714"),u=n("4dd8"),l=n("68d9"),d=n("c4dd"),f=n("68e0"),p=s.location,h=s.setImmediate,m=s.clearImmediate,v=s.process,b=s.MessageChannel,y=s.Dispatch,g=0,_={},S="onreadystatechange",w=function(e){if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},x=function(e){return function(){w(e)}},C=function(e){w(e.data)},O=function(e){s.postMessage(e+"",p.protocol+"//"+p.host)};h&&m||(h=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return _[++g]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(g),g},m=function(e){delete _[e]},"process"==c(v)?r=function(e){v.nextTick(x(e))}:y&&y.now?r=function(e){y.now(x(e))}:b&&!f?(i=new b,o=i.port2,i.port1.onmessage=C,r=u(o.postMessage,o,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||a(O)||"file:"===p.protocol?r=S in d("script")?function(e){l.appendChild(d("script"))[S]=function(){l.removeChild(this),w(e)}}:function(e){setTimeout(x(e),0)}:(r=O,s.addEventListener("message",C,!1))),e.exports={set:h,clear:m}},1053:function(module,exports,__webpack_require__){!function(e,t){module.exports=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/Users/zhangdong/code/kefu-fe/websdk/packages/sdk",n(n.s=102)}([function(e,t,n){"use strict";"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";e.exports=function(e){return e&&e.__esModule?e:{default:e}}},,function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":r(window))&&(i=window)}e.exports=i},function(e,t,n){"use strict";var r,i,o=e.exports=n(13),s=n(82);o.codegen=n(146),o.fetch=n(147),o.path=n(148),o.fs=o.inquire("fs"),o.toArray=function(e){if(e){for(var t=Object.keys(e),n=new Array(t.length),r=0;r<t.length;)n[r]=e[t[r++]];return n}return[]},o.toObject=function(e){for(var t={},n=0;n<e.length;){var r=e[n++],i=e[n++];void 0!==i&&(t[r]=i)}return t};var a=/\\/g,c=/"/g;o.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},o.safeProp=function(e){return!/^[$\w_]+$/.test(e)||o.isReserved(e)?'["'+e.replace(a,"\\\\").replace(c,'\\"')+'"]':"."+e},o.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var u=/_([a-z])/g;o.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(u,(function(e,t){return t.toUpperCase()}))},o.compareFieldsById=function(e,t){return e.id-t.id},o.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(o.decorateRoot.remove(e.$type),e.$type.name=t,o.decorateRoot.add(e.$type)),e.$type;r||(r=n(46));var i=new r(t||e.name);return o.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,"$type",{value:i,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:i,enumerable:!1}),i};var l=0;o.decorateEnum=function(e){if(e.$type)return e.$type;i||(i=n(11));var t=new i("Enum"+l++,e);return o.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},Object.defineProperty(o,"decorateRoot",{get:function(){return s.decorated||(s.decorated=new(n(51)))}})},function(e,t,n){"use strict";var r=n(0),i=n(66);function o(){i.call(this)}r(o,i),o.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}},o.prototype.once=function(e,t){var n=this,r=!1;this.on(e,(function i(){n.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}))},o.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,r=new Array(n-1),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<t.length;o++)t[o].apply(this,r)}},o.prototype.on=o.prototype.addListener=i.prototype.addEventListener,o.prototype.removeListener=i.prototype.removeEventListener,e.exports.EventEmitter=o},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}function o(t){return"function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?e.exports=o=function(e){return i(e)}:e.exports=o=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)},o(t)}e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return{WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR:0,WEBIM_CONNCTION_OPEN_ERROR:1,WEBIM_CONNCTION_AUTH_ERROR:2,WEBIM_CONNCTION_OPEN_USERGRID_ERROR:3,WEBIM_CONNCTION_ATTACH_ERROR:4,WEBIM_CONNCTION_ATTACH_USERGRID_ERROR:5,WEBIM_CONNCTION_REOPEN_ERROR:6,WEBIM_CONNCTION_SERVER_CLOSE_ERROR:7,WEBIM_CONNCTION_SERVER_ERROR:8,WEBIM_CONNCTION_IQ_ERROR:9,WEBIM_CONNCTION_USER_REMOVED:207,WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE:206,WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD:216,WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE:217,WEBIM_CONNCTION_PING_ERROR:10,WEBIM_CONNCTION_NOTIFYVERSION_ERROR:11,WEBIM_CONNCTION_GETROSTER_ERROR:12,WEBIM_CONNCTION_CROSSDOMAIN_ERROR:13,WEBIM_CONNCTION_LISTENING_OUTOF_MAXRETRIES:14,WEBIM_CONNCTION_RECEIVEMSG_CONTENTERROR:15,WEBIM_CONNCTION_DISCONNECTED:16,WEBIM_CONNCTION_AJAX_ERROR:17,WEBIM_CONNCTION_JOINROOM_ERROR:18,WEBIM_CONNCTION_GETROOM_ERROR:19,WEBIM_CONNCTION_GETROOMINFO_ERROR:20,WEBIM_CONNCTION_GETROOMMEMBER_ERROR:21,WEBIM_CONNCTION_GETROOMOCCUPANTS_ERROR:22,WEBIM_CONNCTION_LOAD_CHATROOM_ERROR:23,WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR:24,WEBIM_CONNCTION_JOINCHATROOM_ERROR:25,WEBIM_CONNCTION_QUITCHATROOM_ERROR:26,WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR:27,WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR:28,WEBIM_CONNCTION_SESSIONID_NOT_ASSIGN_ERROR:29,WEBIM_CONNCTION_RID_NOT_ASSIGN_ERROR:30,WEBIM_CONNCTION_CALLBACK_INNER_ERROR:31,WEBIM_CONNCTION_CLIENT_OFFLINE:32,WEBIM_CONNCTION_CLIENT_LOGOUT:33,WEBIM_CONNCTION_CLIENT_TOO_MUCH_ERROR:34,WEBIM_CONNECTION_ACCEPT_INVITATION_FROM_GROUP:35,WEBIM_CONNECTION_DECLINE_INVITATION_FROM_GROUP:36,WEBIM_CONNECTION_ACCEPT_JOIN_GROUP:37,WEBIM_CONNECTION_DECLINE_JOIN_GROUP:38,WEBIM_CONNECTION_CLOSED:39,WEBIM_UPLOADFILE_BROWSER_ERROR:100,WEBIM_UPLOADFILE_ERROR:101,WEBIM_UPLOADFILE_NO_LOGIN:102,WEBIM_UPLOADFILE_NO_FILE:103,WEBIM_DOWNLOADFILE_ERROR:200,WEBIM_DOWNLOADFILE_NO_LOGIN:201,WEBIM_DOWNLOADFILE_BROWSER_ERROR:202,WEBIM_MESSAGE_REC_TEXT:300,WEBIM_MESSAGE_REC_TEXT_ERROR:301,WEBIM_MESSAGE_REC_EMOTION:302,WEBIM_MESSAGE_REC_PHOTO:303,WEBIM_MESSAGE_REC_AUDIO:304,WEBIM_MESSAGE_REC_AUDIO_FILE:305,WEBIM_MESSAGE_REC_VEDIO:306,WEBIM_MESSAGE_REC_VEDIO_FILE:307,WEBIM_MESSAGE_REC_FILE:308,WEBIM_MESSAGE_SED_TEXT:309,WEBIM_MESSAGE_SED_EMOTION:310,WEBIM_MESSAGE_SED_PHOTO:311,WEBIM_MESSAGE_SED_AUDIO:312,WEBIM_MESSAGE_SED_AUDIO_FILE:313,WEBIM_MESSAGE_SED_VEDIO:314,WEBIM_MESSAGE_SED_VEDIO_FILE:315,WEBIM_MESSAGE_SED_FILE:316,WEBIM_MESSAGE_SED_ERROR:317,STATUS_INIT:400,STATUS_DOLOGIN_USERGRID:401,STATUS_DOLOGIN_IM:402,STATUS_OPENED:403,STATUS_CLOSING:404,STATUS_CLOSED:405,STATUS_ERROR:406,GROUP_NOT_EXIST:605,GROUP_NOT_JOINED:602,MESSAGE_RECALL_TIME_LIMIT:504,SERVICE_NOT_ENABLED:505,SERVICE_NOT_ALLOW_MESSAGING:506,SERVER_UNKNOWN_ERROR:503,MESSAGE_INCLUDE_ILLEGAL_CONTENT:501,PERMISSION_DENIED:603,WEBIM_LOAD_MSG_ERROR:604}};t.default=r},function(e,t,n){"use strict";e.exports=i;var r=null;try{r=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function i(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function o(e){return!0===(e&&e.__isLong__)}i.prototype.__isLong__,Object.defineProperty(i.prototype,"__isLong__",{value:!0}),i.isLong=o;var s={},a={};function c(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=l(e,(0|e)<0?-1:0,!0),i&&(a[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=s[e])?r:(n=l(e,e<0?-1:0,!1),i&&(s[e]=n),n)}function u(e,t){if(isNaN(e))return t?g:y;if(t){if(e<0)return g;if(e>=m)return C}else{if(e<=-v)return O;if(e+1>=v)return x}return e<0?u(-e,t).neg():l(e%h|0,e/h|0,t)}function l(e,t,n){return new i(e,t,n)}i.fromInt=c,i.fromNumber=u,i.fromBits=l;var d=Math.pow;function f(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return y;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return f(e.substring(1),t,n).neg();for(var i=u(d(n,8)),o=y,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+a),n);if(a<8){var l=u(d(n,a));o=o.mul(l).add(u(c))}else o=(o=o.mul(i)).add(u(c))}return o.unsigned=t,o}function p(e,t){return"number"==typeof e?u(e,t):"string"==typeof e?f(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}i.fromString=f,i.fromValue=p;var h=4294967296,m=h*h,v=m/2,b=c(1<<24),y=c(0);i.ZERO=y;var g=c(0,!0);i.UZERO=g;var _=c(1);i.ONE=_;var S=c(1,!0);i.UONE=S;var w=c(-1);i.NEG_ONE=w;var x=l(-1,2147483647,!1);i.MAX_VALUE=x;var C=l(-1,-1,!0);i.MAX_UNSIGNED_VALUE=C;var O=l(0,-2147483648,!1);i.MIN_VALUE=O;var T=i.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},T.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(O)){var t=u(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=u(d(e,6),this.unsigned),o=this,s="";;){var a=o.div(i),c=(o.sub(a.mul(i)).toInt()>>>0).toString(e);if((o=a).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(O)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},T.isZero=function(){return 0===this.high&&0===this.low},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return 1==(1&this.low)},T.isEven=function(){return 0==(1&this.low)},T.equals=function(e){return o(e)||(e=p(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(e){return this.comp(e)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return this.comp(e)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(e){return this.comp(e)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return this.comp(e)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(e){if(o(e)||(e=p(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(O)?O:this.not().add(_)},T.neg=T.negate,T.add=function(e){o(e)||(e=p(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,s=e.high>>>16,a=65535&e.high,c=e.low>>>16,u=0,d=0,f=0,h=0;return f+=(h+=i+(65535&e.low))>>>16,d+=(f+=r+c)>>>16,u+=(d+=n+a)>>>16,u+=t+s,l((f&=65535)<<16|(h&=65535),(u&=65535)<<16|(d&=65535),this.unsigned)},T.subtract=function(e){return o(e)||(e=p(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return y;if(o(e)||(e=p(e)),r)return l(r.mul(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned);if(e.isZero())return y;if(this.eq(O))return e.isOdd()?O:y;if(e.eq(O))return this.isOdd()?O:y;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(b)&&e.lt(b))return u(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,s=65535&this.low,a=e.high>>>16,c=65535&e.high,d=e.low>>>16,f=65535&e.low,h=0,m=0,v=0,g=0;return v+=(g+=s*f)>>>16,m+=(v+=i*f)>>>16,v&=65535,m+=(v+=s*d)>>>16,h+=(m+=n*f)>>>16,m&=65535,h+=(m+=i*d)>>>16,m&=65535,h+=(m+=s*c)>>>16,h+=t*f+n*d+i*c+s*a,l((v&=65535)<<16|(g&=65535),(h&=65535)<<16|(m&=65535),this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(o(e)||(e=p(e)),e.isZero())throw Error("division by zero");var t,n,i;if(r)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?r.div_u:r.div_s)(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?g:y;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return S;i=g}else{if(this.eq(O))return e.eq(_)||e.eq(w)?O:e.eq(O)?_:(t=this.shr(1).div(e).shl(1)).eq(y)?e.isNegative()?_:w:(n=this.sub(e.mul(t)),i=t.add(n.div(e)));if(e.eq(O))return this.unsigned?g:y;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=y}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(t)/Math.LN2),a=s<=48?1:d(2,s-48),c=u(t),f=c.mul(e);f.isNegative()||f.gt(n);)f=(c=u(t-=a,this.unsigned)).mul(e);c.isZero()&&(c=_),i=i.add(c),n=n.sub(f)}return i},T.div=T.divide,T.modulo=function(e){return o(e)||(e=p(e)),r?l((this.unsigned?r.rem_u:r.rem_s)(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return l(~this.low,~this.high,this.unsigned)},T.and=function(e){return o(e)||(e=p(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return o(e)||(e=p(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return o(e)||(e=p(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return o(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return o(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){if(o(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},i.fromBytes=function(e,t,n){return n?i.fromBytesLE(e,t):i.fromBytesBE(e,t)},i.fromBytesLE=function(e,t){return new i(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},i.fromBytesBE=function(e,t){return new i(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t,n){"use strict";var r=n(65);e.exports={getOrigin:function(e){if(!e)return null;var t=new r(e);if("file:"===t.protocol)return null;var n=t.port;return n||(n="https:"===t.protocol?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(-1===e.indexOf("?")?"?"+t:"&"+t)}}},,function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=a;var i=n(19);((a.prototype=Object.create(i.prototype)).constructor=a).className="Enum";var o=n(27),s=n(4);function a(e,t,n,o,s){if(i.call(this,e,n),t&&"object"!==r(t))throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=o,this.comments=s||{},this.reserved=void 0,t)for(var a=Object.keys(t),c=0;c<a.length;++c)"number"==typeof t[a[c]]&&(this.valuesById[this.values[a[c]]=t[a[c]]]=a[c])}a.fromJSON=function(e,t){var n=new a(e,t.values,t.options,t.comment,t.comments);return n.reserved=t.reserved,n},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},a.prototype.add=function(e,t,n){if(!s.isString(e))throw TypeError("name must be a string");if(!s.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=n||null,this},a.prototype.remove=function(e){if(!s.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},a.prototype.isReservedId=function(e){return o.isReservedId(this.reserved,e)},a.prototype.isReservedName=function(e){return o.isReservedName(this.reserved,e)}},function(e,t,n){"use strict";(function(e,r){var i;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */(function(){var s=n(115),a={function:!0,object:!0},c=a[o(t)]&&t&&!t.nodeType&&t,u=a["undefined"==typeof window?"undefined":o(window)]&&window||this,l=c&&a[o(e)]&&e&&!e.nodeType&&"object"==(void 0===r?"undefined":o(r))&&r;function d(e,t){e||(e=u.Object()),t||(t=u.Object());var n=e.Number||u.Number,r=e.String||u.String,i=e.Object||u.Object,s=e.Date||u.Date,c=e.SyntaxError||u.SyntaxError,l=e.TypeError||u.TypeError,f=e.Math||u.Math,p=e.JSON||u.JSON;"object"==o(p)&&p&&(t.stringify=p.stringify,t.parse=p.parse);var h,m,v=i.prototype,b=v.toString,y=new s(-0xc782b5b800cec);try{y=-109252==y.getUTCFullYear()&&0===y.getUTCMonth()&&1===y.getUTCDate()&&10==y.getUTCHours()&&37==y.getUTCMinutes()&&6==y.getUTCSeconds()&&708==y.getUTCMilliseconds()}catch(e){}function g(e){if(void 0!==g[e])return g[e];var i;if("bug-string-char-index"==e)i="a"!="a"[0];else if("json"==e)i=g("json-stringify")&&g("json-parse");else{var o,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var c=t.stringify,u="function"==typeof c&&y;if(u){(o=function(){return 1}).toJSON=o;try{u="0"===c(0)&&"0"===c(new n)&&'""'==c(new r)&&void 0===c(b)&&void 0===c(void 0)&&void 0===c()&&"1"===c(o)&&"[1]"==c([o])&&"[null]"==c([void 0])&&"null"==c(null)&&"[null,null,null]"==c([void 0,b,null])&&c({a:[o,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===c(null,o)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new s(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new s(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new s(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new s(-1))}catch(e){u=!1}}i=u}if("json-parse"==e){var l=t.parse;if("function"==typeof l)try{if(0===l("0")&&!l(!1)){var d=5==(o=l(a)).a.length&&1===o.a[0];if(d){try{d=!l('"\t"')}catch(e){}if(d)try{d=1!==l("01")}catch(e){}if(d)try{d=1!==l("1.")}catch(e){}}}}catch(e){d=!1}i=d}}return g[e]=!!i}if(!g("json")){var _=g("bug-string-char-index");if(!y)var S=f.floor,w=[0,31,59,90,120,151,181,212,243,273,304,334],x=function(e,t){return w[t]+365*(e-1970)+S((e-1969+(t=+(t>1)))/4)-S((e-1901+t)/100)+S((e-1601+t)/400)};if((h=v.hasOwnProperty)||(h=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=b?h=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,h=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,h.call(this,e)}),m=function(e,t){var n,r,i,s=0;for(i in(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n)h.call(r,i)&&s++;return n=r=null,s?m=2==s?function(e,t){var n,r={},i="[object Function]"==b.call(e);for(n in e)i&&"prototype"==n||h.call(r,n)||!(r[n]=1)||!h.call(e,n)||t(n)}:function(e,t){var n,r,i="[object Function]"==b.call(e);for(n in e)i&&"prototype"==n||!h.call(e,n)||(r="constructor"===n)||t(n);(r||h.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],m=function(e,t){var n,i,s="[object Function]"==b.call(e),c=!s&&"function"!=typeof e.constructor&&a[o(e.hasOwnProperty)]&&e.hasOwnProperty||h;for(n in e)s&&"prototype"==n||!c.call(e,n)||t(n);for(i=r.length;n=r[--i];c.call(e,n)&&t(n));}),m(e,t)},!g("json-stringify")){var C={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},O=function(e,t){return("000000"+(t||0)).slice(-e)},T=function(e){for(var t='"',n=0,r=e.length,i=!_||r>10,o=i&&(_?e.split(""):e);n<r;n++){var s=e.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=C[s];break;default:if(s<32){t+="\\u00"+O(2,s.toString(16));break}t+=i?o[n]:e.charAt(n)}}return t+'"'};t.stringify=function(e,t,n){var r,i,s,c;if(a[o(t)]&&t)if("[object Function]"==(c=b.call(t)))i=t;else if("[object Array]"==c){s={};for(var u,d=0,f=t.length;d<f;u=t[d++],("[object String]"==(c=b.call(u))||"[object Number]"==c)&&(s[u]=1));}if(n)if("[object Number]"==(c=b.call(n))){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else"[object String]"==c&&(r=n.length<=10?n:n.slice(0,10));return function e(t,n,r,i,s,a,c){var u,d,f,p,v,y,g,_,w,C,E,I,k,R,P,M;try{u=n[t]}catch(e){}if("object"==o(u)&&u)if("[object Date]"!=(d=b.call(u))||h.call(u,"toJSON"))"function"==typeof u.toJSON&&("[object Number]"!=d&&"[object String]"!=d&&"[object Array]"!=d||h.call(u,"toJSON"))&&(u=u.toJSON(t));else if(u>-1/0&&u<1/0){if(x){for(v=S(u/864e5),f=S(v/365.2425)+1970-1;x(f+1,0)<=v;f++);for(p=S((v-x(f,0))/30.42);x(f,p+1)<=v;p++);v=1+v-x(f,p),g=S((y=(u%864e5+864e5)%864e5)/36e5)%24,_=S(y/6e4)%60,w=S(y/1e3)%60,C=y%1e3}else f=u.getUTCFullYear(),p=u.getUTCMonth(),v=u.getUTCDate(),g=u.getUTCHours(),_=u.getUTCMinutes(),w=u.getUTCSeconds(),C=u.getUTCMilliseconds();u=(f<=0||f>=1e4?(f<0?"-":"+")+O(6,f<0?-f:f):O(4,f))+"-"+O(2,p+1)+"-"+O(2,v)+"T"+O(2,g)+":"+O(2,_)+":"+O(2,w)+"."+O(3,C)+"Z"}else u=null;if(r&&(u=r.call(n,t,u)),null===u)return"null";if("[object Boolean]"==(d=b.call(u)))return""+u;if("[object Number]"==d)return u>-1/0&&u<1/0?""+u:"null";if("[object String]"==d)return T(""+u);if("object"==o(u)){for(R=c.length;R--;)if(c[R]===u)throw l();if(c.push(u),E=[],P=a,a+=s,"[object Array]"==d){for(k=0,R=u.length;k<R;k++)I=e(k,u,r,i,s,a,c),E.push(void 0===I?"null":I);M=E.length?s?"[\n"+a+E.join(",\n"+a)+"\n"+P+"]":"["+E.join(",")+"]":"[]"}else m(i||u,(function(t){var n=e(t,u,r,i,s,a,c);void 0!==n&&E.push(T(t)+":"+(s?" ":"")+n)})),M=E.length?s?"{\n"+a+E.join(",\n"+a)+"\n"+P+"}":"{"+E.join(",")+"}":"{}";return c.pop(),M}}("",((u={})[""]=e,u),i,s,r,"",[])}}if(!g("json-parse")){var E,I,k=r.fromCharCode,R={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},P=function(){throw E=I=null,c()},M=function(){for(var e,t,n,r,i,o=I,s=o.length;E<s;)switch(i=o.charCodeAt(E)){case 9:case 10:case 13:case 32:E++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=_?o.charAt(E):o[E],E++,e;case 34:for(e="@",E++;E<s;)if((i=o.charCodeAt(E))<32)P();else if(92==i)switch(i=o.charCodeAt(++E)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=R[i],E++;break;case 117:for(t=++E,n=E+4;E<n;E++)(i=o.charCodeAt(E))>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||P();e+=k("0x"+o.slice(t,E));break;default:P()}else{if(34==i)break;for(i=o.charCodeAt(E),t=E;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++E);e+=o.slice(t,E)}if(34==o.charCodeAt(E))return E++,e;P();default:if(t=E,45==i&&(r=!0,i=o.charCodeAt(++E)),i>=48&&i<=57){for(48==i&&(i=o.charCodeAt(E+1))>=48&&i<=57&&P(),r=!1;E<s&&(i=o.charCodeAt(E))>=48&&i<=57;E++);if(46==o.charCodeAt(E)){for(n=++E;n<s&&(i=o.charCodeAt(n))>=48&&i<=57;n++);n==E&&P(),E=n}if(101==(i=o.charCodeAt(E))||69==i){for(43!=(i=o.charCodeAt(++E))&&45!=i||E++,n=E;n<s&&(i=o.charCodeAt(n))>=48&&i<=57;n++);n==E&&P(),E=n}return+o.slice(t,E)}if(r&&P(),"true"==o.slice(E,E+4))return E+=4,!0;if("false"==o.slice(E,E+5))return E+=5,!1;if("null"==o.slice(E,E+4))return E+=4,null;P()}return"$"},A=function(e,t,n){var r=j(e,t,n);void 0===r?delete e[t]:e[t]=r},j=function(e,t,n){var r,i=e[t];if("object"==o(i)&&i)if("[object Array]"==b.call(i))for(r=i.length;r--;)A(i,r,n);else m(i,(function(e){A(i,e,n)}));return n.call(e,t,i)};t.parse=function(e,t){var n,r;return E=0,I=""+e,n=function e(t){var n,r;if("$"==t&&P(),"string"==typeof t){if("@"==(_?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(n=[];"]"!=(t=M());r||(r=!0))r&&(","==t?"]"==(t=M())&&P():P()),","==t&&P(),n.push(e(t));return n}if("{"==t){for(n={};"}"!=(t=M());r||(r=!0))r&&(","==t?"}"==(t=M())&&P():P()),","!=t&&"string"==typeof t&&"@"==(_?t.charAt(0):t[0])&&":"==M()||P(),n[t.slice(1)]=e(M());return n}P()}return t}(M()),"$"!=M()&&P(),E=I=null,t&&"[object Function]"==b.call(t)?j(((r={})[""]=n,r),"",t):n}}}return t.runInContext=d,t}if(!l||l.global!==l&&l.window!==l&&l.self!==l||(u=l),c&&!s)d(u,c);else{var f=u.JSON,p=u.JSON3,h=!1,m=d(u,u.JSON3={noConflict:function(){return h||(h=!0,u.JSON=f,u.JSON3=p,f=p=null),m}});u.JSON={parse:m.parse,stringify:m.stringify}}s&&(void 0===(i=function(){return m}.call(t,n,t,e))||(e.exports=i))}).call(void 0)}).call(this,n(114)(e),n(3))},function(e,t,n){"use strict";(function(e){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=t;function o(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function s(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&o(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}i.asPromise=n(79),i.base64=n(137),i.EventEmitter=n(138),i.float=n(139),i.inquire=n(80),i.utf8=n(140),i.pool=n(141),i.LongBits=n(142),i.global="undefined"!=typeof window&&window||void 0!==e&&e||"undefined"!=typeof self&&self||void 0,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isNode=Boolean(i.global.process&&i.global.process.versions&&i.global.process.versions.node),i.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},i.isString=function(e){return"string"==typeof e||e instanceof String},i.isObject=function(e){return e&&"object"===r(e)},i.isset=i.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!==r(n)||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},i.Buffer=function(){try{var e=i.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(e){return"number"==typeof e?i.Buffer?i._Buffer_allocUnsafe(e):new i.Array(e):i.Buffer?i._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},i.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(e){return e?i.LongBits.from(e).toHash():i.LongBits.zeroHash},i.longFromHash=function(e,t){var n=i.LongBits.fromHash(e);return i.Long?i.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},i.merge=o,i.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},i.newError=s,i.ProtocolError=s("ProtocolError"),i.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},i.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var e=i.Buffer;e?(i._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},i._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):i._Buffer_from=i._Buffer_allocUnsafe=null}}).call(this,n(3))},function(e,t,n){"use strict";(function(t){var r=n(17),i={},o=!1,s=t.chrome&&t.chrome.app&&t.chrome.app.runtime;e.exports={attachEvent:function(e,n){void 0!==t.addEventListener?t.addEventListener(e,n,!1):t.document&&t.attachEvent&&(t.document.attachEvent("on"+e,n),t.attachEvent("on"+e,n))},detachEvent:function(e,n){void 0!==t.addEventListener?t.removeEventListener(e,n,!1):t.document&&t.detachEvent&&(t.document.detachEvent("on"+e,n),t.detachEvent("on"+e,n))},unloadAdd:function(e){if(s)return null;var t=r.string(8);return i[t]=e,o&&setTimeout(this.triggerUnloadCallbacks,0),t},unloadDel:function(e){e in i&&delete i[e]},triggerUnloadCallbacks:function(){for(var e in i)i[e](),delete i[e]}},s||e.exports.attachEvent("unload",(function(){o||(o=!0,e.exports.triggerUnloadCallbacks())}))}).call(this,n(3))},,function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=l;var i=n(19);((l.prototype=Object.create(i.prototype)).constructor=l).className="Field";var o,s=n(11),a=n(20),c=n(4),u=/^required|optional|repeated$/;function l(e,t,n,r,o,s,l){if(c.isObject(r)?(l=o,s=r,r=o=void 0):c.isObject(o)&&(l=s,s=o,o=void 0),i.call(this,e,s),!c.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!c.isString(n))throw TypeError("type must be a string");if(void 0!==r&&!u.test(r=r.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==o&&!c.isString(o))throw TypeError("extend must be a string");this.rule=r&&"optional"!==r?r:void 0,this.type=n,this.id=t,this.extend=o||void 0,this.required="required"===r,this.optional=!this.required,this.repeated="repeated"===r,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!c.Long&&void 0!==a.long[n],this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=l}l.fromJSON=function(e,t){return new l(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(l.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),l.prototype.setOption=function(e,t,n){return"packed"===e&&(this._packed=null),i.prototype.setOption.call(this,e,t,n)},l.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return c.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},l.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=a.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof o?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof s&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof s)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=c.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;c.base64.test(this.typeDefault)?c.base64.decode(this.typeDefault,e=c.newBuffer(c.base64.length(this.typeDefault)),0):c.utf8.write(this.typeDefault,e=c.newBuffer(c.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=c.emptyObject:this.repeated?this.defaultValue=c.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof o&&(this.parent.ctor.prototype[this.name]=this.defaultValue),i.prototype.resolve.call(this)},l.d=function(e,t,n,i){return"function"==typeof t?t=c.decorateType(t).name:t&&"object"===r(t)&&(t=c.decorateEnum(t).name),function(r,o){c.decorateType(r.constructor).add(new l(o,e,t,n,{default:i}))}},l._configure=function(e){o=e}},function(e,t,n){"use strict";var r=n(106);e.exports={string:function(e){for(var t="abcdefghijklmnopqrstuvwxyz012345".length,n=r.randomBytes(e),i=[],o=0;o<e;o++)i.push("abcdefghijklmnopqrstuvwxyz012345".substr(n[o]%t,1));return i.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length;return(new Array(t+1).join("0")+this.number(e)).slice(-t)}}},function(e,t,n){"use strict";var r=n(0),i=n(9),o=n(67);function s(e,t,n,r){o.call(this,e,t,function(e){return function(t,n,r){var o={};"string"==typeof n&&(o.headers={"Content-type":"text/plain"});var s=i.addPath(t,"/xhr_send"),a=new e("POST",s,n,o);return a.once("finish",(function(e){if(a=null,200!==e&&204!==e)return r(new Error("http status "+e));r()})),function(){a.close(),a=null;var e=new Error("Aborted");e.code=1e3,r(e)}}}(r),n,r)}r(s,o),e.exports=s},function(e,t,n){"use strict";e.exports=o,o.className="ReflectionObject";var r,i=n(4);function o(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(o.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),o.prototype.toJSON=function(){throw Error()},o.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof r&&t._handleAdd(this)},o.prototype.onRemove=function(e){var t=e.root;t instanceof r&&t._handleRemove(this),this.parent=null,this.resolved=!1},o.prototype.resolve=function(){return this.resolved||this.root instanceof r&&(this.resolved=!0),this},o.prototype.getOption=function(e){if(this.options)return this.options[e]},o.prototype.setOption=function(e,t,n){return n&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},o.prototype.setOptions=function(e,t){if(e)for(var n=Object.keys(e),r=0;r<n.length;++r)this.setOption(n[r],e[n[r]],t);return this},o.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},o._configure=function(e){r=e}},function(e,t,n){"use strict";var r=t,i=n(4),o=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function s(e,t){var n=0,r={};for(t|=0;n<e.length;)r[o[n+t]]=e[n++];return r}r.basic=s([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),r.defaults=s([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),r.long=s([0,0,0,1,1],7),r.mapKey=s([0,0,0,5,5,0,0,0,1,1,0,2],2),r.packed=s([1,5,0,0,0,5,5,0,0,0,1,1,0])},,,,function(e,t,n){"use strict";var r=n(0),i=n(68);function o(e,t,n){i.call(this,e,t,n,{noCredentials:!0})}r(o,i),o.enabled=i.enabled,e.exports=o},function(e,t,n){"use strict";(function(t){e.exports={isOpera:function(){return t.navigator&&/opera/i.test(t.navigator.userAgent)},isKonqueror:function(){return t.navigator&&/konqueror/i.test(t.navigator.userAgent)},hasDomain:function(){if(!t.document)return!0;try{return!!t.document.domain}catch(e){return!1}}}}).call(this,n(3))},function(e,t,n){"use strict";(function(t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(14),o=n(12),s=n(25);e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in t||(t[e.exports.WPrefix]={})},postMessage:function(n,r){t.parent!==t&&t.parent.postMessage(o.stringify({windowId:e.exports.currentWindowId,type:n,data:r||""}),"*")},createIframe:function(e,n){var r,o,s=t.document.createElement("iframe"),a=function(){clearTimeout(r);try{s.onload=null}catch(e){}s.onerror=null},c=function(){s&&(a(),setTimeout((function(){s&&s.parentNode.removeChild(s),s=null}),0),i.unloadDel(o))},u=function(e){s&&(c(),n(e))};return s.src=e,s.style.display="none",s.style.position="absolute",s.onerror=function(){u("onerror")},s.onload=function(){clearTimeout(r),r=setTimeout((function(){u("onload timeout")}),2e3)},t.document.body.appendChild(s),r=setTimeout((function(){u("timeout")}),15e3),o=i.unloadAdd(c),{post:function(e,t){setTimeout((function(){try{s&&s.contentWindow&&s.contentWindow.postMessage(e,t)}catch(e){}}),0)},cleanup:c,loaded:a}},createHtmlfile:function(n,r){var o,s,a,c=["Active"].concat("Object").join("X"),u=new t[c]("htmlfile"),l=function(){clearTimeout(o),a.onerror=null},d=function(){u&&(l(),i.unloadDel(s),a.parentNode.removeChild(a),a=u=null,CollectGarbage())},f=function(e){u&&(d(),r(e))};u.open(),u.write('<html><script>document.domain="'+t.document.domain+'";<\/script></html>'),u.close(),u.parentWindow[e.exports.WPrefix]=t[e.exports.WPrefix];var p=u.createElement("div");return u.body.appendChild(p),a=u.createElement("iframe"),p.appendChild(a),a.src=n,a.onerror=function(){f("onerror")},o=setTimeout((function(){f("timeout")}),15e3),s=i.unloadAdd(d),{post:function(e,t){try{setTimeout((function(){a&&a.contentWindow&&a.contentWindow.postMessage(e,t)}),0)}catch(e){}},cleanup:d,loaded:l}}},e.exports.iframeEnabled=!1,t.document&&(e.exports.iframeEnabled=("function"==typeof t.postMessage||"object"===r(t.postMessage))&&!s.isKonqueror())}).call(this,n(3))},function(e,t,n){"use strict";e.exports=l;var r=n(19);((l.prototype=Object.create(r.prototype)).constructor=l).className="Namespace";var i,o,s,a=n(16),c=n(4);function u(e,t){if(e&&e.length){for(var n={},r=0;r<e.length;++r)n[e[r].name]=e[r].toJSON(t);return n}}function l(e,t){r.call(this,e,t),this.nested=void 0,this._nestedArray=null}function d(e){return e._nestedArray=null,e}l.fromJSON=function(e,t){return new l(e,t.options).addJSON(t.nested)},l.arrayToJSON=u,l.isReservedId=function(e,t){if(e)for(var n=0;n<e.length;++n)if("string"!=typeof e[n]&&e[n][0]<=t&&e[n][1]>=t)return!0;return!1},l.isReservedName=function(e,t){if(e)for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1},Object.defineProperty(l.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=c.toArray(this.nested))}}),l.prototype.toJSON=function(e){return c.toObject(["options",this.options,"nested",u(this.nestedArray,e)])},l.prototype.addJSON=function(e){if(e)for(var t,n=Object.keys(e),r=0;r<n.length;++r)t=e[n[r]],this.add((void 0!==t.fields?i.fromJSON:void 0!==t.values?s.fromJSON:void 0!==t.methods?o.fromJSON:void 0!==t.id?a.fromJSON:l.fromJSON)(n[r],t));return this},l.prototype.get=function(e){return this.nested&&this.nested[e]||null},l.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof s)return this.nested[e].values;throw Error("no such enum: "+e)},l.prototype.add=function(e){if(!(e instanceof a&&void 0!==e.extend||e instanceof i||e instanceof s||e instanceof o||e instanceof l))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof l&&e instanceof l)||t instanceof i||t instanceof o)throw Error("duplicate name '"+e.name+"' in "+this);for(var n=t.nestedArray,r=0;r<n.length;++r)e.add(n[r]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),d(this)},l.prototype.remove=function(e){if(!(e instanceof r))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),d(this)},l.prototype.define=function(e,t){if(c.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var n=this;e.length>0;){var r=e.shift();if(n.nested&&n.nested[r]){if(!((n=n.nested[r])instanceof l))throw Error("path conflicts with non-namespace objects")}else n.add(n=new l(r))}return t&&n.addJSON(t),n},l.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof l?e[t++].resolveAll():e[t++].resolve();return this.resolve()},l.prototype.lookup=function(e,t,n){if("boolean"==typeof t?(n=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),c.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var r=this.get(e[0]);if(r){if(1===e.length){if(!t||t.indexOf(r.constructor)>-1)return r}else if(r instanceof l&&(r=r.lookup(e.slice(1),t,!0)))return r}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof l&&(r=this._nestedArray[i].lookup(e,t,!0)))return r;return null===this.parent||n?null:this.parent.lookup(e,t)},l.prototype.lookupType=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such type: "+e);return t},l.prototype.lookupEnum=function(e){var t=this.lookup(e,[s]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},l.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[i,s]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},l.prototype.lookupService=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},l._configure=function(e,t,n){i=e,o=t,s=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function e(t,n){return!this instanceof e?new e(t):(this._msg={},"function"==typeof e[t]&&(e[t].prototype.setGroup=this.setGroup,this._msg=new e[t](n)),this._msg)};r.prototype.setGroup=function(e){this.body.group=e},r.prototype._utils={},(r.read=function(e){this.id=e,this.type="read"}).prototype.set=function(e){this.body={id:this.id,type:this.type,ackId:e.id,to:e.to,msgConfig:e.msgConfig,ackContent:e.ackContent},!e.msgConfig&&delete this.body.msgConfig,!e.ackContent&&delete this.body.ackContent},(r.delivery=function(e){this.id=e,this.type="delivery"}).prototype.set=function(e){this.body={id:this.id,type:this.type,ackId:e.ackId,to:e.to}},(r.txt=function(e){this.id=e,this.type="txt",this.body={}}).prototype.set=function(e){this.value=e.msg,this.body={id:this.id,to:e.to,from:e.from,msg:this.value,type:this.type,roomType:e.roomType,ext:e.ext||{},success:e.success,fail:e.fail,msgConfig:e.msgConfig},!e.msgConfig&&delete this.body.msgConfig,!e.roomType&&delete this.body.roomType},(r.cmd=function(e){this.id=e,this.type="cmd",this.body={}}).prototype.set=function(e){this.value="",this.body={id:this.id,to:e.to,from:e.from,action:e.action,msg:this.value,type:this.type,roomType:e.roomType,ext:e.ext||{},success:e.success},!e.roomType&&delete this.body.roomType},(r.custom=function(e){this.id=e,this.type="custom",this.body={}}).prototype.set=function(e){this.body={id:this.id,to:e.to,from:e.from,params:e.params,customEvent:e.customEvent,customExts:e.customExts,type:this.type,roomType:e.roomType,ext:e.ext||{},success:e.success},!e.roomType&&delete this.body.roomType},(r.location=function(e){this.id=e,this.type="loc",this.body={}}).prototype.set=function(e){this.body={id:this.id,to:e.to,type:this.type,roomType:e.roomType,addr:e.addr,lat:e.lat,lng:e.lng,ext:e.ext||{}}},(r.img=function(e){this.id=e,this.type="img",this.body={}}).prototype.set=function(e){e.file=e.file||r.prototype._utils.getFileUrl(e.fileInputId),this.value=e.file,this.body={id:this.id,file:this.value,apiUrl:e.apiUrl,to:e.to,from:e.from,type:this.type,ext:e.ext||{},roomType:e.roomType,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,success:e.success,fail:e.fail,flashUpload:e.flashUpload,width:e.width,height:e.height,body:e.body,uploadError:e.uploadError,uploadComplete:e.uploadComplete},!e.roomType&&delete this.body.roomType},(r.audio=function(e){this.id=e,this.type="audio",this.body={}}).prototype.set=function(e){e.file=e.file||r.prototype._utils.getFileUrl(e.fileInputId),this.value=e.file,this.filename=e.filename||this.value.filename,this.body={id:this.id,file:this.value,filename:this.filename,apiUrl:e.apiUrl,to:e.to,from:e.from,type:this.type,ext:e.ext||{},length:e.length||0,roomType:e.roomType,file_length:e.file_length,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,success:e.success,fail:e.fail,flashUpload:e.flashUpload,body:e.body},!e.roomType&&delete this.body.roomType},(r.file=function(e){this.id=e,this.type="file",this.body={}}).prototype.set=function(e){e.file=e.file||r.prototype._utils.getFileUrl(e.fileInputId),this.value=e.file,this.filename=e.filename||this.value.filename,this.body={id:this.id,file:this.value,filename:this.filename,apiUrl:e.apiUrl,to:e.to,from:e.from,type:this.type,ext:e.ext||{},roomType:e.roomType,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,success:e.success,fail:e.fail,flashUpload:e.flashUpload,body:e.body},!e.roomType&&delete this.body.roomType},(r.video=function(e){this.id=e,this.type="video",this.body={}}).prototype.set=function(e){e.file=e.file||r.prototype._utils.getFileUrl(e.fileInputId),this.value=e.file,this.filename=e.filename||this.value.filename,this.body={id:this.id,file:this.value,filename:this.filename,apiUrl:e.apiUrl,to:e.to,from:e.from,type:this.type,ext:e.ext||{},length:e.length||0,roomType:e.roomType,file_length:e.file_length,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,success:e.success,fail:e.fail,flashUpload:e.flashUpload,body:e.body},!e.roomType&&delete this.body.roomType};var i=r;t.default=i},function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=r(n(6));function s(e){if(e&&"object"==(0,o.default)(e)){var t=[],n=this.context.root.lookup("easemob.pb.KeyValue"),r=[];for(var i in e){var s=n.decode(t);s.key=i,"object"==(0,o.default)(e[i])?(s.type=8,s.stringValue=JSON.stringify(e[i])):"string"==typeof e[i]?(s.type=7,s.stringValue=e[i]):"boolean"==typeof e[i]?(s.type=1,s.varintValue=e[i]):Number.isInteger(e[i])?(s.type=2,s.varintValue=e[i]):(s.type=6,s.doubleValue=e[i]),r.push(s)}return r}}var a=function(e,t){t.isDebug&&console.log("ä¸è¡æ¶æ¯ï¼",e);var n=[],r=t.context.root.lookup("easemob.pb.MessageBody.Content").decode(n);t.isDebug&&console.log("ä¸è¡contentMessageï¼",r);var i=t.context.root.lookup("easemob.pb.KeyValue"),a=[];switch(e.type){case"txt":r.type=0,r.text=e.msg;break;case"img":r.type=1,r.displayName=e.body.filename,r.remotePath=e.body.url,r.secretKey=e.body.secret,r.fileLength=e.body.file_length,r.size=e.body.size,r.thumbnailDisplayName=e.body.filename;break;case"video":r.type=2,r.displayName=e.body.filename,r.remotePath=e.body.url,r.secretKey=e.body.secret,r.fileLength=e.body.file_length,r.duration=e.body.length,r.thumbnailDisplayName=e.body.filename;break;case"loc":r.type=3,r.latitude=e.lat,r.longitude=e.lng,r.address=e.addr,r.latitude=e.lat;break;case"audio":r.type=4,r.displayName=e.body.filename,r.remotePath=e.body.url,r.secretKey=e.body.secret,r.fileLength=e.body.file_length,r.duration=e.body.length,r.size=e.body.size,r.thumbnailDisplayName=e.body.filename;break;case"file":r.type=5,r.displayName=e.body.filename,r.remotePath=e.body.url,r.secretKey=e.body.secret,r.fileLength=e.body.file_length,r.size=e.body.size,r.thumbnailDisplayName=e.body.filename;break;case"cmd":r.type=6,r.action=e.action;break;case"custom":r.type=7,r.params=s.call(t,e.params),r.customEvent=e.customEvent,r.customExts=s.call(t,e.customExts)}if(e.ext)for(var c in e.ext){var u=i.decode(n);u.key=c,"object"==(0,o.default)(e.ext[c])?(u.type=8,u.stringValue=JSON.stringify(e.ext[c])):"string"==typeof e.ext[c]?(u.type=7,u.stringValue=e.ext[c]):"boolean"==typeof e.ext[c]?(u.type=1,u.varintValue=e.ext[c]):Number.isInteger(e.ext[c])?(u.type=2,u.varintValue=e.ext[c]):(u.type=6,u.doubleValue=e.ext[c]),a.push(u)}var l=t.context.root.lookup("easemob.pb.MessageBody"),d=l.decode(n);t.isDebug&&console.log("ä¸è¡messageBodyï¼",d),"recall"===e.type?(d.type=6,d.from={name:t.context.jid.name},d.to={name:e.to},d.ackMessageId=e.ackId):"delivery"===e.type?(d.type=5,d.from={name:t.context.jid.name},d.to={name:e.to},d.ackMessageId=e.ackId):"read"===e.type?(d.type=4,d.from={name:t.context.jid.name},d.to={name:e.to},d.ackMessageId=e.ackId,e.msgConfig&&"groupchat"===e.group&&!e.roomType&&(d.msgConfig=e.msgConfig,d.ackContent=e.ackContent)):e.group||e.roomType?"groupchat"!==e.group||e.roomType?"groupchat"===e.group&&e.roomType&&(d.type=3,d.from={name:t.context.jid.name},d.to={name:e.to}):(d.type=2,d.from={name:t.context.jid.name},d.to={name:e.to},e.msgConfig&&(d.msgConfig=e.msgConfig)):(d.type=1,d.from={name:t.context.jid.name},d.to={name:e.to}),d.contents=[r],d.ext=a,d=l.encode(d).finish();var f=t.context.root.lookup("easemob.pb.Meta").decode(n);if(f.id=e.id,"recall"===e.type){f.from=t.context.jid;var p="easemob.com";"groupchat"!==e.group&&"chatroom"!==e.group||(p="conference.easemob.com"),f.to={appKey:t.appKey,name:e.to,domain:p}}else"delivery"===e.type?(f.from=t.context.jid,f.to={appKey:t.appKey,name:e.to,domain:"easemob.com"}):"read"===e.type?(f.from=t.context.jid,p="easemob.com","groupchat"===e.group&&(p="conference.easemob.com"),f.to={appKey:t.appKey,name:e.to,domain:p}):e.group||e.roomType?"groupchat"!==e.group||e.roomType?"groupchat"===e.group&&e.roomType&&(f.from={appKey:t.appKey,name:t.user,domain:"conference.easemob.com"},f.to={appKey:t.appKey,name:e.to,domain:"conference.easemob.com"}):(f.from={appKey:t.appKey,name:t.user,domain:"conference.easemob.com"},f.to={appKey:t.appKey,name:e.to,domain:"conference.easemob.com"}):(f.from=t.context.jid,f.to={appKey:t.appKey,name:e.to,domain:"easemob.com"});f.ns=1,f.payload=d,t.isDebug&&console.log("ä¸è¡MetaMessageï¼",f);var h=t.context.root.lookup("easemob.pb.CommSyncUL"),m=h.decode(n);m.meta=f,t.isDebug&&console.log("ä¸è¡commSyncULMessageï¼",m),m=h.encode(m).finish();var v=t.context.root.lookup("easemob.pb.MSync"),b=v.decode(n);b.version=t.version,b.encryptType=t.encryptType,b.command=0,b.guid=t.context.jid,b.payload=m,t.isDebug&&console.log("ä¸è¡MSyncï¼",b),b=v.encode(b).finish(),t.sendMSync(b)},c=function(e,t,n){i=n;var r=t||this;if(r.msg=e,!e.file)return a(r.msg,t);if(r.msg.body&&r.msg.body.url)return a(r.msg,t);var o=r.msg.onFileUploadComplete;r.msg.onFileUploadComplete=function(e){if(e.entities[0]["file-metadata"]){var n=e.entities[0]["file-metadata"]["content-length"];r.msg.filetype=e.entities[0]["file-metadata"]["content-type"],n>204800&&(r.msg.thumbnail=!0)}r.msg.body={type:r.msg.type||"file",url:(t.isHttpDNS?t.apiUrl+e.uri.substr(e.uri.indexOf("/",9)):e.uri)+"/"+e.entities[0].uuid+"?em-redirect=true",secret:e.entities[0]["share-secret"],filename:r.msg.file.filename||r.msg.filename,size:{width:r.msg.width||0,height:r.msg.height||0},length:r.msg.length||0,file_length:r.msg.ext.file_length||0,filetype:r.msg.filetype||r.msg.file.filetype},a(r.msg,t),o instanceof Function&&o(e,r.msg.id)},i.uploadFile.call(t,r.msg)};t.default=c},function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(8)),o=r(n(29)),s=r(n(7)),a=r(n(28)),c=r(n(54)),u=(0,s.default)(),l={0:"TEXT",1:"IMAGE",2:"VIDEO",3:"LOCATION",4:"VOICE",5:"FILE",6:"COMMAND",7:"CUSTOM"},d=function(e,t,n){if(e.delivery&&t.from!==t.to){var r=e.getUniqueId(),i=new a.default("delivery",r);i.set({ackId:n,to:t.from}),(0,o.default)(i.body,e)}},f=function(e){if(e){for(var t=e,n={},r=0;r<t.length;r++)if(8==t[r].type)n[t[r].key]=JSON.parse(t[r].stringValue);else if(7==t[r].type)n[t[r].key]=t[r].stringValue;else if(6==t[r].type)n[t[r].key]=t[r].doubleValue;else if(5==t[r].type)n[t[r].key]=t[r].floatValue;else if(1==t[r].type||2==t[r].type||3==t[r].type||4==t[r].type)if(2==t[r].type){var o=t[r].varintValue,s=new i.default(o.low,o.high,o.unsigned).toString();n[t[r].key]=Number(s)}else n[t[r].key]=t[r].varintValue;return n}},p=function(e,t,n,r){var o=n,s=new i.default(e.timestamp.low,e.timestamp.high,e.timestamp.unsigned).toString(),a=o.context.root.lookup("easemob.pb.MessageBody").decode(e.payload),p=new i.default(e.id.low,e.id.high,e.id.unsigned).toString(),h=a.ackMessageId?new i.default(a.ackMessageId.low,a.ackMessageId.high,a.ackMessageId.unsigned).toString():"",m=null;if(n.isDebug&&console.log("ä¸è¡æ¶æ¯ï¼",a),1===a.type)m="chat";else if(2===a.type)m="groupchat";else if(3===a.type)m="chatroom";else{if(4===a.type)return m="read_ack",a.msgConfig?void n.onReadMessage({mid:h,groupReadCount:a.ext[0]&&JSON.parse(a.ext[0].stringValue),ackContent:a.ackContent}):void n.onReadMessage({mid:h});if(5===a.type)return m="deliver_ack",void n.onDeliverdMessage({mid:h});if(6===a.type)return m="recall",void n.onRecallMessage({mid:h})}for(var v=0;v<a.contents.length;v++){var b={},y=t.errorCode>0,g=t.errorCode,_=t.reason,S=a.contents[v],w=a.from.name,x=a.to.name,C={};a.ext&&(C=f(a.ext));try{switch(S.type){case 0:var O=a.contents[v].text;if(!T)var T={};var E=c.default.parseTextMessage(O,T&&T.Emoji);E.isemoji?(!(b={id:p,type:m,contentsType:"EMOJI",from:w,to:x,data:E.body,ext:C,time:s,msgConfig:a.msgConfig}).delay&&delete b.delay,!b.msgConfig&&delete a.msgConfig,b.error=y,b.errorText=_,b.errorCode=g,!r&&o.onEmojiMessage(b)):(!(b={id:p,type:m,contentsType:l[S.type],from:w,to:x,data:S.text,ext:C,sourceMsg:S.text,time:s,msgConfig:a.msgConfig}).msgConfig&&delete a.msgConfig,b.error=y,b.errorText=_,b.errorCode=g,!r&&n.onTextMessage(b));break;case 1:if(S.size)var I=S.size.width||0,k=S.size.height||0;!(b={id:p,type:m,contentsType:l[S.type],from:w,to:x,url:S.remotePath&&o.apiUrl+S.remotePath.substr(S.remotePath.indexOf("/",9)),secret:S.secretKey,filename:S.displayName,thumb:S.thumbnailRemotePath,thumb_secret:S.thumbnailSecretKey,file_length:S.fileLength||"",width:I,height:k,filetype:S.filetype||"",accessToken:n.token||"",ext:C,time:s,msgConfig:a.msgConfig}).delay&&delete b.delay,!b.msgConfig&&delete a.msgConfig,b.error=y,b.errorText=_,b.errorCode=g,!r&&n.onPictureMessage(b);break;case 2:!(b={id:p,type:m,contentsType:l[S.type],from:w,to:x,url:S.remotePath&&o.apiUrl+S.remotePath.substr(S.remotePath.indexOf("/",9)),secret:S.secretKey,filename:S.displayName,length:S.duration||"",file_length:S.fileLength||"",filetype:S.filetype||"",accessToken:n.token||"",ext:C,time:s,msgConfig:a.msgConfig}).delay&&delete b.delay,!b.msgConfig&&delete a.msgConfig,b.error=y,b.errorText=_,b.errorCode=g,!r&&n.onVideoMessage(b);break;case 3:!(b={id:p,type:m,contentsType:l[S.type],from:w,to:x,addr:S.address,lat:S.latitude,lng:S.longitude,ext:C,time:s,msgConfig:a.msgConfig}).delay&&delete b.delay,!b.msgConfig&&delete a.msgConfig,b.error=y,b.errorText=_,b.errorCode=g,!r&&n.onLocationMessage(b);break;case 4:!(b={id:p,type:m,contentsType:l[S.type],from:w,to:x,url:S.remotePath&&o.apiUrl+S.remotePath.substr(S.remotePath.indexOf("/",9)),secret:S.secretKey,filename:S.displayName,file_length:S.fileLength||"",accessToken:n.token||"",ext:C,length:S.duration,time:s,msgConfig:a.msgConfig}).delay&&delete b.delay,!b.msgConfig&&delete a.msgConfig,b.error=y,b.errorText=_,b.errorCode=g,!r&&n.onAudioMessage(b);break;case 5:!(b={id:p,type:m,contentsType:l[S.type],from:w,to:x,url:S.remotePath&&o.apiUrl+S.remotePath.substr(S.remotePath.indexOf("/",9)),secret:S.secretKey,filename:S.displayName,file_length:S.fileLength,accessToken:n.token||"",ext:C,time:s,msgConfig:a.msgConfig}).delay&&delete b.delay,!b.msgConfig&&delete a.msgConfig,b.error=y,b.errorText=_,b.errorCode=g,!r&&n.onFileMessage(b);break;case 6:!(b={id:p,contentsType:l[S.type],from:w,to:x,action:S.action,ext:C,time:s,msgConfig:a.msgConfig}).msgConfig&&delete a.msgConfig,b.error=y,b.errorText=_,b.errorCode=g,!r&&n.onCmdMessage(b);break;case 7:var R="",P="";a.contents[0].customExts&&(R=f(a.contents[0].customExts)),a.contents[0].params&&(P=f(a.contents[0].params)),b={id:p,contentsType:l[S.type],from:w,to:x,customEvent:S.customEvent,params:P,customExts:R,ext:C,time:s},!r&&n.onCustomMessage(b)}}catch(e){n.onError({type:u.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,data:e})}if(!r&&1===a.type&&n.delivery&&d(n,b,p),r||n.delivery)return b.message_type=m,b}};t.default=p},,,function(e,t,n){"use strict";var r=n(0),i=n(5).EventEmitter;function o(e,t){i.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",(function(e,t){n._chunkHandler(e,t),n.xo=null;var r=200===e?"network":"permanent";n.emit("close",null,r),n._cleanup()}))}r(o,i),o.prototype._chunkHandler=function(e,t){if(200===e&&t)for(var n=-1;;this.bufferPosition+=n+1){var r=t.slice(this.bufferPosition);if(-1===(n=r.indexOf("\n")))break;var i=r.slice(0,n);i&&this.emit("message",i)}},o.prototype._cleanup=function(){this.removeAllListeners()},o.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},e.exports=o},function(e,t,n){"use strict";var r=n(0),i=n(68);function o(e,t,n,r){i.call(this,e,t,n,r)}r(o,i),o.enabled=i.enabled&&i.supportsCORS,e.exports=o},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e="object"===r(t)&&null!==t&&"number"!=typeof t.nodeType?t:"undefined"!=typeof self?self:$.global,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(e){this.message=e}i.prototype=new Error,i.prototype.name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var t,r,o=String(e),s=0,a=n,c="";o.charAt(0|s)||(a="=",s%1);c+=a.charAt(63&t>>8-s%1*8)){if((r=o.charCodeAt(s+=3/4))>255)throw new i("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");t=t<<8|r}return c}),e.atob||(e.atob=function(e){var t=String(e).replace(/[=]+$/,"");if(t.length%4==1)throw new i("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,o,s=0,a=0,c="";o=t.charAt(a++);~o&&(r=s%4?64*r+o:o,s++%4)?c+=String.fromCharCode(255&r>>(-2*s&6)):0)o=n.indexOf(o);return c})}()},function(e,t,n){"use strict";e.exports=s;var r=n(19);((s.prototype=Object.create(r.prototype)).constructor=s).className="OneOf";var i=n(16),o=n(4);function s(e,t,n,i){if(Array.isArray(t)||(n=t,t=void 0),r.call(this,e,n),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function a(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}s.fromJSON=function(e,t){return new s(e,t.oneof,t.options,t.comment)},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},s.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,a(this),this},s.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},s.prototype.onAdd=function(e){r.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var n=e.get(this.oneof[t]);n&&!n.partOf&&(n.partOf=this,this.fieldsArray.push(n))}a(this)},s.prototype.onRemove=function(e){for(var t,n=0;n<this.fieldsArray.length;++n)(t=this.fieldsArray[n]).parent&&t.parent.remove(t);r.prototype.onRemove.call(this,e)},s.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,n){o.decorateType(t.constructor).add(new s(n,e)),Object.defineProperty(t,n,{get:o.oneOfGetter(e),set:o.oneOfSetter(e)})}}},,,,function(e,t,n){"use strict";(function(t){var r=n(5).EventEmitter,i=n(0),o=n(14),s=n(25),a=n(9);function c(e,t,n){var i=this;r.call(this),setTimeout((function(){i._start(e,t,n)}),0)}i(c,r),c.prototype._start=function(e,n,r){var i=this,s=new t.XDomainRequest;n=a.addQuery(n,"t="+ +new Date),s.onerror=function(){i._error()},s.ontimeout=function(){i._error()},s.onprogress=function(){s.responseText,i.emit("chunk",200,s.responseText)},s.onload=function(){i.emit("finish",200,s.responseText),i._cleanup(!1)},this.xdr=s,this.unloadRef=o.unloadAdd((function(){i._cleanup(!0)}));try{this.xdr.open(e,n),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch(e){this._error()}},c.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},c.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),o.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch(e){}this.unloadRef=this.xdr=null}},c.prototype.close=function(){this._cleanup(!0)},c.enabled=!(!t.XDomainRequest||!s.hasDomain()),e.exports=c}).call(this,n(3))},function(e,t,n){"use strict";(function(t){var r=n(0),i=n(72),o=n(42);e.exports=function(e){function n(t,n){i.call(this,e.transportName,t,n)}return r(n,i),n.enabled=function(n,r){if(!t.document)return!1;var s=o.extend({},r);return s.sameOrigin=!0,e.enabled(s)&&i.enabled()},n.transportName="iframe-"+e.transportName,n.needBody=!0,n.roundTrips=i.roundTrips+e.roundTrips-1,n.facadeTransport=e,n}}).call(this,n(3))},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports={isObject:function(e){var t=r(e);return"function"===t||"object"===t&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,r=1,i=arguments.length;r<i;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}}},function(e,t,n){"use strict";function r(e){this.type=e}r.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this},r.prototype.stopPropagation=function(){},r.prototype.preventDefault=function(){},r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,e.exports=r},function(e,t,n){"use strict";e.exports=d;var r,i=n(13),o=i.LongBits,s=i.base64,a=i.utf8;function c(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function u(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new c(u,0,0),this.tail=this.head,this.states=null}function f(e,t,n){t[n]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function h(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function m(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}d.create=i.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d},d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,n){return this.tail=this.tail.next=new c(e,t,n),this.len+=t,this},p.prototype=Object.create(c.prototype),p.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(h,10,o.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=o.from(e);return this._push(h,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(h,t.length(),t)},d.prototype.bool=function(e){return this._push(f,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=o.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var v=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(f,1,0);if(i.isString(e)){var n=d.alloc(t=s.length(e));s.decode(e,n,0),e=n}return this.uint32(t)._push(v,t,e)},d.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(f,1,0)},d.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new c(u,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(u,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},d._configure=function(e){r=e}},function(e,t,n){"use strict";e.exports=c;var r,i=n(13),o=i.LongBits,s=i.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var u,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")};function d(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw a(this,8);return new o(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}c.create=i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new r(e):l(e)})(e)}:l,c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return u;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return u}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return f(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|f(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){r=e;var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},function(e,t,n){"use strict";e.exports=y;var r=n(27);((y.prototype=Object.create(r.prototype)).constructor=y).className="Type";var i=n(11),o=n(36),s=n(16),a=n(47),c=n(48),u=n(50),l=n(45),d=n(44),f=n(4),p=n(83),h=n(84),m=n(85),v=n(86),b=n(87);function y(e,t){r.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function g(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(y.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var n=this.fields[e[t]],r=n.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=f.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=f.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=y.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof u||((e.prototype=new u).constructor=e,f.merge(e.prototype,t)),e.$type=e.prototype.$type=this,f.merge(e,u,!0),this._ctor=e;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var r={};for(n=0;n<this.oneofsArray.length;++n)r[this._oneofsArray[n].resolve().name]={get:f.oneOfGetter(this._oneofsArray[n].oneof),set:f.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(e.prototype,r)}}}),y.generateConstructor=function(e){for(var t,n=f.codegen(["p"],e.name),r=0;r<e.fieldsArray.length;++r)(t=e._fieldsArray[r]).map?n("this%s={}",f.safeProp(t.name)):t.repeated&&n("this%s=[]",f.safeProp(t.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},y.fromJSON=function(e,t){var n=new y(e,t.options);n.extensions=t.extensions,n.reserved=t.reserved;for(var u=Object.keys(t.fields),l=0;l<u.length;++l)n.add((void 0!==t.fields[u[l]].keyType?a.fromJSON:s.fromJSON)(u[l],t.fields[u[l]]));if(t.oneofs)for(u=Object.keys(t.oneofs),l=0;l<u.length;++l)n.add(o.fromJSON(u[l],t.oneofs[u[l]]));if(t.nested)for(u=Object.keys(t.nested),l=0;l<u.length;++l){var d=t.nested[u[l]];n.add((void 0!==d.id?s.fromJSON:void 0!==d.fields?y.fromJSON:void 0!==d.values?i.fromJSON:void 0!==d.methods?c.fromJSON:r.fromJSON)(u[l],d))}return t.extensions&&t.extensions.length&&(n.extensions=t.extensions),t.reserved&&t.reserved.length&&(n.reserved=t.reserved),t.group&&(n.group=!0),t.comment&&(n.comment=t.comment),n},y.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return f.toObject(["options",t&&t.options||void 0,"oneofs",r.arrayToJSON(this.oneofsArray,e),"fields",r.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},y.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var n=this.oneofsArray;for(t=0;t<n.length;)n[t++].resolve();return r.prototype.resolveAll.call(this)},y.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},y.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof s&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),g(this)}return e instanceof o?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),g(this)):r.prototype.add.call(this,e)},y.prototype.remove=function(e){if(e instanceof s&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),g(this)}if(e instanceof o){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),g(this)}return r.prototype.remove.call(this,e)},y.prototype.isReservedId=function(e){return r.isReservedId(this.reserved,e)},y.prototype.isReservedName=function(e){return r.isReservedName(this.reserved,e)},y.prototype.create=function(e){return new this.ctor(e)},y.prototype.setup=function(){for(var e=this.fullName,t=[],n=0;n<this.fieldsArray.length;++n)t.push(this._fieldsArray[n].resolve().resolvedType);this.encode=p(this)({Writer:d,types:t,util:f}),this.decode=h(this)({Reader:l,types:t,util:f}),this.verify=m(this)({types:t,util:f}),this.fromObject=v.fromObject(this)({types:t,util:f}),this.toObject=v.toObject(this)({types:t,util:f});var r=b[e];if(r){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=r.fromObject.bind(i),i.toObject=this.toObject,this.toObject=r.toObject.bind(i)}return this},y.prototype.encode=function(e,t){return this.setup().encode(e,t)},y.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},y.prototype.decode=function(e,t){return this.setup().decode(e,t)},y.prototype.decodeDelimited=function(e){return e instanceof l||(e=l.create(e)),this.decode(e,e.uint32())},y.prototype.verify=function(e){return this.setup().verify(e)},y.prototype.fromObject=function(e){return this.setup().fromObject(e)},y.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},y.d=function(e){return function(t){f.decorateType(t,e)}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=a;var i=n(16);((a.prototype=Object.create(i.prototype)).constructor=a).className="MapField";var o=n(20),s=n(4);function a(e,t,n,r,o,a){if(i.call(this,e,t,r,void 0,void 0,o,a),!s.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}a.fromJSON=function(e,t){return new a(e,t.id,t.keyType,t.type,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},a.prototype.resolve=function(){if(this.resolved)return this;if(void 0===o.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return i.prototype.resolve.call(this)},a.d=function(e,t,n){return"function"==typeof n?n=s.decorateType(n).name:n&&"object"===r(n)&&(n=s.decorateEnum(n).name),function(r,i){s.decorateType(r.constructor).add(new a(i,e,t,n))}}},function(e,t,n){"use strict";e.exports=a;var r=n(27);((a.prototype=Object.create(r.prototype)).constructor=a).className="Service";var i=n(49),o=n(4),s=n(81);function a(e,t){r.call(this,e,t),this.methods={},this._methodsArray=null}function c(e){return e._methodsArray=null,e}a.fromJSON=function(e,t){var n=new a(e,t.options);if(t.methods)for(var r=Object.keys(t.methods),o=0;o<r.length;++o)n.add(i.fromJSON(r[o],t.methods[r[o]]));return t.nested&&n.addJSON(t.nested),n.comment=t.comment,n},a.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return o.toObject(["options",t&&t.options||void 0,"methods",r.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},Object.defineProperty(a.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=o.toArray(this.methods))}}),a.prototype.get=function(e){return this.methods[e]||r.prototype.get.call(this,e)},a.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return r.prototype.resolve.call(this)},a.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,c(this)):r.prototype.add.call(this,e)},a.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,c(this)}return r.prototype.remove.call(this,e)},a.prototype.create=function(e,t,n){for(var r,i=new s.Service(e,t,n),a=0;a<this.methodsArray.length;++a){var c=o.lcFirst((r=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");i[c]=o.codegen(["r","c"],o.isReserved(c)?c+"_":c)("return this.rpcCall(m,q,s,r,c)")({m:r,q:r.resolvedRequestType.ctor,s:r.resolvedResponseType.ctor})}return i}},function(e,t,n){"use strict";e.exports=o;var r=n(19);((o.prototype=Object.create(r.prototype)).constructor=o).className="Method";var i=n(4);function o(e,t,n,o,s,a,c,u){if(i.isObject(s)?(c=s,s=a=void 0):i.isObject(a)&&(c=a,a=void 0),void 0!==t&&!i.isString(t))throw TypeError("type must be a string");if(!i.isString(n))throw TypeError("requestType must be a string");if(!i.isString(o))throw TypeError("responseType must be a string");r.call(this,e,c),this.type=t||"rpc",this.requestType=n,this.requestStream=!!s||void 0,this.responseType=o,this.responseStream=!!a||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=u}o.fromJSON=function(e,t){return new o(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0])},o.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),r.prototype.resolve.call(this))}},function(e,t,n){"use strict";e.exports=i;var r=n(13);function i(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)this[t[n]]=e[t[n]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},function(e,t,n){"use strict";e.exports=d;var r=n(27);((d.prototype=Object.create(r.prototype)).constructor=d).className="Root";var i,o,s,a=n(16),c=n(11),u=n(36),l=n(4);function d(e){r.call(this,"",e),this.deferred=[],this.files=[]}function f(){}d.fromJSON=function(e,t){return t||(t=new d),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},d.prototype.resolvePath=l.path.resolve,d.prototype.load=function e(t,n,r){"function"==typeof n&&(r=n,n=void 0);var i=this;if(!r)return l.asPromise(e,i,t,n);var a=r===f;function c(e,t){if(r){var n=r;if(r=null,a)throw e;n(e,t)}}function u(e,t){try{if(l.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),l.isString(t)){o.filename=e;var r,s=o(t,i,n),u=0;if(s.imports)for(;u<s.imports.length;++u)(r=i.resolvePath(e,s.imports[u]))&&d(r);if(s.weakImports)for(u=0;u<s.weakImports.length;++u)(r=i.resolvePath(e,s.weakImports[u]))&&d(r,!0)}else i.setOptions(t.options).addJSON(t.nested)}catch(e){c(e)}a||p||c(null,i)}function d(e,t){var n=e.lastIndexOf("google/protobuf/");if(n>-1){var o=e.substring(n);o in s&&(e=o)}if(!(i.files.indexOf(e)>-1))if(i.files.push(e),e in s)a?u(e,s[e]):(++p,setTimeout((function(){--p,u(e,s[e])})));else if(a){var d;try{d=l.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||c(e))}u(e,d)}else++p,l.fetch(e,(function(n,o){--p,r&&(n?t?p||c(null,i):c(n):u(e,o))}))}var p=0;l.isString(t)&&(t=[t]);for(var h,m=0;m<t.length;++m)(h=i.resolvePath("",t[m]))&&d(h);if(a)return i;p||c(null,i)},d.prototype.loadSync=function(e,t){if(!l.isNode)throw Error("not supported");return this.load(e,t,f)},d.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return r.prototype.resolveAll.call(this)};var p=/^[A-Z]/;function h(e,t){var n=t.parent.lookup(t.extend);if(n){var r=new a(t.fullName,t.id,t.type,t.rule,void 0,t.options);return r.declaringField=t,t.extensionField=r,n.add(r),!0}return!1}d.prototype._handleAdd=function(e){if(e instanceof a)void 0===e.extend||e.extensionField||h(0,e)||this.deferred.push(e);else if(e instanceof c)p.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof u)){if(e instanceof i)for(var t=0;t<this.deferred.length;)h(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);p.test(e.name)&&(e.parent[e.name]=e)}},d.prototype._handleRemove=function(e){if(e instanceof a){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof c)p.test(e.name)&&delete e.parent[e.name];else if(e instanceof r){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);p.test(e.name)&&delete e.parent[e.name]}},d._configure=function(e,t,n){i=e,o=t,s=n}},function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o,s=r(n(7)),a=r(n(28)),c=r(n(53)),u=r(n(29)),l=r(n(30)),d=r(n(55)),f=r(n(56)),p=r(n(57)),h=r(n(8)),m=r(n(58)),v={},b=(0,s.default)(),y=[],g=1,_=function(){},S=function e(t){if(!this instanceof e)return new e(t);t=t||{},this.isDebug=t.isDebug||!1,this.isHttpDNS=t.isHttpDNS||!1,this.isMultiLoginSessions=t.isMultiLoginSessions||!1,this.wait=t.wait||30,this.retry=t.retry||!1,this.https=t.https&&"https:"===location.protocol,this.url=t.url,this.hold=t.hold||1,this.route=t.route||null,this.inactivity=t.inactivity||30,this.heartBeatWait=t.heartBeatWait||4500,this.maxRetries=t.maxRetries||5,this.isAutoLogin=!1!==t.isAutoLogin,this.pollingTime=t.pollingTime||800,this.stropheConn=!1,this.autoReconnectNumMax=t.autoReconnectNumMax||0,this.autoReconnectNumTotal=0,this.autoReconnectInterval=t.autoReconnectInterval||0,this.context={status:b.STATUS_INIT},this.sendQueue=new c.default,this.intervalId=null,this.apiUrl=t.apiUrl||"",this.isWindowSDK=t.isWindowSDK||!1,this.encrypt=t.encrypt||{encrypt:{type:"none"}},this.delivery=t.delivery||!1,this.appKey=t.appKey||"",this.domain=t.domain||"easemob.com",this.clientResource="84ff3eba1",this.user="",this.orgName="",this.appName="",this.token="",this.unSendMsgArr=[],this.dnsArr=["https://rs.easemob.com","http://182.92.174.78","http://112.126.66.111"],this.dnsIndex=0,this.dnsTotal=this.dnsArr.length,this.restHosts=[],this.restIndex=0,this.restTotal=0,this.xmppHosts=[],this.xmppIndex=0,this.xmppTotal=0,this.groupOption={},this.version=t.version||"3.0.0",this.compressAlgorimth=t.compressAlgorimth||0,this.userAgent=t.userAgent||0,this.pov=t.pov||0,this.command=t.command||3,this.deviceId=t.deviceId||"webim",this.encryptKey=t.encryptKey||"",this.firstPayload=t.firstPayload||[],this.compressType=t.compressType||[0],this.encryptType=t.encryptType||[0],this.osType=16};S.prototype.registerUser=function(e){this.isHttpDNS?(this.dnsIndex=0,this.getHttpDNS(e,"signup")):this.signup(e)},S.prototype.listen=function(e){this.onOpened=e.onOpened||_,this.onClosed=e.onClosed||_,this.onTextMessage=e.onTextMessage||_,this.onEmojiMessage=e.onEmojiMessage||_,this.onPictureMessage=e.onPictureMessage||_,this.onAudioMessage=e.onAudioMessage||_,this.onVideoMessage=e.onVideoMessage||_,this.onFileMessage=e.onFileMessage||_,this.onLocationMessage=e.onLocationMessage||_,this.onCustomMessage=e.onCustomMessage||_,this.onCmdMessage=e.onCmdMessage||_,this.onStatisticMessage=e.onStatisticMessage||_,this.onPresence=e.onPresence||_,this.onRoster=e.onRoster||_,this.onError=e.onError||_,this.onReceivedMessage=e.onReceivedMessage||_,this.onInviteMessage=e.onInviteMessage||_,this.onDeliverdMessage=e.onDeliveredMessage||_,this.onReadMessage=e.onReadMessage||_,this.onRecallMessage=e.onRecallMessage||_,this.onMutedMessage=e.onMutedMessage||_,this.onOffline=e.onOffline||_,this.onOnline=e.onOnline||_,this.onConfirmPop=e.onConfirmPop||_,this.onCreateGroup=e.onCreateGroup||_,this.onUpdateMyGroupList=e.onUpdateMyGroupList||_,this.onUpdateMyRoster=e.onUpdateMyRoster||_,this.onBlacklistUpdate=e.onBlacklistUpdate||_,o._listenNetwork(this.onOnline,this.onOffline)},S.prototype.getParams=function(e){i=e.root,o=e.utils,S.prototype._utils=o,v.utils=o,v.statusCode=b,v.message=a.default,v.message.prototype._utils=o},S.prototype._msgHash={},S.prototype._queues=[],S.prototype._lastsession=function(e,t,n){var r=[],o=i.lookup("easemob.pb.CommSyncUL"),s=o.decode(r);s.queue=t,s.key=new h.default(e.low,e.high,e.unsigned).toString(),n.isDebug&&console.log("ä¸è¡_lastsession: ",s),s=o.encode(s).finish();var a=i.lookup("easemob.pb.MSync"),c=a.decode(r);if(c.version=n.version,c.encryptType=n.encryptType,c.command=0,c.payload=s,c=a.encode(c).finish(),n.sock.readyState!==g){var u={type:b.WEBIM_CONNCTION_DISCONNECTED};n.onError(u)}else n._base64transform(c,n)},S.prototype._metapayload=function(e,t,n){for(var r=0;r<e.length;r++){var i=new h.default(e[r].id.low,e[r].id.high,e[r].id.unsigned).toString();y.indexOf(i)<0&&(n.isDebug&&console.log("ä¸è¡metaï¼",e[r]),1===e[r].ns?(0,l.default)(e[r],t,n):2===e[r].ns?(0,d.default)(e[r],t,n):3===e[r].ns?f.default.handleMessage(e[r],t,n):0===e[r].ns?(0,p.default)(e[r],t,n):4===e[r].ns&&n.registerConfrIQHandler&&n.registerConfrIQHandler(e[r],t,n),y.length<=100||y.shift(),y.push(i))}},S.prototype._rebuild=function(){var e=[],t=i.lookup("easemob.pb.StatisticsBody"),n=t.decode(e);n.operation=0,n=t.encode(n).finish();var r=i.lookup("easemob.pb.Meta").decode(e);r.id=(new Date).valueOf(),r.ns=0,r.payload=n;var o=i.lookup("easemob.pb.CommSyncUL"),s=o.decode(e);s.meta=r,this.isDebug&&console.log("ä¸è¡rebuild: ",r),s=o.encode(s).finish();var a=i.lookup("easemob.pb.MSync"),c=a.decode(e);c.version="3.0.8",c.encryptType=[0],c.command=0,c.payload=s,c=a.encode(c).finish(),this._base64transform(c,this)},S.prototype._backqueue=function(e,t){var n=[],r=i.lookup("easemob.pb.CommSyncUL"),o=r.decode(n);o.queue=e,t.isDebug&&console.log("ä¸è¡queue: ",o),o=r.encode(o).finish();var s=i.lookup("easemob.pb.MSync"),a=s.decode(n);a.version=t.version,a.encryptType=t.encryptType,a.command=0,a.payload=o,a=s.encode(a).finish(),t._base64transform(a,t)};var w=function(e){var t=i.lookup("easemob.pb.MSync"),n=t.decode([]);n.version=e.version,n.encryptType=e.encryptType,n.command=1,e.isDebug&&console.log("ä¸è¡unreadDeal: ",n),n=t.encode(n).finish(),e._base64transform(n,e)};S.prototype._receiveProvision=function(e,t){var n=i.lookup("easemob.pb.Provision").decode(e.payload);t.context.jid.clientResource=n.resource,0==n.status.errorCode&&(w(t),t._rebuild(t))},S.prototype.heartBeatID=0,S.prototype.heartBeat=function(e){this.stopHeartBeat(),this.heartBeatID=setInterval((function(){w(e)}),this.heartBeatWait)},S.prototype.stopHeartBeat=function(){clearInterval(this.heartBeatID)},S.prototype.getRestFromHttpDNS=function(e,t){if(!(this.restIndex>this.restTotal)){var n="",r=this.restHosts[this.restIndex],i=r.domain,o=r.ip;if(o&&"http:"==location.protocol){var s=r.port;n=("https:"===location.protocol?"https:":"http:")+"//"+o+":"+s}else n=("https:"===location.protocol?"https:":"http:")+"//"+i;""!=n&&(this.apiUrl=n,e.apiUrl=n),"login"==t?this.login(e):this.signup(e)}},S.prototype.getHttpDNS=function(e,t){var n=this,r={url:this.dnsArr[this.dnsIndex]+"/easemob/server.json",dataType:"json",type:"GET",data:{app_key:encodeURIComponent(e.appKey||this.appKey)},success:function(r,i){var o=r.rest.hosts;if(o){for(var s=n.https?"https":"http",a=o.filter((function(e,t){if(e.protocol==s)return e})),c=0;c<a.length;c++)if(a[c].protocol===s){var u=a[c];a.splice(c,1),a.unshift(u)}n.restHosts=a,n.restTotal=a.length;try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(e){}var l=r["msync-ws"].hosts;if(l){var d=l.filter((function(e,t){if(e.protocol==s)return e}));for(c=0;c<d.length;c++)d[c].protocol===s&&(u=d[c],d.splice(c,1),d.unshift(u));n.xmppHosts=d,n.xmppTotal=d.length,n.getRestFromHttpDNS(e,t)}}}||_,error:function(r,i,o){console.log("getHttpDNS error",r,o),n.dnsIndex++,n.dnsIndex<n.dnsTotal&&n.getHttpDNS(e,t)}||_};o.ajax(r)},S.prototype.signup=function(e){var t=this,n=e.orgName||"",r=e.appName||"",i=e.appKey||this.appKey,s=e.success||_,a=e.error||_;if(!n&&!r&&i){var c=i.split("#");2===c.length&&(n=c[0],r=c[1])}if(n||r){e.https||this.https;var u=(e.apiUrl||this.apiUrl)+"/"+n+"/"+r+"/users",l={username:e.username,password:e.password,nickname:e.nickname||""},d={url:u,dataType:"json",data:o.stringify(l),success:s,error:function(n,r,i){if(t.isHttpDNS&&t.restIndex+1<t.restTotal)return t.restIndex++,void t.getRestFromHttpDNS(e,"signup");t.clear(),a(n)}};o.ajax(d)}else a({type:b.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR})},S.prototype.open=function(e){var t=e.appKey,n=t.split("#")[0],r=t.split("#")[1];this.orgName=n,this.appName=r,e.accessToken&&(this.token=e.accessToken),this.isHttpDNS?(this.dnsIndex=0,this.getHttpDNS(e,"login")):this.login(e)},S.prototype.login=function(e){if(this.user=e.user,function(e,t){if(""==(e=e||{}).user)return t.onError({type:b.WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR}),!1;var n=e.user+""||"",r=e.appKey||"",o=r.split("#");if(2!==o.length)return t.onError({type:b.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR}),!1;var s=o[0],a=o[1];return s&&a?(t.context.jid={appKey:r,name:n,domain:t.domain,clientResource:t.clientResource},t.context.root=i,t.context.userId=n,t.context.appKey=r,t.context.appName=a,t.context.orgName=s,!0):(t.onError({type:b.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR}),!1)}(e,this)){var t=this;if(!t.isOpened())if(e.accessToken)e.access_token=e.accessToken,this._login(e,t);else{var n=e.apiUrl,r=this.context.userId,s=e.pwd||"",a=this.context.appName,c=this.context.orgName,u={grant_type:"password",username:r,password:s,timestamp:+new Date},l={headers:{"Content-type":"application/json"},url:n+"/"+c+"/"+a+"/token",dataType:"json",data:o.stringify(u),success:function(n,r){e.success&&e.success(n),t.token=n.access_token,t.context.restTokenData=n.access_token,t._login(n,t)}||_,error:function(n,r,i){if(e.error&&e.error(),t.isHttpDNS&&t.restIndex+1<t.restTotal)return t.restIndex++,void t.getRestFromHttpDNS(e,"login");t.clear(),n.error&&n.error_description?t.onError({type:b.WEBIM_CONNCTION_OPEN_USERGRID_ERROR,data:n,xhr:r}):t.onError({type:b.WEBIM_CONNCTION_OPEN_ERROR,data:n,xhr:r})}||_};o.ajax(l)}}},S.prototype.close=function(e){this.logOut=!0,this.context.status=b.STATUS_CLOSING,this.sock.close(),this.stopHeartBeat(),this.context.status=b.STATUS_CLOSING},S.prototype.recallMessage=function(e){var t={id:this.getUniqueId(),type:"recall",group:e.type,ackId:e.mid,to:e.to,success:e.success,fail:e.fail};this.send(t,this)},S.prototype.sendMSync=function(e){if(this.sock.readyState===g)return this._base64transform(e,this);this.unSendMsgArr.push(this._base64transform(e,this,!0)),!this.logOut&&this.autoReconnectNumTotal<this.autoReconnectNumMax&&(this.autoReconnectNumTotal<=this.xmppHosts.length&&this.isHttpDNS||!this.isHttpDNS)&&(this.offLineSendConnecting=!0,this.reconnect()),this.onError({type:b.WEBIM_CONNCTION_DISCONNECTED,reconnect:!0})},S.prototype.getUniqueId=function(e){this.autoIncrement?this.autoIncrement++:this.autoIncrement=1;var t=new Date,n=new Date(2010,1,1);return t.getTime()-n.getTime()+this.autoIncrement},S.prototype.send=function(e){(0,u.default)(e,this,o),this._msgHash[e.id]=e},S.prototype.removeRoster=function(e){f.default.operatRoster(e,"remove",this)},S.prototype.subscribe=function(e){f.default.operatRoster(e,"add",this)},S.prototype.subscribed=function(e){f.default.operatRoster(e,"accept",this)},S.prototype.unsubscribed=function(e){f.default.operatRoster(e,"decline",this)},S.prototype.isOpened=function(){return this.sock&&this.sock.readyState===g},S.prototype.clear=function(){var e=this.context.appKey;if(this.errorType!=b.WEBIM_CONNCTION_DISCONNECTED&&this.logOut&&(this.unSendMsgArr=[],this.offLineSendConnecting=!1,this.context={status:b.STATUS_INIT,appKey:e}),this.intervalId&&clearInterval(this.intervalId),this.restIndex=0,this.xmppIndex=0,this.errorType==b.WEBIM_CONNCTION_CLIENT_LOGOUT||-1==this.errorType){var t={data:{data:"logout"},type:b.WEBIM_CONNCTION_CLIENT_LOGOUT};this.onError(t)}},S.prototype.autoReconnectInterval=0,S.prototype.times=1,S.prototype.reconnect=function(e){var t=this;t.xmppIndex<t.xmppHosts.length-1&&t.xmppIndex++,setTimeout((function(){t._login({access_token:t.context.accessToken},t),t.autoReconnectInterval+=t.times*t.times,t.times++}),1e3*(0==this.autoReconnectNumTotal?0:t.autoReconnectInterval)),this.autoReconnectNumTotal++},S.prototype.closed=function(){var e={data:{data:"Closed error"},type:b.WEBIM_CONNECTION_CLOSED};this.onError(e),this.stopHeartBeat()},S.prototype.addToBlackList=function(e){f.default.operatRoster({to:e.name},"ban",this)},S.prototype.removeFromBlackList=function(e){f.default.operatRoster({to:e.name},"allow",this)},Object.assign(S.prototype,m.default),v.connection=S,v.doQuery=function(e,t,n){void 0!==window.cefQuery&&window.cefQuery({request:e,persistent:!1,onSuccess:t,onFailure:n})},v.debug=function(e){};var x=v;t.default=x},function(e,t,n){"use strict";function r(e){this.array=void 0===e?[]:new Array(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.prototype={length:function(){return this.array.length},at:function(e){return this.array[e]},set:function(e,t){this.array[e]=t},push:function(e){return this.array.push(e)},slice:function(e,t){return this.array=this.array.slice(e,t)},concat:function(e){this.array=this.array.concat(e)},remove:function(e,t){t=void 0===t?1:t,this.array.splice(e,t)},join:function(e){return this.array.join(e)},clear:function(){this.array.length=0}};var i=function(){this._array_h=new r};i.prototype={_index:0,push:function(e){this._array_h.push(e)},pop:function(){var e=null;return this._array_h.length()&&(e=this._array_h.at(this._index),2*++this._index>=this._array_h.length()&&(this._array_h.slice(this._index),this._index=0)),e},head:function(){var e=null,t=this._array_h.length();return t&&(e=this._array_h.at(t-1)),e},tail:function(){var e=null;return this._array_h.length()&&(e=this._array_h.at(this._index)),e},length:function(){return this._array_h.length()-this._index},empty:function(){return 0===this._array_h.length()},clear:function(){this._array_h.clear()}};var o=i;t.default=o},function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o,s,a,c=r(n(6));Object.keys||(Object.keys=(i=Object.prototype.hasOwnProperty,o=!{toString:null}.propertyIsEnumerable("toString"),a=(s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!==(0,c.default)(e)&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t,n,r=[];for(t in e)i.call(e,t)&&r.push(t);if(o)for(n=0;n<a;n++)i.call(e,s[n])&&r.push(s[n]);return r}));var u={emptyfn:function(){},stringify:function(e){if("undefined"!=typeof JSON&&JSON.stringify)return JSON.stringify(e);var t="",n=[];return function e(r){var i=!1;for(var o in"[object Array]"===Object.prototype.toString.call(r)?(n.push("]","["),i=!0):"[object Object]"===Object.prototype.toString.call(r)&&n.push("}","{"),r)"[object Null]"===Object.prototype.toString.call(r[o])?r[o]="null":"[object Undefined]"===Object.prototype.toString.call(r[o])&&(r[o]="undefined"),r[o]&&"object"===(0,c.default)(r[o])?t+=","+(i?"":'"'+o+'":'+(i?'"':""))+e(r[o]):t+=',"'+(i?"":o+'":"')+r[o]+'"';return""!=t&&(t=t.slice(1)),n.pop()+t+n.pop()}(e)},getFileSize:function(e){var t=this.getFileLength(e);if(t>1e7)return!1;var n=Math.round(t/1e3);if(n<1e3)t=n+" KB";else if(n>=1e3){var r=n/1e3;t=r<1e3?r.toFixed(1)+" MB":(r/1e3).toFixed(1)+" GB"}return t},trim:function(e){return(e="string"==typeof e?e:"").trim?e.trim():e.replace(/^\s|\s$/g,"")},parseTextMessage:function(e,t){if("string"==typeof e){if("[object Object]"!==Object.prototype.toString.call(t))return{isemoji:!1,body:[{type:"txt",data:e}]};var n=e,r=[],i=n.match(/\[[^[\]]{2,3}\]/gm);if(!i||i.length<1)return{isemoji:!1,body:[{type:"txt",data:e}]};for(var o=!1,s=0;s<i.length;s++){var a=n.substring(0,n.indexOf(i[s])),c=WebIM.Emoji.map[i[s]];if(a&&r.push({type:"txt",data:a}),c){var u=WebIM.Emoji.map?WebIM.Emoji.path+c:null;u?(o=!0,r.push({type:"emoji",data:u})):r.push({type:"txt",data:i[s]});var l=n.indexOf(i[s])+i[s].length;n=n.substring(l)}else r.push({type:"txt",data:i[s]})}return n&&r.push({type:"txt",data:n}),o?{isemoji:o,body:r}:{isemoji:!1,body:[{type:"txt",data:e}]}}},ts:function(){var e=new Date,t=e.getHours(),n=e.getMinutes(),r=e.getSeconds();return(t<10?"0"+t:t)+":"+(n<10?"0"+n:n)+":"+(r<10?"0"+r:r)+":"+e.getMilliseconds()+" "},getObjectKey:function(e,t){for(var n in e)if(e[n]==t)return n;return""},sprintf:function(){var e,t,n=arguments,r=n[0]||"";for(e=1,t=n.length;e<t;e++)r=r.replace(/%s/,n[e]);return r},reverse:function(e){var t=[];if(Array.prototype.reverse)t=e.reverse();else for(var n=0;n<e.length;n++)t.unshift(e[n]);return t},checkArray:function(e,t){var n="off";if(e.forEach((function(e,r){if(e.name===t.name)return n="on",r})),"off"==n)return!1}},l=u;t.default=l},function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(8)),o=function(e,t,n){var r=n.context.root.lookup("easemob.pb.MUCBody").decode(e.payload);new i.default(e.id.low,e.id.high,e.id.unsigned).toString(),function(e){var t={type:"",owner:r.from.name,gid:r.mucId.name,from:r.from.name,fromJid:r.from,to:r.to.length?r.to[0].name:"",toJid:r.to,chatroom:r.isChatroom,status:r.status};({32:function(){t.type=r.isChatroom?"rmChatRoomMute":"rmGroupMute",n.onPresence(t)},31:function(){t.type=r.isChatroom?"muteChatRoom":"muteGroup",n.onPresence(t)},30:function(){t.type=r.isChatroom?"rmUserFromChatRoomWhiteList":"rmUserFromGroupWhiteList",n.onPresence(t)},29:function(){t.type=r.isChatroom?"addUserToChatRoomWhiteList":"addUserToGroupWhiteList",n.onPresence(t)},28:function(){t.type="deleteFile",n.onPresence(t)},27:function(){t.type="uploadFile",n.onPresence(t)},26:function(){t.type="deleteAnnouncement",n.onPresence(t)},25:function(){t.type="updateAnnouncement",n.onPresence(t)},24:function(){t.type="removeMute",n.onPresence(t)},23:function(){t.type="addMute",n.onPresence(t)},22:function(){t.type="removeAdmin",n.onPresence(t)},21:function(){t.type="addAdmin",n.onPresence(t)},20:function(){t.type="changeOwner",n.onPresence(t)},19:function(){t.type="direct_joined",n.onPresence(t)},18:function(){t.type=r.isChatroom?"leaveChatRoom":"leaveGroup",n.onPresence(t)},17:function(){t.type=r.isChatroom?"memberJoinChatRoomSuccess":"memberJoinPublicGroupSuccess",n.onPresence(t)},16:function(){t.type="unblock",n.onPresence(t)},15:function(){t.type="block",n.onPresence(t)},14:function(){t.type="update",n.onPresence(t)},13:function(){t.type="allow",t.reason=r.reason,n.onPresence(t)},12:function(){t.type="ban",n.onPresence(t)},11:function(){t.type="getBlackList",n.onPresence(t)},10:function(){t.type="removedFromGroup",t.kicked=t.to,n.onPresence(t)},9:function(){t.type="invite_decline",t.kicked=t.to,n.onPresence(t)},8:function(){t.type="invite_accept",t.kicked=t.to,n.onPresence(t)},7:function(){t.type="invite",t.kicked=t.to,n.onPresence(t)},6:function(){t.type="joinPublicGroupDeclined",n.onPresence(t)},5:function(){t.type="joinPublicGroupSuccess",n.onPresence(t)},4:function(){t.type="joinGroupNotifications",t.reason=r.reason,n.onPresence(t)},3:function(){t.type="leave",n.onPresence(t)},2:function(){t.type="join",n.onPresence(t)},1:function(){t.type="deleteGroupChat",n.onPresence(t)}}[e]||function(){console.log("%cæ²¡æå¹é".concat(e,"ç±»å"),"background: green")})()}(r.operation)};t.default=o},function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(8)),o={handleMessage:function(e,t,n){var r=n.context.root.lookup("easemob.pb.RosterBody").decode(e.payload),o=(new i.default(e.id.low,e.id.high,e.id.unsigned).toString(),{to:r.to[0].name,from:r.from.name,status:r.reason});switch(r.operation){case 0:break;case 2:o.type="subscribe";break;case 3:o.type="unsubscribed";break;case 4:o.type="subscribed";break;case 5:o.type="unsubscribed";break;case 6:case 7:n.getBlacklist();break;case 8:o.type="subscribed";break;case 9:o.type="unsubscribed"}n.onPresence(o)},operatRoster:function(e,t,n){var r=[],i=n.context.root.lookup("easemob.pb.RosterBody"),o=i.decode(r);"add"===t?o.operation=2:"remove"===t?o.operation=3:"accept"===t?o.operation=4:"decline"===t?o.operation=5:"ban"===t?o.operation=6:"allow"===t&&(o.operation=7),o.from=n.context.jid;var s=[];if("string"==typeof e.to)s.push({appKey:n.appKey||n.context.appKey,name:e.to,domain:"easemob.com"});else if(e.to instanceof Array)for(var a=0;a<e.to.length;a++)s.push({appKey:n.appKey,name:e.to[a],domain:"easemob.com"});o.to=s,o.reason=e.message,o=i.encode(o).finish();var c=n.context.root.lookup("easemob.pb.Meta").decode(r);c.id=e.id||n.getUniqueId(),c.from=n.context.jid,c.to={domain:"@easemob.com"},c.ns=3,c.payload=o;var u=n.context.root.lookup("easemob.pb.CommSyncUL"),l=u.decode(r);l.meta=c,l=u.encode(l).finish();var d=n.context.root.lookup("easemob.pb.MSync"),f=d.decode(r);f.version=n.version,f.encryptType=[0],f.command=0,f.guid=n.jid,f.payload=l,f=d.encode(f).finish(),n.sendMSync(f)}};t.default=o},function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(8)),o=(0,r(n(7)).default)(),s=function(e,t,n){var r=n.context.root.lookup("easemob.pb.StatisticsBody").decode(e.payload);switch(new i.default(e.id.low,e.id.high,e.id.unsigned).toString(),r.operation){case 0:n.onStatisticMessage(r);break;case 1:var s={type:o.WEBIM_CONNCTION_USER_REMOVED};n.logOut=!0,n.onError(s);break;case 2:s={type:o.WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE},n.logOut=!0,n.onError(s);break;case 3:s={type:o.WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD},n.logOut=!0,n.onError(s);break;case 4:s={type:o.WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE},n.logOut=!0,n.onError(s)}};t.default=s},function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=r(n(59)),s=r(n(30)),a=r(n(7)),c=r(n(35)),u=(0,a.default)(),l=(i={mr_cache:[],_fetchMessages:function(e,t){var n=e.accessToken||t.context.accessToken;if(t._utils.isCanSetRequestHeader)if(n){var r=t.apiUrl,i=t.context.appName,o=t.context.orgName;if(!i||!o)return void t.onError({type:u.WEBIM_CONNCTION_AUTH_ERROR});if(!e.queue)return void t.onError({type:"",msg:"queue is not specified"});var a=e.queue,l=this.mr_cache[a]||(this.mr_cache[a]={msgs:[]}),d=t.context.userId,f=-1;if(l.msgs.length>=e.count||l.is_last)return void("function"==typeof e.success&&e.success(l));l&&l.next_key&&(f=l.next_key);var p={queue:a+(e.isGroup?"@conference.easemob.com":"@easemob.com"),start:f,end:-1},h={url:r+"/"+o+"/"+i+"/users/"+d+"/messageroaming",dataType:"json",type:"POST",headers:{Authorization:"Bearer "+n},data:JSON.stringify(p),success:function(n,r){if(n&&n.data){var i=n.data;if(!n.data.msgs)return"function"==typeof e.success&&e.success(l),l.is_last=!0,void(l.next_key="");var o=i.msgs,a=o.length;l.is_last=i.is_last,l.next_key=i.next_key;var u=function(e){for(var n=[],r=0,i=(e=c.default.atob(e)).length;r<i;++r)n.push(e.charCodeAt(r));var o=t.context.root.lookup("easemob.pb.Meta");if(1==(o=o.decode(n)).ns)return(0,s.default)(o,{errorCode:0,reason:""},t,!0)};try{for(var d=0;d<a;d++){var f=u(o[d].msg);f&&l.msgs.push(f)}}catch(e){console.log(e)}finally{"function"==typeof e.success&&e.success(l)}}}||t._utils.emptyfn,error:function(e,n){e.error&&e.error_description&&t.onError({type:u.WEBIM_CONNCTION_LOAD_CHATROOM_ERROR,msg:e.error_description,data:e})}||t._utils.emptyfn};t._utils.ajax(h)}else t.onError({type:u.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR});else t.onError({type:u.WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR})},fetchHistoryMessages:function(e){var t=this;if(e.queue){var n=e.count||20;!function r(){t._fetchMessages({count:n,isGroup:!!e.isGroup,queue:e.queue,success:function(i){i.msgs.length>=n||i.is_last?e.success&&e.success(t._utils.reverse(i.msgs.splice(0,n))):r()},fail:function(){}},t)}()}else t.onError({type:"",msg:"queue is not specified"})},getChatRooms:function(e){var t=this,n=e.accessToken||this.context.accessToken;if(t._utils.isCanSetRequestHeader)if(n){var r=e.apiUrl,i=this.context.appName,o=this.context.orgName;if(!i||!o)return void t.onError({type:u.WEBIM_CONNCTION_AUTH_ERROR});var s={url:r+"/"+o+"/"+i+"/chatrooms",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+n},data:{pagenum:parseInt(e.pagenum)||1,pagesize:parseInt(e.pagesize)||20},success:function(t,n){"function"==typeof e.success&&e.success(t)}||t._utils.emptyfn,error:function(e,n,r){e.error&&e.error_description&&t.onError({type:u.WEBIM_CONNCTION_LOAD_CHATROOM_ERROR,msg:e.error_description,data:e,xhr:n})}||t._utils.emptyfn};t._utils.ajax(s)}else t.onError({type:u.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR});else t.onError({type:u.WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR})},joinChatRoom:function(e){if(e=e||{},this._utils.isCanSetRequestHeader){var t=this,n=e.accessToken||this.token;if(n){var r=e.apiUrl||this.apiUrl,i=this.context.appName,o=this.context.orgName,s=e.roomId,a=e.message||"";if(!i||!o)return void t.onError({type:u.WEBIM_CONNCTION_AUTH_ERROR});var c={url:r+"/"+o+"/"+i+"/chatrooms/"+s+"/apply",dataType:"json",type:"POST",data:JSON.stringify({message:a}),headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"},success:function(t,n){"function"==typeof e.success&&e.success(t)}||t._utils.emptyfn,error:function(t,n,r){"function"==typeof e.error&&e.error(t)}||t._utils.emptyfn};t._utils.ajax(c)}else t.onError({type:u.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR})}else t.onError({type:u.WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR})},quitChatRoom:function(e){if(e=e||{},this._utils.isCanSetRequestHeader){var t=this,n=e.accessToken||this.token;if(n){var r=e.apiUrl||this.apiUrl,i=this.context.appName,o=this.context.orgName,s=e.roomId;if(!i||!o)return void t.onError({type:u.WEBIM_CONNCTION_AUTH_ERROR});var a={url:r+"/"+o+"/"+i+"/chatrooms/"+s+"/quit",dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+n},success:function(t,n){"function"==typeof e.success&&e.success(t)}||t._utils.emptyfn,error:function(t,n,r){"function"==typeof e.error&&e.error(t)}||t._utils.emptyfn};t._utils.ajax(a)}else t.onError({type:u.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR})}else t.onError({type:u.WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR})},createGroupNew:function(e){e.data.owner=this.user,e.data.invite_need_confirm=!1;var t={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups",dataType:"json",type:"POST",data:JSON.stringify(e.data),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};t.success=function(t){e.success(t),this.onCreateGroup(t)}.bind(this),t.error=e.error||this._utils.emptyfn,this._utils.ajax(t)},blockGroup:function(e){var t=e.groupId;t="notification_ignore_"+t;var n={entities:[]};n.entities[0]={},n.entities[0][t]=!0;var r={type:"PUT",url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/users/"+this.user,data:JSON.stringify(n),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)},listGroups:function(e){var t=[];if(t.limit=e.limit,t.cursor=e.cursor,t.cursor||delete t.cursor,isNaN(e.limit))throw'The parameter "limit" should be a number';var n={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/publicchatgroups",type:"GET",dataType:"json",data:t,headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};n.success=e.success||this._utils.emptyfn,n.error=e.error||this._utils.emptyfn,this._utils.ajax(n)},getGroup:function(e){var t={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/users/"+this.user+"/joined_chatgroups",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};t.success=e.success||this._utils.emptyfn,t.error=e.error||this._utils.emptyfn,this._utils.ajax(t)},changeOwner:function(e){var t={newowner:e.newOwner},n={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e.groupId,type:"PUT",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"},data:JSON.stringify(t)};n.success=e.success||this._utils.emptyfn,n.error=e.error||this._utils.emptyfn,this._utils.ajax(n)},getGroupInfo:function(e){var t={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e.groupId+"?joined_time=true",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};t.success=e.success||this._utils.emptyfn,t.error=e.error||this._utils.emptyfn,this._utils.ajax(t)},modifyGroup:function(e){var t=e.groupId,n={groupname:e.groupName,description:e.description},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t,type:"PUT",data:JSON.stringify(n),dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)},listGroupMember:function(e){if(isNaN(e.pageNum)||e.pageNum<=0)throw'The parameter "pageNum" should be a positive number';if(isNaN(e.pageSize)||e.pageSize<=0)throw'The parameter "pageSize" should be a positive number';if(null===e.groupId&&void 0===e.groupId)throw'The parameter "groupId" should be added';var t=[],n=e.groupId;t.pagenum=e.pageNum,t.pagesize=e.pageSize;var r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+n+"/users",dataType:"json",type:"GET",data:t,headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)}},(0,o.default)(i,"listGroupMember",(function(e){if(isNaN(e.pageNum)||e.pageNum<=0)throw'The parameter "pageNum" should be a positive number';if(isNaN(e.pageSize)||e.pageSize<=0)throw'The parameter "pageSize" should be a positive number';if(null===e.groupId&&void 0===e.groupId)throw'The parameter "groupId" should be added';var t=[],n=e.groupId;t.pagenum=e.pageNum,t.pagesize=e.pageSize;var r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+n+"/users",dataType:"json",type:"GET",data:t,headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"listChatRoomMember",(function(e){if(isNaN(e.pageNum)||e.pageNum<=0)throw'The parameter "pageNum" should be a positive number';if(isNaN(e.pageSize)||e.pageSize<=0)throw'The parameter "pageSize" should be a positive number';if(null===e.chatRoomId&&void 0===e.chatRoomId)throw'The parameter "chatRoomId" should be added';var t=[],n=e.chatRoomId;t.pagenum=e.pageNum,t.pagesize=e.pageSize;var r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+n+"/users",dataType:"json",type:"GET",data:t,headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"getGroupAdmin",(function(e){var t=e.groupId,n={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/admin",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};n.success=e.success||this._utils.emptyfn,n.error=e.error||this._utils.emptyfn,this._utils.ajax(n)})),(0,o.default)(i,"setAdmin",(function(e){var t=e.groupId,n={newadmin:e.username},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/admin",type:"POST",dataType:"json",data:JSON.stringify(n),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"removeAdmin",(function(e){var t=e.groupId,n=e.username,r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/admin/"+n,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"dissolveGroup",(function(e){var t=e.groupId,n={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"?version=v3",type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};n.success=e.success||this._utils.emptyfn,n.error=e.error||this._utils.emptyfn,this._utils.ajax(n)})),(0,o.default)(i,"quitGroup",(function(e){var t=e.groupId,n={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/quit",type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};n.success=e.success||this._utils.emptyfn,n.error=e.error||this._utils.emptyfn,this._utils.ajax(n)})),(0,o.default)(i,"inviteToGroup",(function(e){var t=e.groupId,n={usernames:e.users},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/invite",type:"POST",data:JSON.stringify(n),dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"joinGroup",(function(e){var t={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+e.groupId+"/apply",type:"POST",dataType:"json",data:JSON.stringify({message:"join group"}),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};t.success=e.success||this._utils.emptyfn,t.error=e.error||this._utils.emptyfn,this._utils.ajax(t)})),(0,o.default)(i,"agreeJoinGroup",(function(e){var t=e.groupId,n={applicant:e.applicant,verifyResult:!0,reason:"no clue"},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/apply_verify",type:"POST",dataType:"json",data:JSON.stringify(n),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"rejectJoinGroup",(function(e){var t=e.groupId,n={applicant:e.applicant,verifyResult:!1,reason:"no clue"},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/apply_verify",type:"POST",dataType:"json",data:JSON.stringify(n),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"agreeInviteIntoGroup",(function(e){var t=e.groupId,n={invitee:e.invitee,verifyResult:!0},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/invite_verify",type:"POST",dataType:"json",data:JSON.stringify(n),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"rejectInviteIntoGroup",(function(e){var t=e.groupId,n={invitee:e.invitee,verifyResult:!1},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/invite_verify",type:"POST",dataType:"json",data:JSON.stringify(n),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"removeSingleGroupMember",(function(e){var t=e.groupId,n=e.username,r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/users/"+n,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"removeMultiGroupMember",(function(e){var t=e.groupId,n=e.users.join(","),r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/users/"+n,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"mute",(function(e){var t=e.groupId,n={usernames:[e.username],mute_duration:e.muteDuration},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/mute",dataType:"json",type:"POST",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"},data:JSON.stringify(n)};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"muteChatRoomMember",(function(e){var t=e.chatRoomId,n={usernames:[e.username],mute_duration:e.muteDuration},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+t+"/mute",dataType:"json",type:"POST",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"},data:JSON.stringify(n)};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"removeMute",(function(e){var t=e.groupId,n=e.username,r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/mute/"+n,dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"removeMuteChatRoomMember",(function(e){var t=e.chatRoomId,n=e.username,r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+t+"/mute/"+n,dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"getMuted",(function(e){var t=e.groupId,n={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/mute",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};n.success=e.success||this._utils.emptyfn,n.error=e.error||this._utils.emptyfn,this._utils.ajax(n)})),(0,o.default)(i,"getChatRoomMuted",(function(e){var t=e.chatRoomId,n={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+t+"/mute",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};n.success=e.success||this._utils.emptyfn,n.error=e.error||this._utils.emptyfn,this._utils.ajax(n)})),(0,o.default)(i,"groupBlockSingle",(function(e){var t=e.groupId,n=e.username,r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/blocks/users/"+n,type:"POST",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"chatRoomBlockSingle",(function(e){var t=e.chatRoomId,n=e.username,r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+t+"/blocks/users/"+n,type:"POST",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"groupBlockMulti",(function(e){var t=e.groupId,n={usernames:e.usernames},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/blocks/users",data:JSON.stringify(n),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"chatRoomBlockMulti",(function(e){var t=e.chatRoomId,n={usernames:e.usernames},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+t+"/blocks/users",data:JSON.stringify(n),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"removeGroupBlockSingle",(function(e){var t=e.groupId,n=e.username,r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/blocks/users/"+n,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"removeChatRoomBlockSingle",(function(e){var t=e.chatRoomId,n=e.username,r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+t+"/blocks/users/"+n,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"removeGroupBlockMulti",(function(e){var t=e.groupId,n=e.usernames.join(","),r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/blocks/users/"+n,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"removeChatRoomBlockMulti",(function(e){var t=e.chatRoomId,n=e.usernames.join(","),r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+t+"/blocks/users/"+n,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"getGroupBlacklistNew",(function(e){var t=e.groupId,n={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/blocks/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};n.success=e.success||this._utils.emptyfn,n.error=e.error||this._utils.emptyfn,this._utils.ajax(n)})),(0,o.default)(i,"getChatRoomBlacklistNew",(function(e){var t=e.chatRoomId,n={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+t+"/blocks/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};n.success=e.success||this._utils.emptyfn,n.error=e.error||this._utils.emptyfn,this._utils.ajax(n)})),(0,o.default)(i,"disableSendGroupMsg",(function(e){var t=e.groupId,n={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/ban",type:"POST",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};n.success=e.success||this._utils.emptyfn,n.error=e.error||this._utils.emptyfn,this._utils.ajax(n)})),(0,o.default)(i,"disableSendChatRoomMsg",(function(e){var t=e.chatRoomId,n={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+t+"/ban",type:"POST",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};n.success=e.success||this._utils.emptyfn,n.error=e.error||this._utils.emptyfn,this._utils.ajax(n)})),(0,o.default)(i,"enableSendGroupMsg",(function(e){var t=e.groupId,n={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/ban",type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};n.success=e.success||this._utils.emptyfn,n.error=e.error||this._utils.emptyfn,this._utils.ajax(n)})),(0,o.default)(i,"enableSendChatRoomMsg",(function(e){var t=e.chatRoomId,n={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+t+"/ban",type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};n.success=e.success||this._utils.emptyfn,n.error=e.error||this._utils.emptyfn,this._utils.ajax(n)})),(0,o.default)(i,"addUsersToGroupWhitelist",(function(e){var t=e.groupId,n={usernames:e.users},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/white/users",type:"POST",data:JSON.stringify(n),dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"addUsersToChatRoomWhitelist",(function(e){var t=e.chatRoomId,n={usernames:e.users},r={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+t+"/white/users",type:"POST",data:JSON.stringify(n),dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};r.success=e.success||this._utils.emptyfn,r.error=e.error||this._utils.emptyfn,this._utils.ajax(r)})),(0,o.default)(i,"rmUsersFromGroupWhitelist",(function(e){var t=e.groupId,n={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/white/users/"+e.userName,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};n.success=e.success||this._utils.emptyfn,n.error=e.error||this._utils.emptyfn,this._utils.ajax(n)})),(0,o.default)(i,"rmUsersFromChatRoomWhitelist",(function(e){var t=e.chatRoomId,n={url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+t+"/white/users/"+e.userName,type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};n.success=e.success||this._utils.emptyfn,n.error=e.error||this._utils.emptyfn,this._utils.ajax(n)})),(0,o.default)(i,"getGroupWhitelist",(function(e){var t=e.groupId,n=(e.users,{url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/white/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}});n.success=e.success||this._utils.emptyfn,n.error=e.error||this._utils.emptyfn,this._utils.ajax(n)})),(0,o.default)(i,"getChatRoomWhitelist",(function(e){var t=e.chatRoomId,n=(e.users,{url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+t+"/white/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}});n.success=e.success||this._utils.emptyfn,n.error=e.error||this._utils.emptyfn,this._utils.ajax(n)})),(0,o.default)(i,"isGroupWhiteUser",(function(e){var t=e.groupId,n=(e.users,{url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatgroups/"+t+"/white/users/"+e.userName,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}});n.success=e.success||this._utils.emptyfn,n.error=e.error||this._utils.emptyfn,this._utils.ajax(n)})),(0,o.default)(i,"isChatRoomWhiteUser",(function(e){var t=e.chatRoomId,n=(e.users,{url:this.apiUrl+"/"+this.orgName+"/"+this.appName+"/chatrooms/"+t+"/white/users/"+e.userName,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}});n.success=e.success||this._utils.emptyfn,n.error=e.error||this._utils.emptyfn,this._utils.ajax(n)})),(0,o.default)(i,"getGroupMsgReadUser",(function(e){var t=this;if(e=e||{},this._utils.isCanSetRequestHeader){var n=e.accessToken||this.token;if(n){var r=t.apiUrl,i=t.context.appName,o=t.context.orgName;if(!i||!o)return void t.onError({type:u.WEBIM_CONNCTION_AUTH_ERROR});var s={url:r+"/"+o+"/"+i+"/chatgroups/"+e.groupId+"/acks/"+e.msgId,dataType:"json",type:"GET",data:{limit:500,key:void 0},headers:{Authorization:"Bearer "+n},success:function(t){"function"==typeof e.success&&e.success(t)}||this._utils.emptyfn,error:function(t){"function"==typeof e.error&&e.error(t)}||this._utils.emptyfn};this._utils.ajax(s)}else t.onError({type:u.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR})}else conn.onError({type:u.WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR})})),(0,o.default)(i,"getBlacklist",(function(e){var t=this;if(e=e||{},this._utils.isCanSetRequestHeader){var n=this,r=e.accessToken||this.token;if(r){var i=e.apiUrl||this.apiUrl,o=this.context.appName,s=this.context.orgName;if(!o||!s)return void n.onError({type:u.WEBIM_CONNCTION_AUTH_ERROR});var a={url:i+"/"+s+"/"+o+"/users/"+this.user+"/blocks/users",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+r},success:function(n,r){var i={};n.data.forEach((function(e,t){i[e]={name:e}})),t.onBlacklistUpdate(i),"function"==typeof e.success&&e.success(n)}||this._utils.emptyfn,error:function(n,r,i){t.onBlacklistUpdate([]),"function"==typeof e.error&&e.error(n)}||this._utils.emptyfn};this._utils.ajax(a)}else n.onError({type:u.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR})}else n.onError({type:u.WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR})})),(0,o.default)(i,"getRoster",(function(e){e=e||{};var t=this;if(this._utils.isCanSetRequestHeader){var n=this,r=e.accessToken||this.token;if(r){var i=e.apiUrl||this.apiUrl,o=this.context.appName,s=this.context.orgName;if(!o||!s)return void n.onError({type:u.WEBIM_CONNCTION_AUTH_ERROR});var a={url:i+"/"+s+"/"+o+"/users/"+this.user+"/contacts/users",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+r},success:function(n,r){var i=[];n.data.forEach((function(e,n){i.push({name:e,subscription:"both",jid:t.context.jid})})),"function"==typeof e.success&&e.success(i),t.onRoster&&t.onRoster(i)}||this._utils.emptyfn,error:function(t,n,r){"function"==typeof e.error&&e.error(t)}||this._utils.emptyfn};this._utils.ajax(a)}else n.onError({type:u.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR})}else n.onError({type:u.WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR})})),(0,o.default)(i,"fetchGroupAnnouncement",(function(e){var t=e.apiUrl||this.apiUrl,n=this.context.appName,r=this.context.orgName,i=e.groupId,o={url:"".concat(t,"/").concat(r,"/").concat(n,"/chatgroups/").concat(i,"/announcement"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=e.success||this._utils.emptyfn,o.error=e.error||this._utils.emptyfn,this._utils.ajax(o)})),(0,o.default)(i,"fetchChatRoomAnnouncement",(function(e){var t=e.apiUrl||this.apiUrl,n=this.context.appName,r=this.context.orgName,i=e.roomId,o={url:"".concat(t,"/").concat(r,"/").concat(n,"/chatrooms/").concat(i,"/announcement"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=e.success||this._utils.emptyfn,o.error=e.error||this._utils.emptyfn,this._utils.ajax(o)})),(0,o.default)(i,"updateGroupAnnouncement",(function(e){var t=e.apiUrl||this.apiUrl,n=this.context.appName,r=this.context.orgName,i=e.groupId,o={announcement:e.announcement},s={url:"".concat(t,"/").concat(r,"/").concat(n,"/chatgroups/").concat(i,"/announcement"),type:"POST",dataType:"json",data:JSON.stringify(o),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};s.success=e.success||this._utils.emptyfn,s.error=e.error||this._utils.emptyfn,this._utils.ajax(s)})),(0,o.default)(i,"updateChatRoomAnnouncement",(function(e){var t=e.apiUrl||this.apiUrl,n=this.context.appName,r=this.context.orgName,i=e.roomId,o={announcement:e.announcement},s={url:"".concat(t,"/").concat(r,"/").concat(n,"/chatrooms/").concat(i,"/announcement"),type:"POST",dataType:"json",data:JSON.stringify(o),headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};s.success=e.success||this._utils.emptyfn,s.error=e.error||this._utils.emptyfn,this._utils.ajax(s)})),(0,o.default)(i,"uploadGroupSharedFile",(function(e){var t=e.apiUrl||this.apiUrl,n=this.context.appName,r=this.context.orgName,i=e.groupId;this._utils.uploadFile({uploadUrl:"".concat(t,"/").concat(r,"/").concat(n,"/chatgroups/").concat(i,"/share_files"),onFileUploadProgress:e.onFileUploadProgress,onFileUploadComplete:e.onFileUploadComplete,onFileUploadError:e.onFileUploadError,onFileUploadCanceled:e.onFileUploadCanceled,accessToken:this.token,apiUrl:t,file:e.file,appKey:this.context.appKey})})),(0,o.default)(i,"uploadChatRoomSharedFile",(function(e){var t=e.apiUrl||this.apiUrl,n=this.context.appName,r=this.context.orgName,i=e.roomId;this._utils.uploadFile({uploadUrl:"".concat(t,"/").concat(r,"/").concat(n,"/chatrooms/").concat(i,"/share_files"),onFileUploadProgress:e.onFileUploadProgress,onFileUploadComplete:e.onFileUploadComplete,onFileUploadError:e.onFileUploadError,onFileUploadCanceled:e.onFileUploadCanceled,accessToken:this.token,apiUrl:t,file:e.file,appKey:this.context.appKey})})),(0,o.default)(i,"deleteGroupSharedFile",(function(e){var t=e.apiUrl||this.apiUrl,n=this.context.appName,r=this.context.orgName,i=e.groupId,o=e.fileId,s={url:"".concat(t,"/").concat(r,"/").concat(n,"/chatgroups/").concat(i,"/share_files/").concat(o),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};s.success=e.success||this._utils.emptyfn,s.error=e.error||this._utils.emptyfn,this._utils.ajax(s)})),(0,o.default)(i,"deleteChatRoomSharedFile",(function(e){var t=e.apiUrl||this.apiUrl,n=this.context.appName,r=this.context.orgName,i=e.roomId,o=e.fileId,s={url:"".concat(t,"/").concat(r,"/").concat(n,"/chatrooms/").concat(i,"/share_files/").concat(o),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};s.success=e.success||this._utils.emptyfn,s.error=e.error||this._utils.emptyfn,this._utils.ajax(s)})),(0,o.default)(i,"downloadGroupSharedFile",(function(e){var t=e.apiUrl||this.apiUrl,n=this.context.appName,r=this.context.orgName,i=e.groupId,o=e.fileId;this._utils.download.call(this,{url:"".concat(t,"/").concat(r,"/").concat(n,"/chatgroups/").concat(i,"/share_files/").concat(o),onFileDownloadComplete:e.onFileDownloadComplete,onFileDownloadError:e.onFileDownloadError,accessToken:this.token,id:o,secret:""})})),(0,o.default)(i,"downloadChatRoomSharedFile",(function(e){var t=e.apiUrl||this.apiUrl,n=this.context.appName,r=this.context.orgName,i=e.roomId,o=e.fileId;this._utils.download.call(this,{url:"".concat(t,"/").concat(r,"/").concat(n,"/chatrooms/").concat(i,"/share_files/").concat(o),onFileDownloadComplete:e.onFileDownloadComplete,onFileDownloadError:e.onFileDownloadError,accessToken:this.token,id:o,secret:""})})),(0,o.default)(i,"fetchGroupSharedFileList",(function(e){var t=e.apiUrl||this.apiUrl,n=this.context.appName,r=this.context.orgName,i=e.groupId,o={url:"".concat(t,"/").concat(r,"/").concat(n,"/chatgroups/").concat(i,"/share_files"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=e.success||this._utils.emptyfn,o.error=e.error||this._utils.emptyfn,this._utils.ajax(o)})),(0,o.default)(i,"fetchChatRoomSharedFileList",(function(e){var t=e.apiUrl||this.apiUrl,n=this.context.appName,r=this.context.orgName,i=e.roomId,o={url:"".concat(t,"/").concat(r,"/").concat(n,"/chatrooms/").concat(i,"/share_files"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};o.success=e.success||this._utils.emptyfn,o.error=e.error||this._utils.emptyfn,this._utils.ajax(o)})),i);t.default=l},function(e,t,n){"use strict";e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return{nested:{easemob:{nested:{pb:{nested:{MessageBody:{fields:{type:{type:"Type",id:1},from:{type:"JID",id:2},to:{type:"JID",id:3},contents:{rule:"repeated",type:"Content",id:4},ext:{rule:"repeated",type:"KeyValue",id:5},ackMessageId:{type:"uint64",id:6},msgConfig:{type:"MessageConfig",id:7},ackContent:{type:"string",id:8}},nested:{Content:{fields:{type:{type:"Type",id:1},text:{type:"string",id:2},latitude:{type:"double",id:3},longitude:{type:"double",id:4},address:{type:"string",id:5},displayName:{type:"string",id:6},remotePath:{type:"string",id:7},secretKey:{type:"string",id:8},fileLength:{type:"int32",id:9},action:{type:"string",id:10},params:{rule:"repeated",type:"KeyValue",id:11},duration:{type:"int32",id:12},size:{type:"Size",id:13},thumbnailRemotePath:{type:"string",id:14},thumbnailSecretKey:{type:"string",id:15},thumbnailDisplayName:{type:"string",id:16},thumbnailFileLength:{type:"int32",id:17},thumbnailSize:{type:"Size",id:18},customEvent:{type:"string",id:19},customExts:{rule:"repeated",type:"KeyValue",id:20}},nested:{Type:{values:{TEXT:0,IMAGE:1,VIDEO:2,LOCATION:3,VOICE:4,FILE:5,COMMAND:6,CUSTOM:7}},Size:{fields:{width:{type:"double",id:1},height:{type:"double",id:2}}}}},Type:{values:{NORMAL:0,CHAT:1,GROUPCHAT:2,CHATROOM:3,READ_ACK:4,DELIVER_ACK:5,RECALL:6}},MessageConfig:{fields:{allowGroupAck:{type:"bool",id:1}}}}},KeyValue:{oneofs:{value:{oneof:["varintValue","floatValue","doubleValue","stringValue"]}},fields:{key:{type:"string",id:1},type:{type:"ValueType",id:2},varintValue:{type:"int64",id:3},floatValue:{type:"float",id:4},doubleValue:{type:"double",id:5},stringValue:{type:"string",id:6}},nested:{ValueType:{values:{BOOL:1,INT:2,UINT:3,LLINT:4,FLOAT:5,DOUBLE:6,STRING:7,JSON_STRING:8}}}},JID:{fields:{appKey:{type:"string",id:1},name:{type:"string",id:2},domain:{type:"string",id:3},clientResource:{type:"string",id:4}}},ConferenceBody:{fields:{sessionId:{type:"string",id:1},operation:{type:"Operation",id:2},conferenceId:{type:"string",id:3},type:{type:"Type",id:4},content:{type:"string",id:5},network:{type:"string",id:6},version:{type:"string",id:7},identity:{type:"Identity",id:8},duration:{type:"string",id:9},peerName:{type:"string",id:10},endReason:{type:"EndReason",id:11},status:{type:"Status",id:12},isDirect:{type:"bool",id:13},controlType:{type:"StreamControlType",id:14},routeFlag:{type:"int32",id:15},routeKey:{type:"string",id:16}},nested:{Status:{fields:{errorCode:{type:"int32",id:1}}},Operation:{values:{JOIN:0,INITIATE:1,ACCEPT_INITIATE:2,ANSWER:3,TERMINATE:4,REMOVE:5,STREAM_CONTROL:6,MEDIA_REQUEST:7}},Type:{values:{VOICE:0,VIDEO:1}},Identity:{values:{CALLER:0,CALLEE:1}},EndReason:{values:{HANGUP:0,NORESPONSE:1,REJECT:2,BUSY:3,FAIL:4,UNSUPPORTED:5,OFFLINE:6}},StreamControlType:{values:{PAUSE_VOICE:0,RESUME_VOICE:1,PAUSE_VIDEO:2,RESUME_VIDEO:3}}}},MSync:{fields:{version:{type:"Version",id:1,options:{default:"MSYNC_V1"}},guid:{type:"JID",id:2},auth:{type:"string",id:3},compressAlgorimth:{type:"uint32",id:4},crypto:{type:"uint32",id:5},userAgent:{type:"string",id:6},pov:{type:"uint64",id:7},command:{type:"Command",id:8},deviceId:{type:"uint32",id:10},encryptType:{rule:"repeated",type:"EncryptType",id:11,options:{packed:!1}},encryptKey:{type:"string",id:12},payload:{type:"bytes",id:9}},nested:{Version:{values:{MSYNC_V1:0,MSYNC_V2:1}},Command:{values:{SYNC:0,UNREAD:1,NOTICE:2,PROVISION:3}}}},EncryptType:{values:{ENCRYPT_NONE:0,ENCRYPT_AES_128_CBC:1,ENCRYPT_AES_256_CBC:2}},CommSyncUL:{fields:{meta:{type:"Meta",id:1},key:{type:"uint64",id:2},queue:{type:"JID",id:3},isRoam:{type:"bool",id:4},lastFullRoamKey:{type:"uint64",id:5}}},CommSyncDL:{fields:{status:{type:"Status",id:1},metaId:{type:"uint64",id:2},serverId:{type:"uint64",id:3},metas:{rule:"repeated",type:"Meta",id:4},nextKey:{type:"uint64",id:5},queue:{type:"JID",id:6},isLast:{type:"bool",id:7},timestamp:{type:"uint64",id:8},isRoam:{type:"bool",id:9}}},CommNotice:{fields:{queue:{type:"JID",id:1}}},CommUnreadUL:{fields:{}},CommUnreadDL:{fields:{status:{type:"Status",id:1},unread:{rule:"repeated",type:"MetaQueue",id:2},timestamp:{type:"uint64",id:3}}},MetaQueue:{fields:{queue:{type:"JID",id:1},n:{type:"uint32",id:2}}},Meta:{fields:{id:{type:"uint64",id:1},from:{type:"JID",id:2},to:{type:"JID",id:3},timestamp:{type:"uint64",id:4},ns:{type:"NameSpace",id:5},payload:{type:"bytes",id:6},routetype:{type:"RouteType",id:7}},nested:{NameSpace:{values:{STATISTIC:0,CHAT:1,MUC:2,ROSTER:3,CONFERENCE:4}},RouteType:{values:{ROUTE_ALL:0,ROUTE_ONLINE:1}}}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},reason:{type:"string",id:2},redirectInfo:{rule:"repeated",type:"RedirectInfo",id:3}},nested:{ErrorCode:{values:{OK:0,FAIL:1,UNAUTHORIZED:2,MISSING_PARAMETER:3,WRONG_PARAMETER:4,REDIRECT:5,TOKEN_EXPIRED:6,PERMISSION_DENIED:7,NO_ROUTE:8,UNKNOWN_COMMAND:9,PB_PARSER_ERROR:10,BIND_ANOTHER_DEVICE:11,IM_FORBIDDEN:12,TOO_MANY_DEVICES:13,PLATFORM_LIMIT:14,USER_MUTED:15,ENCRYPT_DISABLE:16,ENCRYPT_ENABLE:17,DECRYPT_FAILURE:18}}}},RedirectInfo:{fields:{host:{type:"string",id:1},port:{type:"uint32",id:2}}},Provision:{fields:{osType:{type:"OsType",id:1},version:{type:"string",id:2},networkType:{type:"NetworkType",id:3},appSign:{type:"string",id:4},compressType:{rule:"repeated",type:"CompressType",id:5,options:{packed:!1}},encryptType:{rule:"repeated",type:"EncryptType",id:6,options:{packed:!1}},encryptKey:{type:"string",id:7},status:{type:"Status",id:8},deviceUuid:{type:"string",id:9},isManualLogin:{type:"bool",id:10},password:{type:"string",id:11},deviceName:{type:"string",id:12},resource:{type:"string",id:13},auth:{type:"string",id:14}},nested:{OsType:{values:{OS_IOS:0,OS_ANDROID:1,OS_LINUX:2,OS_OSX:3,OS_WIN:4,OS_OTHER:16}},NetworkType:{values:{NETWORK_NONE:0,NETWORK_WIFI:1,NETWORK_4G:2,NETWORK_3G:3,NETWORK_2G:4,NETWORK_WIRE:5}},CompressType:{values:{COMPRESS_NONE:0,COMPRESS_ZLIB:1}}}},MUCBody:{fields:{mucId:{type:"JID",id:1},operation:{type:"Operation",id:2},from:{type:"JID",id:3},to:{rule:"repeated",type:"JID",id:4},setting:{type:"Setting",id:5},reason:{type:"string",id:6},isChatroom:{type:"bool",id:7},status:{type:"Status",id:8}},nested:{Operation:{values:{CREATE:0,DESTROY:1,JOIN:2,LEAVE:3,APPLY:4,APPLY_ACCEPT:5,APPLY_DECLINE:6,INVITE:7,INVITE_ACCEPT:8,INVITE_DECLINE:9,KICK:10,GET_BLACKLIST:11,BAN:12,ALLOW:13,UPDATE:14,BLOCK:15,UNBLOCK:16,PRESENCE:17,ABSENCE:18,DIRECT_JOINED:19,ASSIGN_OWNER:20,ADD_ADMIN:21,REMOVE_ADMIN:22,ADD_MUTE:23,REMOVE_MUTE:24,UPDATE_ANNOUNCEMENT:25,DELETE_ANNOUNCEMENT:26,UPLOAD_FILE:27,DELETE_FILE:28,ADD_USER_WHITE_LIST:29,REMOVE_USER_WHITE_LIST:30,BAN_GROUP:31,REMOVE_BAN_GROUP:32}},Setting:{fields:{name:{type:"string",id:1},desc:{type:"string",id:2},type:{type:"Type",id:3},maxUsers:{type:"int32",id:4},owner:{type:"string",id:5}},nested:{Type:{values:{PRIVATE_OWNER_INVITE:0,PRIVATE_MEMBER_INVITE:1,PUBLIC_JOIN_APPROVAL:2,PUBLIC_JOIN_OPEN:3,PUBLIC_ANONYMOUS:4}}}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},description:{type:"string",id:2}},nested:{ErrorCode:{values:{OK:0,PERMISSION_DENIED:1,WRONG_PARAMETER:2,MUC_NOT_EXIST:3,USER_NOT_EXIST:4,UNKNOWN:5}}}}}},RosterBody:{fields:{operation:{type:"Operation",id:1},status:{type:"Status",id:2},from:{type:"JID",id:3},to:{rule:"repeated",type:"JID",id:4},reason:{type:"string",id:5},rosterVer:{type:"string",id:6},biDirection:{type:"bool",id:7}},nested:{Operation:{values:{GET_ROSTER:0,GET_BLACKLIST:1,ADD:2,REMOVE:3,ACCEPT:4,DECLINE:5,BAN:6,ALLOW:7,REMOTE_ACCEPT:8,REMOTE_DECLINE:9}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},description:{type:"string",id:2}},nested:{ErrorCode:{values:{OK:0,USER_NOT_EXIST:1,USER_ALREADY_FRIEND:2,USER_ALREADY_BLACKLIST:3}}}}}},StatisticsBody:{fields:{operation:{type:"Operation",id:1},os:{type:"OsType",id:2},version:{type:"string",id:3},network:{type:"NetworkType",id:4},imTime:{type:"uint32",id:5},chatTime:{type:"uint32",id:6},location:{type:"string",id:7}},nested:{Operation:{values:{INFORMATION:0,USER_REMOVED:1,USER_LOGIN_ANOTHER_DEVICE:2,USER_KICKED_BY_CHANGE_PASSWORD:3,USER_KICKED_BY_OTHER_DEVICE:4}},OsType:{values:{OS_IOS:0,OS_ANDROID:1,OS_LINUX:2,OS_OSX:3,OS_WIN:4,OS_OTHER:16}},NetworkType:{values:{NETWORK_NONE:0,NETWORK_WIFI:1,NETWORK_4G:2,NETWORK_3G:3,NETWORK_2G:4,NETWORK_WIRE:5}}}}}}}}}}};t.default=r},,,,,function(e,t,n){"use strict";(function(t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(107),o=n(108),s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],u={hash:1,query:1};function l(e){var n,i=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},o={},s=r(e=e||i);if("blob:"===e.protocol)o=new f(unescape(e.pathname),{});else if("string"===s)for(n in o=new f(e,{}),u)delete o[n];else if("object"===s){for(n in e)n in u||(o[n]=e[n]);void 0===o.slashes&&(o.slashes=a.test(e.href))}return o}function d(e){var t=s.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function f(e,t,n){if(!(this instanceof f))return new f(e,t,n);var s,a,u,p,h,m,v=c.slice(),b=r(t),y=this,g=0;for("object"!==b&&"string"!==b&&(n=t,t=null),n&&"function"!=typeof n&&(n=o.parse),t=l(t),s=!(a=d(e||"")).protocol&&!a.slashes,y.slashes=a.slashes||s&&t.slashes,y.protocol=a.protocol||t.protocol||"",e=a.rest,a.slashes||(v[3]=[/(.*)/,"pathname"]);g<v.length;g++)"function"!=typeof(p=v[g])?(u=p[0],m=p[1],u!=u?y[m]=e:"string"==typeof u?~(h=e.indexOf(u))&&("number"==typeof p[2]?(y[m]=e.slice(0,h),e=e.slice(h+p[2])):(y[m]=e.slice(h),e=e.slice(0,h))):(h=u.exec(e))&&(y[m]=h[1],e=e.slice(0,h.index)),y[m]=y[m]||s&&p[3]&&t[m]||"",p[4]&&(y[m]=y[m].toLowerCase())):e=p(e);n&&(y.query=n(y.query)),s&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=function(e,t){for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,s=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),s++):s&&(0===r&&(o=!0),n.splice(r,1),s--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(y.pathname,t.pathname)),i(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(p=y.auth.split(":"),y.username=p[0]||"",y.password=p[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}f.prototype={set:function(e,t,n){var r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||o.parse)(t)),r[e]=t;break;case"port":r[e]=t,i(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,/:\d+$/.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var s="pathname"===e?"/":"#";r[e]=t.charAt(0)!==s?s+t:t}else r[e]=t;break;default:r[e]=t}for(var a=0;a<c.length;a++){var u=c[a];u[4]&&(r[u[1]]=r[u[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var t,n=this,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var s=i+(n.slashes?"//":"");return n.username&&(s+=n.username,n.password&&(s+=":"+n.password),s+="@"),s+=n.host+n.pathname,(t="object"===r(n.query)?e(n.query):n.query)&&(s+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(s+=n.hash),s}},f.extractProtocol=d,f.location=l,f.qs=o,e.exports=f}).call(this,n(3))},function(e,t,n){"use strict";function r(){this._listeners={}}r.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];-1===n.indexOf(t)&&(n=n.concat([t])),this._listeners[e]=n},r.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var r=n.indexOf(t);-1===r||(n.length>1?this._listeners[e]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[e])}},r.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=1===arguments.length?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var r=this._listeners[t],i=0;i<r.length;i++)r[i].apply(this,n)},e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(9),o=n(111),s=n(112);function a(e,t,n,r,a){var c=i.addPath(e,t),u=this;o.call(this,e,n),this.poll=new s(r,c,a),this.poll.on("message",(function(e){u.emit("message",e)})),this.poll.once("close",(function(e,t){u.poll=null,u.emit("close",e,t),u.close()}))}r(a,o),a.prototype.close=function(){o.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},e.exports=a},function(e,t,n){"use strict";(function(t){var r=n(5).EventEmitter,i=n(0),o=n(14),s=n(9),a=t.XMLHttpRequest;function c(e,t,n,i){var o=this;r.call(this),setTimeout((function(){o._start(e,t,n,i)}),0)}i(c,r),c.prototype._start=function(e,t,n,r){var i=this;try{this.xhr=new a}catch(e){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();t=s.addQuery(t,"t="+ +new Date),this.unloadRef=o.unloadAdd((function(){i._cleanup(!0)}));try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){i.emit("finish",0,""),i._cleanup(!1)})}catch(e){return this.emit("finish",0,""),void this._cleanup(!1)}if(r&&r.noCredentials||!c.supportsCORS||(this.xhr.withCredentials=!0),r&&r.headers)for(var u in r.headers)this.xhr.setRequestHeader(u,r.headers[u]);this.xhr.onreadystatechange=function(){if(i.xhr){var e,t,n=i.xhr;switch(n.readyState,n.readyState){case 3:try{t=n.status,e=n.responseText}catch(e){}1223===t&&(t=204),200===t&&e&&e.length>0&&i.emit("chunk",t,e);break;case 4:1223===(t=n.status)&&(t=204),12005!==t&&12029!==t||(t=0),n.responseText,i.emit("finish",t,n.responseText),i._cleanup(!1)}}};try{i.xhr.send(n)}catch(e){i.emit("finish",0,""),i._cleanup(!1)}},c.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),o.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch(e){}this.unloadRef=this.xhr=null}},c.prototype.close=function(){this._cleanup(!0)},c.enabled=!!a;var u=["Active"].concat("Object").join("X");!c.enabled&&u in t&&(a=function(){try{return new t[u]("Microsoft.XMLHTTP")}catch(e){return null}},c.enabled=!!new a);var l=!1;try{l="withCredentials"in new a}catch(e){}c.supportsCORS=l,e.exports=c}).call(this,n(3))},function(e,t,n){"use strict";var r=n(0),i=n(18),o=n(33),s=n(40);function a(e){if(!s.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr_streaming",o,s)}r(a,i),a.enabled=function(e){return!e.cookie_needed&&!e.nullOrigin&&s.enabled&&e.sameScheme},a.transportName="xdr-streaming",a.roundTrips=2,e.exports=a},function(e,t,n){"use strict";var r=n(0),i=n(18),o=n(113),s=n(34),a=n(71);function c(e){if(!c.enabled())throw new Error("Transport created when disabled");i.call(this,e,"/eventsource",o,s)}r(c,i),c.enabled=function(){return!!a},c.transportName="eventsource",c.roundTrips=2,e.exports=c},function(e,t,n){"use strict";(function(t){e.exports=t.EventSource}).call(this,n(3))},function(e,t,n){"use strict";var r=n(0),i=n(12),o=n(5).EventEmitter,s=n(73),a=n(9),c=n(26),u=n(14),l=n(17);function d(e,t,n){if(!d.enabled())throw new Error("Transport created when disabled");o.call(this);var r=this;this.origin=a.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=l.string(8);var i=a.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=c.createIframe(i,(function(e){r.emit("close",1006,"Unable to load an iframe ("+e+")"),r.close()})),this.onmessageCallback=this._message.bind(this),u.attachEvent("message",this.onmessageCallback)}r(d,o),d.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){u.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(e){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},d.prototype._message=function(e){if(e.data,!a.isOriginEqual(e.origin,this.origin))return e.origin,void this.origin;var t;try{t=i.parse(e.data)}catch(t){return void e.data}if(t.windowId!==this.windowId)return t.windowId,void this.windowId;switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",i.stringify([s,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=i.parse(t.data)}catch(e){return void t.data}this.emit("close",n[0],n[1]),this.close()}},d.prototype.postMessage=function(e,t){this.iframeObj.post(i.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)},d.prototype.send=function(e){this.postMessage("m",e)},d.enabled=function(){return c.iframeEnabled},d.transportName="iframe",d.roundTrips=2,e.exports=d},function(e,t,n){"use strict";e.exports="1.3.0"},function(e,t,n){"use strict";var r=n(0),i=n(116),o=n(24),s=n(18);function a(e){if(!i.enabled)throw new Error("Transport created when disabled");s.call(this,e,"/htmlfile",i,o)}r(a,s),a.enabled=function(e){return i.enabled&&e.sameOrigin},a.transportName="htmlfile",a.roundTrips=2,e.exports=a},function(e,t,n){"use strict";var r=n(0),i=n(18),o=n(33),s=n(34),a=n(24);function c(e){if(!a.enabled&&!s.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr",o,s)}r(c,i),c.enabled=function(e){return!e.nullOrigin&&(!(!a.enabled||!e.sameOrigin)||s.enabled)},c.transportName="xhr-polling",c.roundTrips=2,e.exports=c},function(e,t,n){"use strict";(function(t){e.exports=t.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this,n(3))},function(e,t,n){"use strict";var r=n(0),i=n(5).EventEmitter,o=n(12),s=n(24),a=n(78);function c(e){var t=this;i.call(this),this.ir=new a(e,s),this.ir.once("finish",(function(e,n){t.ir=null,t.emit("message",o.stringify([e,n]))}))}r(c,i),c.transportName="iframe-info-receiver",c.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},e.exports=c},function(e,t,n){"use strict";var r=n(5).EventEmitter,i=n(0),o=n(12),s=n(42);function a(e,t){r.call(this);var n=this,i=+new Date;this.xo=new t("GET",e),this.xo.once("finish",(function(e,t){var r,a;if(200===e){if(a=+new Date-i,t)try{r=o.parse(t)}catch(e){}s.isObject(r)||(r={})}n.emit("finish",r,a),n.removeAllListeners()}))}i(a,r),a.prototype.close=function(){this.removeAllListeners(),this.xo.close()},e.exports=a},function(e,t,n){"use strict";e.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,i=2,o=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,s){n[r]=function(e){if(o)if(o=!1,e)s(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){o&&(o=!1,s(e))}}))}},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,n){"use strict";t.Service=n(145)},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";e.exports=function(e){for(var t,n=o.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),a=e.fieldsArray.slice().sort(o.compareFieldsById),c=0;c<a.length;++c){var u=a[c].resolve(),l=e._fieldsArray.indexOf(u),d=u.resolvedType instanceof r?"int32":u.type,f=i.basic[d];t="m"+o.safeProp(u.name),u.map?(n("if(%s!=null&&m.hasOwnProperty(%j)){",t,u.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(u.id<<3|2)>>>0,8|i.mapKey[u.keyType],u.keyType),void 0===f?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",l,t):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|f,d,t),n("}")("}")):u.repeated?(n("if(%s!=null&&%s.length){",t,t),u.packed&&void 0!==i.packed[d]?n("w.uint32(%i).fork()",(u.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",d,t)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",t),void 0===f?s(n,u,l,t+"[i]"):n("w.uint32(%i).%s(%s[i])",(u.id<<3|f)>>>0,d,t)),n("}")):(u.optional&&n("if(%s!=null&&m.hasOwnProperty(%j))",t,u.name),void 0===f?s(n,u,l,t):n("w.uint32(%i).%s(%s)",(u.id<<3|f)>>>0,d,t))}return n("return w")};var r=n(11),i=n(20),o=n(4);function s(e,t,n,r){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(t.id<<3|2)>>>0)}},function(e,t,n){"use strict";e.exports=function(e){var t=o.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var n=0;n<e.fieldsArray.length;++n){var a=e._fieldsArray[n].resolve(),c=a.resolvedType instanceof r?"int32":a.type,u="m"+o.safeProp(a.name);t("case %i:",a.id),a.map?(t("r.skip().pos++")("if(%s===util.emptyObject)",u)("%s={}",u)("k=r.%s()",a.keyType)("r.pos++"),void 0!==i.long[a.keyType]?void 0===i.basic[c]?t('%s[typeof k==="object"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())',u,n):t('%s[typeof k==="object"?util.longToHash(k):k]=r.%s()',u,c):void 0===i.basic[c]?t("%s[k]=types[%i].decode(r,r.uint32())",u,n):t("%s[k]=r.%s()",u,c)):a.repeated?(t("if(!(%s&&%s.length))",u,u)("%s=[]",u),void 0!==i.packed[c]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",u,c)("}else"),void 0===i.basic[c]?t(a.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",u,n):t("%s.push(r.%s())",u,c)):void 0===i.basic[c]?t(a.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",u,n):t("%s=r.%s()",u,c),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<e._fieldsArray.length;++n){var l=e._fieldsArray[n];l.required&&t("if(!m.hasOwnProperty(%j))",l.name)("throw util.ProtocolError(%j,{instance:m})",s(l))}return t("return m")};var r=n(11),i=n(20),o=n(4);function s(e){return"missing required '"+e.name+"'"}},function(e,t,n){"use strict";e.exports=function(e){var t=i.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n=e.oneofsArray,r={};n.length&&t("var p={}");for(var c=0;c<e.fieldsArray.length;++c){var u=e._fieldsArray[c].resolve(),l="m"+i.safeProp(u.name);if(u.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",l,u.name),u.map)t("if(!util.isObject(%s))",l)("return%j",o(u,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),a(t,u,"k[i]"),s(t,u,c,l+"[k[i]]")("}");else if(u.repeated)t("if(!Array.isArray(%s))",l)("return%j",o(u,"array"))("for(var i=0;i<%s.length;++i){",l),s(t,u,c,l+"[i]")("}");else{if(u.partOf){var d=i.safeProp(u.partOf.name);1===r[u.partOf.name]&&t("if(p%s===1)",d)("return%j",u.partOf.name+": multiple values"),r[u.partOf.name]=1,t("p%s=1",d)}s(t,u,c,l)}u.optional&&t("}")}return t("return null")};var r=n(11),i=n(4);function o(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function s(e,t,n,i){if(t.resolvedType)if(t.resolvedType instanceof r){e("switch(%s){",i)("default:")("return%j",o(t,"enum value"));for(var s=Object.keys(t.resolvedType.values),a=0;a<s.length;++a)e("case %i:",t.resolvedType.values[s[a]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",n,i)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",o(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",o(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",o(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",o(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",o(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",o(t,"buffer"))}return e}function a(e,t,n){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",n)("return%j",o(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",n)("return%j",o(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",n)("return%j",o(t,"boolean key"))}return e}},function(e,t,n){"use strict";var r=t,i=n(11),o=n(4);function s(e,t,n,r){if(t.resolvedType)if(t.resolvedType instanceof i){e("switch(d%s){",r);for(var o=t.resolvedType.values,s=Object.keys(o),a=0;a<s.length;++a)t.repeated&&o[s[a]]===t.typeDefault&&e("default:"),e("case%j:",s[a])("case %i:",o[s[a]])("m%s=%j",r,o[s[a]])("break");e("}")}else e('if(typeof d%s!=="object")',r)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,n,r);else{var c=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",r,r);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,c)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,c?"true":"");break;case"bytes":e('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length)",r)("m%s=d%s",r,r);break;case"string":e("m%s=String(d%s)",r,r);break;case"bool":e("m%s=Boolean(d%s)",r,r)}}return e}function a(e,t,n,r){if(t.resolvedType)t.resolvedType instanceof i?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",r,n,r,r):e("d%s=types[%i].toObject(m%s,o)",r,n,r);else{var o=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":o=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,o?"true":"",r);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:e("d%s=m%s",r,r)}}return e}r.fromObject=function(e){var t=e.fieldsArray,n=o.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return n("return new this.ctor");n("var m=new this.ctor");for(var r=0;r<t.length;++r){var a=t[r].resolve(),c=o.safeProp(a.name);a.map?(n("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),s(n,a,r,c+"[ks[i]]")("}")("}")):a.repeated?(n("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),s(n,a,r,c+"[i]")("}")("}")):(a.resolvedType instanceof i||n("if(d%s!=null){",c),s(n,a,r,c),a.resolvedType instanceof i||n("}"))}return n("return m")},r.toObject=function(e){var t=e.fieldsArray.slice().sort(o.compareFieldsById);if(!t.length)return o.codegen()("return {}");for(var n=o.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),r=[],s=[],c=[],u=0;u<t.length;++u)t[u].partOf||(t[u].resolve().repeated?r:t[u].map?s:c).push(t[u]);if(r.length){for(n("if(o.arrays||o.defaults){"),u=0;u<r.length;++u)n("d%s=[]",o.safeProp(r[u].name));n("}")}if(s.length){for(n("if(o.objects||o.defaults){"),u=0;u<s.length;++u)n("d%s={}",o.safeProp(s[u].name));n("}")}if(c.length){for(n("if(o.defaults){"),u=0;u<c.length;++u){var l=c[u],d=o.safeProp(l.name);if(l.resolvedType instanceof i)n("d%s=o.enums===String?%j:%j",d,l.resolvedType.valuesById[l.typeDefault],l.typeDefault);else if(l.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",l.typeDefault.low,l.typeDefault.high,l.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",d)("}else")("d%s=o.longs===String?%j:%i",d,l.typeDefault.toString(),l.typeDefault.toNumber());else if(l.bytes){var f="["+Array.prototype.slice.call(l.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",d,String.fromCharCode.apply(String,l.typeDefault))("else{")("d%s=%s",d,f)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",d,d)("}")}else n("d%s=%j",d,l.typeDefault)}n("}")}var p=!1;for(u=0;u<t.length;++u){l=t[u];var h=e._fieldsArray.indexOf(l);d=o.safeProp(l.name),l.map?(p||(p=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",d,d)("d%s={}",d)("for(var j=0;j<ks2.length;++j){"),a(n,l,h,d+"[ks2[j]]")("}")):l.repeated?(n("if(m%s&&m%s.length){",d,d)("d%s=[]",d)("for(var j=0;j<m%s.length;++j){",d),a(n,l,h,d+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",d,l.name),a(n,l,h,d),l.partOf&&n("if(o.oneofs)")("d%s=%j",o.safeProp(l.partOf.name),l.name)),n("}")}return n("return d")}},function(e,t,n){"use strict";var r=t,i=n(50);r[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=this.lookup(e["@type"]);if(t){var n="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return this.create({type_url:"/"+n,value:t.encode(t.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){if(t&&t.json&&e.type_url&&e.value){var n=e.type_url.substring(e.type_url.lastIndexOf("/")+1),r=this.lookup(n);r&&(e=r.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var o=e.$type.toObject(e,t);return o["@type"]=e.$type.fullName,o}return this.toObject(e,t)}}},function(e,t,n){"use strict";e.exports=p;var r=/[\s{}=;:[\],'"()<>]/g,i=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,o=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,s=/^ *[*/]+ */,a=/^\s*\*?\/*/,c=/\n/g,u=/\s/,l=/\\(.?)/g,d={0:"\0",r:"\r",n:"\n",t:"\t"};function f(e){return e.replace(l,(function(e,t){switch(t){case"\\":case"":return t;default:return d[t]||""}}))}function p(e,t){e=e.toString();var n=0,l=e.length,d=1,p=null,h=null,m=0,v=!1,b=[],y=null;function g(e){return Error("illegal "+e+" (line "+d+")")}function _(t){return e.charAt(t)}function S(n,r){p=e.charAt(n++),m=d,v=!1;var i,o=n-(t?2:3);do{if(--o<0||"\n"===(i=e.charAt(o))){v=!0;break}}while(" "===i||"\t"===i);for(var u=e.substring(n,r).split(c),l=0;l<u.length;++l)u[l]=u[l].replace(t?a:s,"").trim();h=u.join("\n").trim()}function w(t){var n=x(t),r=e.substring(t,n);return/^\s*\/{1,2}/.test(r)}function x(e){for(var t=e;t<l&&"\n"!==_(t);)t++;return t}function C(){if(b.length>0)return b.shift();if(y)return function(){var t="'"===y?o:i;t.lastIndex=n-1;var r=t.exec(e);if(!r)throw g("string");return n=t.lastIndex,O(y),y=null,f(r[1])}();var s,a,c,p,h;do{if(n===l)return null;for(s=!1;u.test(c=_(n));)if("\n"===c&&++d,++n===l)return null;if("/"===_(n)){if(++n===l)throw g("comment");if("/"===_(n))if(t){if(p=n,h=!1,w(n)){h=!0;do{if((n=x(n))===l)break;n++}while(w(n))}else n=Math.min(l,x(n)+1);h&&S(p,n),d++,s=!0}else{for(h="/"===_(p=n+1);"\n"!==_(++n);)if(n===l)return null;++n,h&&S(p,n-1),++d,s=!0}else{if("*"!==(c=_(n)))return"/";p=n+1,h=t||"*"===_(p);do{if("\n"===c&&++d,++n===l)throw g("comment");a=c,c=_(n)}while("*"!==a||"/"!==c);++n,h&&S(p,n-2),s=!0}}}while(s);var m=n;if(r.lastIndex=0,!r.test(_(m++)))for(;m<l&&!r.test(_(m));)++m;var v=e.substring(n,n=m);return'"'!==v&&"'"!==v||(y=v),v}function O(e){b.push(e)}function T(){if(!b.length){var e=C();if(null===e)return null;O(e)}return b[0]}return Object.defineProperty({next:C,peek:T,push:O,skip:function(e,t){var n=T();if(n===e)return C(),!0;if(!t)throw g("token '"+n+"', '"+e+"' expected");return!1},cmnt:function(e){var n=null;return void 0===e?m===d-1&&(t||"*"===p||v)&&(n=h):(m<e&&T(),m!==e||v||!t&&"/"!==p||(n=h)),n}},"line",{get:function(){return d}})}p.unescape=f},,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(103)),o=r(n(35)),s=r(n(133)),a=r(n(52)),c=r(n(8)),u=r(n(60)),l=r(n(151)),d=(0,r(n(7)).default)(),f=(0,u.default)();s.default.util.Long=c.default,s.default.configure();var p,h=s.default.Root.fromJSON(f);a.default.connection.prototype.getParams({root:h,utils:l.default});var m=function(e,t,n){for(var r="",i=0;i<e.length;i++)r+=String.fromCharCode(e[i]);if(r=o.default.btoa(r),n)return r;try{p.send(r)}catch(e){t.onError({type:d.WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR,msg:e})}};function v(e){if(e.isHttpDNS){var t=e.xmppHosts[e.xmppIndex],n=t.domain,r=t.ip,o="";if(r){o=r;var s=t.port;"80"!=s&&(o+=":"+s)}else o=n;o&&(e.url="//"+o+"/ws")}return new i.default(e.url)}a.default.connection.prototype._base64transform=m,a.default.connection.prototype._getSock=v,a.default.connection.prototype._login=function(e,t){e&&(p=v(t),a.default.connection.prototype.sock=p,p.onopen=function(){t.autoReconnectInterval=0,t.times=1,t.autoReconnectNumTotal=0;var n=[],r=(new Date).valueOf(),i=h.lookup("easemob.pb.Provision"),o=i.decode(n);t.context.jid.clientResource=t.deviceId+"_"+r.toString(),o.compressType=t.compressType,o.encryptType=t.encryptType,o.osType=t.osType,o.version=t.version,o.deviceName=t.deviceId,o.resource=t.deviceId+"_"+r.toString(),o.deviceUuid=r.toString(),o.auth="$t$"+e.access_token,o=i.encode(o).finish();var s=h.lookup("easemob.pb.MSync"),a=s.decode(n);if(a.version=t.version,a.guid=t.context.jid,a.auth="$t$"+e.access_token,a.command=3,a.deviceId=t.deviceId,a.encryptType=t.encryptType,a.payload=o,a=s.encode(a).finish(),m(a,t),t.logOut=!1,t.offLineSendConnecting=!1,t.unSendMsgArr.length>0)for(var c in t.unSendMsgArr){var u=t.unSendMsgArr[c];t.sendMSync(u),delete t.unSendMsgArr[c]}t.onOpened()},p.onclose=function(e){if(!t.logOut&&t.autoReconnectNumTotal<t.autoReconnectNumMax&&(t.autoReconnectNumTotal<=t.xmppHosts.length&&t.isHttpDNS||!t.isHttpDNS)){t.reconnect();var n={type:d.WEBIM_CONNCTION_DISCONNECTED};t.onError(n)}else t.logOut?(t.clear(),t.onClosed()):(n={type:d.WEBIM_CONNCTION_DISCONNECTED},t.onError(n),t.onClosed())},p.onmessage=function(e){for(var n=o.default.atob(e.data),r=[],i=0,s=n.length;i<s;++i)r.push(n.charCodeAt(i));var a=h.lookup("easemob.pb.MSync").decode(r);switch(t.isDebug&&console.log("ä¸è¡MSyncï¼",a),a.command){case 0:var u=h.lookup("easemob.pb.CommSyncDL");u=u.decode(a.payload);var f=new c.default(u.serverId.low,u.serverId.high,u.serverId.unsigned).toString(),p=new c.default(u.metaId.low,u.metaId.high,u.metaId.unsigned).toString();if(t.isDebug&&console.log("ä¸è¡CommSyncDLMessageï¼",u),0!==u.metas.length)t._metapayload(u.metas,u.status,t),t._lastsession(u.nextKey,u.queue,t);else if(u.isLast){var m=l.default.checkArray(t._queues,u.queue);!1!==m&&t._queues.splice(m,1),t._queues.length>0&&(t._backqueue(t._queues[0],t),this.qTimer&&clearTimeout(this.qTimer))}else if(u.status&&0===u.status.errorCode){if(t._msgHash[p]){try{t._msgHash[p].success instanceof Function&&t._msgHash[p].success(p,f)}catch(e){t.onError({type:d.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,data:e})}delete t._msgHash[p]}t.onReceivedMessage({id:p,mid:f})}else if(u.status&&15===u.status.errorCode)t.onMutedMessage({mid:f});else if(u.status&&1===u.status.errorCode){var v="";switch(u.status.reason){case"blocked":v=d.PERMISSION_DENIED;break;case"group not found":v=d.GROUP_NOT_EXIST;break;case"not in group or chatroom":v=d.GROUP_NOT_JOINED;break;case"exceed recall time limit":v=d.MESSAGE_RECALL_TIME_LIMIT;break;case"message recall disabled":v=d.SERVICE_NOT_ENABLED;break;case"not in group or chatroom white list":v=d.SERVICE_NOT_ALLOW_MESSAGING;break;default:v=d.SERVER_UNKNOWN_ERROR}t.onError({type:v,reason:u.status.reason?u.status.reason:"",data:{id:p,mid:f}})}else if(u.status&&7===u.status.errorCode&&"sensitive words"===u.status.reason)t.onError({type:d.MESSAGE_INCLUDE_ILLEGAL_CONTENT,data:{id:p,mid:f}});else{if(t._msgHash[p]){try{t._msgHash[p].fail instanceof Function&&t._msgHash[p].fail(p,f)}catch(e){t.onError({type:d.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,data:e})}delete t._msgHash[p]}t.onError({type:d.WEBIM_LOAD_MSG_ERROR,data:{errorCode:u.status&&u.status.errorCode,reason:u.status&&u.status.reason}})}break;case 1:var b=h.lookup("easemob.pb.CommUnreadDL");if(b=b.decode(a.payload),t.isDebug&&console.log("ä¸è¡CommUnreadDLMessageï¼",b),0===b.unread.length);else for(i=0;i<b.unread.length;i++)t._backqueue(b.unread[i].queue,t);t._rebuild();break;case 2:var y=h.lookup("easemob.pb.CommNotice").decode(a.payload);if(t.isDebug&&console.log("ä¸è¡noticeMessageï¼",y),!1!==l.default.checkArray(t._queues,y.queue))return;t._queues.push(y.queue),this.qTimer&&clearTimeout(this.qTimer),this.qTimer=setTimeout((function(){var e=y.queue;!1!==l.default.checkArray(t._queues,e)&&(t._backqueue(e,t),t.isDebug&&console.log("ä¸è¡q: ",e,t._queues,y.queue))}),2e4),1==t._queues.length&&t._backqueue(y.queue,t);break;case 3:t._receiveProvision(a,t),t.isDebug&&console.log("ä¸è¡Provisionï¼",a)}},""!=(e.access_token||"")?t.context.accessToken=e.access_token:t.onError({type:d.WEBIM_CONNCTION_OPEN_USERGRID_ERROR,data:e}))},window.WebIM=a.default;var b=a.default;t.default=b},function(e,t,n){"use strict";(function(t){var r=n(104);e.exports=n(121)(r),"_sockjs_onload"in t&&setTimeout(t._sockjs_onload,1)}).call(this,n(3))},function(e,t,n){"use strict";e.exports=[n(105),n(110),n(69),n(70),n(41)(n(70)),n(74),n(41)(n(74)),n(75),n(117),n(41)(n(75)),n(118)]},function(e,t,n){"use strict";var r=n(14),i=n(9),o=n(0),s=n(5).EventEmitter,a=n(109);function c(e,t,n){if(!c.enabled())throw new Error("Transport created when disabled");s.call(this);var o=this,u=i.addPath(e,"/websocket");u="https"===u.slice(0,5)?"wss"+u.slice(5):"ws"+u.slice(4),this.url=u,this.ws=new a(this.url,[],n),this.ws.onmessage=function(e){e.data,o.emit("message",e.data)},this.unloadRef=r.unloadAdd((function(){o.ws.close()})),this.ws.onclose=function(e){e.code,e.reason,o.emit("close",e.code,e.reason),o._cleanup()},this.ws.onerror=function(e){o.emit("close",1006,"WebSocket connection broken"),o._cleanup()}}o(c,s),c.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)},c.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()},c.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},c.enabled=function(){return!!a},c.transportName="websocket",c.roundTrips=2,e.exports=c},function(e,t,n){"use strict";(function(t){t.crypto&&t.crypto.getRandomValues?e.exports.randomBytes=function(e){var n=new Uint8Array(e);return t.crypto.getRandomValues(n),n}:e.exports.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(256*Math.random());return t}}).call(this,n(3))},function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,i,o=[];for(i in"string"!=typeof t&&(t="?"),e)if(r.call(e,i)){if((n=e[i])||null!=n&&!isNaN(n)||(n=""),i=encodeURIComponent(i),n=encodeURIComponent(n),null===i||null===n)continue;o.push(i+"="+n)}return o.length?t+o.join("&"):""},t.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,r={};t=n.exec(e);){var o=i(t[1]),s=i(t[2]);null===o||null===s||o in r||(r[o]=s)}return r}},function(e,t,n){"use strict";(function(t){var n=t.WebSocket||t.MozWebSocket;e.exports=n?function(e){return new n(e)}:void 0}).call(this,n(3))},function(e,t,n){"use strict";(function(t){var r=n(0),i=n(18),o=n(33),s=n(34),a=n(24),c=n(25);function u(e){if(!a.enabled&&!s.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr_streaming",o,s)}r(u,i),u.enabled=function(e){return!e.nullOrigin&&!c.isOpera()&&s.enabled},u.transportName="xhr-streaming",u.roundTrips=2,u.needBody=!!t.document,e.exports=u}).call(this,n(3))},function(e,t,n){"use strict";var r=n(0),i=n(5).EventEmitter;function o(e,t){i.call(this),this.sendBuffer=[],this.sender=t,this.url=e}r(o,i),o.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()},o.prototype.sendScheduleWait=function(){var e,t=this;this.sendStop=function(){t.sendStop=null,clearTimeout(e)},e=setTimeout((function(){t.sendStop=null,t.sendSchedule()}),25)},o.prototype.sendSchedule=function(){this.sendBuffer.length;var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,(function(t){e.sendStop=null,t?(e.emit("close",t.code||1006,"Sending error: "+t),e.close()):e.sendScheduleWait()})),this.sendBuffer=[]}},o.prototype._cleanup=function(){this.removeAllListeners()},o.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},e.exports=o},function(e,t,n){"use strict";var r=n(0),i=n(5).EventEmitter;function o(e,t,n){i.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}r(o,i),o.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",(function(t){e.emit("message",t)})),t.once("close",(function(n,r){e.pollIsClosing,e.poll=t=null,e.pollIsClosing||("network"===r?e._scheduleReceiver():(e.emit("close",n||1006,r),e.removeAllListeners()))}))},o.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},e.exports=o},function(e,t,n){"use strict";var r=n(0),i=n(5).EventEmitter,o=n(71);function s(e){i.call(this);var t=this,n=this.es=new o(e);n.onmessage=function(e){e.data,t.emit("message",decodeURI(e.data))},n.onerror=function(e){n.readyState;var r=2!==n.readyState?"network":"permanent";t._cleanup(),t._close(r)}}r(s,i),s.prototype.abort=function(){this._cleanup(),this._close("user")},s.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)},s.prototype._close=function(e){var t=this;setTimeout((function(){t.emit("close",null,e),t.removeAllListeners()}),200)},e.exports=s},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";(function(t){var r=n(0),i=n(26),o=n(9),s=n(5).EventEmitter,a=n(17);function c(e){s.call(this);var n=this;i.polluteGlobalNamespace(),this.id="a"+a.string(6),e=o.addQuery(e,"c="+decodeURIComponent(i.WPrefix+"."+this.id)),c.htmlfileEnabled;var r=c.htmlfileEnabled?i.createHtmlfile:i.createIframe;t[i.WPrefix][this.id]={start:function(){n.iframeObj.loaded()},message:function(e){n.emit("message",e)},stop:function(){n._cleanup(),n._close("network")}},this.iframeObj=r(e,(function(){n._cleanup(),n._close("permanent")}))}r(c,s),c.prototype.abort=function(){this._cleanup(),this._close("user")},c.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete t[i.WPrefix][this.id]},c.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()},c.htmlfileEnabled=!1;var u=["Active"].concat("Object").join("X");if(u in t)try{c.htmlfileEnabled=!!new t[u]("htmlfile")}catch(e){}c.enabled=c.htmlfileEnabled||i.iframeEnabled,e.exports=c}).call(this,n(3))},function(e,t,n){"use strict";var r=n(0),i=n(18),o=n(69),s=n(33),a=n(40);function c(e){if(!a.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr",s,a)}r(c,i),c.enabled=o.enabled,c.transportName="xdr-polling",c.roundTrips=2,e.exports=c},function(e,t,n){"use strict";(function(t){var r=n(0),i=n(67),o=n(119),s=n(120);function a(e){if(!a.enabled())throw new Error("Transport created when disabled");i.call(this,e,"/jsonp",s,o)}r(a,i),a.enabled=function(){return!!t.document},a.transportName="jsonp-polling",a.roundTrips=1,a.needBody=!0,e.exports=a}).call(this,n(3))},function(e,t,n){"use strict";(function(t){var r=n(26),i=n(17),o=n(25),s=n(9),a=n(0),c=n(5).EventEmitter;function u(e){var n=this;c.call(this),r.polluteGlobalNamespace(),this.id="a"+i.string(6);var o=s.addQuery(e,"c="+encodeURIComponent(r.WPrefix+"."+this.id));t[r.WPrefix][this.id]=this._callback.bind(this),this._createScript(o),this.timeoutId=setTimeout((function(){n._abort(new Error("JSONP script loaded abnormally (timeout)"))}),u.timeout)}a(u,c),u.prototype.abort=function(){if(t[r.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}},u.timeout=35e3,u.scriptErrorTimeout=1e3,u.prototype._callback=function(e){this._cleanup(),this.aborting||(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())},u.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()},u.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete t[r.WPrefix][this.id]},u.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout((function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))}),u.scriptErrorTimeout))},u.prototype._createScript=function(e){var n,r=this,s=this.script=t.document.createElement("script");if(s.id="a"+i.string(8),s.src=e,s.type="text/javascript",s.charset="UTF-8",s.onerror=this._scriptError.bind(this),s.onload=function(){r._abort(new Error("JSONP script loaded abnormally (onload)"))},s.onreadystatechange=function(){if(s.readyState,/loaded|closed/.test(s.readyState)){if(s&&s.htmlFor&&s.onclick){r.loadedOkay=!0;try{s.onclick()}catch(e){}}s&&r._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===s.async&&t.document.attachEvent)if(o.isOpera())(n=this.script2=t.document.createElement("script")).text="try{var a = document.getElementById('"+s.id+"'); if(a)a.onerror();}catch(x){};",s.async=n.async=!1;else{try{s.htmlFor=s.id,s.event="onclick"}catch(e){}s.async=!0}void 0!==s.async&&(s.async=!0);var a=t.document.getElementsByTagName("head")[0];a.insertBefore(s,a.firstChild),n&&a.insertBefore(n,a.firstChild)},e.exports=u}).call(this,n(3))},function(e,t,n){"use strict";(function(t){var r,i,o=n(17),s=n(9);e.exports=function(e,n,a){r||((r=t.document.createElement("form")).style.display="none",r.style.position="absolute",r.method="POST",r.enctype="application/x-www-form-urlencoded",r.acceptCharset="UTF-8",(i=t.document.createElement("textarea")).name="d",r.appendChild(i),t.document.body.appendChild(r));var c="a"+o.string(8);r.target=c,r.action=s.addQuery(s.addPath(e,"/jsonp_send"),"i="+c);var u=function(e){try{return t.document.createElement('<iframe name="'+e+'">')}catch(r){var n=t.document.createElement("iframe");return n.name=e,n}}(c);u.id=c,u.style.display="none",r.appendChild(u);try{i.value=n}catch(e){}r.submit();var l=function(e){u.onerror&&(u.onreadystatechange=u.onerror=u.onload=null,setTimeout((function(){u.parentNode.removeChild(u),u=null}),500),i.value="",a(e))};return u.onerror=function(){l()},u.onload=function(){l()},u.onreadystatechange=function(e){u.readyState,"complete"===u.readyState&&l()},function(){l(new Error("Aborted"))}}}).call(this,n(3))},function(e,t,n){"use strict";(function(t){n(122);var r,i=n(65),o=n(0),s=n(12),a=n(17),c=n(123),u=n(9),l=n(14),d=n(124),f=n(42),p=n(25),h=n(125),m=n(43),v=n(66),b=n(76),y=n(126),g=n(127),_=n(128);function S(e,t,n){if(!(this instanceof S))return new S(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");v.call(this),this.readyState=S.CONNECTING,this.extensions="",this.protocol="",(n=n||{}).protocols_whitelist&&h.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{};var r=n.sessionId||8;if("function"==typeof r)this._generateSessionId=r;else{if("number"!=typeof r)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return a.string(r)}}this._server=n.server||a.numberString(1e3);var o=new i(e);if(!o.host||!o.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(o.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==o.protocol&&"https:"!==o.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+o.protocol+"' is not allowed.");var s="https:"===o.protocol;if("https:"===b.protocol&&!s)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var c=t.sort();c.forEach((function(e,t){if(!e)throw new SyntaxError("The protocols entry '"+e+"' is invalid.");if(t<c.length-1&&e===c[t+1])throw new SyntaxError("The protocols entry '"+e+"' is duplicated.")}));var l=u.getOrigin(b.href);this._origin=l?l.toLowerCase():null,o.set("pathname",o.pathname.replace(/\/+$/,"")),this.url=o.href,this.url,this._urlInfo={nullOrigin:!p.hasDomain(),sameOrigin:u.isOriginEqual(this.url,b.href),sameScheme:u.isSchemeEqual(this.url,b.href)},this._ir=new _(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function w(e){return 1e3===e||e>=3e3&&e<=4999}o(S,v),S.prototype.close=function(e,t){if(e&&!w(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");this.readyState!==S.CLOSING&&this.readyState!==S.CLOSED&&this._close(e||1e3,t||"Normal closure",!0)},S.prototype.send=function(e){if("string"!=typeof e&&(e=""+e),this.readyState===S.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===S.OPEN&&this._transport.send(c.quote(e))},S.version=n(73),S.CONNECTING=0,S.OPEN=1,S.CLOSING=2,S.CLOSED=3,S.prototype._receiveInfo=function(e,t){if(this._ir=null,e){this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=f.extend(e,this._urlInfo);var n=r.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,this._transports.length,this._connect()}else this._close(1002,"Cannot connect to server")},S.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(e.transportName,e.needBody&&(!t.document.body||void 0!==t.document.readyState&&"complete"!==t.document.readyState&&"interactive"!==t.document.readyState))return this._transports.unshift(e),void l.attachEvent("load",this._connect.bind(this));var n=this._rto*e.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),n);var r=u.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),i=this._transportOptions[e.transportName],o=new e(r,this._transUrl,i);return o.on("message",this._transportMessage.bind(this)),o.once("close",this._transportClose.bind(this)),o.transportName=e.transportName,void(this._transport=o)}this._close(2e3,"All transports failed",!1)},S.prototype._transportTimeout=function(){this.readyState===S.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},S.prototype._transportMessage=function(e){var t,n=this,r=e.slice(0,1),i=e.slice(1);switch(r){case"o":return void this._open();case"h":return this.dispatchEvent(new m("heartbeat")),void this.transport}if(i)try{t=s.parse(i)}catch(e){}if(void 0!==t)switch(r){case"a":Array.isArray(t)&&t.forEach((function(e){n.transport,n.dispatchEvent(new g(e))}));break;case"m":this.transport,this.dispatchEvent(new g(t));break;case"c":Array.isArray(t)&&2===t.length&&this._close(t[0],t[1],!0)}},S.prototype._transportClose=function(e,t){this.transport,this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),w(e)||2e3===e||this.readyState!==S.CONNECTING?this._close(e,t):this._connect()},S.prototype._open=function(){this._transport.transportName,this.readyState,this.readyState===S.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=S.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new m("open")),this.transport):this._close(1006,"Server lost session")},S.prototype._close=function(e,t,n){this.transport,this.readyState;var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===S.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=S.CLOSING,setTimeout(function(){this.readyState=S.CLOSED,r&&this.dispatchEvent(new m("error"));var i=new y("close");i.wasClean=n||!1,i.code=e||1e3,i.reason=t,this.dispatchEvent(i),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},S.prototype.countRTO=function(e){return e>100?4*e:300+e},e.exports=function(e){return r=d(e),n(131)(S,e),S}}).call(this,n(3))},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i,o=Array.prototype,s=Object.prototype,a=Function.prototype,c=String.prototype,u=o.slice,l=s.toString,d=function(e){return"[object Function]"===s.toString.call(e)},f=function(e){return"[object String]"===l.call(e)},p=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}();i=p?function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,r){!r&&t in e||(e[t]=n)};var h=function(e,t,n){for(var r in t)s.hasOwnProperty.call(t,r)&&i(e,r,t[r],n)},m=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)};function v(e){var t=+e;return t!=t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function b(){}h(a,{bind:function(e){var t=this;if(!d(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n=u.call(arguments,1),r=function(){if(this instanceof a){var r=t.apply(this,n.concat(u.call(arguments)));return Object(r)===r?r:this}return t.apply(e,n.concat(u.call(arguments)))},i=Math.max(0,t.length-n.length),o=[],s=0;s<i;s++)o.push("$"+s);var a=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this, arguments); }")(r);return t.prototype&&(b.prototype=t.prototype,a.prototype=new b,b.prototype=null),a}}),h(Array,{isArray:function(e){return"[object Array]"===l.call(e)}});var y,g,_,S=Object("a"),w="a"!==S[0]||!(0 in S);h(o,{forEach:function(e){var t=m(this),n=w&&f(this)?this.split(""):t,r=arguments[1],i=-1,o=n.length>>>0;if(!d(e))throw new TypeError;for(;++i<o;)i in n&&e.call(r,n[i],i,t)}},(y=o.forEach,g=!0,_=!0,y&&(y.call("foo",(function(e,t,n){"object"!==r(n)&&(g=!1)})),y.call([1],(function(){_="string"==typeof this}),"x")),!(y&&g&&_)));var x=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);h(o,{indexOf:function(e){var t=w&&f(this)?this.split(""):m(this),n=t.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=v(arguments[1])),r=r>=0?r:Math.max(0,n+r);r<n;r++)if(r in t&&t[r]===e)return r;return-1}},x);var C,O=c.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(C=void 0===/()??/.exec("")[1],c.split=function(e,t){var n=this;if(void 0===e&&0===t)return[];if("[object RegExp]"!==l.call(e))return O.call(this,e,t);var r,i,s,a,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),d=0;for(e=new RegExp(e.source,u+"g"),n+="",C||(r=new RegExp("^"+e.source+"$(?!\\s)",u)),t=void 0===t?-1>>>0:t>>>0;(i=e.exec(n))&&!((s=i.index+i[0].length)>d&&(c.push(n.slice(d,i.index)),!C&&i.length>1&&i[0].replace(r,(function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(i[e]=void 0)})),i.length>1&&i.index<n.length&&o.push.apply(c,i.slice(1)),a=i[0].length,d=s,c.length>=t));)e.lastIndex===i.index&&e.lastIndex++;return d===n.length?!a&&e.test("")||c.push(""):c.push(n.slice(d)),c.length>t?c.slice(0,t):c}):"0".split(void 0,0).length&&(c.split=function(e,t){return void 0===e&&0===t?[]:O.call(this,e,t)});var T=c.substr,E="".substr&&"b"!=="0b".substr(-1);h(c,{substr:function(e,t){return T.call(this,e<0&&(e=this.length+e)<0?0:e,t)}},E)},function(e,t,n){"use strict";var r,i=n(12),o=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;e.exports={quote:function(e){var t=i.stringify(e);return o.lastIndex=0,o.test(t)?(r||(r=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,(function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""})),e.lastIndex=0,n}(o)),t.replace(o,(function(e){return r[e]}))):t}}},function(e,t,n){"use strict";e.exports=function(e){return{filterToEnabled:function(t,n){var r={main:[],facade:[]};return t?"string"==typeof t&&(t=[t]):t=[],e.forEach((function(e){e&&("websocket"===e.transportName&&!1===n.websocket||(t.length&&-1===t.indexOf(e.transportName)?e.transportName:e.enabled(n)?(e.transportName,r.main.push(e),e.facadeTransport&&r.facade.push(e.facadeTransport)):e.transportName))})),r}}}},function(e,t,n){"use strict";(function(t){var n={};["log","debug","warn"].forEach((function(e){var r;try{r=t.console&&t.console[e]&&t.console[e].apply}catch(e){}n[e]=r?function(){return t.console[e].apply(t.console,arguments)}:"log"===e?function(){}:n.log})),e.exports=n}).call(this,n(3))},function(e,t,n){"use strict";var r=n(0),i=n(43);function o(){i.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}r(o,i),e.exports=o},function(e,t,n){"use strict";var r=n(0),i=n(43);function o(e){i.call(this),this.initEvent("message",!1,!1),this.data=e}r(o,i),e.exports=o},function(e,t,n){"use strict";var r=n(5).EventEmitter,i=n(0),o=n(9),s=n(40),a=n(34),c=n(24),u=n(129),l=n(130),d=n(78);function f(e,t){var n=this;r.call(this),setTimeout((function(){n.doXhr(e,t)}),0)}i(f,r),f._getReceiver=function(e,t,n){return n.sameOrigin?new d(t,c):a.enabled?new d(t,a):s.enabled&&n.sameScheme?new d(t,s):l.enabled()?new l(e,t):new d(t,u)},f.prototype.doXhr=function(e,t){var n=this,r=o.addPath(e,"/info");this.xo=f._getReceiver(e,r,t),this.timeoutRef=setTimeout((function(){n._cleanup(!1),n.emit("finish")}),f.timeout),this.xo.once("finish",(function(e,t){n._cleanup(!0),n.emit("finish",e,t)}))},f.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null},f.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},f.timeout=8e3,e.exports=f},function(e,t,n){"use strict";var r=n(5).EventEmitter;function i(){var e=this;r.call(this),this.to=setTimeout((function(){e.emit("finish",200,"{}")}),i.timeout)}n(0)(i,r),i.prototype.close=function(){clearTimeout(this.to)},i.timeout=2e3,e.exports=i},function(e,t,n){"use strict";(function(t){var r=n(5).EventEmitter,i=n(0),o=n(12),s=n(14),a=n(72),c=n(77);function u(e,n){var i=this;r.call(this);var u=function(){var t=i.ifr=new a(c.transportName,n,e);t.once("message",(function(e){if(e){var t;try{t=o.parse(e)}catch(e){return i.emit("finish"),void i.close()}var n=t[0],r=t[1];i.emit("finish",n,r)}i.close()})),t.once("close",(function(){i.emit("finish"),i.close()}))};t.document.body?u():s.attachEvent("load",u)}i(u,r),u.enabled=function(){return a.enabled()},u.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},e.exports=u}).call(this,n(3))},function(e,t,n){"use strict";var r=n(9),i=n(14),o=n(12),s=n(132),a=n(77),c=n(26),u=n(76);e.exports=function(e,t){var n,l={};t.forEach((function(e){e.facadeTransport&&(l[e.facadeTransport.transportName]=e.facadeTransport)})),l[a.transportName]=a,e.bootstrap_iframe=function(){var t;c.currentWindowId=u.hash.slice(1),i.attachEvent("message",(function(i){if(i.source===parent&&(void 0===n&&(n=i.origin),i.origin===n)){var a;try{a=o.parse(i.data)}catch(e){return void i.data}if(a.windowId===c.currentWindowId)switch(a.type){case"s":var d;try{d=o.parse(a.data)}catch(e){a.data;break}var f=d[0],p=d[1],h=d[2],m=d[3];if(f!==e.version)throw new Error('Incompatible SockJS! Main site uses: "'+f+'", the iframe: "'+e.version+'".');if(!r.isOriginEqual(h,u.href)||!r.isOriginEqual(m,u.href))throw new Error("Can't connect to different domain from within an iframe. ("+u.href+", "+h+", "+m+")");t=new s(new l[p](h,m));break;case"m":t._send(a.data);break;case"c":t&&t._close(),t=null}}})),c.postMessage("s")}}},function(e,t,n){"use strict";var r=n(12),i=n(26);function o(e){this._transport=e,e.on("message",this._transportMessage.bind(this)),e.on("close",this._transportClose.bind(this))}o.prototype._transportClose=function(e,t){i.postMessage("c",r.stringify([e,t]))},o.prototype._transportMessage=function(e){i.postMessage("t",e)},o.prototype._send=function(e){this._transport.send(e)},o.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},e.exports=o},function(e,t,n){"use strict";e.exports=n(134)},function(e,t,n){"use strict";var r=e.exports=n(135);r.build="full",r.tokenize=n(88),r.parse=n(149),r.common=n(150),r.Root._configure(r.Type,r.parse,r.common)},function(e,t,n){"use strict";var r=e.exports=n(136);r.build="light",r.load=function(e,t,n){return"function"==typeof t?(n=t,t=new r.Root):t||(t=new r.Root),t.load(e,n)},r.loadSync=function(e,t){return t||(t=new r.Root),t.loadSync(e)},r.encoder=n(83),r.decoder=n(84),r.verifier=n(85),r.converter=n(86),r.ReflectionObject=n(19),r.Namespace=n(27),r.Root=n(51),r.Enum=n(11),r.Type=n(46),r.Field=n(16),r.OneOf=n(36),r.MapField=n(47),r.Service=n(48),r.Method=n(49),r.Message=n(50),r.wrappers=n(87),r.types=n(20),r.util=n(4),r.ReflectionObject._configure(r.Root),r.Namespace._configure(r.Type,r.Service,r.Enum),r.Root._configure(r.Type),r.Field._configure(r.Type)},function(e,t,n){"use strict";var r=t;function i(){r.Reader._configure(r.BufferReader),r.util._configure()}r.build="minimal",r.Writer=n(44),r.BufferWriter=n(143),r.Reader=n(45),r.BufferReader=n(144),r.util=n(13),r.rpc=n(81),r.roots=n(82),r.configure=i,r.Writer._configure(r.BufferWriter),i()},function(e,t,n){"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var i=new Array(64),o=new Array(123),s=0;s<64;)o[i[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;r.encode=function(e,t,n){for(var r,o=null,s=[],a=0,c=0;t<n;){var u=e[t++];switch(c){case 0:s[a++]=i[u>>2],r=(3&u)<<4,c=1;break;case 1:s[a++]=i[r|u>>4],r=(15&u)<<2,c=2;break;case 2:s[a++]=i[r|u>>6],s[a++]=i[63&u],c=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return c&&(s[a++]=i[r],s[a++]=61,1===c&&(s[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))},r.decode=function(e,t,n){for(var r,i=n,s=0,a=0;a<e.length;){var c=e.charCodeAt(a++);if(61===c&&s>1)break;if(void 0===(c=o[c]))throw Error("invalid encoding");switch(s){case 0:r=c,s=1;break;case 1:t[n++]=r<<2|(48&c)>>4,r=c,s=2;break;case 2:t[n++]=(15&r)<<4|(60&c)>>2,r=c,s=3;break;case 3:t[n++]=(3&r)<<6|c,s=0}}if(1===s)throw Error("invalid encoding");return n-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,t,n){"use strict";function r(){this._listeners={}}e.exports=r,r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},function(e,t,n){"use strict";function r(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function o(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function s(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function a(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:o,e.writeFloatBE=r?o:i,e.readFloatLE=r?s:a,e.readFloatBE=r?a:s}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,n,r)}}function n(e,t,n){var r=e(t,n),i=2*(r>>31)+1,o=r>>>23&255,s=8388607&r;return 255===o?s?NaN:i*(1/0):0===o?1401298464324817e-60*i*s:i*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,o),e.readFloatLE=n.bind(null,s),e.readFloatBE=n.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function o(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function s(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function a(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:o,e.writeDoubleBE=r?o:i,e.readDoubleLE=r?s:a,e.readDoubleBE=r?a:s}():function(){function t(e,t,n,r,i,o){var s=r<0?1:0;if(s&&(r=-r),0===r)e(0,i,o+t),e(1/r>0?0:2147483648,i,o+n);else if(isNaN(r))e(0,i,o+t),e(2146959360,i,o+n);else if(r>17976931348623157e292)e(0,i,o+t),e((s<<31|2146435072)>>>0,i,o+n);else{var a;if(r<22250738585072014e-324)e((a=r/5e-324)>>>0,i,o+t),e((s<<31|a/4294967296)>>>0,i,o+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=r*Math.pow(2,-c))>>>0,i,o+t),e((s<<31|c+1023<<20|1048576*a&1048575)>>>0,i,o+n)}}}function n(e,t,n,r,i){var o=e(r,i+t),s=e(r,i+n),a=2*(s>>31)+1,c=s>>>20&2047,u=4294967296*(1048575&s)+o;return 2047===c?u?NaN:a*(1/0):0===c?5e-324*a*u:a*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=n.bind(null,s,0,4),e.readDoubleBE=n.bind(null,a,4,0)}(),e}function i(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function o(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function s(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=r(r)},function(e,t,n){"use strict";var r=t;r.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,o=[],s=0;t<n;)(r=e[t++])<128?o[s++]=r:r>191&&r<224?o[s++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(r>>10),o[s++]=56320+(1023&r)):o[s++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))},r.write=function(e,t,n){for(var r,i,o=n,s=0;s<e.length;++s)(r=e.charCodeAt(s))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(s+1)))?(r=65536+((1023&r)<<10)+(1023&i),++s,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-o}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=n||8192,i=r>>>1,o=null,s=r;return function(n){if(n<1||n>i)return e(n);s+n>r&&(o=e(r),s=0);var a=t.call(o,s,s+=n);return 7&s&&(s=1+(7|s)),a}}},function(e,t,n){"use strict";e.exports=i;var r=n(13);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;i.fromHash=function(e){return e===s?o:new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},function(e,t,n){"use strict";e.exports=s;var r=n(44);(s.prototype=Object.create(r.prototype)).constructor=s;var i=n(13),o=i.Buffer;function s(){r.call(this)}s.alloc=function(e){return(s.alloc=i._Buffer_allocUnsafe)(e)};var a=o&&o.prototype instanceof Uint8Array&&"set"===o.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]};function c(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write(e,n)}s.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(a,t,e),this},s.prototype.string=function(e){var t=o.byteLength(e);return this.uint32(t),t&&this._push(c,t,e),this}},function(e,t,n){"use strict";e.exports=o;var r=n(45);(o.prototype=Object.create(r.prototype)).constructor=o;var i=n(13);function o(e){r.call(this,e)}i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice),o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))}},function(e,t,n){"use strict";e.exports=i;var r=n(13);function i(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return r.asPromise(e,a,t,n,i,o);if(a.rpcImpl)try{return a.rpcImpl(t,n[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,n){if(e)return a.emit("error",e,t),s(e);if(null!==n){if(!(n instanceof i))try{n=i[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",n,t),s(null,n)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){s(e)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,n){"use strict";function r(e,t){"string"==typeof e&&(t=e,e=void 0);var n=[];function i(e){if("string"!=typeof e){var t=o();if(r.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var s=Object.keys(e),a=new Array(s.length+1),c=new Array(s.length),u=0;u<s.length;)a[u]=s[u],c[u]=e[s[u++]];return a[u]=t,Function.apply(null,a).apply(null,c)}return Function(t)()}for(var l=new Array(arguments.length-1),d=0;d<l.length;)l[d]=arguments[++d];if(d=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var n=l[d++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"})),d!==l.length)throw Error("parameter count mismatch");return n.push(e),i}function o(r){return"function "+(r||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return i.toString=o,i}e.exports=r,r.verbose=!1},function(e,t,n){"use strict";e.exports=o;var r=n(79),i=n(80)("fs");function o(e,t,n){return"function"==typeof t?(n=t,t={}):t||(t={}),n?!t.xhr&&i&&i.readFile?i.readFile(e,(function(r,i){return r&&"undefined"!=typeof XMLHttpRequest?o.xhr(e,t,n):r?n(r):n(null,t.binary?i:i.toString("utf8"))})):o.xhr(e,t,n):r(o,this,e,t)}o.xhr=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState){if(0!==r.status&&200!==r.status)return n(Error("status "+r.status));if(t.binary){var e=r.response;if(!e){e=[];for(var i=0;i<r.responseText.length;++i)e.push(255&r.responseText.charCodeAt(i))}return n(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return n(null,r.responseText)}},t.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",e),r.send()}},function(e,t,n){"use strict";var r=t,i=r.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},o=r.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=i(e),r="";n&&(r=t.shift()+"/");for(var o=0;o<t.length;)".."===t[o]?o>0&&".."!==t[o-1]?t.splice(--o,2):n?t.splice(o,1):++o:"."===t[o]?t.splice(o,1):++o;return r+t.join("/")};r.resolve=function(e,t,n){return n||(t=o(t)),i(t)?t:(n||(e=o(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?o(e+"/"+t):t)}},function(e,t,n){"use strict";e.exports=C,C.filename=null,C.defaults={keepCase:!1};var r=n(88),i=n(51),o=n(46),s=n(16),a=n(47),c=n(36),u=n(11),l=n(48),d=n(49),f=n(20),p=n(4),h=/^[1-9][0-9]*$/,m=/^-?[1-9][0-9]*$/,v=/^0[x][0-9a-fA-F]+$/,b=/^-?0[x][0-9a-fA-F]+$/,y=/^0[0-7]+$/,g=/^-?0[0-7]+$/,_=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,S=/^[a-zA-Z_][a-zA-Z_0-9]*$/,w=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,x=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function C(e,t,n){t instanceof i||(n=t,t=new i),n||(n=C.defaults);var O,T,E,I,k,R=r(e,n.alternateCommentMode||!1),P=R.next,M=R.push,A=R.peek,j=R.skip,N=R.cmnt,D=!0,B=!1,L=t,F=n.keepCase?function(e){return e}:p.camelCase;function V(e,t,n){var r=C.filename;return n||(C.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(r?r+", ":"")+"line "+R.line+")")}function U(){var e,t=[];do{if('"'!==(e=P())&&"'"!==e)throw V(e);t.push(P()),j(e),e=A()}while('"'===e||"'"===e);return t.join("")}function $(e){var t=P();switch(t){case"'":case'"':return M(t),U();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e,t){var n=1;switch("-"===e.charAt(0)&&(n=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return n*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(h.test(e))return n*parseInt(e,10);if(v.test(e))return n*parseInt(e,16);if(y.test(e))return n*parseInt(e,8);if(_.test(e))return n*parseFloat(e);throw V(e,"number",t)}(t,!0)}catch(n){if(e&&w.test(t))return t;throw V(t,"value")}}function W(e,t){var n,r;do{!t||'"'!==(n=A())&&"'"!==n?e.push([r=z(P()),j("to",!0)?z(P()):r]):e.push(U())}while(j(",",!0));j(";")}function z(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw V(e,"id");if(m.test(e))return parseInt(e,10);if(b.test(e))return parseInt(e,16);if(g.test(e))return parseInt(e,8);throw V(e,"id")}function H(){if(void 0!==O)throw V("package");if(O=P(),!w.test(O))throw V(O,"name");L=L.define(O),j(";")}function G(){var e,t=A();switch(t){case"weak":e=E||(E=[]),P();break;case"public":P();default:e=T||(T=[])}t=U(),j(";"),e.push(t)}function q(){if(j("="),I=U(),!(B="proto3"===I)&&"proto2"!==I)throw V(I,"syntax");j(";")}function K(e,t){switch(t){case"option":return X(e,t),j(";"),!0;case"message":return function(e,t){if(!S.test(t=P()))throw V(t,"type name");var n=new o(t);Y(n,(function(e){if(!K(n,e))switch(e){case"map":!function(e){j("<");var t=P();if(void 0===f.mapKey[t])throw V(t,"type");j(",");var n=P();if(!w.test(n))throw V(n,"type");j(">");var r=P();if(!S.test(r))throw V(r,"name");j("=");var i=new a(F(r),z(P()),t,n);Y(i,(function(e){if("option"!==e)throw V(e);X(i,e),j(";")}),(function(){ee(i)})),e.add(i)}(n);break;case"required":case"optional":case"repeated":J(n,e);break;case"oneof":!function(e,t){if(!S.test(t=P()))throw V(t,"name");var n=new c(F(t));Y(n,(function(e){"option"===e?(X(n,e),j(";")):(M(e),J(n,"optional"))})),e.add(n)}(n,e);break;case"extensions":W(n.extensions||(n.extensions=[]));break;case"reserved":W(n.reserved||(n.reserved=[]),!0);break;default:if(!B||!w.test(e))throw V(e);M(e),J(n,"optional")}})),e.add(n)}(e,t),!0;case"enum":return function(e,t){if(!S.test(t=P()))throw V(t,"name");var n=new u(t);Y(n,(function(e){switch(e){case"option":X(n,e),j(";");break;case"reserved":W(n.reserved||(n.reserved=[]),!0);break;default:!function(e,t){if(!S.test(t))throw V(t,"name");j("=");var n=z(P(),!0),r={};Y(r,(function(e){if("option"!==e)throw V(e);X(r,e),j(";")}),(function(){ee(r)})),e.add(t,n,r.comment)}(n,e)}})),e.add(n)}(e,t),!0;case"service":return function(e,t){if(!S.test(t=P()))throw V(t,"service name");var n=new l(t);Y(n,(function(e){if(!K(n,e)){if("rpc"!==e)throw V(e);!function(e,t){var n=t;if(!S.test(t=P()))throw V(t,"name");var r,i,o,s,a=t;if(j("("),j("stream",!0)&&(i=!0),!w.test(t=P()))throw V(t);if(r=t,j(")"),j("returns"),j("("),j("stream",!0)&&(s=!0),!w.test(t=P()))throw V(t);o=t,j(")");var c=new d(a,n,r,o,i,s);Y(c,(function(e){if("option"!==e)throw V(e);X(c,e),j(";")})),e.add(c)}(n,e)}})),e.add(n)}(e,t),!0;case"extend":return function(e,t){if(!w.test(t=P()))throw V(t,"reference");var n=t;Y(null,(function(t){switch(t){case"required":case"repeated":case"optional":J(e,t,n);break;default:if(!B||!w.test(t))throw V(t);M(t),J(e,"optional",n)}}))}(e,t),!0}return!1}function Y(e,t,n){var r=R.line;if(e&&(e.comment=N(),e.filename=C.filename),j("{",!0)){for(var i;"}"!==(i=P());)t(i);j(";",!0)}else n&&n(),j(";"),e&&"string"!=typeof e.comment&&(e.comment=N(r))}function J(e,t,n){var r=P();if("group"!==r){if(!w.test(r))throw V(r,"type");var i=P();if(!S.test(i))throw V(i,"name");i=F(i),j("=");var a=new s(i,z(P()),r,t,n);Y(a,(function(e){if("option"!==e)throw V(e);X(a,e),j(";")}),(function(){ee(a)})),e.add(a),B||!a.repeated||void 0===f.packed[r]&&void 0!==f.basic[r]||a.setOption("packed",!1,!0)}else!function(e,t){var n=P();if(!S.test(n))throw V(n,"name");var r=p.lcFirst(n);n===r&&(n=p.ucFirst(n)),j("=");var i=z(P()),a=new o(n);a.group=!0;var c=new s(r,i,n,t);c.filename=C.filename,Y(a,(function(e){switch(e){case"option":X(a,e),j(";");break;case"required":case"optional":case"repeated":J(a,e);break;default:throw V(e)}})),e.add(a).add(c)}(e,t)}function X(e,t){var n=j("(",!0);if(!w.test(t=P()))throw V(t,"name");var r=t;n&&(j(")"),r="("+r+")",t=A(),x.test(t)&&(r+=t,P())),j("="),Z(e,r)}function Z(e,t){if(j("{",!0))do{if(!S.test(k=P()))throw V(k,"name");"{"===A()?Z(e,t+"."+k):(j(":"),"{"===A()?Z(e,t+"."+k):Q(e,t+"."+k,$(!0))),j(",",!0)}while(!j("}",!0));else Q(e,t,$(!0))}function Q(e,t,n){e.setOption&&e.setOption(t,n)}function ee(e){if(j("[",!0)){do{X(e,"option")}while(j(",",!0));j("]")}return e}for(;null!==(k=P());)switch(k){case"package":if(!D)throw V(k);H();break;case"import":if(!D)throw V(k);G();break;case"syntax":if(!D)throw V(k);q();break;case"option":if(!D)throw V(k);X(L,k),j(";");break;default:if(K(L,k)){D=!1;continue}throw V(k)}return C.filename=null,{package:O,imports:T,weakImports:E,syntax:I,root:t}}},function(e,t,n){"use strict";e.exports=o;var r,i=/\/|\./;function o(e,t){i.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),o[e]=t}o("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),o("duration",{Duration:r={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),o("timestamp",{Timestamp:r}),o("empty",{Empty:{fields:{}}}),o("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),o("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),o("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),o.get=function(e){return o[e]||null}},function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o,s,a,c=r(n(6)),u=r(n(7)),l=function(){},d=(0,u.default)(),f=function(e){e=e||!0;var t=function(){try{return new window.XMLHttpRequest}catch(e){return!1}}()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){return!1}}();if("withCredentials"in t)return t;if(!e)return t;if(void 0===window.XDomainRequest)return t;var n=new XDomainRequest;return n.readyState=0,n.status=100,n.onreadystatechange=l,n.onload=function(){n.readyState=4,n.status=200;var e=new ActiveXObject("Microsoft.XMLDOM");e.async="false",e.loadXML(n.responseText),n.responseXML=e,n.response=n.responseText,n.onreadystatechange()},n.ontimeout=n.onerror=function(){n.readyState=4,n.status=500,n.onreadystatechange()},n},p=function(){if("ActiveXObject"in window)try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){return 0}else if(navigator.plugins&&navigator.plugins.length>0)return navigator.plugins["Shockwave Flash"];return 0}(),h=f(),m="undefined"!=typeof FormData,v="undefined"!=typeof Blob,b=h.setRequestHeader||!1,y=h.overrideMimeType||!1,g=b&&m,_=g||p,S=b&&(v||y);Object.keys||(Object.keys=(i=Object.prototype.hasOwnProperty,o=!{toString:null}.propertyIsEnumerable("toString"),a=(s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!==(0,c.default)(e)&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t,n,r=[];for(t in e)i.call(e,t)&&r.push(t);if(o)for(n=0;n<a;n++)i.call(e,s[n])&&r.push(s[n]);return r}));var w,x,C={hasFormData:m,hasBlob:v,emptyfn:l,isCanSetRequestHeader:b,hasOverrideMimeType:y,isCanUploadFileAsync:g,isCanUploadFile:_,isCanDownLoadFile:S,isSupportWss:function(){var e=[/MQQBrowser[\/]5([.]\d+)?\sTBS/];if(!window.WebSocket)return!1;for(var t=window.navigator.userAgent,n=0,r=e.length;n<r;n++)if(e[n].test(t))return!1;return!0}(),getIEVersion:(x=navigator.userAgent,(w=x.match(/MSIE (\d+)/i))&&w[1]?+w[1]:(w=x.match(/Trident\/(\d+)/i))&&w[1]&&{4:8,5:9,6:10,7:11}[w[1]]||null),stringify:function(e){if("undefined"!=typeof JSON&&JSON.stringify)return JSON.stringify(e);var t="",n=[];return function e(r){var i=!1;for(var o in"[object Array]"===Object.prototype.toString.call(r)?(n.push("]","["),i=!0):"[object Object]"===Object.prototype.toString.call(r)&&n.push("}","{"),r)"[object Null]"===Object.prototype.toString.call(r[o])?r[o]="null":"[object Undefined]"===Object.prototype.toString.call(r[o])&&(r[o]="undefined"),r[o]&&"object"===(0,c.default)(r[o])?t+=","+(i?"":'"'+o+'":'+(i?'"':""))+e(r[o]):t+=',"'+(i?"":o+'":"')+r[o]+'"';return""!=t&&(t=t.slice(1)),n.pop()+t+n.pop()}(e)},login:function(e){var t=(e=e||{}).success||l,n=e.error||l,r=(e.appKey||"").split("#");if(2!==r.length)return n({type:d.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR}),!1;var i=r[0],o=r[1],s=s||e.https,a=e.user||"",c=e.pwd||"",u=e.apiUrl,f={grant_type:"password",username:a,password:c,timestamp:+new Date};return e={url:u+"/"+i+"/"+o+"/token",dataType:"json",data:C.stringify(f),success:t,error:n},C.ajax(e)},getFileUrl:function(e){var t={url:"",filename:"",filetype:"",data:""},n="string"==typeof e?document.getElementById(e):e;if(!C.isCanUploadFileAsync||!n)return t;try{if(window.URL.createObjectURL){var r=n.files;if(r.length>0){var i=r.item(0);t.data=i,t.url=window.URL.createObjectURL(i),t.filename=i.name||""}}else{i=document.getElementById(e).value,t.url=i;var o=i.lastIndexOf("/"),s=i.lastIndexOf("\\"),a=Math.max(o,s);t.filename=a<0?i:i.substring(a+1)}var c=t.filename.lastIndexOf(".");return-1!=c&&(t.filetype=t.filename.substring(c+1).toLowerCase()),t}catch(e){throw e}},getFileSize:function(e){var t=this.getFileLength(e);if(t>1e7)return!1;var n=Math.round(t/1e3);if(n<1e3)t=n+" KB";else if(n>=1e3){var r=n/1e3;t=r<1e3?r.toFixed(1)+" MB":(r/1e3).toFixed(1)+" GB"}return t},getFileLength:function(e){var t=0;return e&&(e.files?e.files.length>0&&(t=e.files[0].size):e.select&&"ActiveXObject"in window&&(e.select(),t=(e=new ActiveXObject("Scripting.FileSystemObject").GetFile(e.value)).Size)),t},hasFlash:p,trim:function(e){return(e="string"==typeof e?e:"").trim?e.trim():e.replace(/^\s|\s$/g,"")},parseEmoji:function(e){if(void 0===WebIM.Emoji||void 0===WebIM.Emoji.map)return e;var t=WebIM.Emoji;for(var n in t.map)if(t.map.hasOwnProperty(n))for(;e.indexOf(n)>-1;)e=e.replace(n,'<img class="emoji" src="'+t.path+t.map[n]+'" />');return e},parseLink:function(e){return e.replace(/(https?\:\/\/|www\.)([a-zA-Z0-9-]+(\.[a-zA-Z0-9]+)+)(\:[0-9]{2,4})?\/?((\.[:_0-9a-zA-Z-]+)|[:_0-9a-zA-Z-]*\/?)*\??[:_#@*&%0-9a-zA-Z-/=]*/gm,(function(e){return"<a href='"+(/^https?/gm.test(e)?e:"//"+e)+"' target='_blank'>"+e+"</a>"}))},parseJSON:function(e){if(window.JSON&&window.JSON.parse)return window.JSON.parse(e+"");var t,n=null,r=C.trim(e+"");return r&&!C.trim(r.replace(/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g,(function(e,r,i,o){return t&&r&&(n=0),0===n?e:(t=i||r,n+=!o-!i,"")})))?Function("return "+r)():Function("Invalid JSON: "+e)()},parseUploadResponse:function(e){return e.indexOf("callback")>-1?e.slice(9,-1):e},parseDownloadResponse:function(e){return e&&e.type&&"application/json"===e.type||0>Object.prototype.toString.call(e).indexOf("Blob")?this.url+"?token=":window.URL.createObjectURL(e)},uploadFile:function(e){(e=e||{}).onFileUploadProgress=e.onFileUploadProgress||l,e.onFileUploadComplete=e.onFileUploadComplete||l,e.onFileUploadError=e.onFileUploadError||l,e.onFileUploadCanceled=e.onFileUploadCanceled||l;var t=e.accessToken||this.context.accessToken;if(t){var n,r,i,o=e.appKey||this.context.appKey||"";if(o&&(n=(i=o.split("#"))[0],r=i[1]),n||r){var s=e.apiUrl;this.isHttpDNS&&(s=this.apiUrl);var a=e.uploadUrl||s+"/"+n+"/"+r+"/chatfiles";if(C.isCanUploadFileAsync)if((e.file.data?e.file.data.size:void 0)<=0)e.onFileUploadError({type:d.WEBIM_UPLOADFILE_ERROR,id:e.id});else{var c=C.xmlrequest();c.upload&&c.upload.addEventListener("progress",e.onFileUploadProgress,!1),c.addEventListener?(c.addEventListener("abort",e.onFileUploadCanceled,!1),c.addEventListener("load",(function(t){try{var n=C.parseJSON(c.responseText);if(400===c.status&&"content improper"===n.error)return e.onFileUploadError({type:d.WEBIM_UPLOADFILE_ERROR,data:n}),!1;try{e.onFileUploadComplete(n)}catch(t){e.onFileUploadError({type:d.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,data:t})}}catch(t){e.onFileUploadError({type:d.WEBIM_UPLOADFILE_ERROR,data:c.responseText,id:e.id,xhr:c})}}),!1),c.addEventListener("error",(function(t){e.onFileUploadError({type:d.WEBIM_UPLOADFILE_ERROR,id:e.id,xhr:c})}),!1)):c.onreadystatechange&&(c.onreadystatechange=function(){if(4===c.readyState)if(200===ajax.status)try{var t=C.parseJSON(c.responseText);if(400===c.status&&"content improper"===t.error)return e.onFileUploadError({type:d.WEBIM_UPLOADFILE_ERROR,data:t}),!1;e.onFileUploadComplete(t)}catch(t){e.onFileUploadError({type:d.WEBIM_UPLOADFILE_ERROR,data:c.responseText,id:e.id,xhr:c})}else e.onFileUploadError({type:d.WEBIM_UPLOADFILE_ERROR,data:c.responseText,id:e.id,xhr:c});else c.abort(),e.onFileUploadCanceled()}),c.open("POST",a),c.setRequestHeader("restrict-access","true"),c.setRequestHeader("Accept","*/*"),c.setRequestHeader("Authorization","Bearer "+t);var u=new FormData;u.append("file",e.file.data),window.XDomainRequest&&(c.readyState=2),c.send(u)}else C.hasFlash&&"function"==typeof e.flashUpload?e.flashUpload&&e.flashUpload(a,e):e.onFileUploadError({type:d.WEBIM_UPLOADFILE_BROWSER_ERROR,id:e.id})}else e.onFileUploadError({type:d.WEBIM_UPLOADFILE_ERROR,id:e.id})}else e.onFileUploadError({type:d.WEBIM_UPLOADFILE_NO_LOGIN,id:e.id})},download:function(e){e.onFileDownloadComplete=e.onFileDownloadComplete||l,e.onFileDownloadError=e.onFileDownloadError||l;var t=e.accessToken||this.context.accessToken;if(t)if(C.isCanDownLoadFile){var n=C.xmlrequest();"addEventListener"in n?(n.addEventListener("load",(function(t){e.onFileDownloadComplete(n.response,n)}),!1),n.addEventListener("error",(function(t){e.onFileDownloadError({type:d.WEBIM_DOWNLOADFILE_ERROR,id:e.id,xhr:n})}),!1)):"onreadystatechange"in n&&(n.onreadystatechange=function(){4===n.readyState?200===ajax.status?e.onFileDownloadComplete(n.response,n):e.onFileDownloadError({type:d.WEBIM_DOWNLOADFILE_ERROR,id:e.id,xhr:n}):(n.abort(),e.onFileDownloadError({type:d.WEBIM_DOWNLOADFILE_ERROR,id:e.id,xhr:n}))});var r=e.method||"GET",i=e.responseType||"blob",o=e.mimeType||"text/plain; charset=x-user-defined";n.open(r,e.url),"undefined"!=typeof Blob?n.responseType=i:n.overrideMimeType(o);var s={"X-Requested-With":"XMLHttpRequest",Accept:"application/octet-stream","share-secret":e.secret,Authorization:"Bearer "+t},a=e.headers||{};for(var c in a)s[c]=a[c];for(var c in s)s[c]&&n.setRequestHeader(c,s[c]);window.XDomainRequest&&(n.readyState=2),n.send(null)}else e.onFileDownloadComplete();else e.onFileDownloadError({type:d.WEBIM_DOWNLOADFILE_NO_LOGIN,id:e.id})},parseTextMessage:function(e,t){if("string"==typeof e){if("[object Object]"!==Object.prototype.toString.call(t))return{isemoji:!1,body:[{type:"txt",data:e}]};var n=e,r=[],i=n.match(/\[[^[\]]{2,3}\]/gm);if(!i||i.length<1)return{isemoji:!1,body:[{type:"txt",data:e}]};for(var o=!1,s=0;s<i.length;s++){var a=n.substring(0,n.indexOf(i[s])),c=WebIM.Emoji.map[i[s]];if(a&&r.push({type:"txt",data:a}),c){var u=WebIM.Emoji.map?WebIM.Emoji.path+c:null;u?(o=!0,r.push({type:"emoji",data:u})):r.push({type:"txt",data:i[s]});var l=n.indexOf(i[s])+i[s].length;n=n.substring(l)}else r.push({type:"txt",data:i[s]})}return n&&r.push({type:"txt",data:n}),o?{isemoji:o,body:r}:{isemoji:!1,body:[{type:"txt",data:e}]}}},parseUri:function(){var e={};if(window.location.search){var t=window.location.search.match(/([^\?|&])\w+=([^&]+)/g);for(var n in t){var r=t[n],i=r.indexOf("="),o=r.substr(0,i),s=r.substr(i+1);e[o]=s}}return e},parseHrefHash:function(){var e={};if(window.location.hash){var t=window.location.hash.match(/([^\#|&])\w+=([^&]+)/g);for(var n in t){var r=t[n],i=r.indexOf("="),o=r.substr(0,i),s=r.substr(i+1);e[o]=s}}return e},xmlrequest:f,getXmlFirstChild:function(e,t){var n=e.getElementsByTagName(t);return 0==n.length?null:n[0]},wxRequest:function(e){var t=e.success||l,n=e.error||l,r=e.type||"POST",i=e.data||null,o="";if("get"===r.toLowerCase()&&i){for(var s in i)i.hasOwnProperty(s)&&(o+=s+"="+i[s]+"&");o=o?o.slice(0,-1):o,e.url+=(e.url.indexOf("?")>0?"&":"?")+(o?o+"&":o)+"_v="+(new Date).getTime(),i=null,o=null}console.log("wx.request",e.url),wx.request({url:e.url,data:e.data,header:e.headers,method:r,success:function(e){console.log("wx.request.success",arguments),"200"==e.statusCode?t(e.data):n(e)},complete:function(){console.log("wx.request.complete",arguments)},fail:function(){console.log("wx.request.fail",arguments)}})},ajax:function(e){var t=e.dataType||"text",n=e.success||l,r=e.error||l,i=C.xmlrequest();i.onreadystatechange=function(){if(4!==i.readyState)0===i.readyState&&r({type:d.WEBIM_CONNCTION_AJAX_ERROR,data:i.responseText});else{if(200===(i.status||0)){try{switch(t){case"text":return void n(i.responseText);case"json":var e=C.parseJSON(i.responseText);return void n(e,i);case"xml":return void(i.responseXML&&i.responseXML.documentElement?n(i.responseXML.documentElement,i):r({type:d.WEBIM_CONNCTION_AJAX_ERROR,data:i.responseText}))}n(i.response||i.responseText,i)}catch(e){}return}r({type:d.WEBIM_CONNCTION_AJAX_ERROR,data:i.responseText})}},e.responseType&&i.responseType&&(i.responseType=e.responseType),e.mimeType&&C.hasOverrideMimeType&&i.overrideMimeType(e.mimeType);var o=e.type||"POST",s=e.data||null,a="";if("get"===o.toLowerCase()&&s){for(var c in s)s.hasOwnProperty(c)&&(a+=c+"="+s[c]+"&");a=a?a.slice(0,-1):a,e.url+=(e.url.indexOf("?")>0?"&":"?")+(a?a+"&":a)+"_v="+(new Date).getTime(),s=null,a=null}if(i.open(o,e.url,C.isCanSetRequestHeader),C.isCanSetRequestHeader){var u=e.headers||{};for(var f in u)u.hasOwnProperty(f)&&i.setRequestHeader(f,u[f])}return window.XDomainRequest&&(i.readyState=2),i.send(s),i},ts:function(){var e=new Date,t=e.getHours(),n=e.getMinutes(),r=e.getSeconds();return(t<10?"0"+t:t)+":"+(n<10?"0"+n:n)+":"+(r<10?"0"+r:r)+":"+e.getMilliseconds()+" "},getObjectKey:function(e,t){for(var n in e)if(e[n]==t)return n;return""},sprintf:function(){var e,t,n=arguments,r=n[0]||"";for(e=1,t=n.length;e<t;e++)r=r.replace(/%s/,n[e]);return r},setCookie:function(e,t,n){var r=e+"="+encodeURIComponent(t);"number"==typeof n&&(r+="; max-age: "+60*n*60*24),document.cookie=r},getCookie:function(){var e={},t=document.cookie;if(""===t)return e;for(var n=t.split("; "),r=0;r<n.length;r++){var i=n[r],o=i.indexOf("="),s=i.substring(0,o),a=i.substring(o+1);a=decodeURIComponent(a),e[s]=a}return e},reverse:function(e){var t=[];if(Array.prototype.reverse)t=e.reverse();else for(var n=0;n<e.length;n++)t.unshift(e[n]);return t},useWxProgram:function(){C.ajax=C.wxRequest},getEnv:function(){var e=!0;try{e=!window||!navigator}catch(t){e=!0}return e},checkArray:function(e,t){var n="off";if(e.forEach((function(e,r){if(e.name===t.name)return n="on",r})),"off"==n)return!1},_listenNetwork:function(e,t){window.addEventListener?(window.addEventListener("online",e),window.addEventListener("offline",t)):window.attachEvent&&(document.body?(document.body.attachEvent("ononline",e),document.body.attachEvent("onoffline",t)):window.attachEvent("load",(function(){document.body.attachEvent("ononline",e),document.body.attachEvent("onoffline",t)})))}},O=C;t.default=O}])}))},1575:function(module,exports,__webpack_require__){(function(e,t){module.exports=t()})(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=111)}([,,function(e,t,n){e.exports={default:n(3),__esModule:!0}},function(e,t,n){var r=n(4),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t){var n=e.exports={version:"2.6.10"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r;(function(i,o){r=function(){return o(i)}.call(t,n,t,e),void 0===r||(e.exports=r)})(this,(function(){var t=function(){var e,t,n,r,i,o,s=[],a=s.concat,c=s.filter,u=s.slice,l=window.document,d={},f={},p={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},h=/^\s*<(\w+|!)[^>]*>/,m=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,b=/^(?:body|html)$/i,y=/([A-Z])/g,g=["val","css","html","text","data","width","height","offset"],_=["after","prepend","before","append"],S=l.createElement("table"),w=l.createElement("tr"),x={tr:l.createElement("tbody"),tbody:S,thead:S,tfoot:S,td:w,th:w,"*":l.createElement("div")},C=/complete|loaded|interactive/,O=/^[\w-]*$/,T={},E=T.toString,I={},k=l.createElement("div"),R={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},P=Array.isArray||function(e){return e instanceof Array};function M(e){return null==e?String(e):T[E.call(e)]||"object"}function A(e){return"function"==M(e)}function j(e){return null!=e&&e==e.window}function N(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function D(e){return"object"==M(e)}function B(e){return D(e)&&!j(e)&&Object.getPrototypeOf(e)==Object.prototype}function L(e){var t=!!e&&"length"in e&&e.length,r=n.type(e);return"function"!=r&&!j(e)&&("array"==r||0===t||"number"==typeof t&&t>0&&t-1 in e)}function F(e){return c.call(e,(function(e){return null!=e}))}function V(e){return e.length>0?n.fn.concat.apply([],e):e}function U(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function $(e){return e in f?f[e]:f[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function W(e,t){return"number"!=typeof t||p[U(e)]?t:t+"px"}function z(e){var t,n;return d[e]||(t=l.createElement(e),l.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),d[e]=n),d[e]}function H(e){return"children"in e?u.call(e.children):n.map(e.childNodes,(function(e){if(1==e.nodeType)return e}))}function G(e,t){var n,r=e?e.length:0;for(n=0;n<r;n++)this[n]=e[n];this.length=r,this.selector=t||""}function q(n,r,i){for(t in r)i&&(B(r[t])||P(r[t]))?(B(r[t])&&!B(n[t])&&(n[t]={}),P(r[t])&&!P(n[t])&&(n[t]=[]),q(n[t],r[t],i)):r[t]!==e&&(n[t]=r[t])}function K(e,t){return null==t?n(e):n(e).filter(t)}function Y(e,t,n,r){return A(t)?t.call(e,n,r):t}function J(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function X(t,n){var r=t.className||"",i=r&&r.baseVal!==e;if(n===e)return i?r.baseVal:r;i?r.baseVal=n:t.className=n}function Z(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?n.parseJSON(e):e):e}catch(t){return e}}function Q(e,t){t(e);for(var n=0,r=e.childNodes.length;n<r;n++)Q(e.childNodes[n],t)}return I.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,o=!i;return o&&(i=k).appendChild(e),r=~I.qsa(i,t).indexOf(e),o&&k.removeChild(e),r},i=function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},o=function(e){return c.call(e,(function(t,n){return e.indexOf(t)==n}))},I.fragment=function(t,r,i){var o,s,a;return m.test(t)&&(o=n(l.createElement(RegExp.$1))),o||(t.replace&&(t=t.replace(v,"<$1></$2>")),r===e&&(r=h.test(t)&&RegExp.$1),r in x||(r="*"),a=x[r],a.innerHTML=""+t,o=n.each(u.call(a.childNodes),(function(){a.removeChild(this)}))),B(i)&&(s=n(o),n.each(i,(function(e,t){g.indexOf(e)>-1?s[e](t):s.attr(e,t)}))),o},I.Z=function(e,t){return new G(e,t)},I.isZ=function(e){return e instanceof I.Z},I.init=function(t,r){var i;if(!t)return I.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&h.test(t))i=I.fragment(t,RegExp.$1,r),t=null;else{if(r!==e)return n(r).find(t);i=I.qsa(l,t)}else{if(A(t))return n(l).ready(t);if(I.isZ(t))return t;if(P(t))i=F(t);else if(D(t))i=[t],t=null;else if(h.test(t))i=I.fragment(t.trim(),RegExp.$1,r),t=null;else{if(r!==e)return n(r).find(t);i=I.qsa(l,t)}}return I.Z(i,t)},n=function(e,t){return I.init(e,t)},n.extend=function(e){var t,n=u.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach((function(n){q(e,n,t)})),e},I.qsa=function(e,t){var n,r="#"==t[0],i=!r&&"."==t[0],o=r||i?t.slice(1):t,s=O.test(o);return e.getElementById&&s&&r?(n=e.getElementById(o))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:u.call(s&&!r&&e.getElementsByClassName?i?e.getElementsByClassName(o):e.getElementsByTagName(t):e.querySelectorAll(t))},n.contains=l.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){while(t&&(t=t.parentNode))if(t===e)return!0;return!1},n.type=M,n.isFunction=A,n.isWindow=j,n.isArray=P,n.isPlainObject=B,n.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},n.isNumeric=function(e){var t=Number(e),n=typeof e;return null!=e&&"boolean"!=n&&("string"!=n||e.length)&&!isNaN(t)&&isFinite(t)||!1},n.inArray=function(e,t,n){return s.indexOf.call(t,e,n)},n.camelCase=i,n.trim=function(e){return null==e?"":String.prototype.trim.call(e)},n.uuid=0,n.support={},n.expr={},n.noop=function(){},n.map=function(e,t){var n,r,i,o=[];if(L(e))for(r=0;r<e.length;r++)n=t(e[r],r),null!=n&&o.push(n);else for(i in e)n=t(e[i],i),null!=n&&o.push(n);return V(o)},n.each=function(e,t){var n,r;if(L(e)){for(n=0;n<e.length;n++)if(!1===t.call(e[n],n,e[n]))return e}else for(r in e)if(!1===t.call(e[r],r,e[r]))return e;return e},n.grep=function(e,t){return c.call(e,t)},window.JSON&&(n.parseJSON=JSON.parse),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){T["[object "+t+"]"]=t.toLowerCase()})),n.fn={constructor:I.Z,length:0,forEach:s.forEach,reduce:s.reduce,push:s.push,sort:s.sort,splice:s.splice,indexOf:s.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=I.isZ(t)?t.toArray():t;return a.apply(I.isZ(this)?this.toArray():this,n)},map:function(e){return n(n.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return n(u.apply(this,arguments))},ready:function(e){return C.test(l.readyState)&&l.body?e(n):l.addEventListener("DOMContentLoaded",(function(){e(n)}),!1),this},get:function(t){return t===e?u.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each((function(){null!=this.parentNode&&this.parentNode.removeChild(this)}))},each:function(e){return s.every.call(this,(function(t,n){return!1!==e.call(t,n,t)})),this},filter:function(e){return A(e)?this.not(this.not(e)):n(c.call(this,(function(t){return I.matches(t,e)})))},add:function(e,t){return n(o(this.concat(n(e,t))))},is:function(e){return this.length>0&&I.matches(this[0],e)},not:function(t){var r=[];if(A(t)&&t.call!==e)this.each((function(e){t.call(this,e)||r.push(this)}));else{var i="string"==typeof t?this.filter(t):L(t)&&A(t.item)?u.call(t):n(t);this.forEach((function(e){i.indexOf(e)<0&&r.push(e)}))}return n(r)},has:function(e){return this.filter((function(){return D(e)?n.contains(this,e):n(this).find(e).size()}))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!D(e)?e:n(e)},last:function(){var e=this[this.length-1];return e&&!D(e)?e:n(e)},find:function(e){var t,r=this;return t=e?"object"==typeof e?n(e).filter((function(){var e=this;return s.some.call(r,(function(t){return n.contains(t,e)}))})):1==this.length?n(I.qsa(this[0],e)):this.map((function(){return I.qsa(this,e)})):n(),t},closest:function(e,t){var r=[],i="object"==typeof e&&n(e);return this.each((function(n,o){while(o&&!(i?i.indexOf(o)>=0:I.matches(o,e)))o=o!==t&&!N(o)&&o.parentNode;o&&r.indexOf(o)<0&&r.push(o)})),n(r)},parents:function(e){var t=[],r=this;while(r.length>0)r=n.map(r,(function(e){if((e=e.parentNode)&&!N(e)&&t.indexOf(e)<0)return t.push(e),e}));return K(t,e)},parent:function(e){return K(o(this.pluck("parentNode")),e)},children:function(e){return K(this.map((function(){return H(this)})),e)},contents:function(){return this.map((function(){return this.contentDocument||u.call(this.childNodes)}))},siblings:function(e){return K(this.map((function(e,t){return c.call(H(t.parentNode),(function(e){return e!==t}))})),e)},empty:function(){return this.each((function(){this.innerHTML=""}))},pluck:function(e){return n.map(this,(function(t){return t[e]}))},show:function(){return this.each((function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=z(this.nodeName))}))},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=A(e);if(this[0]&&!t)var r=n(e).get(0),i=r.parentNode||this.length>1;return this.each((function(o){n(this).wrapAll(t?e.call(this,o):i?r.cloneNode(!0):r)}))},wrapAll:function(e){if(this[0]){var t;n(this[0]).before(e=n(e));while((t=e.children()).length)e=t.first();n(e).append(this)}return this},wrapInner:function(e){var t=A(e);return this.each((function(r){var i=n(this),o=i.contents(),s=t?e.call(this,r):e;o.length?o.wrapAll(s):i.append(s)}))},unwrap:function(){return this.parent().each((function(){n(this).replaceWith(n(this).children())})),this},clone:function(){return this.map((function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(t){return this.each((function(){var r=n(this);(t===e?"none"==r.css("display"):t)?r.show():r.hide()}))},prev:function(e){return n(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return n(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each((function(t){var r=this.innerHTML;n(this).empty().append(Y(this,e,t,r))})):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each((function(t){var n=Y(this,e,t,this.textContent);this.textContent=null==n?"":""+n})):0 in this?this.pluck("textContent").join(""):null},attr:function(n,r){var i;return"string"!=typeof n||1 in arguments?this.each((function(e){if(1===this.nodeType)if(D(n))for(t in n)J(this,t,n[t]);else J(this,n,Y(this,r,e,this.getAttribute(n)))})):0 in this&&1==this[0].nodeType&&null!=(i=this[0].getAttribute(n))?i:e},removeAttr:function(e){return this.each((function(){1===this.nodeType&&e.split(" ").forEach((function(e){J(this,e)}),this)}))},prop:function(e,t){return e=R[e]||e,1 in arguments?this.each((function(n){this[e]=Y(this,t,n,this[e])})):this[0]&&this[0][e]},removeProp:function(e){return e=R[e]||e,this.each((function(){delete this[e]}))},data:function(t,n){var r="data-"+t.replace(y,"-$1").toLowerCase(),i=1 in arguments?this.attr(r,n):this.attr(r);return null!==i?Z(i):e},val:function(e){return 0 in arguments?(null==e&&(e=""),this.each((function(t){this.value=Y(this,e,t,this.value)}))):this[0]&&(this[0].multiple?n(this[0]).find("option").filter((function(){return this.selected})).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each((function(t){var r=n(this),i=Y(this,e,t,r.offset()),o=r.offsetParent().offset(),s={top:i.top-o.top,left:i.left-o.left};"static"==r.css("position")&&(s["position"]="relative"),r.css(s)}));if(!this.length)return null;if(l.documentElement!==this[0]&&!n.contains(l.documentElement,this[0]))return{top:0,left:0};var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(e,r){if(arguments.length<2){var o=this[0];if("string"==typeof e){if(!o)return;return o.style[i(e)]||getComputedStyle(o,"").getPropertyValue(e)}if(P(e)){if(!o)return;var s={},a=getComputedStyle(o,"");return n.each(e,(function(e,t){s[t]=o.style[i(t)]||a.getPropertyValue(t)})),s}}var c="";if("string"==M(e))r||0===r?c=U(e)+":"+W(e,r):this.each((function(){this.style.removeProperty(U(e))}));else for(t in e)e[t]||0===e[t]?c+=U(t)+":"+W(t,e[t])+";":this.each((function(){this.style.removeProperty(U(t))}));return this.each((function(){this.style.cssText+=";"+c}))},index:function(e){return e?this.indexOf(n(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&s.some.call(this,(function(e){return this.test(X(e))}),$(e))},addClass:function(e){return e?this.each((function(t){if("className"in this){r=[];var i=X(this),o=Y(this,e,t,i);o.split(/\s+/g).forEach((function(e){n(this).hasClass(e)||r.push(e)}),this),r.length&&X(this,i+(i?" ":"")+r.join(" "))}})):this},removeClass:function(t){return this.each((function(n){if("className"in this){if(t===e)return X(this,"");r=X(this),Y(this,t,n,r).split(/\s+/g).forEach((function(e){r=r.replace($(e)," ")})),X(this,r.trim())}}))},toggleClass:function(t,r){return t?this.each((function(i){var o=n(this),s=Y(this,t,i,X(this));s.split(/\s+/g).forEach((function(t){(r===e?!o.hasClass(t):r)?o.addClass(t):o.removeClass(t)}))})):this},scrollTop:function(t){if(this.length){var n="scrollTop"in this[0];return t===e?n?this[0].scrollTop:this[0].pageYOffset:this.each(n?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var n="scrollLeft"in this[0];return t===e?n?this[0].scrollLeft:this[0].pageXOffset:this.each(n?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),r=this.offset(),i=b.test(t[0].nodeName)?{top:0,left:0}:t.offset();return r.top-=parseFloat(n(e).css("margin-top"))||0,r.left-=parseFloat(n(e).css("margin-left"))||0,i.top+=parseFloat(n(t[0]).css("border-top-width"))||0,i.left+=parseFloat(n(t[0]).css("border-left-width"))||0,{top:r.top-i.top,left:r.left-i.left}}},offsetParent:function(){return this.map((function(){var e=this.offsetParent||l.body;while(e&&!b.test(e.nodeName)&&"static"==n(e).css("position"))e=e.offsetParent;return e}))}},n.fn.detach=n.fn.remove,["width","height"].forEach((function(t){var r=t.replace(/./,(function(e){return e[0].toUpperCase()}));n.fn[t]=function(i){var o,s=this[0];return i===e?j(s)?s["inner"+r]:N(s)?s.documentElement["scroll"+r]:(o=this.offset())&&o[t]:this.each((function(e){s=n(this),s.css(t,Y(this,i,e,s[t]()))}))}})),_.forEach((function(t,r){var i=r%2;n.fn[t]=function(){var t,o,s=n.map(arguments,(function(r){var i=[];return t=M(r),"array"==t?(r.forEach((function(t){return t.nodeType!==e?i.push(t):n.zepto.isZ(t)?i=i.concat(t.get()):void(i=i.concat(I.fragment(t)))})),i):"object"==t||null==r?r:I.fragment(r)})),a=this.length>1;return s.length<1?this:this.each((function(e,t){o=i?t:t.parentNode,t=0==r?t.nextSibling:1==r?t.firstChild:2==r?t:null;var c=n.contains(l.documentElement,o);s.forEach((function(e){if(a)e=e.cloneNode(!0);else if(!o)return n(e).remove();o.insertBefore(e,t),c&&Q(e,(function(e){if(null!=e.nodeName&&"SCRIPT"===e.nodeName.toUpperCase()&&(!e.type||"text/javascript"===e.type)&&!e.src){var t=e.ownerDocument?e.ownerDocument.defaultView:window;t["eval"].call(t,e.innerHTML)}}))}))}))},n.fn[i?t+"To":"insert"+(r?"Before":"After")]=function(e){return n(e)[t](this),this}})),I.Z.prototype=G.prototype=n.fn,I.uniq=o,I.deserializeValue=Z,n.zepto=I,n}();return window.Zepto=t,void 0===window.$&&(window.$=t),e.exports=t,function(e){var t,n=1,r=Array.prototype.slice,i=e.isFunction,o=function(e){return"string"==typeof e},s={},a={},c="onfocusin"in window,u={focus:"focusin",blur:"focusout"},l={mouseenter:"mouseover",mouseleave:"mouseout"};function d(e){return e._zid||(e._zid=n++)}function f(e,t,n,r){if(t=p(t),t.ns)var i=h(t.ns);return(s[d(e)]||[]).filter((function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||i.test(e.ns))&&(!n||d(e.fn)===d(n))&&(!r||e.sel==r)}))}function p(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function h(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function m(e,t){return e.del&&!c&&e.e in u||!!t}function v(e){return l[e]||c&&u[e]||e}function b(n,r,i,o,a,c,u){var f=d(n),h=s[f]||(s[f]=[]);r.split(/\s/).forEach((function(r){if("ready"==r)return e(document).ready(i);var s=p(r);s.fn=i,s.sel=a,s.e in l&&(i=function(t){var n=t.relatedTarget;if(!n||n!==this&&!e.contains(this,n))return s.fn.apply(this,arguments)}),s.del=c;var d=c||i;s.proxy=function(e){if(e=x(e),!e.isImmediatePropagationStopped()){e.data=o;var r=d.apply(n,e._args==t?[e]:[e].concat(e._args));return!1===r&&(e.preventDefault(),e.stopPropagation()),r}},s.i=h.length,h.push(s),"addEventListener"in n&&n.addEventListener(v(s.e),s.proxy,m(s,u))}))}function y(e,t,n,r,i){var o=d(e);(t||"").split(/\s/).forEach((function(t){f(e,t,n,r).forEach((function(t){delete s[o][t.i],"removeEventListener"in e&&e.removeEventListener(v(t.e),t.proxy,m(t,i))}))}))}a.click=a.mousedown=a.mouseup=a.mousemove="MouseEvents",e.event={add:b,remove:y},e.proxy=function(t,n){var s=2 in arguments&&r.call(arguments,2);if(i(t)){var a=function(){return t.apply(n,s?s.concat(r.call(arguments)):arguments)};return a._zid=d(t),a}if(o(n))return s?(s.unshift(t[n],t),e.proxy.apply(null,s)):e.proxy(t[n],t);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var g=function(){return!0},_=function(){return!1},S=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,w={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function x(n,r){return!r&&n.isDefaultPrevented||(r||(r=n),e.each(w,(function(e,t){var i=r[e];n[e]=function(){return this[t]=g,i&&i.apply(r,arguments)},n[t]=_})),n.timeStamp||(n.timeStamp=Date.now()),(r.defaultPrevented!==t?r.defaultPrevented:"returnValue"in r?!1===r.returnValue:r.getPreventDefault&&r.getPreventDefault())&&(n.isDefaultPrevented=g)),n}function C(e){var n,r={originalEvent:e};for(n in e)S.test(n)||e[n]===t||(r[n]=e[n]);return x(r,e)}e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(n,s,a,c,u){var l,d,f=this;return n&&!o(n)?(e.each(n,(function(e,t){f.on(e,s,a,t,u)})),f):(o(s)||i(c)||!1===c||(c=a,a=s,s=t),c!==t&&!1!==a||(c=a,a=t),!1===c&&(c=_),f.each((function(t,i){u&&(l=function(e){return y(i,e.type,c),c.apply(this,arguments)}),s&&(d=function(t){var n,o=e(t.target).closest(s,i).get(0);if(o&&o!==i)return n=e.extend(C(t),{currentTarget:o,liveFired:i}),(l||c).apply(o,[n].concat(r.call(arguments,1)))}),b(i,n,c,a,s,d||l)})))},e.fn.off=function(n,r,s){var a=this;return n&&!o(n)?(e.each(n,(function(e,t){a.off(e,r,t)})),a):(o(r)||i(s)||!1===s||(s=r,r=t),!1===s&&(s=_),a.each((function(){y(this,n,s,r)})))},e.fn.trigger=function(t,n){return t=o(t)||e.isPlainObject(t)?e.Event(t):x(t),t._args=n,this.each((function(){t.type in u&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)}))},e.fn.triggerHandler=function(t,n){var r,i;return this.each((function(s,a){r=C(o(t)?e.Event(t):t),r._args=n,r.target=a,e.each(f(a,t.type||t),(function(e,t){if(i=t.proxy(r),r.isImmediatePropagationStopped())return!1}))})),i},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach((function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}})),e.Event=function(e,t){o(e)||(t=e,e=t.type);var n=document.createEvent(a[e]||"Events"),r=!0;if(t)for(var i in t)"bubbles"==i?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0),x(n)}}(t),function(e){var t,n,r=+new Date,i=window.document,o=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,s=/^(?:text|application)\/javascript/i,a=/^(?:text|application)\/xml/i,c="application/json",u="text/html",l=/^\s*$/,d=i.createElement("a");function f(t,n,r){var i=e.Event(n);return e(t).trigger(i,r),!i.isDefaultPrevented()}function p(e,t,n,r){if(e.global)return f(t||i,n,r)}function h(t){t.global&&0===e.active++&&p(t,null,"ajaxStart")}function m(t){t.global&&!--e.active&&p(t,null,"ajaxStop")}function v(e,t){var n=t.context;if(!1===t.beforeSend.call(n,e,t)||!1===p(t,n,"ajaxBeforeSend",[e,t]))return!1;p(t,n,"ajaxSend",[e,t])}function b(e,t,n,r){var i=n.context,o="success";n.success.call(i,e,o,t),r&&r.resolveWith(i,[e,o,t]),p(n,i,"ajaxSuccess",[t,n,e]),g(o,t,n)}function y(e,t,n,r,i){var o=r.context;r.error.call(o,n,t,e),i&&i.rejectWith(o,[n,t,e]),p(r,o,"ajaxError",[n,r,e||t]),g(t,n,r)}function g(e,t,n){var r=n.context;n.complete.call(r,t,e),p(n,r,"ajaxComplete",[t,n]),m(n)}function _(e,t,n){if(n.dataFilter==S)return e;var r=n.context;return n.dataFilter.call(r,e,t)}function S(){}function w(e){return e&&(e=e.split(";",2)[0]),e&&(e==u?"html":e==c?"json":s.test(e)?"script":a.test(e)&&"xml")||"text"}function x(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function C(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()&&"jsonp"!=t.dataType||(t.url=x(t.url,t.data),t.data=void 0)}function O(t,n,r,i){return e.isFunction(n)&&(i=r,r=n,n=void 0),e.isFunction(r)||(i=r,r=void 0),{url:t,data:n,success:r,dataType:i}}d.href=window.location.href,e.active=0,e.ajaxJSONP=function(t,n){if(!("type"in t))return e.ajax(t);var o,s,a=t.jsonpCallback,c=(e.isFunction(a)?a():a)||"Zepto"+r++,u=i.createElement("script"),l=window[c],d=function(t){e(u).triggerHandler("error",t||"abort")},f={abort:d};return n&&n.promise(f),e(u).on("load error",(function(r,i){clearTimeout(s),e(u).off().remove(),"error"!=r.type&&o?b(o[0],f,t,n):y(null,i||"error",f,t,n),window[c]=l,o&&e.isFunction(l)&&l(o[0]),l=o=void 0})),!1===v(f,t)?(d("abort"),f):(window[c]=function(){o=arguments},u.src=t.url.replace(/\?(.+)=\?/,"?$1="+c),i.head.appendChild(u),t.timeout>0&&(s=setTimeout((function(){d("timeout")}),t.timeout)),f)},e.ajaxSettings={type:"GET",beforeSend:S,success:S,error:S,complete:S,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:c,xml:"application/xml, text/xml",html:u,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:S},e.ajax=function(r){var o,s,a=e.extend({},r||{}),c=e.Deferred&&e.Deferred();for(t in e.ajaxSettings)void 0===a[t]&&(a[t]=e.ajaxSettings[t]);h(a),a.crossDomain||(o=i.createElement("a"),o.href=a.url,o.href=o.href,a.crossDomain=d.protocol+"//"+d.host!==o.protocol+"//"+o.host),a.url||(a.url=window.location.toString()),(s=a.url.indexOf("#"))>-1&&(a.url=a.url.slice(0,s)),C(a);var u=a.dataType,f=/\?.+=\?/.test(a.url);if(f&&(u="jsonp"),!1!==a.cache&&(r&&!0===r.cache||"script"!=u&&"jsonp"!=u)||(a.url=x(a.url,"_="+Date.now())),"jsonp"==u)return f||(a.url=x(a.url,a.jsonp?a.jsonp+"=?":!1===a.jsonp?"":"callback=?")),e.ajaxJSONP(a,c);var p,m=a.accepts[u],g={},O=function(e,t){g[e.toLowerCase()]=[e,t]},T=/^([\w-]+:)\/\//.test(a.url)?RegExp.$1:window.location.protocol,E=a.xhr(),I=E.setRequestHeader;if(c&&c.promise(E),a.crossDomain||O("X-Requested-With","XMLHttpRequest"),O("Accept",m||"*/*"),(m=a.mimeType||m)&&(m.indexOf(",")>-1&&(m=m.split(",",2)[0]),E.overrideMimeType&&E.overrideMimeType(m)),(a.contentType||!1!==a.contentType&&a.data&&"GET"!=a.type.toUpperCase())&&O("Content-Type",a.contentType||"application/x-www-form-urlencoded"),a.headers)for(n in a.headers)O(n,a.headers[n]);if(E.setRequestHeader=O,E.onreadystatechange=function(){if(4==E.readyState){E.onreadystatechange=S,clearTimeout(p);var t,n=!1;if(E.status>=200&&E.status<300||304==E.status||0==E.status&&"file:"==T){if(u=u||w(a.mimeType||E.getResponseHeader("content-type")),"arraybuffer"==E.responseType||"blob"==E.responseType)t=E.response;else{t=E.responseText;try{t=_(t,u,a),"script"==u?(0,eval)(t):"xml"==u?t=E.responseXML:"json"==u&&(t=l.test(t)?null:e.parseJSON(t))}catch(r){n=r}if(n)return y(n,"parsererror",E,a,c)}b(t,E,a,c)}else y(E.statusText||null,E.status?"error":"abort",E,a,c)}},!1===v(E,a))return E.abort(),y(null,"abort",E,a,c),E;var k=!("async"in a)||a.async;if(E.open(a.type,a.url,k,a.username,a.password),a.xhrFields)for(n in a.xhrFields)E[n]=a.xhrFields[n];for(n in g)I.apply(E,g[n]);return a.timeout>0&&(p=setTimeout((function(){E.onreadystatechange=S,E.abort(),y(null,"timeout",E,a,c)}),a.timeout)),E.send(a.data?a.data:null),E},e.get=function(){return e.ajax(O.apply(null,arguments))},e.post=function(){var t=O.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=O.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,r){if(!this.length)return this;var i,s=this,a=t.split(/\s/),c=O(t,n,r),u=c.success;return a.length>1&&(c.url=a[0],i=a[1]),c.success=function(t){s.html(i?e("<div>").html(t.replace(o,"")).find(i):t),u&&u.apply(s,arguments)},e.ajax(c),this};var T=encodeURIComponent;function E(t,n,r,i){var o,s=e.isArray(n),a=e.isPlainObject(n);e.each(n,(function(n,c){o=e.type(c),i&&(n=r?i:i+"["+(a||"object"==o||"array"==o?n:"")+"]"),!i&&s?t.add(c.name,c.value):"array"==o||!r&&"object"==o?E(t,c,r,n):t.add(n,c)}))}e.param=function(t,n){var r=[];return r.add=function(t,n){e.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(T(t)+"="+T(n))},E(r,t,n),r.join("&").replace(/%20/g,"+")}}(t),function(e){e.fn.serializeArray=function(){var t,n,r=[],i=function(e){if(e.forEach)return e.forEach(i);r.push({name:t,value:e})};return this[0]&&e.each(this[0].elements,(function(r,o){n=o.type,t=o.name,t&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&i(e(o).val())})),r},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach((function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))})),e.join("&")},e.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(t),function(){try{getComputedStyle(void 0)}catch(t){var e=getComputedStyle;window.getComputedStyle=function(n,r){try{return e(n,r)}catch(t){return null}}}}(),t}))},,,function(e,t,n){e.exports={default:n(9),__esModule:!0}},function(e,t,n){n(10),n(11),n(54),n(58),n(76),n(77),e.exports=n(4).Promise},function(e,t){},function(e,t,n){"use strict";var r=n(12)(!0);n(15)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(13),i=n(14);e.exports=function(e){return function(t,n){var o,s,a=String(i(t)),c=r(n),u=a.length;return c<0||c>=u?e?"":void 0:(o=a.charCodeAt(c),o<55296||o>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):o:e?a.slice(c,c+2):s-56320+(o-55296<<10)+65536)}}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";var r=n(16),i=n(17),o=n(32),s=n(21),a=n(33),c=n(34),u=n(50),l=n(52),d=n(51)("iterator"),f=!([].keys&&"next"in[].keys()),p="@@iterator",h="keys",m="values",v=function(){return this};e.exports=function(e,t,n,b,y,g,_){c(n,t,b);var S,w,x,C=function(e){if(!f&&e in I)return I[e];switch(e){case h:return function(){return new n(this,e)};case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},O=t+" Iterator",T=y==m,E=!1,I=e.prototype,k=I[d]||I[p]||y&&I[y],R=k||C(y),P=y?T?C("entries"):R:void 0,M="Array"==t&&I.entries||k;if(M&&(x=l(M.call(new e)),x!==Object.prototype&&x.next&&(u(x,O,!0),r||"function"==typeof x[d]||s(x,d,v))),T&&k&&k.name!==m&&(E=!0,R=function(){return k.call(this)}),r&&!_||!f&&!E&&I[d]||s(I,d,R),a[t]=R,a[O]=v,y)if(S={values:T?R:C(m),keys:g?R:C(h),entries:P},_)for(w in S)w in I||o(I,w,S[w]);else i(i.P+i.F*(f||E),t,S);return S}},function(e,t){e.exports=!0},function(e,t,n){var r=n(18),i=n(4),o=n(19),s=n(21),a=n(31),c="prototype",u=function(e,t,n){var l,d,f,p=e&u.F,h=e&u.G,m=e&u.S,v=e&u.P,b=e&u.B,y=e&u.W,g=h?i:i[t]||(i[t]={}),_=g[c],S=h?r:m?r[t]:(r[t]||{})[c];for(l in h&&(n=t),n)d=!p&&S&&void 0!==S[l],d&&a(g,l)||(f=d?S[l]:n[l],g[l]=h&&"function"!=typeof S[l]?n[l]:b&&d?o(f,r):y&&S[l]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[c]=e[c],t}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((g.virtual||(g.virtual={}))[l]=f,e&u.R&&_&&!_[l]&&s(_,l,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(20);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(22),i=n(30);e.exports=n(26)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(23),i=n(25),o=n(29),s=Object.defineProperty;t.f=n(26)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(24);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t,n){e.exports=!n(26)&&!n(27)((function(){return 7!=Object.defineProperty(n(28)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){e.exports=!n(27)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){var r=n(24),i=n(18).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(24);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){e.exports=n(21)},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(35),i=n(30),o=n(50),s={};n(21)(s,n(51)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(s,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(23),i=n(36),o=n(48),s=n(45)("IE_PROTO"),a=function(){},c="prototype",u=function(){var e,t=n(28)("iframe"),r=o.length,i="<",s=">";t.style.display="none",n(49).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(i+"script"+s+"document.F=Object"+i+"/script"+s),e.close(),u=e.F;while(r--)delete u[c][o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(a[c]=r(e),n=new a,a[c]=null,n[s]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(22),i=n(23),o=n(37);e.exports=n(26)?Object.defineProperties:function(e,t){i(e);var n,s=o(t),a=s.length,c=0;while(a>c)r.f(e,n=s[c++],t[n]);return e}},function(e,t,n){var r=n(38),i=n(48);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(31),i=n(39),o=n(42)(!1),s=n(45)("IE_PROTO");e.exports=function(e,t){var n,a=i(e),c=0,u=[];for(n in a)n!=s&&r(a,n)&&u.push(n);while(t.length>c)r(a,n=t[c++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){var r=n(40),i=n(14);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(41);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(39),i=n(43),o=n(44);e.exports=function(e){return function(t,n,s){var a,c=r(t),u=i(c.length),l=o(s,u);if(e&&n!=n){while(u>l)if(a=c[l++],a!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(13),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(13),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(46)("keys"),i=n(47);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(4),i=n(18),o="__core-js_shared__",s=i[o]||(i[o]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(16)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(18).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(22).f,i=n(31),o=n(51)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(46)("wks"),i=n(47),o=n(18).Symbol,s="function"==typeof o,a=e.exports=function(e){return r[e]||(r[e]=s&&o[e]||(s?o:i)("Symbol."+e))};a.store=r},function(e,t,n){var r=n(31),i=n(53),o=n(45)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var r=n(14);e.exports=function(e){return Object(r(e))}},function(e,t,n){n(55);for(var r=n(18),i=n(21),o=n(33),s=n(51)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var u=a[c],l=r[u],d=l&&l.prototype;d&&!d[s]&&i(d,s,u),o[u]=o.Array}},function(e,t,n){"use strict";var r=n(56),i=n(57),o=n(33),s=n(39);e.exports=n(15)(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r,i,o,s,a=n(16),c=n(18),u=n(19),l=n(59),d=n(17),f=n(24),p=n(20),h=n(60),m=n(61),v=n(65),b=n(66).set,y=n(68)(),g=n(69),_=n(70),S=n(71),w=n(72),x="Promise",C=c.TypeError,O=c.process,T=O&&O.versions,E=T&&T.v8||"",I=c[x],k="process"==l(O),R=function(){},P=i=g.f,M=!!function(){try{var e=I.resolve(1),t=(e.constructor={})[n(51)("species")]=function(e){e(R,R)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(R)instanceof t&&0!==E.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(r){}}(),A=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},j=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){var r=e._v,i=1==e._s,o=0,s=function(t){var n,o,s,a=i?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{a?(i||(2==e._h&&B(e),e._h=1),!0===a?n=r:(l&&l.enter(),n=a(r),l&&(l.exit(),s=!0)),n===t.promise?u(C("Promise-chain cycle")):(o=A(n))?o.call(n,c,u):c(n)):u(r)}catch(d){l&&!s&&l.exit(),u(d)}};while(n.length>o)s(n[o++]);e._c=[],e._n=!1,t&&!e._h&&N(e)}))}},N=function(e){b.call(c,(function(){var t,n,r,i=e._v,o=D(e);if(o&&(t=_((function(){k?O.emit("unhandledRejection",i,e):(n=c.onunhandledrejection)?n({promise:e,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=k||D(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},B=function(e){b.call(c,(function(){var t;k?O.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},L=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),j(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw C("Promise can't be resolved itself");(t=A(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,u(F,r,1),u(L,r,1))}catch(i){L.call(r,i)}})):(n._v=e,n._s=1,j(n,!1))}catch(r){L.call({_w:n,_d:!1},r)}}};M||(I=function(e){h(this,I,x,"_h"),p(e),r.call(this);try{e(u(F,this,1),u(L,this,1))}catch(t){L.call(this,t)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(73)(I.prototype,{then:function(e,t){var n=P(v(this,I));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=k?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&j(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=u(F,e,1),this.reject=u(L,e,1)},g.f=P=function(e){return e===I||e===s?new o(e):i(e)}),d(d.G+d.W+d.F*!M,{Promise:I}),n(50)(I,x),n(74)(x),s=n(4)[x],d(d.S+d.F*!M,x,{reject:function(e){var t=P(this),n=t.reject;return n(e),t.promise}}),d(d.S+d.F*(a||!M),x,{resolve:function(e){return w(a&&this===s?I:this,e)}}),d(d.S+d.F*!(M&&n(75)((function(e){I.all(e)["catch"](R)}))),x,{all:function(e){var t=this,n=P(t),r=n.resolve,i=n.reject,o=_((function(){var n=[],o=0,s=1;m(e,!1,(function(e){var a=o++,c=!1;n.push(void 0),s++,t.resolve(e).then((function(e){c||(c=!0,n[a]=e,--s||r(n))}),i)})),--s||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=P(t),r=n.reject,i=_((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(e,t,n){var r=n(41),i=n(51)("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(n){}};e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(19),i=n(62),o=n(63),s=n(23),a=n(43),c=n(64),u={},l={};t=e.exports=function(e,t,n,d,f){var p,h,m,v,b=f?function(){return e}:c(e),y=r(n,d,t?2:1),g=0;if("function"!=typeof b)throw TypeError(e+" is not iterable!");if(o(b)){for(p=a(e.length);p>g;g++)if(v=t?y(s(h=e[g])[0],h[1]):y(e[g]),v===u||v===l)return v}else for(m=b.call(e);!(h=m.next()).done;)if(v=i(m,y,h.value,t),v===u||v===l)return v};t.BREAK=u,t.RETURN=l},function(e,t,n){var r=n(23);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(s){var o=e["return"];throw void 0!==o&&r(o.call(e)),s}}},function(e,t,n){var r=n(33),i=n(51)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(59),i=n(51)("iterator"),o=n(33);e.exports=n(4).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(23),i=n(20),o=n(51)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||void 0==(n=r(s)[o])?t:i(n)}},function(e,t,n){var r,i,o,s=n(19),a=n(67),c=n(49),u=n(28),l=n(18),d=l.process,f=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,m=l.Dispatch,v=0,b={},y="onreadystatechange",g=function(){var e=+this;if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},_=function(e){g.call(e.data)};f&&p||(f=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return b[++v]=function(){a("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete b[e]},"process"==n(41)(d)?r=function(e){d.nextTick(s(g,e,1))}:m&&m.now?r=function(e){m.now(s(g,e,1))}:h?(i=new h,o=i.port2,i.port1.onmessage=_,r=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",_,!1)):r=y in u("script")?function(e){c.appendChild(u("script"))[y]=function(){c.removeChild(this),g.call(e)}}:function(e){setTimeout(s(g,e,1),0)}),e.exports={set:f,clear:p}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(18),i=n(66).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,c="process"==n(41)(s);e.exports=function(){var e,t,n,u=function(){var r,i;c&&(r=s.domain)&&r.exit();while(e){i=e.fn,e=e.next;try{i()}catch(o){throw e?n():t=void 0,o}}t=void 0,r&&r.enter()};if(c)n=function(){s.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var l=a.resolve(void 0);n=function(){l.then(u)}}else n=function(){i.call(r,u)};else{var d=!0,f=document.createTextNode("");new o(u).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){"use strict";var r=n(20);function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(e,t,n){var r=n(18),i=r.navigator;e.exports=i&&i.userAgent||""},function(e,t,n){var r=n(23),i=n(24),o=n(69);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),s=n.resolve;return s(t),n.promise}},function(e,t,n){var r=n(21);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){"use strict";var r=n(18),i=n(4),o=n(22),s=n(26),a=n(51)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];s&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(51)("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(s){}return n}},function(e,t,n){"use strict";var r=n(17),i=n(4),o=n(18),s=n(65),a=n(72);r(r.P+r.R,"Promise",{finally:function(e){var t=s(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then((function(){return n}))}:e,n?function(n){return a(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){"use strict";var r=n(17),i=n(69),o=n(70);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},,,function(e,t,n){e.exports={default:n(81),__esModule:!0}},function(e,t,n){n(82),e.exports=n(4).Object.keys},function(e,t,n){var r=n(53),i=n(37);n(83)("keys",(function(){return function(e){return i(r(e))}}))},function(e,t,n){var r=n(17),i=n(4),o=n(27);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],s={};s[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",s)}},,,,function(module,exports,__webpack_require__){"use strict";var _typeof2=__webpack_require__(88),_typeof3=_interopRequireDefault(_typeof2),_getPrototypeOf=__webpack_require__(106),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_stringify=__webpack_require__(2),_stringify2=_interopRequireDefault(_stringify);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function Util(){}(function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");Math.uuid=function(t,n){var r,i,o=e,s=[];if(n=n||o.length,t)for(r=0;r<t;r++)s[r]=o[0|Math.random()*n];else for(s[8]=s[13]=s[18]=s[23]="-",s[14]="4",r=0;r<36;r++)s[r]||(i=0|16*Math.random(),s[r]=o[19==r?3&i|8:i]);return s.join("")},Math.uuidFast=function(){for(var t,n=e,r=new Array(36),i=0,o=0;o<36;o++)8==o||13==o||18==o||23==o?r[o]="-":14==o?r[o]="4":(i<=2&&(i=33554432+16777216*Math.random()|0),t=15&i,i>>=4,r[o]=n[19==o?3&t|8:t]);return r.join("")},Math.uuidCompact=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)}))}})(),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t});var Logger=function(e){var t=this,n={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,FATAL:5},r=["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"];function i(e,t){try{a(e,t)}catch(n){if(console){if(console.error)return void console.error(n);if(console.log)return void console.log(n)}throw n}}function o(){if(!(emedia._logContextIndex<0)&&emedia._logContext&&emedia._logContext instanceof Array){var e=emedia._logContextIndex%emedia._logContext.length,t=emedia._logContext[e];t&&t instanceof Array||(t=emedia._logContext[e]=[]);var n=[];n.push(emedia._logContextIndex);var r,i=new Date;"function"===typeof i.toLocaleString?n.push(i.toLocaleString()):i.toJSON?n.push(i.toJSON()):i.toISOString?n.push(i.toISOString()):n.push(i+"");for(var o=0;o<arguments.length;o++){var s=arguments[o];"string"!==typeof s?s?"string"!==typeof s.message?"function"!==typeof s.message?"string"!==typeof s.stack?s.event&&"function"===typeof s.event.toString||s.event&&"function"===typeof s.event.toString?n.push(s.event.toString()):"string"!==typeof s.candidate?"string"!==typeof s.sdp?isPlainObject(s)?n.push((0,_stringify2.default)(s)):n.push(String(s)):n.push(s.sdp):n.push(s.candidate):n.push(s.stack):n.push(s.message()):n.push(s.message):n.push(s):n.push(s)}if(emedia.config.loglastStoreArray&&t.push(r=n.join(" ")),"function"===typeof emedia.config.onSdkLog)try{r||(r=n.join(" ")),emedia.config.onSdkLog(r)}catch(a){console.error(a)}}}function s(){try{o.apply(null,arguments)}catch(e){console.warn(e)}}function a(n,r){if(!(emedia&&emedia.LOG_LEVEL&&n<emedia.LOG_LEVEL)){var i=[];i.push(n),e&&i.push(e);for(var o=0;o<r.length;o++)i.push(r[o]&&r[o]._toString?r[o]._toString.call(r[o]):r[o]);t._log.apply(t,i)}}this._log=function(){var e=arguments[0];e=arguments[0]=r[e],emedia._logContext&&s.apply(null,arguments),!0===emedia.config.consoleLogger&&(emedia&&emedia.isElectron?console.log.apply(console,arguments):console&&e&&(console[e.toLowerCase()]||console.warn).apply(console,arguments))},this.log=function(){this._log&&i(n.INFO,arguments)},this.trace=function(){this._log&&i(n.TRACE,arguments)},this.debug=function(){this._log&&i(n.DEBUG,arguments)},this.info=function(){this._log&&i(n.INFO,arguments)},this.warn=function(){this._log&&i(n.WARN,arguments)},this.error=function(){this._log&&i(n.ERROR,arguments)},this.fatal=function(){this._log&&i(n.FATAL,arguments)}};Logger.prototype.count=function(){if(emedia._logContext){emedia._logContextIndex++;var e=emedia._logContextIndex%emedia._logContext.length;0===e&&0!==emedia._logContextIndex&&(emedia._logContext.loadlogs=emedia._logContext[e]),emedia._logContext[e]=[]}},Util.prototype.logger=new Logger,Util.prototype.tagLogger=function(e){return new Logger(e)},Util.prototype.parseJSON=function(e){return JSON.parse(e)};var stringifyJSON=Util.prototype.stringifyJSON=function(e){return(0,_stringify2.default)(e)},class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,fnToString=hasOwn.toString,ObjectFunctionString=fnToString.call(Object),isPlainObject=Util.prototype.isPlainObject=function(e){var t,n;return!(!e||"[object Object]"!==toString.call(e)||"<JSAPI-Auto Javascript Object>"===e.toString()||"[object IFBComJavascriptObject]"===e.toString())&&(t=(0,_getPrototypeOf2.default)(e),!t||(n=hasOwn.call(t,"constructor")&&t.constructor,"function"===typeof n&&fnToString.call(n)===ObjectFunctionString))};Util.prototype.isArray=Array.isArray,Util.prototype.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},Util.prototype.type=function(e){return null==e?e+"":"object"===("undefined"===typeof e?"undefined":(0,_typeof3.default)(e))||"function"===typeof e?class2type[toString.call(e)]||"object":"undefined"===typeof e?"undefined":(0,_typeof3.default)(e)},Util.prototype.extend=function(){var e,t,n,r,i,o,s=this,a=arguments[0]||{},c=1,u=arguments.length,l=!1;for("boolean"===typeof a&&(l=a,a=arguments[c]||{},c++),"object"===("undefined"===typeof a?"undefined":(0,_typeof3.default)(a))||s.isFunction(a)||(a={}),c===u&&(a=this,c--);c<u;c++)if(null!=(e=arguments[c]))for(t in e)n=a[t],r=e[t],a!==r&&(l&&r&&(s.isPlainObject(r)||(i=s.isArray(r)))?(i?(i=!1,o=n&&s.isArray(n)?n:[]):o=n&&s.isPlainObject(n)?n:{},a[t]=s.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},Util.prototype.removeAttribute=function(e,t){if(null!==e&&void 0!==e){var n=e[t];return delete e[t],n}},Util.prototype.prototypeExtend_000=Util.prototype.classExtend=function(){var e,t=this;function n(){for(var e=0;e<arguments.length;e++){var n=arguments[e]||{};t.extend(!0,this,n)}this.__init__&&this.__init__.apply(this,arguments)}for(var r=0;r<arguments.length;r++){var i=arguments[r]||{};"function"===typeof i?e?(i.constructor=e,i.__proto__=e.prototype):e=i:t.extend(!0,n.prototype,i)}return e&&(n.prototype.__proto__=e.prototype),e&&(n.prototype.constructor=e),n.extend||(n.extend=function(e){return t.prototypeExtend(n,e)}),n},Util.prototype.prototypeExtend=Util.prototype.classExtend=function(){var e=this;function t(){for(var t=0;t<arguments.length;t++){var n=arguments[t]||{};e.extend(!0,this,n)}this.__init__&&this.__init__.apply(this,arguments)}for(var n=0;n<arguments.length;n++){var r=arguments[n]||{};"function"===typeof r&&(r=r.prototype),e.extend(!0,t.prototype,r)}return t.extend||(t.extend=function(n){return e.prototypeExtend(t,n)}),t},Util.prototype.hasLocalStorage=function(e){return null!=localStorage.getItem(e)&&"{}"!=localStorage.getItem(e)},Util.prototype.toggleClass=function(e,t){e.hasClass(t)?e.removeClass(t):e.addClass(t)},Util.prototype.setCookie=function(e,t,n){var r=new Date;r.setTime(r.getTime()+60*n*60*1e3),document.cookie=e+"="+escape(t)+";expires="+r.toGMTString()},Util.prototype.getCookie=function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!=t?unescape(t[2]):null},Util.prototype.parseURL=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},Util.prototype.forEach=function(e,t){if(e&&(!this.isArray(e)||0!==e.length)&&(void 0===e.length||0!==e.length))if(e.length)for(var n=0;n<e.length;n++)t(n,e[n]);else if(e&&!this.isEmptyObject(e)){e=e||{};var r=this.extend(!1,{},e);for(var i in r)t(i,e[i])}},Util.prototype.isInt=function(e){return Number(e)===e&&e%1===0},Util.prototype.isFloat=function(e){return Number(e)===e&&e%1!==0},Util.prototype.list=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);return e},Util.prototype.addEvent=function(e,t,n){if(e.attachEvent)return e.attachEvent("on"+t,n);if(e.addEventListener)return e.addEventListener(t,n,!1);throw"Handler could not be attached"},Util.prototype.removeEvent=function(e,t,n){if(e.detachEvent)return e.detachEvent("on"+t,n);if(e.removeEventListener)return e.removeEventListener(t,n,!1);throw"Handler could not be removed"},Util.prototype.stopEvent=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1},Util.prototype.getDomPageRect=function(e){var t=e.getBoundingClientRect();return{x:t.left+(window.pageXOffset||window.document.documentElement.scrollLeft),y:t.top+(window.pageYOffset||window.document.documentElement.scrollTop),width:t.width||e.offsetWidth,height:t.height||e.offsetHeight}},Util.prototype.getEventElementXY=function(e,t,n){e=e||window.event;var r,i,o=e.changedTouches?e.changedTouches[0]:e.touches?e.touches[0]:e;void 0!=o.pageX&&void 0!=o.pageY?(r=o.pageX,i=o.pageY):void 0!=o.clientX&&void 0!=o.clientY&&(r=o.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=o.clientY+document.body.scrollTop+document.documentElement.scrollTop);var s=this.getDomPageRect(t),a=r-s.x,c=i-s.y;return(0===n||void 0==n)&&(n=1),{x:Math.round(Math.max(Math.min(a,s.width-1),0)/n),y:Math.round(Math.max(Math.min(c,s.height-1),0)/n),width:Math.round(s.width/n),height:Math.round(s.height/n),realX:a,realY:c}},Util.prototype.layoutEngine=function(){var e={presto:!!window.opera,trident:!!window.ActiveXObject&&(window.XMLHttpRequest?document.querySelectorAll?6:5:4),webkit:function(){try{return!navigator.taintEnabled&&(i.Features.xpath?i.Features.query?525:420:419)}catch(e){return!1}}(),gecko:!(!document.getBoxObjectFor&&null==window.mozInnerScreenX)&&(document.getElementsByClassName?19:18)};return e.webkit&&(e.webkit=function(e){var t=(navigator.userAgent.match(/WebKit\/([0-9\.]*) /)||["",e])[1];return parseFloat(t,10)}(e)),e}(),Util.prototype.targetDOM="object"===("undefined"===typeof HTMLElement?"undefined":(0,_typeof3.default)(HTMLElement))?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"===("undefined"===typeof e?"undefined":(0,_typeof3.default)(e))&&1===e.nodeType&&"string"===typeof e.nodeName},Util.prototype.cloneCSS=function(e,t){var n=window.getComputedStyle&&window.getComputedStyle(e,null)||e.currentStyle;for(var r in n){var i=n[r];/^[a-z]/i.test(r)&&[null,"",void 0].indexOf(i)<0&&(t.style[r]=i)}},Util.prototype.canYield=function(){try{return eval("!!Function('yield true;')().next()")}catch(e){return!1}}(),module.exports=new Util},function(e,t,n){"use strict";t.__esModule=!0;var r=n(89),i=c(r),o=n(92),s=c(o),a="function"===typeof s.default&&"symbol"===typeof i.default?function(e){return typeof e}:function(e){return e&&"function"===typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};function c(e){return e&&e.__esModule?e:{default:e}}t.default="function"===typeof s.default&&"symbol"===a(i.default)?function(e){return"undefined"===typeof e?"undefined":a(e)}:function(e){return e&&"function"===typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":"undefined"===typeof e?"undefined":a(e)}},function(e,t,n){e.exports={default:n(90),__esModule:!0}},function(e,t,n){n(11),n(54),e.exports=n(91).f("iterator")},function(e,t,n){t.f=n(51)},function(e,t,n){e.exports={default:n(93),__esModule:!0}},function(e,t,n){n(94),n(10),n(104),n(105),e.exports=n(4).Symbol},function(e,t,n){"use strict";var r=n(18),i=n(31),o=n(26),s=n(17),a=n(32),c=n(95).KEY,u=n(27),l=n(46),d=n(50),f=n(47),p=n(51),h=n(91),m=n(96),v=n(97),b=n(100),y=n(23),g=n(24),_=n(53),S=n(39),w=n(29),x=n(30),C=n(35),O=n(101),T=n(103),E=n(98),I=n(22),k=n(37),R=T.f,P=I.f,M=O.f,A=r.Symbol,j=r.JSON,N=j&&j.stringify,D="prototype",B=p("_hidden"),L=p("toPrimitive"),F={}.propertyIsEnumerable,V=l("symbol-registry"),U=l("symbols"),$=l("op-symbols"),W=Object[D],z="function"==typeof A&&!!E.f,H=r.QObject,G=!H||!H[D]||!H[D].findChild,q=o&&u((function(){return 7!=C(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=R(W,t);r&&delete W[t],P(e,t,n),r&&e!==W&&P(W,t,r)}:P,K=function(e){var t=U[e]=C(A[D]);return t._k=e,t},Y=z&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},J=function(e,t,n){return e===W&&J($,t,n),y(e),t=w(t,!0),y(n),i(U,t)?(n.enumerable?(i(e,B)&&e[B][t]&&(e[B][t]=!1),n=C(n,{enumerable:x(0,!1)})):(i(e,B)||P(e,B,x(1,{})),e[B][t]=!0),q(e,t,n)):P(e,t,n)},X=function(e,t){y(e);var n,r=v(t=S(t)),i=0,o=r.length;while(o>i)J(e,n=r[i++],t[n]);return e},Z=function(e,t){return void 0===t?C(e):X(C(e),t)},Q=function(e){var t=F.call(this,e=w(e,!0));return!(this===W&&i(U,e)&&!i($,e))&&(!(t||!i(this,e)||!i(U,e)||i(this,B)&&this[B][e])||t)},ee=function(e,t){if(e=S(e),t=w(t,!0),e!==W||!i(U,t)||i($,t)){var n=R(e,t);return!n||!i(U,t)||i(e,B)&&e[B][t]||(n.enumerable=!0),n}},te=function(e){var t,n=M(S(e)),r=[],o=0;while(n.length>o)i(U,t=n[o++])||t==B||t==c||r.push(t);return r},ne=function(e){var t,n=e===W,r=M(n?$:S(e)),o=[],s=0;while(r.length>s)!i(U,t=r[s++])||n&&!i(W,t)||o.push(U[t]);return o};z||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===W&&t.call($,n),i(this,B)&&i(this[B],e)&&(this[B][e]=!1),q(this,e,x(1,n))};return o&&G&&q(W,e,{configurable:!0,set:t}),K(e)},a(A[D],"toString",(function(){return this._k})),T.f=ee,I.f=J,n(102).f=O.f=te,n(99).f=Q,E.f=ne,o&&!n(16)&&a(W,"propertyIsEnumerable",Q,!0),h.f=function(e){return K(p(e))}),s(s.G+s.W+s.F*!z,{Symbol:A});for(var re="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;re.length>ie;)p(re[ie++]);for(var oe=k(p.store),se=0;oe.length>se;)m(oe[se++]);s(s.S+s.F*!z,"Symbol",{for:function(e){return i(V,e+="")?V[e]:V[e]=A(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in V)if(V[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),s(s.S+s.F*!z,"Object",{create:Z,defineProperty:J,defineProperties:X,getOwnPropertyDescriptor:ee,getOwnPropertyNames:te,getOwnPropertySymbols:ne});var ae=u((function(){E.f(1)}));s(s.S+s.F*ae,"Object",{getOwnPropertySymbols:function(e){return E.f(_(e))}}),j&&s(s.S+s.F*(!z||u((function(){var e=A();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))}))),"JSON",{stringify:function(e){var t,n,r=[e],i=1;while(arguments.length>i)r.push(arguments[i++]);if(n=t=r[1],(g(t)||void 0!==e)&&!Y(e))return b(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,N.apply(j,r)}}),A[D][L]||n(21)(A[D],L,A[D].valueOf),d(A,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(47)("meta"),i=n(24),o=n(31),s=n(22).f,a=0,c=Object.isExtensible||function(){return!0},u=!n(27)((function(){return c(Object.preventExtensions({}))})),l=function(e){s(e,r,{value:{i:"O"+ ++a,w:{}}})},d=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[r].i},f=function(e,t){if(!o(e,r)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[r].w},p=function(e){return u&&h.NEED&&c(e)&&!o(e,r)&&l(e),e},h=e.exports={KEY:r,NEED:!1,fastKey:d,getWeak:f,onFreeze:p}},function(e,t,n){var r=n(18),i=n(4),o=n(16),s=n(91),a=n(22).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t,n){var r=n(37),i=n(98),o=n(99);e.exports=function(e){var t=r(e),n=i.f;if(n){var s,a=n(e),c=o.f,u=0;while(a.length>u)c.call(e,s=a[u++])&&t.push(s)}return t}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(41);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(39),i=n(102).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return i(e)}catch(t){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?a(e):i(r(e))}},function(e,t,n){var r=n(38),i=n(48).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(99),i=n(30),o=n(39),s=n(29),a=n(31),c=n(25),u=Object.getOwnPropertyDescriptor;t.f=n(26)?u:function(e,t){if(e=o(e),t=s(t,!0),c)try{return u(e,t)}catch(n){}if(a(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){n(96)("asyncIterator")},function(e,t,n){n(96)("observable")},function(e,t,n){e.exports={default:n(107),__esModule:!0}},function(e,t,n){n(108),e.exports=n(4).Object.getPrototypeOf},function(e,t,n){var r=n(53),i=n(52);n(83)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},,,function(e,t,n){e.exports=n(112)},function(e,t,n){"use strict";var r=window.emedia=window.emedia||{},i=r.util=n(87),o=n(5);if(r.config=function(e){for(var t in e=i.extend({},e),e)r.config[t]=e[t],"logLevel"===t&&(r.LOG_LEVEL=e[t]);r.config.loglastConfrCount&&!r._logContext&&(r._logContext=new Array(r.config.loglastConfrCount),r._logContextIndex=-1)},r.config({autoSub:!0,onlyEnter:!1,reconnect:13,reconnectDelay:3e3,getCopyIntervalMillis:3e4,checkConnectIntervalMillis:1e3,iceRebuildCount:3,iceRebuildIntervalMillis:500,enterTimeout:2e4,useRTCCfgIfServerReturn:!1,forceUseRTCCfgIfServerReturnWhenP2P:!0,allowRepeatAudioMixerPublish:!1,logVolumeWhenInstantGE:.5,getMediaMeterIntervalMillis:400,_useRequestAnimationFrame:!1,meterWithTrackAudioLevel:!1,judgeTalkingByInstantGE:.05,_printSoundData:!1,trackBufferSize:20,allowSendWhenLessThan:4,disableTrack:!1,ctrlCheckIntervalMillis:1e4,ctrlTimeoutMillis:3e4,_printDebugStats:!1,statsSeconds:10,remainLastStatsCount:120,loglastConfrCount:2,loglastStoreArray:!0,consoleLogger:!0,printStatsWhenPCClose:!0,rebuildPeerConnectionWhenNetworkChanaged:!0,useDeployMore:!1,rtcStatsTypeMath:function(e,t){switch(e.type){case"remote-candidate":case"local-candidate":case"track":case"stream":case"inbound-rtp":case"outbound-rtp":case"transport":return!0}return!1}}),i.logger.count(),function(){var e=n(113).default;if(r.browser=e.__browser,r.browserVersion=e.__browserVersion,void 0===r.browser)throw"Not discern browser. may require adapter error. eg. it.default"}(),i.logger.info("Current browser",r.browser,r.browserVersion),r.AudioContext=window.AudioContext||window.webkitAudioContext,r.config.getMediaMeterIntervalMillis){try{"function"===typeof r.AudioContext?(r.__audioContext=new r.AudioContext,r.__usingWebAudio=!0):r.__usingWebAudio=!1}catch(l){r.__usingWebAudio=!1}r.__usingWebAudio&&"suspended"===r.__audioContext.state&&o((function(){var e=function e(){"suspended"===r.__audioContext.state&&r.__audioContext.resume(),i.logger.warn("AudioContext state suspended ->",r.__audioContext.state),setTimeout((function(){"running"===r.__audioContext.state&&(document.body.removeEventListener("touchend",e,!1),document.body.removeEventListener("click",e,!1))}),0)};document.body.addEventListener("touchend",e,!1),document.body.addEventListener("click",e,!1)})),r.__usingWebAudio||console.warn("'new AudioContext()' failed. can not know who talking."),r.__audioContext&&"suspended"===r.__audioContext.state&&console.warn("audioContext.state is suspended. can not know who talking. You can resume() emedia.__audioContext, but only in response to a tap.")}if(window.requestAnimationFrame&&r.config._useRequestAnimationFrame?r.requestAnimationFrame=function(e){window.requestAnimationFrame(e)}:r.requestAnimationFrame=function(e,t){return setTimeout(e,t||r.config.getMediaMeterIntervalMillis)},window.cancelAnimationFrame&&r.config._useRequestAnimationFrame?r.cancelAnimationFrame=function(e){window.cancelAnimationFrame(e)}:r.cancelAnimationFrame=function(e){clearTimeout(e)},r.isWifi=function(){try{var e=!0,t=window.navigator.userAgent,n=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection;if(/MicroMessenger/.test(t)){if(t.indexOf("WIFI")>=0)return!0;e=!1}else if(n){var r=n.type;"wifi"!==r&&"2"!==r&&"unknown"!==r&&(e=!1)}return e}catch(l){return!1}},r.stopAudioTracks=function(e){e&&e.getAudioTracks().forEach((function(t){t.stop(),i.logger.info("Media stream stop audio track. stream =",e.id,"track =",t.id,t.kind)}))},r.stopAndRemoveAudioTracks=function(e){var t=[];e&&e.getAudioTracks().forEach((function(n){n.stop(),t.push(n),i.logger.info("Media stream stop and remove audio tracks. stream =",e.id,"track =",n.id,n.kind)})),i.forEach(t,(function(t,n){e.removeTrack(n)}))},r.stopTracks=function(e){try{var t=function(){e.getTracks().forEach((function(t){t.stop(),i.logger.info("Media stream stop track. stream =",e.id," track =",t.id,t.kind)})),e._bindAttendee&&(i.removeAttribute(e._bindAttendee._openedRtcMediaStreams,e.id),e._bindAttendee=null),i.logger.info("stream tracks stoped. it ",e.id)};if(!e||!1===e.active)return void i.logger.debug("stream tracks had been stoped. it ",e&&e.id);t()}catch(l){i.logger.error(l)}},r.enableVideoTracks=function(e,t){e&&e.getVideoTracks().forEach((function(n){if("function"===typeof n.enable)return n.enable(),i.logger.info("Media stream enable video track. stream =",e.id,"track =",n.kind,n.enabled,n.id),void(n.enabled===t||n.enable(t));n.enabled===t||(n.enabled=t)}))},r.enableAudioTracks=function(e,t){e&&e.getAudioTracks().forEach((function(n){if("function"===typeof n.enable)return n.enable(),i.logger.info("Media stream enable audio track. stream =",e.id,"track =",n.kind,n.enabled,n.id),void(n.enabled===t||n.enable(t));n.enabled===t||(n.enabled=t)}))},r.hasEnabledTracks=function(e){if(!e||"function"!==typeof e.getAudioTracks)return!1;if(!e.active)return!1;var t=e.getAudioTracks();if(0===t.length)return!1;for(var n in t)if("function"===typeof t[n].enable&&t[n].enable(),t[n].enabled)return!0;return!1},r.genReportName=function(){var e=r._lastSetupDate||new Date;return(r._lastSetupTktId||r._lastSetupConfr)+"_"+r._lastSetupMemName+"_"+e.getTime()+".log"},r.getReportUploadUrl=function(e,t,n){var r=new XMLHttpRequest;r.open(e,t,!0),r.addEventListener("load",(function(e){n&&n(e)}),!1),r.send(null)},r.uploadReport=function(e,t,n,o,s,a){var c=r.genReport();if(c){"function"===typeof n&&(a=s,s=o,o=n,n=void 0);var u=new Blob([c],{type:"text/plain"}),l=new FormData;l.append(e,u,e),n&&"function"===typeof l.set&&i.forEach(n,(function(e,t){l.set(e,t)}));var d=new XMLHttpRequest;d.open("POST",t,!0),d.setRequestHeader("X-File-Name",e),a&&a(d),d.addEventListener("load",f,!1),d.send(l),console.info("log begin upload. ",e," > ",t)}else s&&s("not logs");function f(n){console.info("log begin upload. result = ",n.currentTarget.status,e," > ",t),200===n.currentTarget.status?o&&o(n):s&&s(n)}},r.genReport=function(){if(r._logContext&&r._logContext instanceof Array&&!("undefined"===typeof r._logContextIndex||r._logContextIndex<0)){var e=0,t=r._logContextIndex;r._logContextIndex>=r._logContext.length&&(e=r._logContextIndex-r._logContext.length+1);for(var n="",i=e;i<=t;i++){var o=i%r._logContext.length,s=r._logContext[o];n+=s.join("\r\n")+"\r\n"}return r._logContext.loadlogs&&r._logContext.loadlogs instanceof Array&&(n+="-------------------------------------------------------------\r\n",n+=r._logContext.loadlogs.join("\r\n")+"\r\n"),n}},r.fileReport=function(e){var t=r.genReport();if(t){var n=encodeURIComponent(t),i=document.createElement("a");i.style.display="none",i.download=e||"emedia-"+(new Date).toJSON()+".log",i.href="data:text/plain;charset=utf-8,"+n,document.body.appendChild(i),i.click(),i.parentNode.removeChild(i)}},navigator.mediaDevices){var s=navigator.mediaDevices.getSupportedConstraints();i.logger.info("Supported constraints",s)}r.config({globalConstraints:{}});var a=n(141),c=n(151);r.Webrtc=n(156),r.Service=a,r.P2P=n(166),r.XService=a,r.XServiceWithP2P=r.P2P(a),r.mgr=n(167).outer,r.ctrl=n(370),r.CompositeCanvas=n(376),r.pannel||(r.pannel={}),r.pannel.DefaultMouseTrack=n(163),r.pannel.MouseTrack=n(164),r.pannel.KeyboardTrack=n(377);var u=r.PCStats=n(162);if(r.helper=r.helper||{},r.helper.PCStats=u,r.helper.pcstats=u.echo,r.helper.intervalPcstats=u.intervalEcho,r.helper.inboundAudio=u.inboundAudio,r.helper.inboundVideo=u.inboundVideo,r.helper.outboundAudio=u.outboundAudio,r.helper.outboundVideo=u.outboundVideo,r.event=c,r.LOG_LEVEL=0,r.isFirefox="firefox"===r.browser,r.isChrome="chrome"===r.browser,r.isSafari="safari"===r.browser,r.isEdge="edge"===r.browser,r.isElectron=/Electron/.test(navigator.userAgent),r.isElectron)try{n(378)}catch(l){i.logger.error(l)}r.youInSomeBrowsers=function(){if(r.isSafari){var e=new RegExp("(Version)/([0-9.]+)","i"),t=navigator.userAgent.match(e);if(null!=t){var n=unescape(t[2]);return n=parseInt(n),n<13}}return!1},r.replaceIpAndPortOfCandidate=function(e,t,n){return e.replace(/(candidate:\d+\s+\d+\s+UDP\s+\d+\s+)([\d\.]+)\s+(\d+)(\s+.*)/g,(function(e,r,i,o,s){return r+t+" "+n+s}))},r.replaceIpAndPort=function(e,t){return"function"!==typeof t?e:e.replace(/(candidate:\d+\s+\d+\s+UDP\s+\d+\s+)([\d\.]+)\s+(\d+)(\s+.*)/g,(function(e,n,r,i,o){var s=t(r,i);return"string"===typeof s?(s=s.replace(":"," "),n+s+o):n+ip+" "+port+o}))},r.replaceURL=function(e,t){return"function"!==typeof t?e:e.replace(/([^:\/?&#=]+):\/\/([^\/:?#]+)(:\d+)?(\/[^?#]*)?(\?[^\/#]*)?(#[^\/?]*)?/g,(function(n,r,i,o,s,a,c){o&&(o=o.substring(1));var u=t(n,r,i,o,s,a,c);if(!u)return e;if("string"===typeof u)return u;var l=u.protocol||r,d=u.host||i,f=u.port||o,p=u.path||s,h=u.query||a,m=u.fragment||c;return l+"://"+d+(f?":"+f:"")+(p||"")+(h||"")+(m||"")}))},r.requireTrustBeforeJoin=function(){return!1},r.isWebRTC=window.RTCPeerConnection&&/^https\:$/.test(window.location.protocol),(r.isChrome||r.isSafari)&&(r.supportPRAnswer=!0),r.supportPRAnswer=!1,r.config({baseAcptOps:[102,104,105,106,107,300,302,303,304,301,204,206,400,401,1001,100221,100222,100223,100224,100201,100202,100203]}),r.config({clientType:"WEB",version:"2.1.3",userAgent:navigator.userAgent,acptOps:[100230,100205,1003,1004]}),e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=emedia.singleWebrtcAdapter;function i(){emedia.util.logger.warn("webrtc-adapter must load once. if more, safari may initC sdp error(too many audio video, easemob server dont work)")}function o(){if(document.documentMode){var e=/\brv[ :]+(\d+)/g.exec(navigator.userAgent)||[],t="IE",i=parseInt(e[1],10);i||(e=/\bMSIE[ :]+(\d+)/g.exec(navigator.userAgent)||[],i=parseInt(e[1]||"0",10)),emedia.util.logger.error("adapter.ie not required"),r.__browser=t,r.__browserVersion=i}else r=n(114),emedia.util.logger.info("webrtc-adapter load first"),s();emedia.singleWebrtcAdapter=r}function s(){function e(e,t){e.srcObject=t;var n=emedia.util.logger||window.console||console;if(n){if(t&&n.info("stream attach videoTag.",t.id,t._located,">>",e.id,e.muted,e.volume,e),t||n.info("stream(null) attach videoTag.",e.id,e.muted,e.volume,e),!e.hxSetOnvolumechange){var r=e.onvolumechange;e.onvolumechange=function(){n.debug("stream attach detail: video tag volume chanage",e.volume,t?t.id:t),r&&r.apply(e,arguments)},e.hxSetOnvolumechange=!0}if(!e.hxSetOnstalled){var i=e.onstalled;e.onstalled=function(){n.debug("stream attach detail: video tag onstalled",t?t.id:t),i&&i.apply(e,arguments)},e.hxSetOnstalled=!0}if(!e.hxSetOnabort){var o=e.onabort;e.onabort=function(){n.debug("stream attach detail: video tag onabort",t?t.id:t),o&&o.apply(e,arguments)},e.hxSetOnabort=!0}if(!e.hxSetOncanplay){var s=e.oncanplay;e.oncanplay=function(){t&&t.getTracks().forEach((function(e){"function"===typeof e.getSettings&&n.debug("stream attach detail",t.id," track setting =",e.enabled,e.id,e.kind,e.label,e.getSettings())})),n.debug("stream attach detail: video tag",e.videoWidth,"x",e.videoHeight,t?t.id:t),s&&s.apply(e,arguments)},e.hxSetOncanplay=!0}}}function t(t,n,r,i){function o(){r=!!(void 0===r?n._located:r),t.muted=!1,r!==t.muted&&(t.muted=!0)}if(i||(i=window.__attachMediaStream)||(i=e.bind(this)),t){if(n)return t.srcObject&&t.srcObject._located&&n._located&&t.srcObject.id===n.id?t.srcObject:(o(),i(t,n),t);i(t,n)}}window.attachMediaStream&&!0!==window.attachMediaStream._wrapped&&(window.__attachMediaStream=window.attachMediaStream),window.attachMediaStream=t,window.attachMediaStream._wrapped=!0,console&&"function"===typeof console.info&&console.info("Wrap the attachMediaStream ",r.__browser,r.__browserVersion)}i(),r?emedia.util.logger.error("webrtc-adapter repeated load, safari may dont work"):o(),r.__browser=r.__browser||r.browserDetails.browser,r.__browserVersion=r.__browserVersion||r.browserDetails.version,emedia.util.logger.info("Current browser",r.__browser,r.__browserVersion),"Not a supported browser."===r.__browser&&emedia.util.logger.error("Not a supported browser"),t.default=r},function(e,t,n){"use strict";var r,i,o,s,a=n(115),c=E(a),u=n(2),l=E(u),d=n(119),f=E(d),p=n(8),h=E(p),m=n(80),v=E(m),b=n(122),y=E(b),g=n(138),_=E(g),S=n(89),w=E(S),x=n(92),C=E(x),O=n(88),T=E(O);function E(e){return e&&e.__esModule?e:{default:e}}(function(n){"object"===(0,T.default)(t)&&"undefined"!==typeof e?e.exports=n():(i=[],r=n,o="function"===typeof r?r.apply(t,i):r,void 0===o||(e.exports=o))})((function(){return function(){function e(t,n,r){function i(a,c){if(!n[a]){if(!t[a]){var u="function"==typeof s&&s;if(!c&&u)return s(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[a]={exports:{}};t[a][0].call(d.exports,(function(e){var n=t[a][1][e];return i(n||e)}),d,d.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof s&&s,a=0;a<r.length;a++)i(r[a]);return i}return e}()({1:[function(e,t,n){var r=e("./adapter_factory.js"),i=(0,r.adapterFactory)({window:window});t.exports=i},{"./adapter_factory.js":2}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.adapterFactory=v;var r=e("./utils"),i=m(r),o=e("./chrome/chrome_shim"),s=m(o),a=e("./edge/edge_shim"),c=m(a),u=e("./firefox/firefox_shim"),l=m(u),d=e("./safari/safari_shim"),f=m(d),p=e("./common_shim"),h=m(p);function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.window,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},r=i.log,o=i.detectBrowser(t),a={browserDetails:o,commonShim:h,extractVersion:i.extractVersion,disableLog:i.disableLog,disableWarnings:i.disableWarnings};switch(o.browser){case"chrome":if(!s||!s.shimPeerConnection||!n.shimChrome)return r("Chrome shim is not included in this adapter release."),a;r("adapter.js shimming chrome."),a.browserShim=s,s.shimGetUserMedia(t),s.shimMediaStream(t),s.shimPeerConnection(t),s.shimOnTrack(t),s.shimAddTrackRemoveTrack(t),s.shimGetSendersWithDtmf(t),s.shimGetStats(t),s.shimSenderReceiverGetStats(t),s.fixNegotiationNeeded(t),h.shimRTCIceCandidate(t),h.shimConnectionState(t),h.shimMaxMessageSize(t),h.shimSendThrowTypeError(t),h.removeAllowExtmapMixed(t);break;case"firefox":if(!l||!l.shimPeerConnection||!n.shimFirefox)return r("Firefox shim is not included in this adapter release."),a;r("adapter.js shimming firefox."),a.browserShim=l,l.shimGetUserMedia(t),l.shimPeerConnection(t),l.shimOnTrack(t),l.shimRemoveStream(t),l.shimSenderGetStats(t),l.shimReceiverGetStats(t),l.shimRTCDataChannel(t),l.shimAddTransceiver(t),l.shimCreateOffer(t),l.shimCreateAnswer(t),h.shimRTCIceCandidate(t),h.shimConnectionState(t),h.shimMaxMessageSize(t),h.shimSendThrowTypeError(t);break;case"edge":if(!c||!c.shimPeerConnection||!n.shimEdge)return r("MS edge shim is not included in this adapter release."),a;r("adapter.js shimming edge."),a.browserShim=c,c.shimGetUserMedia(t),c.shimGetDisplayMedia(t),c.shimPeerConnection(t),c.shimReplaceTrack(t),h.shimMaxMessageSize(t),h.shimSendThrowTypeError(t);break;case"safari":if(!f||!n.shimSafari)return r("Safari shim is not included in this adapter release."),a;r("adapter.js shimming safari."),a.browserShim=f,f.shimRTCIceServerUrls(t),f.shimCreateOfferLegacy(t),f.shimCallbacksAPI(t),f.shimLocalStreamsAPI(t),f.shimRemoteStreamsAPI(t),f.shimTrackEventTransceiver(t),f.shimGetUserMedia(t),h.shimRTCIceCandidate(t),h.shimMaxMessageSize(t),h.shimSendThrowTypeError(t),h.removeAllowExtmapMixed(t);break;default:r("Unsupported browser!");break}return a}},{"./chrome/chrome_shim":3,"./common_shim":6,"./edge/edge_shim":7,"./firefox/firefox_shim":11,"./safari/safari_shim":14,"./utils":15}],3:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=n.shimGetUserMedia=void 0;var r="function"===typeof C.default&&"symbol"===(0,T.default)(w.default)?function(e){return"undefined"===typeof e?"undefined":(0,T.default)(e)}:function(e){return e&&"function"===typeof C.default&&e.constructor===C.default&&e!==C.default.prototype?"symbol":"undefined"===typeof e?"undefined":(0,T.default)(e)},i=e("./getusermedia");Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}});var o=e("./getdisplaymedia");Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return o.shimGetDisplayMedia}}),n.shimMediaStream=l,n.shimOnTrack=d,n.shimGetSendersWithDtmf=p,n.shimGetStats=m,n.shimSenderReceiverGetStats=b,n.shimAddTrackRemoveTrackWithNative=g,n.shimAddTrackRemoveTrack=S,n.shimPeerConnection=x,n.fixNegotiationNeeded=O;var s=e("../utils.js"),a=c(s);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e,t,n){return t in e?(0,_.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function d(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(r){var i=void 0;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.track.id})):{track:r.track};var o=new Event("track");o.track=r.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)})),t.stream.getTracks().forEach((function(r){var i=void 0;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.id})):{track:r};var o=new Event("track");o.track=r,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else a.wrapPeerConnectionEvent(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}))}function p(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){var i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){i.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var o=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._senders=this._senders||[],o.apply(this,[e]),e.getTracks().forEach((function(e){n._senders.push(t(n,e))}))};var s=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],s.apply(this,[e]),e.getTracks().forEach((function(e){var n=t._senders.find((function(t){return t.track===e}));n&&t._senders.splice(t._senders.indexOf(n),1)}))}}else if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function m(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,n=Array.prototype.slice.call(arguments),r=n[0],i=n[1],o=n[2];if(arguments.length>0&&"function"===typeof r)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!==typeof r))return t.apply(this,[]);var s=function(e){var t={},n=e.result();return n.forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},a=function(e){return new y.default((0,v.default)(e).map((function(t){return[t,e[t]]})))};if(arguments.length>=2){var c=function(e){i(a(s(e)))};return t.apply(this,[c,r])}return new h.default((function(n,r){t.apply(e,[function(e){n(a(s(e)))},r])})).then(i,o)}}}function b(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return a.filterStats(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var i=e.RTCPeerConnection.prototype.getReceivers;i&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=i.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),a.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return a.filterStats(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t=arguments[0],n=void 0,r=void 0,i=void 0;return this.getSenders().forEach((function(e){e.track===t&&(n?i=!0:n=e)})),this.getReceivers().forEach((function(e){return e.track===t&&(r?i=!0:r=e),e.track===t})),i||n&&r?h.default.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):n?n.getStats():r?r.getStats():h.default.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return o.apply(this,arguments)}}}}function g(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},(0,v.default)(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));if(n)throw new DOMException("Track already exists.","InvalidAccessError")}));var r=this.getSenders();n.apply(this,arguments);var i=this.getSenders().filter((function(e){return-1===r.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(i)};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&(0,v.default)(this._shimmedLocalStreams).forEach((function(n){var r=t._shimmedLocalStreams[n].indexOf(e);-1!==r&&t._shimmedLocalStreams[n].splice(r,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]})),i.apply(this,arguments)}}function S(e){if(e.RTCPeerConnection){var t=a.detectBrowser(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return g(e);var n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=n.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){var t=n.getSenders().find((function(t){return t.track===e}));if(t)throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}r.apply(this,[t])};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var o=this.getSenders().find((function(e){return e.track===t}));if(o)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var s=this._streams[n.id];if(s)s.addTrack(t),h.default.resolve().then((function(){r.dispatchEvent(new Event("negotiationneeded"))}));else{var a=new e.MediaStream([t]);this._streams[n.id]=a,this._reverseStreams[a.id]=n,this.addStream(a)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=u({},t,(function(){var e=this,t=arguments,r=arguments.length&&"function"===typeof arguments[0];return r?n.apply(this,[function(n){var r=c(e,n);t[0].apply(null,[r])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(this,arguments).then((function(t){return c(e,t)}))}));e.RTCPeerConnection.prototype[t]=r[t]}));var o=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=l(this,arguments[0]),o.apply(this,arguments)):o.apply(this,arguments)};var s=(0,f.default)(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=s.get.apply(this);return""===e.type?e:c(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");var n=e._pc===this;if(!n)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};var r=void 0;(0,v.default)(this._streams).forEach((function(n){var i=t._streams[n].getTracks().find((function(t){return e.track===t}));i&&(r=t._streams[n])})),r&&(1===r.getTracks().length?this.removeStream(this._reverseStreams[r.id]):r.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function c(e,t){var n=t.sdp;return(0,v.default)(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}function l(e,t){var n=t.sdp;return(0,v.default)(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}}function x(e){var t=a.detectBrowser(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection){t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=u({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=r[t]}));var n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?t.version<78&&arguments[0]&&""===arguments[0].candidate?h.default.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),h.default.resolve())}}}function O(e){a.wrapPeerConnectionEvent(e,"negotiationneeded",(function(e){var t=e.target;if("stable"===t.signalingState)return e}))}},{"../utils.js":15,"./getdisplaymedia":4,"./getusermedia":5}],4:[function(e,t,n){function r(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"===typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((function(t){var r=n.video&&n.video.width,i=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=r},{}],5:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r="function"===typeof C.default&&"symbol"===(0,T.default)(w.default)?function(e){return"undefined"===typeof e?"undefined":(0,T.default)(e)}:function(e){return e&&"function"===typeof C.default&&e.constructor===C.default&&e!==C.default.prototype?"symbol":"undefined"===typeof e?"undefined":(0,T.default)(e)};n.shimGetUserMedia=c;var i=e("../utils.js"),o=s(i);function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var a=o.log;function c(e){var t=e&&e.navigator;if(t.mediaDevices){var n=o.detectBrowser(e),i=function(e){if("object"!==("undefined"===typeof e?"undefined":r(e))||e.mandatory||e.optional)return e;var t={};return(0,v.default)(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var i="object"===r(e[n])?e[n]:{ideal:e[n]};void 0!==i.exact&&"number"===typeof i.exact&&(i.min=i.max=i.exact);var o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==i.ideal){t.optional=t.optional||[];var s={};"number"===typeof i.ideal?(s[o("min",n)]=i.ideal,t.optional.push(s),s={},s[o("max",n)]=i.ideal,t.optional.push(s)):(s[o("",n)]=i.ideal,t.optional.push(s))}void 0!==i.exact&&"number"!==typeof i.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",n)]=i.exact):["min","max"].forEach((function(e){void 0!==i[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,n)]=i[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},s=function(e,o){if(n.version>=61)return o(e);if(e=JSON.parse((0,l.default)(e)),e&&"object"===r(e.audio)){var s=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};e=JSON.parse((0,l.default)(e)),s(e.audio,"autoGainControl","googAutoGainControl"),s(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=i(e.audio)}if(e&&"object"===r(e.video)){var c=e.video.facingMode;c=c&&("object"===("undefined"===typeof c?"undefined":r(c))?c:{ideal:c});var u=n.version<66;if(c&&("user"===c.exact||"environment"===c.exact||"user"===c.ideal||"environment"===c.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||u)){delete e.video.facingMode;var d=void 0;if("environment"===c.exact||"environment"===c.ideal?d=["back","rear"]:"user"!==c.exact&&"user"!==c.ideal||(d=["front"]),d)return t.mediaDevices.enumerateDevices().then((function(t){t=t.filter((function(e){return"videoinput"===e.kind}));var n=t.find((function(e){return d.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!n&&t.length&&d.includes("back")&&(n=t[t.length-1]),n&&(e.video.deviceId=c.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=i(e.video),a("chrome: "+(0,l.default)(e)),o(e)}))}e.video=i(e.video)}return a("chrome: "+(0,l.default)(e)),o(e)},c=function(e){return n.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},u=function(e,n,r){s(e,(function(e){t.webkitGetUserMedia(e,n,(function(e){r&&r(c(e))}))}))};if(t.getUserMedia=u.bind(t),t.mediaDevices.getUserMedia){var d=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return s(e,(function(e){return d(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return h.default.reject(c(e))}))}))}}}}},{"../utils.js":15}],6:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r="function"===typeof C.default&&"symbol"===(0,T.default)(w.default)?function(e){return"undefined"===typeof e?"undefined":(0,T.default)(e)}:function(e){return e&&"function"===typeof C.default&&e.constructor===C.default&&e!==C.default.prototype?"symbol":"undefined"===typeof e?"undefined":(0,T.default)(e)};n.shimRTCIceCandidate=f,n.shimMaxMessageSize=p,n.shimSendThrowTypeError=h,n.shimConnectionState=m,n.removeAllowExtmapMixed=v;var i=e("sdp"),o=d(i),s=e("./utils"),a=u(s);function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.candidate&&0===e.candidate.indexOf("a=")&&(e=JSON.parse((0,l.default)(e)),e.candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),i=o.default.parseCandidate(e.candidate),s=(0,c.default)(n,i);return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,a.wrapPeerConnectionEvent(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}}function p(e){if(e.RTCPeerConnection){var t=a.detectBrowser(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return"undefined"===typeof this._sctp?null:this._sctp}});var n=function(e){if(!e||!e.sdp)return!1;var t=o.default.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=o.default.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},r=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!==n?-1:n},i=function(e){var n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},s=function(e,n){var r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);var i=o.default.matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r},c=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){var e=this.getConfiguration(),o=e.sdpSemantics;"plan-b"===o&&Object.defineProperty(this,"sctp",{get:function(){return"undefined"===typeof this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){var a=r(arguments[0]),u=i(a),l=s(arguments[0],a),d=void 0;d=0===u&&0===l?Number.POSITIVE_INFINITY:0===u||0===l?Math.max(u,l):Math.min(u,l);var f={};Object.defineProperty(f,"maxMessageSize",{get:function(){return d}}),this._sctp=f}return c.apply(this,arguments)}}}function h(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return n(e,this),e},a.wrapPeerConnectionEvent(e,"datachannel",(function(e){return n(e.channel,e.target),e}))}function n(e,t){var n=e.send;e.send=function(){var r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}}function m(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}}function v(e){if(e.RTCPeerConnection){var t=a.detectBrowser(e);if(!("chrome"===t.browser&&t.version>=71)){var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")&&(e.sdp=e.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n")),n.apply(this,arguments)}}}}},{"./utils":15,sdp:17}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=n.shimGetUserMedia=void 0;var r=e("./getusermedia");Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return r.shimGetUserMedia}});var i=e("./getdisplaymedia");Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return i.shimGetDisplayMedia}}),n.shimPeerConnection=p,n.shimReplaceTrack=h;var o=e("../utils"),s=d(o),a=e("./filtericeservers"),c=e("rtcpeerconnection-shim"),u=l(c);function l(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){var t=s.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var n=(0,f.default)(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){n.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var r=(0,u.default)(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=(0,a.filterIceServers)(e.iceServers,t.version),s.log("ICE servers after filtering:",e.iceServers)),new r(e)},e.RTCPeerConnection.prototype=r.prototype}function h(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}},{"../utils":15,"./filtericeservers":8,"./getdisplaymedia":9,"./getusermedia":10,"rtcpeerconnection-shim":16}],8:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.filterIceServers=s;var r=e("../utils"),i=o(r);function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e,t){var n=!1;return e=JSON.parse((0,l.default)(e)),e.filter((function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&i.deprecated("RTCIceServer.url","RTCIceServer.urls");var r="string"===typeof t;return r&&(t=[t]),t=t.filter((function(e){if(0===e.indexOf("stun:"))return!1;var t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!n?(n=!0,!0):t&&!n})),delete e.url,e.urls=r?t[0]:t,!!t.length}}))}},{"../utils":15}],9:[function(e,t,n){function r(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=r},{}],10:[function(e,t,n){function r(e){var t=e&&e.navigator,n=function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}},r=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return r(e).catch((function(e){return h.default.reject(n(e))}))}}Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetUserMedia=r},{}],11:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=n.shimGetUserMedia=void 0;var r="function"===typeof C.default&&"symbol"===(0,T.default)(w.default)?function(e){return"undefined"===typeof e?"undefined":(0,T.default)(e)}:function(e){return e&&"function"===typeof C.default&&e.constructor===C.default&&e!==C.default.prototype?"symbol":"undefined"===typeof e?"undefined":(0,T.default)(e)},i=e("./getusermedia");Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}});var o=e("./getdisplaymedia");Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return o.shimGetDisplayMedia}}),n.shimOnTrack=d,n.shimPeerConnection=f,n.shimSenderGetStats=p,n.shimReceiverGetStats=m,n.shimRemoveStream=v,n.shimRTCDataChannel=b,n.shimAddTransceiver=g,n.shimCreateOffer=S,n.shimCreateAnswer=x;var s=e("../utils"),a=u(s);function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(e,t,n){return t in e?(0,_.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){"object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function f(e){var t=a.detectBrowser(e);if("object"===("undefined"===typeof e?"undefined":r(e))&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){if(!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=l({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=r[t]})),t.version<68){var n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&""===arguments[0].candidate?h.default.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),h.default.resolve())}}var i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),n=e[0],r=e[1],s=e[2];return o.apply(this,[n||null]).then((function(e){if(t.version<53&&!r)try{e.forEach((function(e){e.type=i[e.type]||e.type}))}catch(n){if("TypeError"!==n.name)throw n;e.forEach((function(t,n){e.set(n,(0,c.default)({},t,{type:i[t.type]||t.type}))}))}return e})).then(r,s)}}}function p(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):h.default.resolve(new y.default)}}}function m(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n}),a.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function v(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;a.deprecated("removeStream","removeTrack"),this.getSenders().forEach((function(n){n.track&&e.getTracks().includes(n.track)&&t.removeTrack(n)}))})}function b(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function g(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach((function(e){if("rid"in e){var t=/^[a-z0-9]{0,16}$/i;if(!t.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));var r=t.apply(this,arguments);if(n){var i=r.sender,o=i.getParameters();"encodings"in o||(o.encodings=e.sendEncodings,this.setParametersPromises.push(i.setParameters(o).catch((function(){}))))}return r})}}function S(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=this,n=arguments;return this.setParametersPromises&&this.setParametersPromises.length?h.default.all(this.setParametersPromises).then((function(){return t.apply(e,n)})).finally((function(){e.setParametersPromises=[]})):t.apply(this,arguments)}}}function x(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=this,n=arguments;return this.setParametersPromises&&this.setParametersPromises.length?h.default.all(this.setParametersPromises).then((function(){return t.apply(e,n)})).finally((function(){e.setParametersPromises=[]})):t.apply(this,arguments)}}}},{"../utils":15,"./getdisplaymedia":12,"./getusermedia":13}],12:[function(e,t,n){function r(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,h.default.reject(r)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=r},{}],13:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r="function"===typeof C.default&&"symbol"===(0,T.default)(w.default)?function(e){return"undefined"===typeof e?"undefined":(0,T.default)(e)}:function(e){return e&&"function"===typeof C.default&&e.constructor===C.default&&e!==C.default.prototype?"symbol":"undefined"===typeof e?"undefined":(0,T.default)(e)};n.shimGetUserMedia=a;var i=e("../utils"),o=s(i);function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){var t=o.detectBrowser(e),n=e&&e.navigator,i=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){o.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var s=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"===("undefined"===typeof e?"undefined":r(e))&&"object"===r(e.audio)&&(e=JSON.parse((0,l.default)(e)),s(e.audio,"autoGainControl","mozAutoGainControl"),s(e.audio,"noiseSuppression","mozNoiseSuppression")),a(e)},i&&i.prototype.getSettings){var c=i.prototype.getSettings;i.prototype.getSettings=function(){var e=c.apply(this,arguments);return s(e,"mozAutoGainControl","autoGainControl"),s(e,"mozNoiseSuppression","noiseSuppression"),e}}if(i&&i.prototype.applyConstraints){var u=i.prototype.applyConstraints;i.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===("undefined"===typeof e?"undefined":r(e))&&(e=JSON.parse((0,l.default)(e)),s(e,"autoGainControl","mozAutoGainControl"),s(e,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[e])}}}}},{"../utils":15}],14:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r="function"===typeof C.default&&"symbol"===(0,T.default)(w.default)?function(e){return"undefined"===typeof e?"undefined":(0,T.default)(e)}:function(e){return e&&"function"===typeof C.default&&e.constructor===C.default&&e!==C.default.prototype?"symbol":"undefined"===typeof e?"undefined":(0,T.default)(e)};n.shimLocalStreamsAPI=a,n.shimRemoteStreamsAPI=u,n.shimCallbacksAPI=d,n.shimGetUserMedia=f,n.shimConstraints=p,n.shimRTCIceServerUrls=m,n.shimTrackEventTransceiver=v,n.shimCreateOfferLegacy=b;var i=e("../utils"),o=s(i);function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((function(r){return t.call(n,r,e)})),e.getVideoTracks().forEach((function(r){return t.call(n,r,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e){var n=arguments[1];return n&&(this._localStreams?this._localStreams.includes(n)||this._localStreams.push(n):this._localStreams=[n]),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var n=this._localStreams.indexOf(e);if(-1!==n){this._localStreams.splice(n,1);var r=e.getTracks();this.getSenders().forEach((function(e){r.includes(e.track)&&t.removeTrack(e)}))}})}}function u(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var n=new Event("addstream");n.stream=e,t.dispatchEvent(n)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}}))}),t.apply(e,arguments)}}}function d(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,n=t.createOffer,i=t.createAnswer,o=t.setLocalDescription,s=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),h.default.resolve()):i},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],r=i.apply(this,[n]);return t?(r.then(e,t),h.default.resolve()):r};var c=function(e,t,n){var r=o.apply(this,[e]);return n?(r.then(t,n),h.default.resolve()):r};t.setLocalDescription=c,c=function(e,t,n){var r=s.apply(this,[e]);return n?(r.then(t,n),h.default.resolve()):r},t.setRemoteDescription=c,c=function(e,t,n){var r=a.apply(this,[e]);return n?(r.then(t,n),h.default.resolve()):r},t.addIceCandidate=c}}function f(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(e){return r(p(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function p(e){return e&&void 0!==e.video?(0,c.default)({},e,{video:o.compactObject(e.video)}):e}function m(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var r=[],i=0;i<e.iceServers.length;i++){var s=e.iceServers[i];!s.hasOwnProperty("urls")&&s.hasOwnProperty("url")?(o.deprecated("RTCIceServer.url","RTCIceServer.urls"),s=JSON.parse((0,l.default)(s)),s.urls=s.url,delete s.url,r.push(s)):r.push(e.iceServers[i])}e.iceServers=r}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}function v(e){"object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function b(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){"undefined"!==typeof e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var n=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||this.addTransceiver("audio"),"undefined"!==typeof e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var r=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video")}return t.apply(this,arguments)}}},{"../utils":15}],15:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r="function"===typeof C.default&&"symbol"===(0,T.default)(w.default)?function(e){return"undefined"===typeof e?"undefined":(0,T.default)(e)}:function(e){return e&&"function"===typeof C.default&&e.constructor===C.default&&e!==C.default.prototype?"symbol":"undefined"===typeof e?"undefined":(0,T.default)(e)};function i(e,t,n){return t in e?(0,_.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.extractVersion=a,n.wrapPeerConnectionEvent=u,n.disableLog=l,n.disableWarnings=d,n.log=f,n.deprecated=p,n.detectBrowser=h,n.compactObject=b,n.walkStats=g,n.filterStats=S;var o=!0,s=!0;function a(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function u(e,t,n){if(e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);var o=function(e){var t=n(e);t&&r(t)};return this._eventMap=this._eventMap||{},this._eventMap[r]=o,i.apply(this,[e,o])};var o=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[n])return o.apply(this,arguments);var r=this._eventMap[n];return delete this._eventMap[n],o.apply(this,[e,r])},(0,_.default)(r,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function l(e){return"boolean"!==typeof e?new Error("Argument type: "+("undefined"===typeof e?"undefined":r(e))+". Please use a boolean."):(o=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function d(e){return"boolean"!==typeof e?new Error("Argument type: "+("undefined"===typeof e?"undefined":r(e))+". Please use a boolean."):(s=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function f(){if("object"===("undefined"===typeof window?"undefined":r(window))){if(o)return;"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,arguments)}}function p(e,t){s&&console.warn(e+" is deprecated, please use "+t+" instead.")}function h(e){var t=e.navigator,n={browser:null,version:null};if("undefined"===typeof e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=a(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)n.browser="chrome",n.version=a(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=a(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=a(t.userAgent,/AppleWebKit\/(\d+)\./,1),n.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return n}function m(e){return"[object Object]"===Object.prototype.toString.call(e)}function b(e){return m(e)?(0,v.default)(e).reduce((function(t,n){var r=m(e[n]),o=r?b(e[n]):e[n],s=r&&!(0,v.default)(o).length;return void 0===o||s?t:(0,c.default)(t,i({},n,o))}),{}):e}function g(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),(0,v.default)(t).forEach((function(r){r.endsWith("Id")?g(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach((function(t){g(e,e.get(t),n)}))})))}function S(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",i=new y.default;if(null===t)return i;var o=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((function(t){e.forEach((function(n){n.type===r&&n.trackId===t.id&&g(e,n,i)}))})),i}},{}],16:[function(e,t,n){var r=e("sdp");function i(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}function o(e,t,n,i,o){var s=r.writeRtpDescription(e.kind,t);if(s+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),s+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":o||"active"),s+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?s+="a=sendrecv\r\n":e.rtpSender?s+="a=sendonly\r\n":e.rtpReceiver?s+="a=recvonly\r\n":s+="a=inactive\r\n",e.rtpSender){var a=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=a;var c="msid:"+(i?i.id:"-")+" "+a+"\r\n";s+="a="+c,s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+c,e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+c,s+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),s}function s(e,t){var n=!1;return e=JSON.parse((0,l.default)(e)),e.filter((function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"===typeof r;return i&&(r=[r]),r=r.filter((function(e){var r=0===e.indexOf("turn:")&&-1!==e.indexOf("transport=udp")&&-1===e.indexOf("turn:[")&&!n;return r?(n=!0,!0):0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp")})),delete e.url,e.urls=i?r[0]:r,!!r.length}}))}function a(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},i=function(e,t,n,i){var o=r(e.parameters.apt,n),s=r(t.parameters.apt,i);return o&&s&&o.name.toLowerCase()===s.name.toLowerCase()};return e.codecs.forEach((function(r){for(var o=0;o<t.codecs.length;o++){var s=t.codecs[o];if(r.name.toLowerCase()===s.name.toLowerCase()&&r.clockRate===s.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&s.parameters.apt&&!i(r,s,e.codecs,t.codecs))continue;s=JSON.parse((0,l.default)(s)),s.numChannels=Math.min(r.numChannels,s.numChannels),n.codecs.push(s),s.rtcpFeedback=s.rtcpFeedback.filter((function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}})),n}function u(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function d(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function f(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}t.exports=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function p(t,n){n.removeTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}function m(t,n,r,i){var o=new Event("track");o.track=n,o.receiver=r,o.transceiver={receiver:r},o.streams=i,e.setTimeout((function(){t._dispatchEvent("track",o)}))}var b=function(n){var i=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){i[e]=o[e].bind(o)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse((0,l.default)(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw f("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all";break}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced";break}if(n.iceServers=s(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var a=n.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=r.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(b.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(b.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),b.prototype.onicecandidate=null,b.prototype.onaddstream=null,b.prototype.ontrack=null,b.prototype.onremovestream=null,b.prototype.onsignalingstatechange=null,b.prototype.oniceconnectionstatechange=null,b.prototype.onconnectionstatechange=null,b.prototype.onicegatheringstatechange=null,b.prototype.onnegotiationneeded=null,b.prototype.ondatachannel=null,b.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"===typeof this["on"+e]&&this["on"+e](t))},b.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},b.prototype.getConfiguration=function(){return this._config},b.prototype.getLocalStreams=function(){return this.localStreams},b.prototype.getRemoteStreams=function(){return this.remoteStreams},b.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,r={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)r.iceTransport=this.transceivers[0].iceTransport,r.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();r.iceTransport=i.iceTransport,r.dtlsTransport=i.dtlsTransport}return t||this.transceivers.push(r),r},b.prototype.addTrack=function(t,n){if(this._isClosed)throw f("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r,i=this.transceivers.find((function(e){return e.track===t}));if(i)throw f("InvalidAccessError","Track already exists.");for(var o=0;o<this.transceivers.length;o++)this.transceivers[o].track||this.transceivers[o].kind!==t.kind||(r=this.transceivers[o]);return r||(r=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},b.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach((function(t){n.addTrack(t,e)}));else{var r=e.clone();e.getTracks().forEach((function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",(function(e){n.enabled=e.enabled}))})),r.getTracks().forEach((function(e){n.addTrack(e,r)}))}},b.prototype.removeTrack=function(t){if(this._isClosed)throw f("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw f("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null;var i=this.transceivers.map((function(e){return e.stream}));-1===i.indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},b.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},b.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},b.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},b.prototype._createIceGatherer=function(t,n){var r=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===(0,v.default)(e.candidate).length;i.state=n?"completed":"gathering",null!==r.transceivers[t].bufferedCandidateEvents&&r.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},b.prototype._gather=function(t,n){var i=this,o=this.transceivers[n].iceGatherer;if(!o.onlocalcandidate){var s=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,o.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),o.onlocalcandidate=function(e){if(!(i.usingBundle&&n>0)){var s=new Event("icecandidate");s.candidate={sdpMid:t,sdpMLineIndex:n};var a=e.candidate,u=!a||0===(0,v.default)(a).length;if(u)"new"!==o.state&&"gathering"!==o.state||(o.state="completed");else{"new"===o.state&&(o.state="gathering"),a.component=1,a.ufrag=o.getLocalParameters().usernameFragment;var l=r.writeCandidate(a);s.candidate=(0,c.default)(s.candidate,r.parseCandidate(l)),s.candidate.candidate=l,s.candidate.toJSON=function(){return{candidate:s.candidate.candidate,sdpMid:s.candidate.sdpMid,sdpMLineIndex:s.candidate.sdpMLineIndex,usernameFragment:s.candidate.usernameFragment}}}var d=r.getMediaSections(i._localDescription.sdp);d[s.candidate.sdpMLineIndex]+=u?"a=end-of-candidates\r\n":"a="+s.candidate.candidate+"\r\n",i._localDescription.sdp=r.getDescription(i._localDescription.sdp)+d.join("");var f=i.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),u||i._dispatchEvent("icecandidate",s),f&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},e.setTimeout((function(){s.forEach((function(e){o.onlocalcandidate(e)}))}),0)}},b.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var r=new e.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},b.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var r=this.transceivers[e].dtlsTransport;r&&(delete r.ondtlsstatechange,delete r.onerror,delete this.transceivers[e].dtlsTransport)},b.prototype._transceive=function(e,n,i){var o=a(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(o.encodings=e.sendEncodingParameters,o.rtcp={cname:r.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(o.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(o)),i&&e.rtpReceiver&&o.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?o.encodings=e.recvEncodingParameters:o.encodings=[{}],o.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(o.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(o.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(o))},b.prototype.setLocalDescription=function(e){var t,n,i=this;if(-1===["offer","answer"].indexOf(e.type))return h.default.reject(f("TypeError",'Unsupported type "'+e.type+'"'));if(!u("setLocalDescription",e.type,i.signalingState)||i._isClosed)return h.default.reject(f("InvalidStateError","Can not set local "+e.type+" in state "+i.signalingState));if("offer"===e.type)t=r.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){var n=r.parseRtpParameters(e);i.transceivers[t].localCapabilities=n})),i.transceivers.forEach((function(e,t){i._gather(e.mid,t)}));else if("answer"===e.type){t=r.splitSections(i._remoteDescription.sdp),n=t.shift();var o=r.matchPrefix(n,"a=ice-lite").length>0;t.forEach((function(e,t){var s=i.transceivers[t],c=s.iceGatherer,u=s.iceTransport,l=s.dtlsTransport,d=s.localCapabilities,f=s.remoteCapabilities,p=r.isRejected(e)&&0===r.matchPrefix(e,"a=bundle-only").length;if(!p&&!s.rejected){var h=r.getIceParameters(e,n),m=r.getDtlsParameters(e,n);o&&(m.role="server"),i.usingBundle&&0!==t||(i._gather(s.mid,t),"new"===u.state&&u.start(c,h,o?"controlling":"controlled"),"new"===l.state&&l.start(m));var v=a(d,f);i._transceive(s,v.codecs.length>0,!1)}}))}return i._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?i._updateSignalingState("have-local-offer"):i._updateSignalingState("stable"),h.default.resolve()},b.prototype.setRemoteDescription=function(i){var o=this;if(-1===["offer","answer"].indexOf(i.type))return h.default.reject(f("TypeError",'Unsupported type "'+i.type+'"'));if(!u("setRemoteDescription",i.type,o.signalingState)||o._isClosed)return h.default.reject(f("InvalidStateError","Can not set remote "+i.type+" in state "+o.signalingState));var s={};o.remoteStreams.forEach((function(e){s[e.id]=e}));var c=[],l=r.splitSections(i.sdp),b=l.shift(),y=r.matchPrefix(b,"a=ice-lite").length>0,g=r.matchPrefix(b,"a=group:BUNDLE ").length>0;o.usingBundle=g;var _=r.matchPrefix(b,"a=ice-options:")[0];return o.canTrickleIceCandidates=!!_&&_.substr(14).split(" ").indexOf("trickle")>=0,l.forEach((function(u,l){var f=r.splitLines(u),h=r.getKind(u),m=r.isRejected(u)&&0===r.matchPrefix(u,"a=bundle-only").length,v=f[0].substr(2).split(" ")[2],_=r.getDirection(u,b),S=r.parseMsid(u),w=r.getMid(u)||r.generateIdentifier();if(m||"application"===h&&("DTLS/SCTP"===v||"UDP/DTLS/SCTP"===v))o.transceivers[l]={mid:w,kind:h,protocol:v,rejected:!0};else{var x,C,O,T,E,I,k,R,P;!m&&o.transceivers[l]&&o.transceivers[l].rejected&&(o.transceivers[l]=o._createTransceiver(h,!0));var M,A,j=r.parseRtpParameters(u);m||(M=r.getIceParameters(u,b),A=r.getDtlsParameters(u,b),A.role="client"),k=r.parseRtpEncodingParameters(u);var N=r.parseRtcpParameters(u),D=r.matchPrefix(u,"a=end-of-candidates",b).length>0,B=r.matchPrefix(u,"a=candidate:").map((function(e){return r.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===i.type||"answer"===i.type)&&!m&&g&&l>0&&o.transceivers[l]&&(o._disposeIceAndDtlsTransports(l),o.transceivers[l].iceGatherer=o.transceivers[0].iceGatherer,o.transceivers[l].iceTransport=o.transceivers[0].iceTransport,o.transceivers[l].dtlsTransport=o.transceivers[0].dtlsTransport,o.transceivers[l].rtpSender&&o.transceivers[l].rtpSender.setTransport(o.transceivers[0].dtlsTransport),o.transceivers[l].rtpReceiver&&o.transceivers[l].rtpReceiver.setTransport(o.transceivers[0].dtlsTransport)),"offer"!==i.type||m){if("answer"===i.type&&!m){x=o.transceivers[l],C=x.iceGatherer,O=x.iceTransport,T=x.dtlsTransport,E=x.rtpReceiver,I=x.sendEncodingParameters,R=x.localCapabilities,o.transceivers[l].recvEncodingParameters=k,o.transceivers[l].remoteCapabilities=j,o.transceivers[l].rtcpParameters=N,B.length&&"new"===O.state&&(!y&&!D||g&&0!==l?B.forEach((function(e){d(x.iceTransport,e)})):O.setRemoteCandidates(B)),g&&0!==l||("new"===O.state&&O.start(C,M,"controlling"),"new"===T.state&&T.start(A));var L=a(x.localCapabilities,x.remoteCapabilities),F=L.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length;!F&&x.sendEncodingParameters[0].rtx&&delete x.sendEncodingParameters[0].rtx,o._transceive(x,"sendrecv"===_||"recvonly"===_,"sendrecv"===_||"sendonly"===_),!E||"sendrecv"!==_&&"sendonly"!==_?delete x.rtpReceiver:(P=E.track,S?(s[S.stream]||(s[S.stream]=new e.MediaStream),n(P,s[S.stream]),c.push([P,E,s[S.stream]])):(s.default||(s.default=new e.MediaStream),n(P,s.default),c.push([P,E,s.default])))}}else{x=o.transceivers[l]||o._createTransceiver(h),x.mid=w,x.iceGatherer||(x.iceGatherer=o._createIceGatherer(l,g)),B.length&&"new"===x.iceTransport.state&&(!D||g&&0!==l?B.forEach((function(e){d(x.iceTransport,e)})):x.iceTransport.setRemoteCandidates(B)),R=e.RTCRtpReceiver.getCapabilities(h),t<15019&&(R.codecs=R.codecs.filter((function(e){return"rtx"!==e.name}))),I=x.sendEncodingParameters||[{ssrc:1001*(2*l+2)}];var V,U=!1;if("sendrecv"===_||"sendonly"===_){if(U=!x.rtpReceiver,E=x.rtpReceiver||new e.RTCRtpReceiver(x.dtlsTransport,h),U)P=E.track,S&&"-"===S.stream||(S?(s[S.stream]||(s[S.stream]=new e.MediaStream,Object.defineProperty(s[S.stream],"id",{get:function(){return S.stream}})),Object.defineProperty(P,"id",{get:function(){return S.track}}),V=s[S.stream]):(s.default||(s.default=new e.MediaStream),V=s.default)),V&&(n(P,V),x.associatedRemoteMediaStreams.push(V)),c.push([P,E,V])}else x.rtpReceiver&&x.rtpReceiver.track&&(x.associatedRemoteMediaStreams.forEach((function(e){var t=e.getTracks().find((function(e){return e.id===x.rtpReceiver.track.id}));t&&p(t,e)})),x.associatedRemoteMediaStreams=[]);x.localCapabilities=R,x.remoteCapabilities=j,x.rtpReceiver=E,x.rtcpParameters=N,x.sendEncodingParameters=I,x.recvEncodingParameters=k,o._transceive(o.transceivers[l],!1,U)}}})),void 0===o._dtlsRole&&(o._dtlsRole="offer"===i.type?"active":"passive"),o._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?o._updateSignalingState("have-remote-offer"):o._updateSignalingState("stable"),(0,v.default)(s).forEach((function(t){var n=s[t];if(n.getTracks().length){if(-1===o.remoteStreams.indexOf(n)){o.remoteStreams.push(n);var r=new Event("addstream");r.stream=n,e.setTimeout((function(){o._dispatchEvent("addstream",r)}))}c.forEach((function(e){var t=e[0],r=e[1];n.id===e[2].id&&m(o,t,r,[n])}))}})),c.forEach((function(e){e[2]||m(o,e[0],e[1],[])})),e.setTimeout((function(){o&&o.transceivers&&o.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),h.default.resolve()},b.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},b.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},b.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},b.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},b.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},b.prototype.createOffer=function(){var n=this;if(n._isClosed)return h.default.reject(f("InvalidStateError","Can not call createOffer after close"));var i=n.transceivers.filter((function(e){return"audio"===e.kind})).length,s=n.transceivers.filter((function(e){return"video"===e.kind})).length,a=arguments[0];if(a){if(a.mandatory||a.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==a.offerToReceiveAudio&&(i=!0===a.offerToReceiveAudio?1:!1===a.offerToReceiveAudio?0:a.offerToReceiveAudio),void 0!==a.offerToReceiveVideo&&(s=!0===a.offerToReceiveVideo?1:!1===a.offerToReceiveVideo?0:a.offerToReceiveVideo)}n.transceivers.forEach((function(e){"audio"===e.kind?(i--,i<0&&(e.wantReceive=!1)):"video"===e.kind&&(s--,s<0&&(e.wantReceive=!1))}));while(i>0||s>0)i>0&&(n._createTransceiver("audio"),i--),s>0&&(n._createTransceiver("video"),s--);var c=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach((function(i,o){var s=i.track,a=i.kind,c=i.mid||r.generateIdentifier();i.mid=c,i.iceGatherer||(i.iceGatherer=n._createIceGatherer(o,n.usingBundle));var u=e.RTCRtpSender.getCapabilities(a);t<15019&&(u.codecs=u.codecs.filter((function(e){return"rtx"!==e.name}))),u.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),i.remoteCapabilities&&i.remoteCapabilities.codecs&&i.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),u.headerExtensions.forEach((function(e){var t=i.remoteCapabilities&&i.remoteCapabilities.headerExtensions||[];t.forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var l=i.sendEncodingParameters||[{ssrc:1001*(2*o+1)}];s&&t>=15019&&"video"===a&&!l[0].rtx&&(l[0].rtx={ssrc:l[0].ssrc+1}),i.wantReceive&&(i.rtpReceiver=new e.RTCRtpReceiver(i.dtlsTransport,a)),i.localCapabilities=u,i.sendEncodingParameters=l})),"max-compat"!==n._config.bundlePolicy&&(c+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),c+="a=ice-options:trickle\r\n",n.transceivers.forEach((function(e,t){c+=o(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),c+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,c+="a="+r.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(c+="a=end-of-candidates\r\n"))}));var u=new e.RTCSessionDescription({type:"offer",sdp:c});return h.default.resolve(u)},b.prototype.createAnswer=function(){var n=this;if(n._isClosed)return h.default.reject(f("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return h.default.reject(f("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var i=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(i+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),i+="a=ice-options:trickle\r\n";var s=r.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach((function(e,r){if(!(r+1>s)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?i+="m=application 0 DTLS/SCTP 5000\r\n":i+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?i+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(i+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(i+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var c;if(e.stream)"audio"===e.kind?c=e.stream.getAudioTracks()[0]:"video"===e.kind&&(c=e.stream.getVideoTracks()[0]),c&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1});var u=a(e.localCapabilities,e.remoteCapabilities),l=u.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length;!l&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,i+=o(e,u,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(i+="a=rtcp-rsize\r\n")}}));var c=new e.RTCSessionDescription({type:"answer",sdp:i});return h.default.resolve(c)},b.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?h.default.reject(new TypeError("sdpMLineIndex or sdpMid required")):new h.default((function(i,o){if(!n._remoteDescription)return o(f("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var s=e.sdpMLineIndex;if(e.sdpMid)for(var a=0;a<n.transceivers.length;a++)if(n.transceivers[a].mid===e.sdpMid){s=a;break}var c=n.transceivers[s];if(!c)return o(f("OperationError","Can not add ICE candidate"));if(c.rejected)return i();var u=(0,v.default)(e.candidate).length>0?r.parseCandidate(e.candidate):{};if("tcp"===u.protocol&&(0===u.port||9===u.port))return i();if(u.component&&1!==u.component)return i();if((0===s||s>0&&c.iceTransport!==n.transceivers[0].iceTransport)&&!d(c.iceTransport,u))return o(f("OperationError","Can not add ICE candidate"));var l=e.candidate.trim();0===l.indexOf("a=")&&(l=l.substr(2)),t=r.getMediaSections(n._remoteDescription.sdp),t[s]+="a="+(u.type?l:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var p=0;p<n.transceivers.length;p++)if(!n.transceivers[p].rejected&&(n.transceivers[p].iceTransport.addRemoteCandidate({}),t=r.getMediaSections(n._remoteDescription.sdp),t[p]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join(""),n.usingBundle))break;i()}))},b.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)})),!n)throw f("InvalidAccessError","Invalid selector.");return n.getStats()}var r=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&r.push(e[t].getStats())}))})),h.default.all(r).then((function(e){var t=new y.default;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))};var g=["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"];g.forEach((function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var r=n.prototype.getStats;n.prototype.getStats=function(){return r.apply(this).then((function(e){var t=new y.default;return(0,v.default)(e).forEach((function(n){e[n].type=i(e[n]),t.set(n,e[n])})),t}))}}}));var _=["createOffer","createAnswer"];return _.forEach((function(e){var t=b.prototype[e];b.prototype[e]=function(){var e=arguments;return"function"===typeof e[0]||"function"===typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"===typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"===typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),_=["setLocalDescription","setRemoteDescription","addIceCandidate"],_.forEach((function(e){var t=b.prototype[e];b.prototype[e]=function(){var e=arguments;return"function"===typeof e[1]||"function"===typeof e[2]?t.apply(this,arguments).then((function(){"function"===typeof e[1]&&e[1].apply(null)}),(function(t){"function"===typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=b.prototype[e];b.prototype[e]=function(){var e=arguments;return"function"===typeof e[1]?t.apply(this,arguments).then((function(){"function"===typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),b}},{sdp:17}],17:[function(e,t,n){var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},r.splitSections=function(e){var t=e.split("\nm=");return t.map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},r.parseCandidate=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var n={foundation:t[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1];break}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)t=r[i].trim().split("="),n[t[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&(0,v.default)(e.parameters).length){var r=[];(0,v.default)(e.parameters).forEach((function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},r.getDtlsParameters=function(e,t){var n=r.matchPrefix(e+t,"a=fingerprint:");return{role:"auto",fingerprints:n.map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},r.getIceParameters=function(e,t){var n=r.splitLines(e);n=n.concat(r.splitLines(t));var i={usernameFragment:n.filter((function(e){return 0===e.indexOf("a=ice-ufrag:")}))[0].substr(12),password:n.filter((function(e){return 0===e.indexOf("a=ice-pwd:")}))[0].substr(10)};return i},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e),i=n[0].split(" "),o=3;o<i.length;o++){var s=i[o],a=r.matchPrefix(e,"a=rtpmap:"+s+" ")[0];if(a){var c=r.parseRtpMap(a),u=r.matchPrefix(e,"a=fmtp:"+s+" ");switch(c.parameters=u.length?r.parseFmtp(u[0]):{},c.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+s+" ").map(r.parseRtcpFb),t.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(c.name.toUpperCase());break;default:break}}}return r.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(r.parseExtmap(e))})),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)}));var i=0;return t.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(n+="a=maxptime:"+i+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){n+=r.writeExtmap(e)})),n},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),s=-1!==i.fecMechanisms.indexOf("ULPFEC"),a=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=a.length>0&&a[0].ssrc,u=r.matchPrefix(e,"a=ssrc-group:FID").map((function(e){var t=e.substr(17).split(" ");return t.map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(t=u[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(r.rtx={ssrc:t}),n.push(r),o&&(r=JSON.parse((0,l.default)(r)),r.fec={ssrc:c,mechanism:s?"red+ulpfec":"red"},n.push(r))}})),0===n.length&&c&&n.push({ssrc:c});var d=r.matchPrefix(e,"b=");return d.length&&(d=0===d[0].indexOf("b=TIAS:")?parseInt(d[0].substr(7),10):0===d[0].indexOf("b=AS:")?1e3*parseInt(d[0].substr(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=d}))),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var i=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var o=r.matchPrefix(e,"a=rtcp-mux");return t.mux=o.length>0,t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return t=n[0].substr(7).split(" "),{stream:t[0],track:t[1]};var i=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?(t=i[0].value.split(" "),{stream:t[0],track:t[1]}):void 0},r.parseSctpDescription=function(e){var t,n=r.parseMLine(e),i=r.matchPrefix(e,"a=max-message-size:");i.length>0&&(t=parseInt(i[0].substr(19),10)),isNaN(t)&&(t=65536);var o=r.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:n.fmt,maxMessageSize:t};var s=r.matchPrefix(e,"a=sctpmap:");if(s.length>0){var a=r.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:t}}},r.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){var i,o=void 0!==t?t:2;i=e||r.generateSessionId();var s=n||"thisisadapterortc";return"v=0\r\no="+s+" "+i+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,i){var o=r.writeRtpDescription(e.kind,t);if(o+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var s="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+s,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+s,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+s,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),o},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2);default:}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){var t=r.splitLines(e),n=t[0].split(" ");return n[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e),n=t[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0],n=t.substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},r.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},"object"===("undefined"===typeof t?"undefined":(0,T.default)(t))&&(t.exports=r)},{}]},{},[1])(1)}))},function(e,t,n){e.exports={default:n(116),__esModule:!0}},function(e,t,n){n(117),e.exports=n(4).Object.assign},function(e,t,n){var r=n(17);r(r.S+r.F,"Object",{assign:n(118)})},function(e,t,n){"use strict";var r=n(26),i=n(37),o=n(98),s=n(99),a=n(53),c=n(40),u=Object.assign;e.exports=!u||n(27)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r}))?function(e,t){var n=a(e),u=arguments.length,l=1,d=o.f,f=s.f;while(u>l){var p,h=c(arguments[l++]),m=d?i(h).concat(d(h)):i(h),v=m.length,b=0;while(v>b)p=m[b++],r&&!f.call(h,p)||(n[p]=h[p])}return n}:u},function(e,t,n){e.exports={default:n(120),__esModule:!0}},function(e,t,n){n(121);var r=n(4).Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var r=n(39),i=n(103).f;n(83)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},function(e,t,n){e.exports={default:n(123),__esModule:!0}},function(e,t,n){n(10),n(11),n(54),n(124),n(131),n(134),n(136),e.exports=n(4).Map},function(e,t,n){"use strict";var r=n(125),i=n(126),o="Map";e.exports=n(127)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,o),e);return t&&t.v},set:function(e,t){return r.def(i(this,o),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(22).f,i=n(35),o=n(73),s=n(19),a=n(60),c=n(61),u=n(15),l=n(57),d=n(74),f=n(26),p=n(95).fastKey,h=n(126),m=f?"_s":"size",v=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,u){var l=e((function(e,r){a(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=r&&c(r,n,e[u],e)}));return o(l.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=h(this,t),r=v(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(e){h(this,t);var n,r=s(e,arguments.length>1?arguments[1]:void 0,3);while(n=n?n.n:this._f){r(n.v,n.k,this);while(n&&n.r)n=n.p}},has:function(e){return!!v(h(this,t),e)}}),f&&r(l.prototype,"size",{get:function(){return h(this,t)[m]}}),l},def:function(e,t,n){var r,i,o=v(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==i&&(e._i[i]=o)),e},getEntry:v,setStrong:function(e,t,n){u(e,t,(function(e,n){this._t=h(e,t),this._k=n,this._l=void 0}),(function(){var e=this,t=e._k,n=e._l;while(n&&n.r)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?l(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,l(1))}),n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){var r=n(24);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";var r=n(18),i=n(17),o=n(95),s=n(27),a=n(21),c=n(73),u=n(61),l=n(60),d=n(24),f=n(50),p=n(22).f,h=n(128)(0),m=n(26);e.exports=function(e,t,n,v,b,y){var g=r[e],_=g,S=b?"set":"add",w=_&&_.prototype,x={};return m&&"function"==typeof _&&(y||w.forEach&&!s((function(){(new _).entries().next()})))?(_=t((function(t,n){l(t,_,e,"_c"),t._c=new g,void 0!=n&&u(n,b,t[S],t)})),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(e){var t="add"==e||"set"==e;!(e in w)||y&&"clear"==e||a(_.prototype,e,(function(n,r){if(l(this,_,e),!t&&y&&!d(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i}))})),y||p(_.prototype,"size",{get:function(){return this._c.size}})):(_=v.getConstructor(t,e,b,S),c(_.prototype,n),o.NEED=!0),f(_,e),x[e]=_,i(i.G+i.W+i.F,x),y||v.setStrong(_,e,b),_}},function(e,t,n){var r=n(19),i=n(40),o=n(53),s=n(43),a=n(129);e.exports=function(e,t){var n=1==e,c=2==e,u=3==e,l=4==e,d=6==e,f=5==e||d,p=t||a;return function(t,a,h){for(var m,v,b=o(t),y=i(b),g=r(a,h,3),_=s(y.length),S=0,w=n?p(t,_):c?p(t,0):void 0;_>S;S++)if((f||S in y)&&(m=y[S],v=g(m,S,b),e))if(n)w[S]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return S;case 2:w.push(m)}else if(l)return!1;return d?-1:u||l?l:w}}},function(e,t,n){var r=n(130);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(24),i=n(100),o=n(51)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},function(e,t,n){var r=n(17);r(r.P+r.R,"Map",{toJSON:n(132)("Map")})},function(e,t,n){var r=n(59),i=n(133);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(61);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(135)("Map")},function(e,t,n){"use strict";var r=n(17);e.exports=function(e){r(r.S,e,{of:function(){var e=arguments.length,t=new Array(e);while(e--)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){n(137)("Map")},function(e,t,n){"use strict";var r=n(17),i=n(20),o=n(19),s=n(61);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,a,c=arguments[1];return i(this),t=void 0!==c,t&&i(c),void 0==e?new this:(n=[],t?(r=0,a=o(c,arguments[2],2),s(e,!1,(function(e){n.push(a(e,r++))}))):s(e,!1,n.push,n),new this(n))}})}},function(e,t,n){e.exports={default:n(139),__esModule:!0}},function(e,t,n){n(140);var r=n(4).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(17);r(r.S+r.F*!n(26),"Object",{defineProperty:n(22).f})},function(e,t,n){"use strict";var r=n(142),i=p(r),o=n(145),s=p(o),a=n(80),c=p(a),u=n(2),l=p(u),d=n(88),f=p(d);function p(e){return e&&e.__esModule?e:{default:e}}var h=n(87),m=n(146),v=h.tagLogger("Service"),b=n(149),y=n(154),g=n(151),_=n(160),S=n(161),w=new S({onExtLoaded:function(){v.info("Share desktop ext. had loaded.")}}),x=n(158),C=n(162),O=n(163);e.exports=h.prototypeExtend({__init__:function(){var e=this;v.warn("emedia version: ",window._emediaVersion||"unkown"),v.warn("UserAgent: ",navigator.userAgent);var t=h.parseURL("__log_level___");t&&(emedia.LOG_LEVEL=parseInt(t)),e.namespace=Math.uuidFast(),emedia.useCurrentXService=e,void 0===e.useRTCCfg&&(e.useRTCCfg=emedia.config.useRTCCfgIfServerReturn),"string"===typeof e.useRTCCfg&&(e.useRTCCfg=JSON.parse(e.useRTCCfg)),e.inboundAudio=C.inboundAudio.bind(e),e.inboundVideo=C.inboundVideo.bind(e),e.outboundAudio=C.outboundAudio.bind(e),e.outboundVideo=C.outboundVideo.bind(e),e._cache_receive_sessions=[]},AVPubstream:x.extend({__init__:function(){var e=this;e.type=0,e._located=!0,e.mutedMuted=!0,e.constaints&&(e.constaints.video||(e.voff=1),e.constaints.audio||(e.aoff=1)),e.constaints||(e.constaints={audio:!0,video:!0}),emedia.config.maxVideoBitrate&&(e.vbitrate=emedia.config.maxVideoBitrate),emedia.config.maxAudioBitrate&&(e.abitrate=emedia.config.maxAudioBitrate)}}),AudioMixerPubstream:new x.extend({__init__:function(){var e=this;if(e.type=2,e._located=!0,e.mutedMuted=!0,e.constaints||(e.constaints={audio:!0,video:!1}),e.constaints){var t=!!e.constaints.audio;e.constaints.video||(e.constaints.video=!1),e.constaints.video||(e.voff=1),e.constaints.audio||(e.aoff=1),!1===t&&(e.aoff=1)}emedia.config.maxVideoBitrate&&(e.vbitrate=emedia.config.maxVideoBitrate),emedia.config.maxAudioBitrate&&(e.abitrate=emedia.config.maxAudioBitrate)},onGotRemoteMediaStream:function(e){var t=this;if(!t.remotePlayAudioObject){var n="__o_remote_play_audio_"+t.id,r=document.querySelector("#"+n);r||(r=document.createElement("audio"),r.style.display="none",r.id="__o_remote_play_audio_"+t.id,r.autoplay=!0,r.playsinline=!0,document.body.appendChild(r)),t.remotePlayAudioObject=r}t.remotePlayAudioObject.srcObject=e}}),ShareDesktopPubstream:x.extend({voff:0,__init__:function(){var e=this;e.type=1,e._located=!0,e.mutedMuted=!0,e.constaints={audio:!this.aoff,video:!0},emedia.config.maxVideoBitrate&&(e.vbitrate=emedia.config.maxVideoBitrate),emedia.config.maxAudioBitrate&&(e.abitrate=emedia.config.maxAudioBitrate)}}),__assertCurrent:function(){var e=this;if(!e.current)throw v.error("Please call emedia.service.setup(ticket)"),"Please call emedia.service.setup(ticket)";if(e.current.closed)throw v.error("current closed"),"current closed"},hasAudioMixers:function(){var e=this;for(var t in e.__assertCurrent(),e.current.audioMixers){var n=e.current.audioMixers[t];if(n&&n.located())return!0}},getMediaDevices:function(e,t,n){function r(n){for(var r=[],i=0;i!==n.length;++i){var o=n[i];e?e===o.kind?r.push(o):"audioinput"===o.kind||"audiooutput"===o.kind||"videoinput"===o.kind||v.info("Some other kind of source/device: ",o):r.push(o)}t&&t(r)}"function"===typeof e&&(n=t,t=e,e=void 0),navigator.mediaDevices.enumerateDevices().then(r).catch((function(e){v.warn("navigator.getUserMedia error: ",e),n&&n(e)}))},attachSinkId:function(e,t){"undefined"!==typeof e.sinkId?e.setSinkId(t).then((function(){v.info("Success, audio output device attached: "+t)})).catch((function(e){var t=e;"SecurityError"===e.name&&(t="You need to use HTTPS for selecting audio output device: "+e),v.warn(t)})):v.warn("Browser does not support output device selection.")},_stopTracks:function(e){emedia.stopTracks(e),e&&v.warn("Stream tracks stop. it = ",e)},_enableVideoTracks:function(e,t){emedia.enableVideoTracks(e,t)},_enableAudioTracks:function(e,t){emedia.enableAudioTracks(e,t)},openUserMedia:function(e){v.debug("begin open user media",e);var t=this;if(!e)throw v.error("require pubS"),"require pubS";return{then:function(n,r){function i(){n.apply(null,arguments);var r=e.localStream;r&&(r.oninactive=t._onStreamInactive.bind(t,e,r),r.onactive=t._onStreamActive.bind(t,e,r))}if(e instanceof t.AVPubstream)t._openCamera(e,i,r);else if(e instanceof t.ShareDesktopPubstream)t._openSharedDesktop(e,i,r);else{if(!(e instanceof t.AudioMixerPubstream))throw v.error("Unspported pubS"),"Unspported pubS";t._openCamera(e,i,r)}}}},_openSharedDesktop:function(e,t,n){var r,i=this;function o(e){var r={audio:!0};e.constaints&&("object"===(0,f.default)(e.constaints.audio)&&e.constaints.audio||e.constaints.audio||(r.audio=!1)),i.__getUserMedia(r,(function(n,r){var o=new MediaStream;o._located=!0,r&&r.getAudioTracks().forEach((function(e){o.addTrack(e)})),e.localStream&&e.localStream.getVideoTracks().forEach((function(e){o.addTrack(e)})),e.localStream=o,t&&t(i.current,o)}),n)}if(e._localMediaStream&&(r=e._localMediaStream.getVideoTracks())&&r.length>0)return e.localStream=e._localMediaStream,void(e.constaints.audio?o(e):t&&t(i.current,stream));w.openDesktopMedia(e.screenOptions||["screen","window","tab"],(function(r){if(r instanceof g.OpenDesktopMedia){var s=r.desktopStreamId;v.warn("desktop streamId",s);var a={audio:!1,video:{mandatory:h.extend(e.mandatory||{},{chromeMediaSource:"desktop",chromeMediaSourceId:s}),optional:[]}};i.__getUserMedia(a,(function(n,r){e.localStream=r,e.constaints.audio?o(e):t&&t(i.current,r)}),n)}else i.current&&i.current.onEvent(new g.ShareDesktopExtensionNotFound({member:i.current})),n&&n(r)}))},_openCamera:function(e,t,n){var r=this,i=e.constaints||{audio:!0,video:!0};function o(n,i){r.__controlStream(e,i),e.localStream=i,t&&t(r.current,i)}r.__getUserMedia(i,o.bind(i),n)},__controlStream:function(e,t){emedia.enableVideoTracks(t,!e.voff),emedia.enableAudioTracks(t,!e.aoff)},__getUserMedia:function(e,t,n){v.debug("get user media. using constaints",e);var r,i=this;function o(e){v.debug("[WebRTC-API] getUserMedia() error: ",e),emedia.stopTracks(r),i.current&&i.current.onEvent(new g.OpenMediaError({member:i.current,event:e})),n&&n(new g.OpenMediaError({member:i.current,event:e}))}function s(n){i.current&&!i.current.closed&&(i.current._openedRtcMediaStreams[n.id]=n,n._bindAttendee=i.current,n._bindAttendeeId=i.current.getMemberId(),v.info("stream bind attendee.",n.id,i.current.ticket&&i.current.ticket.id,i.current.getMemberId(),i.current.memName)),emedia._yetGetUserMedia=!0,r=n;var s=n.getVideoTracks(),a=n.getAudioTracks();if(s.length>0){var c=s[0];v.debug(n.id,"using video device: ",c.id,c.label,c.kind,c.enabled)}if(a.length>0){var u=a[0];v.debug(n.id,"using audio device: ",u.id,u.label,u.kind,u.enabled)}if(n._located=!0,"boolean"===typeof n.active&&!n.active)return v.error("media stream not active. it is",n.id),void o({constraint:e,name:"NotAllowedStreamNonactive",message:"stream non-active"});t&&t(i.current,n)}e=h.extend({},e),i.__sysGetUserMedia(e,s,o)},_onStreamInactive:function(e,t,n){var r=this;v.warn("media stream inactive. it =",t.id),e.onMediaInactive&&r.current&&h.forEach(r.current._cacheStreams,(function(i,o){o.located()&&o.localStream&&o.localStream.id===t.id&&(o._webrtc&&o._webrtc.closed||e.onMediaInactive.call(o,t,n,r))}))},_onStreamActive:function(e,t,n){var r=this;v.warn("media stream active. it =",t.id),e.onMediaActive&&r.current&&h.forEach(r.current._cacheStreams,(function(i,o){o.located()&&o.localStream&&o.localStream.id===t.id&&e.onMediaActive.call(o,t,n,r)}))},__sysGetUserMedia:function(e,t,n){function r(e,t,n){"object"===(0,f.default)(emedia.config.globalConstraints)&&("object"===(0,f.default)(emedia.config.globalConstraints.audio)&&e.audio&&("boolean"===typeof e.audio?e.audio=h.extend({},emedia.config.globalConstraints.audio):e.audio=h.extend({},emedia.config.globalConstraints.audio,e.audio)),"object"===(0,f.default)(emedia.config.globalConstraints.video)&&e.video&&("boolean"===typeof e.video?e.video=h.extend({},emedia.config.globalConstraints.video):e.video=h.extend({},emedia.config.globalConstraints.video,e.video))),v.info("navigator.mediaDevices.getUserMedia constaints = ",(0,l.default)(e)),navigator.mediaDevices.getUserMedia(e).then(t).catch(n)}if(emedia.isSafari){if(e=m.extend({},e),e.audio){var i={audio:e.audio};r(i,a.bind(i),c)}if(e.video){var o={video:e.video};r(o,a.bind(o),c)}e.video||e.audio||c("Failed to execute 'getUserMedia' on 'MediaDevices': At least one of audio and video must be requested")}else r(e,t,n);function s(){var n=new MediaStream;e.audioStream&&e.audioStream.getAudioTracks().forEach((function(e){n.addTrack(e)})),e.videoStream&&e.videoStream.getVideoTracks().forEach((function(e){n.addTrack(e)})),t&&t(n)}function a(t){e.failed?emedia.stopTracks(t):(!this.audio||(e.audioStream=t,e.video))&&(!this.video||(e.videoStream=t,e.audio))?e.audioStream&&e.videoStream&&s():s()}function c(t){e.failed||(e.failed=!0,n(t))}},attachMediaStream:window.attachMediaStream.bind({logger:v}),setup:function(e,t){var n=this;v.count(),v.debug("recv ticket",e,t),v.debug("use sdk version",window._emediaVersion),v.debug(navigator.userAgent),t=t||{};var r,i,o=t;if(h.isPlainObject(t))t=(0,l.default)(t);else try{o=JSON.parse(t)}catch(d){}if("string"===typeof e&&(e=JSON.parse(e)),r=i=e.memName,emedia._lastSetupConfr=e.confrId,emedia._lastSetupMemName=i,emedia._lastSetupDate=new Date,emedia._lastSetupTktId=e.tktId,n.current&&!n.current.closed){var s=new g.CurrentCalling;throw n.current.onEvent(s),v.error("confr not close. calling..."),s}var a=n.Attendee||y,c=a.extend(_),u=n.current=new c({_service:n,service:n,autoSub:emedia.config.autoSub,getCopyIntervalMillis:emedia.config.getCopyIntervalMillis,sysUserId:r,memName:i,resource:n.resource,nickName:n.nickName,ticket:e,ext:t,extObj:o,sessionFactory:function(){return n.newSession(this,e)}},n.listeners||{});return u},getStreamById:function(e){var t=this.current&&this.current._cacheStreams[e];return t&&h.extend(!1,{},t)},getStreamsByRtcId:function(e){if(this.current&&this.current._cacheStreams){var t=[];return h.forEach(this.current._cacheStreams,(function(n,r){r.rtcId===e&&t.push(r)})),t}},getMemberById:function(e){var t=this.current&&this.current._cacheMembers[e];return t&&h.extend(!1,{},t)},exit:function(e){v.warn("User click exit ",e),this.current&&this.current.exit(e)},join:function(e,t){v.debug("begin join ...");var n=this;if(n.__assertCurrent(),n.current._memberId)return v.warn("Had joined. igrone it"),void(e&&e(n.memId));n.current._session._sessionId=void 0,n.current.join(e,t)},withpublish:function(e){var t=this;if(!e||!e.localStream)throw v.error("pubS null or stream not open"),"pubS null or stream not open";return t.__assertCurrent(),t.current._memberId?v.warn("Had joined. igrone it"):t.current._session._sessionId=void 0,t.current.withpublish(e)},push:function(e,t,n){v.debug("begin push ...");var r=this;if(2===arguments.length&&(n=t,t=void 0),!e||!e.localStream)throw v.error("pubS or stream open"),"pubS or stream open";r.__assertCurrent(),r.current.push(e,t,n,!1)},subscribe:function(e,t,n,r){var i=this;if(v.info("begin subscribe ",e,r),t&&h.isPlainObject(t)&&(r=t,t=n=void 0),n&&h.isPlainObject(n)&&(r=n,n=t,t=void 0),emedia.isSafari){var o=function(){try{var e=u.shift();e&&e.onSub&&e.onSub.apply(e,arguments)}finally{a()}},s=function(){try{var e=u.shift();e&&e.subfail&&e.subfail.apply(e,arguments)}finally{a()}},a=function(){u.length>0&&i.__subscribe(u[0].streamId,o,s,u[0].subArgs)},c={streamId:e,onSub:t,subfail:n,subArgs:r},u=i.__safari_subs||(i.__safari_subs=[]);u.push(c),1===u.length&&a()}else i.__subscribe(e,t,n,r)},__subscribe:function(e,t,n,r){var i=this;i.__assertCurrent(),2==arguments.length&&(n=t,t=void 0),t&&h.isPlainObject(t)&&(r=t,t=void 0),n&&h.isPlainObject(n)&&(r=n,n=void 0),r||(r={subSVideo:!0,subSAudio:!0});i.current._cacheStreams[e];var o=i.current._getWebrtc(e),s=o&&o.isConnected(),a=s&&o.getRemoteStream();if(a&&(s=a.active)){var c=a.getAudioTracks().length,u=a.getVideoTracks().length;(c||!0!==r.subSAudio)&&(u||!0!==r.subSVideo)||(s=!1)}if(v.info("sub stream",e,", use prertcpeer =",s),s)return i.current.subscribeStream(o._rtcId,e,n,r,t),void(t&&t());o&&!o.closed&&i.current.closeWebrtc(o.getRtcId(),!0,!1),i.current.createWebrtcAndSubscribeStream(e,{onGotRemote:function(e){t&&t(e)},onEvent:function(e){n&&n(e)}},void 0,r)},closePubstream:function(e){e.located()&&(emedia.stopTracks(e._localMediaStream),emedia.stopTracks(e.localStream))},hungup:function(e){var t=this.getStreamById(e);try{this._hungup(e)}finally{this.onHungup&&t&&this.onHungup(t)}},_hungup:function(e){var t=this;t.__assertCurrent();var n=t.current,r=n._cacheStreams[e];r&&!r.closeReason&&r.updateAttributes({closeReason:"UserHangup"});var i=r&&r.rtcId;if(i&&(n.closeWebrtc(i),r.located()&&(1!==r.type&&r._localMediaStream&&emedia.stopTracks(r._localMediaStream),r.remotePlayAudioObject&&document.body.removeChild(r.remotePlayAudioObject),n._cacheStreams[e]&&n.onRemoveStream(r),h.removeAttribute(n._cacheStreams,e),t._streamAutomators&&h.removeAttribute(t._streamAutomators,e))),r&&!r.located()){if(n._linkedStreams[r.id]&&h.removeAttribute(n._linkedStreams,r.id),v.warn("Hangeup remove from _linkedStreams. stream = ",r.id),r=n._cacheStreams[e],!r)return;r.updateAttributes({rtcId:void 0,_webrtc:void 0,mediaStream:void 0});var o=new x(r);n.onUpdateStream(o,new o.Update(o))}},postMessage:function(e,t,n,r){var i=this,o=t;"string"!==typeof t&&(t=(0,l.default)(t)),i.__assertCurrent();var s,a=i.current,c=a._linkedStreams[e];s=c&&c.owner?c.owner.id:e;t=a.newMessage({op:1003,memId:s,arg:t});a.postMessage(t,(n||r)&&function(e){if(r&&r(e,o),0!=e.result){var i=new g.RemoteControlFail({memId:s,failed:e.result,cause:e.msg,type:"postMessage",postMessage:t});return a.onEvent(i),void(n&&n(i,o))}})},torchRemote:function(e,t,n,r){var i=this;"function"===typeof t&&(r=n,n=t,t=void 0),void 0!==t&&(t=t?1:0),i.__assertCurrent();var o=i.current,s=o._linkedStreams[e];if(!s||s.located())throw v.error("not exsits or locate, not connect",e),e+" not exsits or locate, not connect";var a=s.torch,c=(t=void 0===t?s.torch?0:1:t,{op2:20,streamId:e,tor:t}),u=o.newMessage({op:1002,memId:s.owner.id,arg:(0,l.default)(c),_reqOps:[100206]});s.updateAttributes({torch:t}),o.postMessage(u,(function(e){if(0!=e.result){var t=new g.RemoteControlFail({stream:s,failed:e.result,cause:e.msg,type:"torch_control"});return o.onEvent(t),s.updateAttributes({torch:a}),void(r&&r(t,s.torch))}n&&n(s.torch)}))},freezeFrameRemote:function(e,t,n){var r=this;r.__assertCurrent();var i=r.current,o=i._linkedStreams[e];if(!o||o.located())throw v.error("not exsits or locate, not connect",e),e+" not exsits or locate, not connect";var s=!o.freezeFrame,a={op2:20,streamId:e,frz:s?1:0},c=i.newMessage({op:1002,memId:o.owner.id,arg:(0,l.default)(a),_reqOps:[100204]});o.updateAttributes({freezeFrame:s}),i.postMessage(c,(function(e){if(0!=e.result){var r=new g.RemoteControlFail({stream:o,failed:e.result,cause:e.msg,type:"freeze_control"});return i.onEvent(r),o.updateAttributes({freezeFrame:!o.freezeFrame}),void(n&&n(r,o.freezeFrame))}t&&t(o.freezeFrame)}))},base64Img2Blob:function(e){for(var t=e.split(";base64,"),n=t[0].split(":")[1],r=window.atob(t[1]),i=r.length,o=new Uint8Array(i),s=0;s<i;++s)o[s]=r.charCodeAt(s);return new Blob([o],{type:n})},blob2URL:function(e){return URL.createObjectURL(e)},imagesPngContext2URL:function(e){var t=this;return t.blob2URL(t.blob2URL(e))},downloadFile:function(e,t,n){var r=this,i=document.createElement("a");i.style.display="none";var o,s=t?r.base64Img2Blob(t):n;i.download=e,i.href=o=r.blob2URL(s),i.rel="noopener";var a=document.createEvent("HTMLEvents");a.initEvent("click",!1,!1),i.dispatchEvent(a),document.body.appendChild(i),i.click(),i.parentNode.removeChild(i),setTimeout((function(){URL.revokeObjectURL&&URL.revokeObjectURL(o)}),4e4)},videoCaptureBase64Context2URL:function(e){var t=this;return t.imagesPngContext2URL(t.getCaptureBase64Context(e))},getCaptureBase64Context:function(e){var t=document.createElement("canvas");t.id="__capture_video_"+(new Date).getTime();t.width=e.videoWidth,t.height=e.videoHeight;var n=t.getContext("2d");n.drawImage(e,0,0,t.width,t.height);var r=t.toDataURL("images/png");return r},captureVideo:function(e,t,n){var r=this,i=r.getCaptureBase64Context(e);return t&&(n=n||"capture_"+(new Date).getTime(),r.downloadFile(n,i)),i},capturePictureRemote:function(e,t,n,r){var i=this;i.__assertCurrent();var o=i.current,s=o._linkedStreams[e];if(!s||s.located())throw v.error("not exsits or locate, not connect",e),e+" not exsits or locate, not connect";var a={op2:20,streamId:e,pic:1,rspBase64Pic:!0===t},c=o.newMessage({op:1002,memId:s.owner.id,arg:(0,l.default)(a),_reqOps:[100205]});o.postMessage(c,(function(e){if(0!=e.result){var i=new g.RemoteControlFail({stream:s,failed:e.result,cause:e.msg,type:"capture_control"});return o.onEvent(i),void(r&&r(i))}if(t)if(e.arg){var a=JSON.parse(e.arg);n&&n(a.pic)}else r&&r(new g.RemoteControlFail({stream:s,failed:e.result,cause:"Not found base64 pic"}));else n&&n()}))},zoomRemote:function(e,t,n,r){var i=this;i.__assertCurrent();var o=i.current,s=o._linkedStreams[e];if(!s||s.located())throw v.error("not exsits or locate, not connect",e),e+" not exsits or locate, not connect";s._zoom||s.updateAttributes({_zoom:1});var a=s._zoom*t;if(!(a<1)){s.updateAttributes({_zoom:a});var c={op2:20,streamId:e,zoom:Math.round(1e4*a)},u=o.newMessage({op:1002,memId:s.owner.id,arg:(0,l.default)(c),_reqOps:[100201]});o.postMessage(u,(function(e){if(0!=e.result){var t=new g.RemoteControlFail({stream:s,failed:e.result,cause:e.msg,type:"zoom_control"});return o.onEvent(t),void(n&&n(t))}r&&r()}))}},_getPosition:function(e){var t=0,n=0;while(e)n+=e.offsetLeft,t+=e.offsetTop,e=e.offsetParent;return{clientX:n,clientY:t}},eventXYAtMedia:function(e,t){var n=h.getDomPageRect(t),r=n.width,i=n.height,o=t.videoWidth,s=t.videoHeight;if(s/o>i/r){var a=o/s;s=i,o=s*a}else{a=s/o;o=r,s=o*a}var c,u,l=e;if((c=h.isFloat(l.x))&&(l.x=l.x*r),(u=h.isFloat(l.y))&&(l.y=l.y*i),!(Math.abs(l.x)<(r-o)/2||r-Math.abs(l.x)<(r-o)/2)&&!(Math.abs(l.y)<(i-s)/2||i-Math.abs(l.y)<(i-s)/2))return l.x=l.x<0?Math.floor(l.x+(r-o)/2):Math.floor(l.x-(r-o)/2),l.y=l.y<0?Math.floor(l.y+(i-s)/2):Math.floor(l.y-(i-s)/2),c&&(l.x=l.x/o),u&&(l.y=l.y/s),{x:l.x,y:l.y,width:o,height:s}},eventXYAtVideo:function(e,t){var n,r,i=h.getDomPageRect(t),o=i.width,s=i.height,a=t.videoWidth,c=t.videoHeight;if(c/a>s/o){var u=a/c;c=s,a=c*u}else{u=c/a;a=o,c=a*u}return(n=h.isFloat(e.x))&&(e.x=e.x*a),(r=h.isFloat(e.y))&&(e.y=e.y*c),e.x=e.x<0?Math.floor(e.x-(o-a)/2):Math.floor(e.x+(o-a)/2),e.y=e.y<0?Math.floor(e.y-(s-c)/2):Math.floor(e.y+(s-c)/2),n&&(e.x=e.x/o),r&&(e.y=e.y/s),e},getClickXY:function(e,t){var n=this,r=t||window.event,i=document.documentElement.scrollLeft||document.body.scrollLeft,o=document.documentElement.scrollTop||document.body.scrollTop,s=r.pageX||r.clientX+i,a=r.pageY||r.clientY+o,c=n._getPosition(e);v.info("Video tag position ",c.clientX,":",c.clientY);var u=e.videoWidth,l=e.videoHeight;if(l/u>e.offsetHeight/e.offsetWidth){var d=u/l;l=e.offsetHeight,u=l*d,c.clientX+=(e.offsetWidth-u)/2}else{d=l/u;u=e.offsetWidth,l=u*d,c.clientY+=(e.offsetHeight-l)/2}return v.info("Media position ",c.clientX,":",c.clientY),v.info("Media xy ",u,":",l),v.info("Click position ",s,":",a),{mediaWidth:u,mediaHeight:l,x:s-c.clientX,y:a-c.clientY}},focusExpoRemote:function(e,t,n,r,i){var o=this,s=n||window.event,a=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,u=s.pageX||s.clientX+a,l=s.pageY||s.clientY+c,d=o._getPosition(t);v.info("Video tag position ",d.clientX,":",d.clientY);var f=t.videoWidth,p=t.videoHeight;if(p/f>t.offsetHeight/t.offsetWidth){var h=f/p;p=t.offsetHeight,f=p*h,d.clientX+=(t.offsetWidth-f)/2}else{h=p/f;f=t.offsetWidth,p=f*h,d.clientY+=(t.offsetHeight-p)/2}v.info("Media position ",d.clientX,":",d.clientY),v.info("Media xy ",f,":",p),v.info("Click position ",u,":",l),o._focusExpo(e,f,p,u-d.clientX,l-d.clientY,r,i)},_focusExpo:function(e,t,n,r,i,o,s){var a=this;if(!(r<=0||r>t)&&!(i<=0||i>n)){a.__assertCurrent();var c=a.current,u=c._linkedStreams[e];if(!u||u.located())throw v.error("not exsits or locate, not connect",e),e+" not exsits or locate, not connect";var d={op2:20,streamId:e,focus:1,expo:1,x:0===t?0:Math.round(1e4*r/t),y:0===n?0:Math.round(1e4*i/n)},f=c.newMessage({op:1002,memId:u.owner.id,arg:(0,l.default)(d),_reqOps:[100202,100203]});c.postMessage(f,(function(e){if(0!=e.result){var t=new g.RemoteControlFail({stream:u,failed:e.result,cause:e.msg,type:"focus_expo_control"});return c.onEvent(t),void(o&&o(t))}s&&s()}))}},_republish:function(e,t,n){v.info("Republish stream. it = ",e.id);var r,i,o=this;if(e.id){var s=o.current.__getWebrtcFor(e.id);s&&o.current.closeWebrtc(s,!0),r=o.current._getWebrtc(e.id)}switch(e.type){case 0:emedia.stopTracks(e._localMediaStream),i=new o.AVPubstream(e);break;case 1:emedia.stopAndRemoveAudioTracks(e._localMediaStream),i=new o.ShareDesktopPubstream(e);break;case 2:emedia.stopTracks(e._localMediaStream),i=new o.AudioMixerPubstream(e);break}setTimeout((function(){o.openUserMedia(i).then((function(){e.localStream=i.localStream,e.isRepublished=!0,e.optimalVideoCodecs=e.optimalVideoCodecs||r&&r.optimalVideoCodecs,o.push(e,t,n)}),n)}),100)},switchMobileCamera:function(e,t,n){var r=this;if("string"===typeof e?e=r.current._cacheStreams[e]:e.id&&(e=r.current._cacheStreams[e.id]),e.voff)v.warn("Stream id = ",e.id," voff, do not chanage camera.");else{e.constaints||(e.constaints={});var i=h.extend({},e.constaints);e._lastConstaints=i,e.constaints.video="object"===(0,f.default)(e.constaints.video)?e.constaints.video:{},"user"!==e.constaints.video.facingMode&&e.constaints.video.facingMode?e.constaints.video.facingMode="user":e.constaints.video.facingMode={exact:"environment"},r._republish(e,(function(e){n&&n(e)}),(function(n){n instanceof emedia.event.OpenMediaError&&(e.constaints=i),t&&t(n)}))}},chanageCamera:function(e,t,n){var r=this;"string"===typeof e?e=r.current._cacheStreams[e]:e.id&&(e=r.current._cacheStreams[e.id]),e.voff?v.warn("Stream id = ",e.id," voff, do not chanage camera."):r.getMediaDevices("videoinput",(function(i){if(i.length<=1)v.warn("Only video input. not chanage");else{var o=e._cameraIndex;if(null===e._cameraIndex||void 0===e._cameraIndex){var s=e.getLocalMediaStream(),a=s&&s.getVideoTracks(),c=a&&a.length&&a[0];if(c&&c.getCapabilities&&"function"===typeof c.getCapabilities){var u=c.getCapabilities(),l=u&&u.deviceId;for(var d in i){var p=i[d];if(p.deviceId===l||p.label==c.label){o=parseInt(d);break}}}else for(var d in i){p=i[d];if(p.label==c.label){o=parseInt(d);break}}}while(o<i.length){var m=i[o];o=(o+1)%i.length;p=i[o],a=e.getLocalMediaStream().getVideoTracks();if(!a||0===a.length||p.label!=a[0].label)break}p=i[o];var b=p.label;v.warn("Stream ",e.id,m.label,">>",b),e._cameraIndex=o,e.constaints||(e.constaints={});var y=h.extend({},e.constaints);e._lastConstaints=y,e.constaints.video="object"===(0,f.default)(e.constaints.video)?e.constaints.video:{},e.constaints.video.deviceId={exact:p.deviceId},r._republish(e,(function(e){n&&n(e)}),(function(n){n instanceof emedia.event.OpenMediaError&&(e.constaints=y),t&&t(n)}))}}),t)},chanageConstraints:function(e,t,n,r){var i=this;if("string"===typeof e?e=i.current._cacheStreams[e]:e.id&&(e=i.current._cacheStreams[e.id]),e){if(v.info("chanage pubstream constraints. it",e.id,t),m.isObject(t)&&!m.isEqual(e.constaints,t)){var o=e.constaints||{},s=e.voff,a=e.aoff;return e._lastConstaints=o,e.constaints=h.extend(!0,{},o,t),e.aoff=e.constaints.audio?0:1,e.voff=e.constaints.video?0:1,void i._republish(e,(function(e){c(),r&&r(e)}),(function(t){t instanceof emedia.event.OpenMediaError&&(e.constaints=o,e.aoff=a,e.voff=s),n&&n(t)}))}c(),r&&r(e.getMediaStream())}else v.warn("Not found pubS");function c(){var t=e.getMediaStream();emedia.enableVideoTracks(t,!e.voff),emedia.enableAudioTracks(t,!e.aoff)}},voff:function(e,t,n,r){var i=this;"string"===typeof e&&(e=i.current._cacheStreams[e]);var o=e.voff;function s(){t!=o?(emedia.enableVideoTracks(e.getMediaStream(),!t),i.current&&i.current.voff(e,t)):v.info("pubstream voff not chanage.")}if(t=t?1:0,e.voff=t,!t&&e.constaints&&!e.constaints.video){var a=e.constaints.video;return e.constaints.video=!0,void i._republish(e,(function(e){s(),r&&r(e)}),(function(t){t instanceof emedia.event.OpenMediaError&&(e.constaints.video=a,e.voff=o),n&&n(t)}))}s(),r&&r(e.getMediaStream())},aoff:function(e,t,n,r){var i=this;"string"===typeof e&&(e=i.current._cacheStreams[e]);var o=e.aoff;function s(){t!=o?(emedia.enableAudioTracks(e.getMediaStream(),!t),i.current&&i.current.aoff(e,t)):v.info("pubstream aoff not chanage.")}if(t=t?1:0,e.aoff=t,!t&&e.constaints&&!e.constaints.audio){var a=e.constaints.audio;return e.constaints.audio=!0,void i._republish(e,(function(e){s(),r&&r(e)}),(function(t){t instanceof emedia.event.OpenMediaError&&(e.constaints.audio=a,e.aoff=o),n&&n(t)}))}s(),r&&r(e.getMediaStream())},iceing:function(e){var t=this;return h.isPlainObject(t.current._linkedStreams[e])},recording:function(e){var t=this;return h.isPlainObject(t.current._records[e])},startRecord:function(e,t){var n=this,r=n.current._linkedStreams[e];if(!r)throw v.error("not at linked streams",e),e+" not at linked streams";r._webrtc||t&&t(!1),n.current.startRecord(r,t)},stopRecord:function(e,t){var n=this,r=n.current._records[e];if(!r)throw v.error("not at recording streams",e),e+" not at recording streams";n.current.stopRecord(r,t)},getCurrentMembers:function(){var e=this;return e.current.getCurrentMembers()},_onCapturePicture:function(e){var t,n=this,r=e.arg.rspBase64Pic,i=e.arg.streamId,o=n.current._cacheStreams[i];if(r){var s;if("function"!==typeof n.getHTMLVideo||!(s=n.getHTMLVideo(i)))return void v.warn("Not support capture picture. caused by htmlVideo not found");t=n.getCaptureBase64Context(s)}else{if("function"!==typeof n.onCapturePicture)return void v.warn("Not support capture picture. caused by onCapturePicture not found");n.onCapturePicture(o)}var a=n.current.newMessage({op:1001,tsxId:e.tsxId,memId:e.memId,arg:(0,l.default)(t?{pic:t}:{}),result:0});return n.current.postMessage(a,(function(e){v.warn("Send remote control onCapturePicture response. the result = ",e.result,e.msg||"")})),!0},newSession:function(e,t){var n=this,r=n.Session||b,i=new r({ticket:t,owner:e,onTcklC:function(t){e.onTcklC(t.rtcId,t.cands)},onAcptC:function(t){e.onAcptC(t.rtcId,t.sdp,t.cands)},onAnsC:function(t){e.onAnsC(t.rtcId,t.sdp,t.cands)},onTermC:function(t){v.info("Server termc rtc: ",t.rtcId,t.message||t.msg),21===t.endReason||22===t.endReason?h.forEach(e._cacheStreams,(function(n,r){var i;r.rtcId===t.rtcId&&(i=21===t.endReason?new emedia.event.SwitchVCodes({stream:r,useVCodes:t.useVCodes}):new emedia.event.SubFailNotSupportVCodes({stream:r}),e.onEvent(i))})):e.closeWebrtc(t.rtcId,!1,!0)},onEnter:function(t){e.onEnter(t.cver,t.mem)},onExit:function(t){e.onExit(t.cver,t.memId,t.reason||0)},onPub:function(t){e.onPub(t.cver,t.memId,t.pubS)},onUnpub:function(t){e.onUnpub(t.cver,t.memId,t.pubSId)},onMems:function(e){},onClose:function(t){e.onClose(t.cver,t.confrId)},onEvent:function(t){e.onEvent(t)},onStreamControl:function(t){e.onStreamControl(t.cver,t.streamId,t.voff,t.aoff,t.sver)},onRoleUpdate:function(t){e._onRoleUpdate(t.role,t.roleToken)},onRemoteControl:function(t){if("string"===typeof t.arg&&(t.arg=JSON.parse(t.arg)),20!==t.arg.op2||!t.arg.pic||!n._onCapturePicture.call(n,t)){if(30===t.arg.op2&&n._onRemotePannelControl)try{return void n._onRemotePannelControl.call(n,t)}catch(y){v.warn(y)}if(21!==t.arg.op2)if(22!==t.arg.op2){if(23===t.arg.op2){var r=n.listeners.mgr.onMuted;if(r&&"function"==typeof r)return void r()}if(24===t.arg.op2){var i=n.listeners.mgr.onUnmuted;if(i&&"function"==typeof i)return void i()}v.warn("Not support remote control");var o=e.newMessage({op:1001,tsxId:t.tsxId,memId:t.memId,arg:(0,l.default)(t.arg),result:t&&t.arg&&30===t.arg.op2?-405:-507,msg:"Not support the remote control."});e.postMessage(o,(function(e){v.warn("Send remote control response. the result = ",e.result,e.msg||"")}))}else{var s=t.arg,a=s.memId,c=s.nickName;if(!a)return void console.warn("onRequestToAdmin not have memberId");n._cache_receive_sessions.push(t);var u=n.listeners.mgr.onRequestToAdmin,d={memberId:a,nickName:c};u&&"function"==typeof u&&u(d,(function(e){return n.agreeRequestToAdmin(e)}),(function(e){return n.refuseRequestToAdmin(e)}))}else{var f=t.arg,p=f.memId,h=f.nickName;if(!p)return void console.warn("onRequestToTalker not have memberId");n._cache_receive_sessions.push(t);var m=n.listeners.mgr.onRequestToTalker,b={memberId:p,nickName:h};m&&"function"==typeof m&&m(b,(function(e,t){return n.agreeRequestToTalker(e,t)}),(function(e){return n.refuseRequestToTalker(e)}))}}},onRecvRemoteMessage:function(t){e._onRecvRemoteMessage&&e._onRecvRemoteMessage(t.memId,t.arg,t)},onConfrAttrsUpdated:function(e){var t=function(e){if(n.listeners.mgr){var t=n.listeners.mgr.catrrs||[];t=e.cattrs instanceof Array==1?o(t,e.cattrs):i(e.cattrs),n.listeners.mgr.catrrs=t;var r=n.listeners.mgr.onConfrAttrsUpdated;r&&"function"==typeof r&&(r=r.bind(n.listeners.mgr),r(t))}function i(e){var t=[];for(var n in e){var r={};r.key=n,r.val=e[n],r.op="",t.push(r)}return t}function o(e,t){return 0==t.length||t.forEach((function(t){var n=!1;e.forEach((function(r,i){if(r.key==t.key)return e.splice(i,1,t),void(n=!0)})),n||e.push(t)})),e}},r=function(e){if(e.cstate&&0!=(0,c.default)(e.cstate).length){var t=n.listeners.mgr.onConfrStateUpdated;t&&"function"==typeof t&&(t=t.bind(n.listeners.mgr),t(e.cstate))}};e.cattrs&&t(e),e.cstate&&r(e)},onAdminChanged:function(e){var t=n.listeners.mgr.onAdminChanged;t&&"function"==typeof t&&t(e)},onPubVideoFailed:function(e){var t=n.listeners.mgr.onPubVideoFailed;t&&"function"==typeof t&&t(e)},onRequestToTalkerReply:function(e){var t=n.listeners.mgr.onRequestToTalkerReply;t&&"function"==typeof t&&t(e)},onRequestToAdminReply:function(e){var t=n.listeners.mgr.onRequestToAdminReply;t&&"function"==typeof t&&t(e)}});return i},_judgeTalking:function(e){return!!e&&e.instant>=emedia.config.judgeTalkingByInstantGE},graffitiVideo:function(e,t,n){var r=this,i=r.getStreamById(e),o=new MediaStream;o._located=!0,i._localMediaStream.getAudioTracks().forEach((function(e){o.addTrack(e)}));var s=n.captureStream(25);s.getVideoTracks().forEach((function(e){o.addTrack(e)})),t.srcObject=o,i.updateAttributes({localStream:o,isRepublished:!0,optimalVideoCodecs:i.optimalVideoCodecs}),r.push(i)},resetCanvas:function(e){var t;if(arguments.length>1)for(var n=0;n<arguments.length;n++)t=arguments[n],"function"===typeof t&&t(e),"function"!==typeof t&&h.isPlainObject(t)&&h.forEach(t,(function(t,n){v.debug("Canvas set ",t," = ",n),e.setAttribute(t,n)}))},_random:function(e){return Math.floor(Math.random()*e)},requestFrame:function(e,t){var n,r=this;if("string"===typeof e)n=this.current._cacheStreams[e];else{if(!e.id)return;n=this.current._cacheStreams[e.id]}function i(){if(n.requestFrame(),n.canvas){var e=O.prototype.redraw.bind({_canvasContext:n.canvas.getContext("2d")});e(3,3)}}n&&(t?setTimeout((function(){i(),r.requestFrame(n,t)}),t):i())},graffitiCanvas:function(e,t){h.targetDOM(e)&&(t=e,e=!1);var n=this,r=new n.ShareDesktopPubstream({voff:0,aoff:e?0:1});t||(t=document.createElement("canvas")),t.getContext("2d"),r.canvas=t;var i=function(){};return i.prototype.setCanvas=function(e){return this.canvasTag=t,n.resetCanvas(t,e),this},i.prototype.push=function(e,t){var n=this;n._push(e,t)},i.prototype._push=function(i,o){"function"===typeof i&&(o=i,i=void 0),t.captureStream&&(t.captureStream.enabled=!0);var s=t.captureStream(i||25);function a(n){n.canvas=t,o&&o(n,t,s),e&&n.requestFrame()}function c(e,t){var r=new MediaStream;r._located=!0,e._localMediaStream&&e._localMediaStream.getAudioTracks().forEach((function(e){r.addTrack(e)})),s.getVideoTracks().forEach((function(e){r.addTrack(e)})),e._localMediaStream=r,e.localStream=r,n.push(e,t)}return e?n.__getUserMedia({audio:!0},(function(e,t){r._localMediaStream=t,c(r,a)})):c(r,a),this},new i},blobRecorder:function(e,t,n,r){var i=this;h.targetDOM(e)&&(e=e.srcObject),t||(t={mimeType:"video/webm;codecs=vp9"}),MediaRecorder.isTypeSupported(t.mimeType)||(v.info(t.mimeType," is not Supported"),t={mimeType:"video/webm;codecs=vp8"},MediaRecorder.isTypeSupported(t.mimeType)||(v.info(t.mimeType," is not Supported"),t={mimeType:"video/webm"},MediaRecorder.isTypeSupported(t.mimeType)||(v.info(t.mimeType," is not Supported"),t={mimeType:""})));try{var o=new MediaRecorder(e,t)}catch(c){return void v.error("Exception while creating MediaRecorder: ",c)}var s=[];function a(){this.blobs=s}return o.onstop=r||function(e){v.info("Recorder stopped: ",e)},o.ondataavailable=n||function(e){e.data&&e.data.size>0&&s.push(e.data)},a.prototype.start=function(e){o.start(e)},a.prototype.stop=function(){o.stop()},a.prototype.playurl=function(e){var t=new Blob(this.blobs,e||{type:"video/webm"});return window.URL.createObjectURL(t)},a.prototype.download=function(e,t){var n=new Blob(this.blobs,t||{type:"video/webm"});i.downloadFile(e,void 0,n)},new a},requestToTalker:function(){this.current.requestToTalker()},_get_session_by_memberId_and_op_type:function(e,t){if(e&&t){var n=void 0;return this._cache_receive_sessions.map((function(r){var i=r.arg;if(i&&i instanceof Object&&(0,c.default)(i).length>0){var o=i.memId,s=i.op2;o==e&&s==t&&(n=r)}})),n}},_delete_session_by_memberId_and_op_type:function(e,t){if(e&&t){var n=this;this._cache_receive_sessions.map((function(r,i){var o=r.arg;if(o&&o instanceof Object&&(0,c.default)(o).length>0){var s=o.memId,a=o.op2;s==e&&a==t&&n._cache_receive_sessions.splice(i,1)}}))}},agreeRequestToTalker:function(){var e=(0,s.default)(i.default.mark((function e(t,n){var r,o,s;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this._get_session_by_memberId_and_op_type(t,21),r){e.next=3;break}return e.abrupt("return");case 3:return o=r.arg.memName,s=this.listeners.confrId,e.prev=5,e.next=8,this.listeners.mgr.chanageRoles(3,[o],s);case 8:e.next=16;break;case 10:if(e.prev=10,e.t0=e["catch"](5),-523!=e.t0.error){e.next=16;break}if(!n||"function"!=typeof n){e.next=16;break}return n(),e.abrupt("return");case 16:this._delete_session_by_memberId_and_op_type(t,21);case 17:case"end":return e.stop()}}),e,this,[[5,10]])})));function t(t,n){return e.apply(this,arguments)}return t}(),refuseRequestToTalker:function(e){if(e){var t=this._get_session_by_memberId_and_op_type(e,21);t&&(this.current.refuseRequestToTalker(t),this._delete_session_by_memberId_and_op_type(e,21))}else console.warn("refuseRequestToTalker memberId is required")},requestToAdmin:function(){this.current.requestToAdmin()},agreeRequestToAdmin:function(e){var t=this._get_session_by_memberId_and_op_type(e,22);if(t){var n=t.arg.memName,r=this.listeners.confrId;this.listeners.mgr.chanageRoles(7,[n],r),this._delete_session_by_memberId_and_op_type(e,22)}},refuseRequestToAdmin:function(e){if(e){var t=this._get_session_by_memberId_and_op_type(e,22);t&&(this.current.refuseRequestToAdmin(t),this._delete_session_by_memberId_and_op_type(e,22))}else console.warn("refuseRequestToAdmin memberId is required")},muteBymemberId:function(e){this.current&&7==this.current.role&&this.current.muteBymemberId(e)},unmuteBymemberId:function(e){this.current&&7==this.current.role&&this.current.unmuteBymemberId(e)}})},function(e,t,n){e.exports=n(143)},function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(144),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(s){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u="object"===typeof e,l=t.regeneratorRuntime;if(l)u&&(e.exports=l);else{l=t.regeneratorRuntime=u?e.exports:{},l.wrap=_;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",m={},v={};v[s]=function(){return this};var b=Object.getPrototypeOf,y=b&&b(b(M([])));y&&y!==r&&i.call(y,s)&&(v=y);var g=C.prototype=w.prototype=Object.create(v);x.prototype=g.constructor=C,C.constructor=x,C[c]=x.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(g),e},l.awrap=function(e){return{__await:e}},O(T.prototype),T.prototype[a]=function(){return this},l.AsyncIterator=T,l.async=function(e,t,n,r){var i=new T(_(e,t,n,r));return l.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(g),g[c]="Generator",g[s]=function(){return this},g.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=M,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return a.type="throw",a.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),u=i.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:M(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function _(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,o=Object.create(i.prototype),s=new P(r||[]);return o._invoke=E(e,n,s),o}function S(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function w(){}function x(){}function C(){}function O(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function T(e){function t(n,r,o,s){var a=S(e[n],e,r);if("throw"!==a.type){var c=a.arg,u=c.value;return u&&"object"===typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,o,s)}),(function(e){t("throw",e,o,s)})):Promise.resolve(u).then((function(e){c.value=e,o(c)}),s)}s(a.arg)}var n;function r(e,r){function i(){return new Promise((function(n,i){t(e,r,n,i)}))}return n=n?n.then(i,i):i()}this._invoke=r}function E(e,t,n){var r=d;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return A()}n.method=i,n.arg=o;while(1){var s=n.delegate;if(s){var a=I(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=S(e,t,n);if("normal"===c.type){if(r=n.done?h:f,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}function I(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,I(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=S(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function M(e){if(e){var t=e[s];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){while(++r<e.length)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){"use strict";t.__esModule=!0;var r=n(8),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(){var t=e.apply(this,arguments);return new i.default((function(e,n){function r(o,s){try{var a=t[o](s),c=a.value}catch(u){return void n(u)}if(!a.done)return i.default.resolve(c).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(c)}return r("next")}))}}},function(e,t,n){(function(e,n){var r,i;(function(){var o="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},s=o._,a=Array.prototype,c=Object.prototype,u="undefined"!==typeof Symbol?Symbol.prototype:null,l=a.push,d=a.slice,f=c.toString,p=c.hasOwnProperty,h=Array.isArray,m=Object.keys,v=Object.create,b=function(){},y=function(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)};t.nodeType?o._=y:(!n.nodeType&&n.exports&&(t=n.exports=y),t._=y),y.VERSION="1.9.1";var g,_=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},S=function(e,t,n){return y.iteratee!==g?y.iteratee(e,t):null==e?y.identity:y.isFunction(e)?_(e,t,n):y.isObject(e)&&!y.isArray(e)?y.matcher(e):y.property(e)};y.iteratee=g=function(e,t){return S(e,t,1/0)};var w=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}},x=function(e){if(!y.isObject(e))return{};if(v)return v(e);b.prototype=e;var t=new b;return b.prototype=null,t},C=function(e){return function(t){return null==t?void 0:t[e]}},O=function(e,t){return null!=e&&p.call(e,t)},T=function(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0},E=Math.pow(2,53)-1,I=C("length"),k=function(e){var t=I(e);return"number"==typeof t&&t>=0&&t<=E};y.each=y.forEach=function(e,t,n){var r,i;if(t=_(t,n),k(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=y.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},y.map=y.collect=function(e,t,n){t=S(t,n);for(var r=!k(e)&&y.keys(e),i=(r||e).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=t(e[a],a,e)}return o};var R=function(e){var t=function(t,n,r,i){var o=!k(t)&&y.keys(t),s=(o||t).length,a=e>0?0:s-1;for(i||(r=t[o?o[a]:a],a+=e);a>=0&&a<s;a+=e){var c=o?o[a]:a;r=n(r,t[c],c,t)}return r};return function(e,n,r,i){var o=arguments.length>=3;return t(e,_(n,i,4),r,o)}};y.reduce=y.foldl=y.inject=R(1),y.reduceRight=y.foldr=R(-1),y.find=y.detect=function(e,t,n){var r=k(e)?y.findIndex:y.findKey,i=r(e,t,n);if(void 0!==i&&-1!==i)return e[i]},y.filter=y.select=function(e,t,n){var r=[];return t=S(t,n),y.each(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r},y.reject=function(e,t,n){return y.filter(e,y.negate(S(t)),n)},y.every=y.all=function(e,t,n){t=S(t,n);for(var r=!k(e)&&y.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(!t(e[s],s,e))return!1}return!0},y.some=y.any=function(e,t,n){t=S(t,n);for(var r=!k(e)&&y.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(t(e[s],s,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,n,r){return k(e)||(e=y.values(e)),("number"!=typeof n||r)&&(n=0),y.indexOf(e,t,n)>=0},y.invoke=w((function(e,t,n){var r,i;return y.isFunction(t)?i=t:y.isArray(t)&&(r=t.slice(0,-1),t=t[t.length-1]),y.map(e,(function(e){var o=i;if(!o){if(r&&r.length&&(e=T(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)}))})),y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,n){var r,i,o=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=k(e)?e:y.values(e);for(var a=0,c=e.length;a<c;a++)r=e[a],null!=r&&r>o&&(o=r)}else t=S(t,n),y.each(e,(function(e,n,r){i=t(e,n,r),(i>s||i===-1/0&&o===-1/0)&&(o=e,s=i)}));return o},y.min=function(e,t,n){var r,i,o=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=k(e)?e:y.values(e);for(var a=0,c=e.length;a<c;a++)r=e[a],null!=r&&r<o&&(o=r)}else t=S(t,n),y.each(e,(function(e,n,r){i=t(e,n,r),(i<s||i===1/0&&o===1/0)&&(o=e,s=i)}));return o},y.shuffle=function(e){return y.sample(e,1/0)},y.sample=function(e,t,n){if(null==t||n)return k(e)||(e=y.values(e)),e[y.random(e.length-1)];var r=k(e)?y.clone(e):y.values(e),i=I(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,s=0;s<t;s++){var a=y.random(s,o),c=r[s];r[s]=r[a],r[a]=c}return r.slice(0,t)},y.sortBy=function(e,t,n){var r=0;return t=S(t,n),y.pluck(y.map(e,(function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")};var P=function(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=S(r,i),y.each(n,(function(t,i){var s=r(t,i,n);e(o,t,s)})),o}};y.groupBy=P((function(e,t,n){O(e,n)?e[n].push(t):e[n]=[t]})),y.indexBy=P((function(e,t,n){e[n]=t})),y.countBy=P((function(e,t,n){O(e,n)?e[n]++:e[n]=1}));var M=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;y.toArray=function(e){return e?y.isArray(e)?d.call(e):y.isString(e)?e.match(M):k(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:k(e)?e.length:y.keys(e).length},y.partition=P((function(e,t,n){e[n?0:1].push(t)}),!0),y.first=y.head=y.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:y.initial(e,e.length-t)},y.initial=function(e,t,n){return d.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},y.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:y.rest(e,Math.max(0,e.length-t))},y.rest=y.tail=y.drop=function(e,t,n){return d.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,Boolean)};var A=function(e,t,n,r){r=r||[];for(var i=r.length,o=0,s=I(e);o<s;o++){var a=e[o];if(k(a)&&(y.isArray(a)||y.isArguments(a)))if(t){var c=0,u=a.length;while(c<u)r[i++]=a[c++]}else A(a,t,n,r),i=r.length;else n||(r[i++]=a)}return r};y.flatten=function(e,t){return A(e,t,!1)},y.without=w((function(e,t){return y.difference(e,t)})),y.uniq=y.unique=function(e,t,n,r){y.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=S(n,r));for(var i=[],o=[],s=0,a=I(e);s<a;s++){var c=e[s],u=n?n(c,s,e):c;t&&!n?(s&&o===u||i.push(c),o=u):n?y.contains(o,u)||(o.push(u),i.push(c)):y.contains(i,c)||i.push(c)}return i},y.union=w((function(e){return y.uniq(A(e,!0,!0))})),y.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=I(e);r<i;r++){var o=e[r];if(!y.contains(t,o)){var s;for(s=1;s<n;s++)if(!y.contains(arguments[s],o))break;s===n&&t.push(o)}}return t},y.difference=w((function(e,t){return t=A(t,!0,!0),y.filter(e,(function(e){return!y.contains(t,e)}))})),y.unzip=function(e){for(var t=e&&y.max(e,I).length||0,n=Array(t),r=0;r<t;r++)n[r]=y.pluck(e,r);return n},y.zip=w(y.unzip),y.object=function(e,t){for(var n={},r=0,i=I(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};var j=function(e){return function(t,n,r){n=S(n,r);for(var i=I(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}};y.findIndex=j(1),y.findLastIndex=j(-1),y.sortedIndex=function(e,t,n,r){n=S(n,r,1);var i=n(t),o=0,s=I(e);while(o<s){var a=Math.floor((o+s)/2);n(e[a])<i?o=a+1:s=a}return o};var N=function(e,t,n){return function(r,i,o){var s=0,a=I(r);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(d.call(r,s,a),y.isNaN),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(r[o]===i)return o;return-1}};y.indexOf=N(1,y.findIndex,y.sortedIndex),y.lastIndexOf=N(-1,y.findLastIndex),y.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i},y.chunk=function(e,t){if(null==t||t<1)return[];var n=[],r=0,i=e.length;while(r<i)n.push(d.call(e,r,r+=t));return n};var D=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=x(e.prototype),s=e.apply(o,i);return y.isObject(s)?s:o};y.bind=w((function(e,t,n){if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var r=w((function(i){return D(e,r,t,this,n.concat(i))}));return r})),y.partial=w((function(e,t){var n=y.partial.placeholder,r=function(){for(var i=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===n?arguments[i++]:t[a];while(i<arguments.length)s.push(arguments[i++]);return D(e,r,this,this,s)};return r})),y.partial.placeholder=y,y.bindAll=w((function(e,t){t=A(t,!1,!1);var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");while(n--){var r=t[n];e[r]=y.bind(e[r],e)}})),y.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return O(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},y.delay=w((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,n){var r,i,o,s,a=0;n||(n={});var c=function(){a=!1===n.leading?0:y.now(),r=null,s=e.apply(i,o),r||(i=o=null)},u=function(){var u=y.now();a||!1!==n.leading||(a=u);var l=t-(u-a);return i=this,o=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),a=u,s=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(c,l)),s};return u.cancel=function(){clearTimeout(r),a=0,r=i=o=null},u},y.debounce=function(e,t,n){var r,i,o=function(t,n){r=null,n&&(i=e.apply(t,n))},s=w((function(s){if(r&&clearTimeout(r),n){var a=!r;r=setTimeout(o,t),a&&(i=e.apply(this,s))}else r=y.delay(o,t,this,s);return i}));return s.cancel=function(){clearTimeout(r),r=null},s},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){var n=t,r=e[t].apply(this,arguments);while(n--)r=e[n].call(this,r);return r}},y.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},y.once=y.partial(y.before,2),y.restArguments=w;var B=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],F=function(e,t){var n=L.length,r=e.constructor,i=y.isFunction(r)&&r.prototype||c,o="constructor";O(e,o)&&!y.contains(t,o)&&t.push(o);while(n--)o=L[n],o in e&&e[o]!==i[o]&&!y.contains(t,o)&&t.push(o)};y.keys=function(e){if(!y.isObject(e))return[];if(m)return m(e);var t=[];for(var n in e)O(e,n)&&t.push(n);return B&&F(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var n in e)t.push(n);return B&&F(e,t),t},y.values=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},y.mapObject=function(e,t,n){t=S(t,n);for(var r=y.keys(e),i=r.length,o={},s=0;s<i;s++){var a=r[s];o[a]=t(e[a],a,e)}return o},y.pairs=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},y.invert=function(e){for(var t={},n=y.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()};var V=function(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=e(o),a=s.length,c=0;c<a;c++){var u=s[c];t&&void 0!==n[u]||(n[u]=o[u])}return n}};y.extend=V(y.allKeys),y.extendOwn=y.assign=V(y.keys),y.findKey=function(e,t,n){t=S(t,n);for(var r,i=y.keys(e),o=0,s=i.length;o<s;o++)if(r=i[o],t(e[r],r,e))return r};var U,$,W=function(e,t,n){return t in n};y.pick=w((function(e,t){var n={},r=t[0];if(null==e)return n;y.isFunction(r)?(t.length>1&&(r=_(r,t[1])),t=y.allKeys(e)):(r=W,t=A(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var s=t[i],a=e[s];r(a,s,e)&&(n[s]=a)}return n})),y.omit=w((function(e,t){var n,r=t[0];return y.isFunction(r)?(r=y.negate(r),t.length>1&&(n=t[1])):(t=y.map(A(t,!1,!1),String),r=function(e,n){return!y.contains(t,n)}),y.pick(e,r,n)})),y.defaults=V(y.allKeys,!0),y.create=function(e,t){var n=x(e);return t&&y.extendOwn(n,t),n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var n=y.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var s=n[o];if(t[s]!==i[s]||!(s in i))return!1}return!0},U=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&$(e,t,n,r)},$=function(e,t,n,r){e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var i=f.call(e);if(i!==f.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return u.valueOf.call(e)===u.valueOf.call(t)}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];var c=n.length;while(c--)if(n[c]===e)return r[c]===t;if(n.push(e),r.push(t),o){if(c=e.length,c!==t.length)return!1;while(c--)if(!U(e[c],t[c],n,r))return!1}else{var l,d=y.keys(e);if(c=d.length,y.keys(t).length!==c)return!1;while(c--)if(l=d[c],!O(t,l)||!U(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0},y.isEqual=function(e,t){return U(e,t)},y.isEmpty=function(e){return null==e||(k(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length)},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=h||function(e){return"[object Array]"===f.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(e){y["is"+e]=function(t){return f.call(t)==="[object "+e+"]"}})),y.isArguments(arguments)||(y.isArguments=function(e){return O(e,"callee")});var z=o.document&&o.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof z&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return!y.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&isNaN(e)},y.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===f.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){if(!y.isArray(t))return O(e,t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(null==e||!p.call(e,i))return!1;e=e[i]}return!!n},y.noConflict=function(){return o._=s,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=function(e){return y.isArray(e)?function(t){return T(t,e)}:C(e)},y.propertyOf=function(e){return null==e?function(){}:function(t){return y.isArray(t)?T(e,t):e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,n){var r=Array(Math.max(0,e));t=_(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},G=y.invert(H),q=function(e){var t=function(t){return e[t]},n="(?:"+y.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};y.escape=q(H),y.unescape=q(G),y.result=function(e,t,n){y.isArray(t)||(t=[t]);var r=t.length;if(!r)return y.isFunction(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=y.isFunction(o)?o.call(e):o}return e};var K=0;y.uniqueId=function(e){var t=++K+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Y=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},X=/\\|'|\r|\n|\u2028|\u2029/g,Z=function(e){return"\\"+J[e]};y.template=function(e,t,n){!t&&n&&(t=n),t=y.defaults({},t,y.templateSettings);var r,i=RegExp([(t.escape||Y).source,(t.interpolate||Y).source,(t.evaluate||Y).source].join("|")+"|$","g"),o=0,s="__p+='";e.replace(i,(function(t,n,r,i,a){return s+=e.slice(o,a).replace(X,Z),o=a+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(s+="';\n"+i+"\n__p+='"),t})),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{r=new Function(t.variable||"obj","_",s)}catch(u){throw u.source=s,u}var a=function(e){return r.call(this,e,y)},c=t.variable||"obj";return a.source="function("+c+"){\n"+s+"}",a},y.chain=function(e){var t=y(e);return t._chain=!0,t};var Q=function(e,t){return e._chain?y(t).chain():t};y.mixin=function(e){return y.each(y.functions(e),(function(t){var n=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),Q(this,n.apply(y,e))}})),y},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=a[e];y.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],Q(this,n)}})),y.each(["concat","join","slice"],(function(e){var t=a[e];y.prototype[e]=function(){return Q(this,t.apply(this._wrapped,arguments))}})),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return String(this._wrapped)},r=[],i=function(){return y}.apply(t,r),void 0===i||(n.exports=i)})()}).call(this,n(147),n(148)(e))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=n(88),i=u(r),o=n(150),s=u(o),a=n(2),c=u(a);function u(e){return e&&e.__esModule?e:{default:e}}var l=n(87),d=l.tagLogger("Sess"),f=n(151),p=0,h=n(152).default,m=l.prototypeExtend({setSessId:function(e){return e&&(this.sessId=e),this},setOp:function(e){return e&&(this.op=e),200===e&&(this.res={type:emedia.config.clientType,ver:window._emediaVersion||emedia.config.version,agent:emedia.config.userAgent,ops:emedia.config.acptOps}),this},setTsxId:function(e){return e&&(this.tsxId=e),this},setTicket:function(e){return e&&(this.tkt=e),this},setSdp:function(e){return e&&(this.sdp=e),this},setCands:function(e){return e&&(this.cands=e),this},setSubSId:function(e){return e&&(this.subSId=e),this},setMemId:function(e){return e&&(this.memId=e),this},setPubS:function(e){e&&(this.pubS=l.extend(!1,{},e));var t=this.pubS;return t.ext&&l.isPlainObject(t.ext)&&(t.ext=(0,c.default)(t.ext)),t&&l.forEach(t,(function(e,n){(l.isPlainObject(n)||"function"===typeof n)&&"resolution"!=e&&l.removeAttribute(t,e)})),t&&l.removeAttribute(t,"localStream"),t&&l.removeAttribute(t,"_localMediaStream"),t&&l.removeAttribute(t,"_webrtc"),this},setRtcId:function(e){return e&&(this.rtcId=e),this},setCver:function(e){return e&&(this.cver=e),this},setEndReason:function(e){return e&&(this.endReason=e),this},setNickName:function(e){return e&&(this.nickName=e),this},setResource:function(e){return e&&(this.resource=e),this},setReason:function(e){return e&&(this.reason=e),this},setConfrId:function(e){return e&&(this.confrId=e),this},setVoff:function(e){return"undefined"===typeof e||(this.voff=e?1:0),this},setAoff:function(e){return"undefined"===typeof e||(this.aoff=e?1:0),this},setFlag:function(e){return 0===e&&(this.flag=0),1===e&&(this.flag=1),this},setExt:function(e){return e&&l.isPlainObject(e)&&(e=(0,c.default)(e)),e&&(this.ext=e),this}}),v=emedia.__session_globalCount=0;function b(e,t,n){var r=this;function i(e,i){try{r.onWebsocketEvent(new f.WSClose({url:r.thisWsUri,retry:n,online:r.online,cause:e,event:i,session:r}))}finally{t&&t(new f.WSClose({url:r.thisWsUri,retry:n,online:r.online,cause:e,event:i,session:r}))}}function o(e){if(r.connected(r.thisWsUri)){if(l.isPlainObject(e)&&!(e instanceof m))throw d.error("message not a Messages"),"message not a Messages";if(r.sessId&&e.sessId!=r.sessId)d.warn("self.sessId && message.sessId != self.sessId",e);else{var t=(0,c.default)(e);r.thisWsUri===r._websocket.url&&r._websocket.send(t),r.thisWsUri===r._websocket.url&&d.debug("Done send req:",t,r._websocket.url),r.thisWsUri===r._websocket.url||d.debug("Donot send(url not equal): req:",t,r._websocket.url)}}else d.debug("current dont connect. the message = ",e)}function s(){if(r.connected(r.thisWsUri)){if(0===r._bufferedMessages.length)return;var e,t=[];while(e=r._bufferedMessages.shift())if(e.sessId||r.sessId||200==e.op){if(200===e.op){o(e);break}r.sessId&&!e.sessId&&(e.sessId=r.sessId);var i=o(e);i&&t.push(i)}else t.push(e),d.warn("tmp store message, util enter success!",e);t.length>0&&Array.prototype.push.apply(r._bufferedMessages,t)}else if(0!==n&&r.online)r.connected();else{var s=l.extend(!1,{},r._callbacks),a=[];for(var c in s){var u=s[c];n>0&&!r.online?a.push(u):r.onMessage({op:1001,tsxId:c,result:-9527,msg:"sdk rsp fail. retry fail or online = "+r.online})}r._bufferedMessages=r._bufferedMessages||[],a.length>0&&Array.prototype.push.apply(r._bufferedMessages,a)}}if(r.connected(r.thisWsUri))return e&&e(r),d.info("Session connected. dont continue connect"),void(r.notifyNewMessage&&r.notifyNewMessage());if(r.online){r.notifyNewMessage=s,d.info("Session begin connect.");var a=r._websocket;a&&(d.warn("will close. websocket state",a.readyState,a.url,r.thisWsUri),a.close(1e3));try{d.info("Connecting",r.thisWsUri,n),a=r._websocket=new WebSocket(r.thisWsUri)}catch(u){return d.warn(u),void i(u)}a.onopen=function(n){var i=this.url;if(i===r.thisWsUri)try{d.info("websocket connected:",i),t&&(t=null),e&&e(r),r.onWebsocketEvent(new f.WSConnected({event:n,session:r}))}finally{}else d.warn("ignore the onopen. caused by websocket url not ",r.thisWsUri,i)},a.onmessage=function(e){var t=this.url;if(t===r.thisWsUri){d.debug("recv data",e.data);var n=JSON.parse(e.data);n&&1001==n.op&&d.debug("recv message: rsp:",n),n&&1001!=n.op&&d.debug("recv message: evt:",n),r.onMessage(n)}else d.warn("ignore recv data. caused by websocket url not ",r.thisWsUri,t,e.data)},a.onclose=function(e){var t=this.url;d.info("Disconnected:",t,r.thisWsUri,e),t===r.thisWsUri?(r.notifyNewMessage(),1e3!==e.code&&i(void 0,e)):d.warn("ignore onclose. caused by websocket url not ",r.thisWsUri,t)},a.onerror=function(e){d.info("On error:",e),r.onWebsocketEvent(new f.WSError({event:e,online:r.online,session:r,url:this.url}))}}else i()}e.exports=l.prototypeExtend({_events:(0,s.default)({0:"onReqP2P",1:"onNewCfr",2:"onDelCfr",3:"onReqTkt",100:"onPing",101:"onPong",102:"onInitC",103:"onReqC",104:"onAcptC",105:"onTcklC",106:"onAnsC",107:"onTermC",300:"onEnter",301:"onExit",302:"onPub",303:"onUnpub",304:"onMems",204:"onClose",400:"onStreamControl",401:"onJoin",412:"onRoleUpdate",1002:"onRemoteControl",1003:"onRecvRemoteMessage",402:"onConfrAttrsUpdated",413:"onAdminChanged"},"107","onPubVideoFailed"),__init__:function(){var e=this;function t(){navigator.onLine?e.online=!0:e.online=!1}function n(t){e.online=!0,d.warn("online online online"),e.closed||e._reconnect(emedia.config.reconnect)}function r(t){e.online=!1,d.warn("offline offline offline"),e.__checkConnectIntervalId&&clearTimeout(e.__checkConnectIntervalId),e.__retryConnectIntervalId&&clearTimeout(e.__retryConnectIntervalId),e.__retryConnectIntervalId&&delete e.__retryConnectIntervalId,e._websocket&&e._websocket.close(1e3)}e._bufferedMessages=[],e._callbacks={},t(),window.addEventListener("online",n,!0),window.addEventListener("offline",r,!0),d.info("online status = ",e.online)},_nextWsUri:function(){var e=this,t=e.ticket.url;emedia.config.useDeployMore&&(emedia.mgr.rtc_url_config=null,emedia.mgr.rtc_url_config=new h,t=emedia.mgr.rtc_url_config.replace_ws(t));var n=emedia.config&&emedia.config.convertWebsocketURLOfTicket||emedia.convertWebsocketURLOfTicket;if("function"===typeof n){var r=t;t=n(t),d.warn(r,"--\x3e",t)}if(t.startsWith("/")){if(emedia.config.wsorigin)t=emedia.config.wsorigin+t;else{var i=window.location.href,o=i.startsWith("https")?"wss://":"ws://",s=i.indexOf("://")+3,a=i.indexOf("/",s),c=i.substring(s,a);t=o+c+t}d.warn("websocket url. update. {} -> {}",e.ticket.url,t)}else emedia.config.wsorigin&&d.warn("emedia.config.wsorigin invalidate. causeby server url {}",t);return t.indexOf("?")>=0?t+="&"+p++:t+="?"+p++,t},_reconnect:function(e){var t=this;function n(){d.warn("Reconnected. at ",e,t._websocket.url),t.__retryConnectIntervalId&&clearTimeout(t.__retryConnectIntervalId),t.__retryConnectIntervalId&&delete t.__retryConnectIntervalId;var n=t.newMessage().setOp(200).setSessId(t._sessionId).setTicket(t.ticket).setNickName(t.nickName||t.ticket.memName).setResource(t.resource).setExt(t.owner.ext);t.postMessage(n,(function(e){if(0==e.result)t.onEvent(new f.EnterSuccess({ip:t.owner.ip})),t.owner.onMembers(e.cver,e.mems),t.owner.onStreams(e.cver,e.streams),t.notifyNewMessage();else try{t.onEvent(new f.EnterFail({me:t.owner,cause:new f.RspFail({request:n,response:e})}))}finally{-9527!==e.result&&t.onEvent(new f.ServerRefuseEnter({failed:e.result,msg:e.msg}))}}))}function r(i){if(e<=0)return d.warn("Reconnect end. but fail.",i.url,e),void(t.__retryConnectIntervalId&&delete t.__retryConnectIntervalId);e&&(t.__retryConnectIntervalId=setTimeout((function(){t.connect(n,r,--e)}),emedia.config.reconnectDelay))}t.connect(n,r,--e)},__checkConnect:function(){var e=this;e.__checkConnectIntervalId&&clearTimeout(e.__checkConnectIntervalId),emedia.config.checkConnectIntervalMillis&&(e.__checkConnectIntervalId=setTimeout((function(){try{e.online&&!e.connected()&&(e.__retryConnectIntervalId&&d.debug("online, reconnecting..."),e.__retryConnectIntervalId||d.debug("online, but disconnect. will reconnect"),e.__retryConnectIntervalId||e._reconnect(emedia.config.reconnect))}finally{e.__checkConnect()}}),emedia.config.checkConnectIntervalMillis))},connect:function(e,t,n){var r=this,i=r.thisWsUri=r._nextWsUri();function o(){try{e.apply(r,arguments)}finally{r.__checkConnect()}}function s(e){try{t.apply(r,arguments)}finally{n||e.url!==i||r.onEvent(new f.ServerRefuseEnter({failed:-95270,msg:"sdk reconnect fail. "+i+"|"+e.url}))}}"undefined"!==typeof n&&d.warn("begin connect... at retry = ",n,i),b.call(r,o,s,n)},connected:function(e){var t=this,n=t.online&&t._websocket&&(!e||e===t._websocket.url)&&t._websocket.readyState==WebSocket.OPEN;return n},onWebsocketEvent:function(e){var t=this;t.onEvent(e)},register:function(e){if("object"===("undefined"===typeof e?"undefined":(0,i.default)(e)))for(var t in e)this.bind(t,e[t])},bind:function(e,t){var n,r=this;if(!(n=r._events[e]))throw d.error("Not supported event = ",e),"Not supported event = "+e;r[n]=t},getSessionId:function(){return this._sessionId},newMessage:function(e){return new m(e)},__modifyMessage:function(e){if(e&&e.sdp&&("string"===typeof e.sdp&&(e.sdp=l.parseJSON(e.sdp)),e.sdp.type&&(e.sdp.type=e.sdp.type.toLowerCase()),e.cctx&&(e.sdp.cctx=e.cctx)),e&&e.cands){"string"===typeof e.cands&&(e.cands=l.parseJSON(e.cands));for(var t=0;t<e.cands.length;t++)"string"===typeof e.cands[t]&&(e.cands[t]=l.parseJSON(e.cands[t])),e.cands[t].sdpMLineIndex=e.cands[t].mlineindex,e.cands[t].sdpMid=e.cands[t].mid,delete e.cands[t].mlineindex,delete e.cands[t].mid,e.cctx&&(e.cands[t].cctx=e.cctx)}if(e&&e.mems){if(!l.isArray(e.mems))return;var n=e.mems;e.mems={},l.forEach(n,(function(t,n){n.name&&(n.memName=n.name),e.mems[n.id]=n;var r=n.acptOps={};if(l.forEach(emedia.config.baseAcptOps,(function(e,t){r[t]=!0})),n.res&&l.forEach(n.res.ops,(function(e,t){r[t]=!0})),n&&n.ext)try{e.mems[n.id].ext=JSON.parse(n.ext)}catch(i){d.debug(i)}}))}if(e&&e.mem){e.mem.name&&(e.mem.memName=e.mem.name);var r=e.mem.acptOps={};if(l.forEach(emedia.config.baseAcptOps,(function(e,t){r[t]=!0})),e.mem.res&&l.forEach(e.mem.res.ops,(function(e,t){r[t]=!0})),e.mem&&e.mem.ext)try{e.mem.ext=JSON.parse(e.mem.ext)}catch(o){d.debug(o)}}if(e&&e.streams){if(!l.isArray(e.streams))return;var i=e.streams;e.streams={},l.forEach(i,(function(t,n){if(e.streams[n.id]=n,n&&n.ext)try{e.streams[n.id].ext=JSON.parse(n.ext)}catch(o){d.debug(o)}}))}if(e&&e.pubS&&e.pubS&&e.pubS.ext)try{e.pubS.ext=JSON.parse(e.pubS.ext)}catch(o){d.debug(o)}if(e&&e.ext)try{e.ext=JSON.parse(e.ext)}catch(o){d.debug(o)}return e},onMessage:function(e){var t=this;function n(e){var n=t._events[e.op],r=t[n];r?r.call(t,e):d.warn("Not supported event = ",e)}if(1001!=e.op&&!e.sessId)throw d.error("message sessId error. server evt data error"),"message sessId error. server evt data error";if(1001!=e.op&&t._sessionId&&t._sessionId!=e.sessId)throw d.error("message sessId error. server and local not equal"),"message sessId error. server and local not equal";if(1004!==e.op){if(452==e.op&&e.liveCfgs&&(t.owner.liveCfgs=e.liveCfgs),1001==e.op&&e.arg){var r=JSON.parse(e.arg),i=r.op2;if(21==i){var o=e,s=o.result;return void t.onRequestToTalkerReply(s)}if(22==i){var a=e,c=a.result;return void t.onRequestToAdminReply(c)}}var u;e=t.__modifyMessage(e);var p=l.removeAttribute(t._callbacks,e.tsxId);if(p&&200===p.op){t._sessionId=e.sessId;var h="string"===typeof e.yourIp?e.yourIp:void 0;if("string"===typeof t._session_ip&&h!=t._session_ip&&(u=t._session_ip),d.info(t._sessionId,"ip is",h,u),t._session_ip=h,t.owner.ip=h,0===e.result){for(var m in t._bufferedMessages){var v=t._bufferedMessages[m];v.sessId||200===v.op||(v.sessId=e.sessId)}setTimeout((function(){t.notifyNewMessage()}),100),1001==e.op&&(e.cattrs||e.cstate)&&t.onConfrAttrsUpdated(e)}else{var b;while(b=t._bufferedMessages.shift())200!==b.op&&t.onMessage({op:1001,tsxId:b.tsxId,result:-9527,msg:"sdk enter fail. sdk callback. enter result = "+e.result})}}if(t.owner&&t.owner.closed)d.warn("self closed. me is "+t.owner.getMemberId()+", session_id = "+t.getSessionId()+". drop message",e);else{if(t.onEvent(new f.RecvResponse({request:p,response:e})),p&&p.__callback__&&1004!==e.op)return p.__callback__(e),void(u&&t.onWebsocketEvent(new f.NetworkChanaged({preIp:u,nowIp:t._session_ip})));e.op&&1001!=e.op?(n(e),u&&t.onWebsocketEvent(new f.NetworkChanaged({preIp:u,nowIp:t._session_ip}))):d.debug("Igron message. caused by op not found.",e)}}else n(e)},__modifyMessageForPost:function(e){if(e.cands){for(var t=[],n=e.cands,r=0;r<n.length;r++){var i;0==r&&n[r].cctx&&(e.cctx=n[r].cctx),i="string"===typeof n[r]?{type:"candidate",candidate:n[r],mlineindex:0,mid:"audio"}:{type:"candidate",candidate:n[r].candidate,mlineindex:n[r].sdpMLineIndex,mid:n[r].sdpMid},t.push((0,c.default)(i))}e.cands=t}if(e.sdp&&"string"!==typeof e.sdp){var o={type:e.sdp.type,sdp:e.sdp.sdp};e.sdp.cctx&&(e.cctx=e.sdp.cctx),e.sdp=o,e.sdp.type=e.sdp.type.toUpperCase(),e.sdp=l.stringifyJSON(e.sdp)}return e.pubS&&l.removeAttribute(e.pubS,"_located"),e.pubS&&l.removeAttribute(e.pubS,"mutedMuted"),e.pubS&&l.removeAttribute(e.pubS,"mediaStream"),e.pubS&&l.removeAttribute(e.pubS,"isRepublished"),e.pubS&&l.removeAttribute(e.pubS,"optimalVideoCodecs"),"function"===typeof e.post&&l.removeAttribute(e,"post"),e},postMessage:function(e,t,n){1002==e.op&&console.log("postMessage 1002",(0,c.default)(e));var r=this;if(e.tsxId||(e.tsxId="MSG"+Date.now()+"-"+v++),e.memId){var i=r.owner._cacheMembers[e.memId],o=e,s=o.arg,a=!1;if(s&&(s=JSON.parse(s),21!=s.op2&&22!=s.op2&&23!=s.op2&&24!=s.op2||(a=!0)),!i&&!a)return d.warn("Member not found at local. memberId = "+e.memId,e),void(t&&t({op:1001,tsxId:e.tsxId,result:-507,msg:" member not found at local. memberId = "+e.memId}));var u=e._reqOps;if(u||(u=[],u.push(e.op)),!a)for(var f in u){var p=u[f];if(!i.acptOps[p])return d.warn("Member not accept op "+p+", "+e.memId,e),void(t&&t({op:1001,tsxId:e.tsxId,result:-507,msg:" member not accept op "+p+", "+e.memId}))}}if(l.removeAttribute(e,"_reqOps"),r._sessionId&&r._sessionId!=e.sessId)return d.warn("sessionId not excepted. self._sessionId = "+r._sessionId,e),void(t&&t({op:1001,tsxId:e.tsxId,result:-9527,msg:"sessionId not excepted."}));if(r.closed)return d.warn("session closed.",e),void(t&&t({op:1001,tsxId:e.tsxId,result:-9527,msg:"session closed"}));var h=l.extend({},e);if(e=r.__modifyMessageForPost(e),!e)return d.warn("Message drop. callback success.",e),void(t&&t({op:1001,tsxId:h.tsxId,result:0,msg:"Message drop. callback success."}));200===e.op?(r._bufferedMessages.unshift(e),t&&setTimeout((function(){r._callbacks[e.tsxId]&&(d.error("Enter timeout. fail."),r.onMessage({op:1001,tsxId:e.tsxId,result:-9527,msg:"enter timeout. millis = "+emedia.config.enterTimeout}))}),emedia.config.enterTimeout)):r._bufferedMessages.push(e),t&&(r._callbacks[e.tsxId]=l.extend(e,{__callback__:t.bind(r.owner)})),r.notifyNewMessage&&r.notifyNewMessage(),n&&t&&setTimeout((function(){var e=r._callbacks[e.tsxId];e&&e.__callback__&&e.__callback__({op:1001,tsxId:h.tsxId,result:-408,msg:"Message request timeout."}),l.removeAttribute(r._callbacks,e.tsxId)}),n)},close:function(e){d.warn("sessiong closing, reason = ",e);var t=this;t.notifyNewMessage&&t.notifyNewMessage(),t.closed=!0,t.seqno=0,t._websocket&&(0==e||100==e?t._websocket.close(1e3):t._websocket.close()),t.__retryConnectIntervalId&&clearTimeout(t.__retryConnectIntervalId),t.__retryConnectIntervalId&&delete t.__retryConnectIntervalId,t.__checkConnectIntervalId&&clearTimeout(t.__checkConnectIntervalId),t.__checkConnectIntervalId&&delete t.__checkConnectIntervalId,t.owner=null,t._bufferedMessages=[],t._callbacks={},d.warn("session closed")}})},function(e,t,n){"use strict";t.__esModule=!0;var r=n(138),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var r=n(87),i=(r.logger,r.prototypeExtend({msg:"",__init__:function(){this.day=new Date},execTime:function(){var e=this.day.getHours();e<10&&(e="0"+e);var t=this.day.getMinutes();t<10&&(t="0"+t);var n=this.day.getSeconds();return n<10&&(n="0"+n),e+":"+t+":"+n}})),o=i.extend({_webrtcDesc:function(){this.webrtc;var e=this.webrtc.getRtcId();return e}});e.exports={Exception:i.extend(),NetworkChanaged:i.extend({message:function(){var e=this.execTime()+" : Network chanage ("+this.preIp+" -> "+this.nowIp+").";return e}}),WSClose:i.extend({message:function(){var e=this.execTime()+" WSClose: Websocket close ("+(this.retry||0)+").";return this.online||(e+=" offline."),this.event&&(e+=" wscode: "+this.event.code),this.cause&&(e+=" cause: "+this.cause.message),this.url&&(e+=" url: "+this.url),e+=" retry: "+(this.retry||0),this.session&&this.session.getSessionId()&&(e=e+", sess = "+this.session.getSessionId()),e}}),WSError:i.extend({message:function(){var e=this.execTime()+" WSError: Websocket error. ready state:"+(this.event.srcElement&&this.event.srcElement.readyState||this.event.currentTarget.readyState)+". online = "+this.online;return this.session&&this.session.getSessionId()&&(e=e+", sess = "+this.session.getSessionId()),this.url&&(e+=" url: "+this.url),e}}),WSConnected:i.extend({message:function(){var e=this.execTime()+" WSConnected: Websocket success. ready state:"+(this.event.srcElement&&this.event.srcElement.readyState||this.event.currentTarget.readyState);return this.session&&this.session.getSessionId()&&(e=e+", sess = "+this.session.getSessionId()),e}}),ICEChanage:o.extend({message:function(){return this.execTime()+" ICEChanage: "+this._webrtcDesc()+" state: "+this.state}}),AddIceCandError:o.extend({message:function(){return this.execTime()+" AddIceCandError: "+this._webrtcDesc()+", add cand error"}}),ICEConnectFail:o.extend({message:function(){return this.execTime()+" ICEConnectFail: "+this._webrtcDesc()+" failed"}}),ICEConnected:o.extend({message:function(){return this.execTime()+" ICEConnected: "+this._webrtcDesc()+" connected"}}),ICEDisconnected:o.extend({message:function(){return this.execTime()+" ICEDisconnected: "+this._webrtcDesc()+" disconnected"}}),ICEClosed:o.extend({message:function(){return this.execTime()+" ICEClosed: "+this._webrtcDesc()+" closed"}}),ICERemoteMediaStream:o.extend({message:function(){return this.execTime()+" ICERemoteMediaStream: "+this._webrtcDesc()+" got remote stream"}}),StreamState:i.extend({message:function(){return this.execTime()+" StreamState:  stream "+this.stream.id+" state: "+this.state+" "+this.msg},iceFail:function(){this.state=1,this.msg="network anomaly. media lost"}}),OpenMediaError:i.extend({message:function(){return this.execTime()+" OpenMediaError:  open media error. caused by "+(this.event.name?this.event.name:this.event.message?this.event.message:this.event.toString())}}),Hangup:i.extend({message:function(){return this.self?"hangup id = "+(this.self.id||"--")+" reasonï¼"+(this.reason||0):this.execTime()+" Hangup: "+(this.parnter&&(this.parnter.name||this.parnter.id||" ")||"")+" hangup, reasonï¼"+(this.reason||0)}}),ServerRefuseEnter:i.extend({message:function(){return this.execTime()+" ServerRefuseEnter: server refuse, causeï¼"+this.failed+", msg:"+(this.msg||"")}}),RspFail:i.extend({__init__:function(){this.day=new Date,this.failed=this.response.result,this.msg=this.response.msg||this.response.message||"--"},message:function(){return this.execTime()+" RspFail: "+this.request.tsxId+", "+(this.response.sessId||"--")+" op: "+this.request.op+", cause: "+this.failed+" "+this.msg}}),RecvResponse:i.extend({__init__:function(){this.day=new Date,this.failed=this.response.result,this.msg=this.response.msg},message:function(){return this.request?this.execTime()+" RecvResponse: "+(this.request&&this.request.tsxId)+", "+(this.response.sessId||"--")+" op: "+(this.request&&this.request.op)+", cause: "+this.failed+" "+this.msg:this.execTime()+" RecvMessage: "+(this.response&&this.response.tsxId)+", "+(this.response.sessId||"--")+" op: "+(this.response&&this.response.op)+" "+this.msg}}),EnterFail:i.extend({message:function(){return this.execTime()+" EnterFail: enter failï¼"+(this.cause?this.cause.message():"unkown")}}),EnterSuccess:i.extend({message:function(){return this.execTime()+" EnterSuccess: enter success "+(this.ip?", ip = "+this.ip:"")}}),PushSuccess:i.extend({message:function(){return this.execTime()+" PushSuccess: push success, streamId = "+this.stream.id+", "+this.stream.optimalVideoCodecs+", webrtc = "+this.stream.rtcId}}),PushFail:i.extend({message:function(){return this.execTime()+" PushFail: push fail, streamId = "+this.stream.id+", "+this.stream.optimalVideoCodecs+", webrtc = "+this.stream.rtcId+" causeï¼"+(this.cause?this.cause.message?this.cause.message():this.cause:"unkown")}}),RemoteControlFail:i.extend({message:function(){return this.execTime()+" RemoteControlFail: "+(this.type||"remote control")+" fail, "+(this.stream?this.stream.id:"")+" failed = "+this.failed+" causeï¼"+(this.cause?this.cause.message?this.cause.message():this.cause:"unkown")}}),SubSuccess:i.extend({message:function(){return this.execTime()+" SubSuccess: sub success, streamId = "+this.stream.id+", "+this.stream.vcodes+", webrtc = "+this.stream.rtcId}}),SubFail:i.extend({message:function(){return this.execTime()+" SubFail: sub fail, streamId = "+this.stream.id+", "+this.stream.vcodes+", webrtc = "+this.stream.rtcId+" causeï¼"+(this.cause?this.cause.message?this.cause.message():this.cause:"unkown")}}),SubFailNotSupportVCodes:i.extend({message:function(){return this.execTime()+" SubFailNotSupportVCodes: sub fail, streamId = "+this.stream.id+" causeï¼"+(this.cause?this.cause.message?this.cause.message():this.cause:"unkown")}}),SubFailSafariNotAllowSubBeforePub:i.extend({message:function(){return this.execTime()+" SubFailSafariNotAllowSubBeforePub: sub fail, streamId = "+this.stream.id+" causeï¼Safari without access to capture devices, WebKit only exposes Server Reflexive and TURN ICE candidates, which expose IPs that could already be gathered by websites."}}),SwitchVCodes:i.extend({message:function(){return this.execTime()+" SwitchVCodes: pub streamId = "+this.stream.id}}),CurrentCalling:i.extend({message:function(){return this.execTime()+" CurrentCalling: warn! current calling..."}}),OpenDesktopMedia:i.extend({message:function(){return this.execTime()+" OpenDesktopMedia: shared desktop, desktopStreamId = "+desktopStreamId}}),OpenDesktopMediaAccessDenied:i.extend({message:function(){return this.execTime()+" OpenDesktopMediaAccessDenied: shared desktop not allow"}}),ShareDesktopExtensionNotFound:i.extend({message:function(){return this.execTime()+" ShareDesktopExtensionNotFound: shared desktop plugin required"}}),OtherDeviceAnswer:i.extend({message:function(){return this.execTime()+" other device answer, webrtc = "+this.rtcId}}),AudioMixerStreamNotAllowSub:i.extend({message:function(){return this.execTime()+" audio mixer stream not allow sub, webrtc = "+this.rtcId+", streamId = "+this.stream.id}}),AudioMixerStreamNotAllowOnlySubVideo:i.extend({message:function(){return this.execTime()+" audio mixer stream not allow only sub video, webrtc = "+this.rtcId+", streamId = "+this.stream.id}}),AudioMixerStreamRepeatPublish:i.extend({message:function(){return this.execTime()+" audio mixer stream repeat publish"}})}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(80),i=a(r),o=n(153),s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}function c(){this.rtcconfig=void 0,this.get_rtcconfig()}c.prototype={get_rtcconfig:function(){var t={url:"https://rs.easemob.com/easemob/rtcconfig.json",async:!1},n=this,r=void 0;try{e.ajax((0,s.default)({},t,{success:function(e){console.log("get_rtcconfig success"),e&&(0,i.default)(e).length>0&&(n.rtcconfig=e,r=e)},error:function(e){return console.error("DeployMore get error",e),e}}))}catch(o){return}return r},replace_ws:function(e){if(this.rtcconfig&&this.rtcconfig.ws){var t="wss://"+this.rtcconfig.ws+"/",n=/wss.*com\//;return e.replace(n,t)}return e},_get_info_from_candifate:function(e){if(!e)return{};var t={};return e=e.split(" "),t.ip=e[4],t.port=e[5],t},_can_replace:function(e,t,n){return!!(e&&t&&n)&&(!!e.src.ip&&(e.src.ip==t&&!(e.src.min_port>n||e.src.max_port<n)))},_replace_candidate:function(e){var t=this._get_info_from_candifate(e),n=t.ip,r=t.port,i=this;return this.rtcconfig.rtc.candidate_map.map((function(t){if(i._can_replace(t,n,r)){var o=t.dst.ip,s=Number(r)-Number(t.src.min_port),a=Number(t.dst.min_port)+Number(s),c=e.split(" ");c[4]=o,c[5]=a,e=c.join(" ")}})),e},replace_candidates:function(e){if(!this.rtcconfig)return e;var t=this;return e=e.map((function(e){return e&&e.candidate?(e.candidate=t._replace_candidate(e.candidate),e):e})),e}},t.default=c}).call(this,n(5))},function(e,t,n){"use strict";t.__esModule=!0;var r=n(115),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";var r=n(115),i=a(r),o=n(2),s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var c=n(87),u=c.tagLogger("Me"),l=n(155),d=n(151),f=n(158),p=l.extend({__init__:function(){var e=this;if(e._session||e.sessionFactory&&(e._session=e.sessionFactory()),!e._session)throw u.error("Require session"),"Require session";e._cver=0,e._cacheMembers={},e._cacheStreams={},e._streamAutomators={},e._mediaMeters={},e._openedRtcMediaStreams={},e._linkedStreams={},e._maybeNotExistStreams={},e._records={},e._ices={},e.audioMixers={},e.closed=!1,e._nextStreamSeqno=0,e.getMediaMeterIntervalMillis=e.getMediaMeterIntervalMillis||emedia.config.getMediaMeterIntervalMillis},getCurrentMembers:function(){var e=this,t=[];return c.forEach(e._cacheMembers,(function(e,n){var r=c.extend(!0,{},n);t.push(r)})),t},newStream:function(e){var t=this;return new f(e,{__init__:function(){var e=this;if(e.rtcId||e._webrtc&&(e.rtcId=e._webrtc.getRtcId()),e._webrtc||e.rtcId&&(e._webrtc=t._ices[e.rtcId]),e.__create_id=t._nextStreamSeqno++,e.memId&&!e.owner&&(e.owner=c.extend({},t._cacheMembers[e.memId]),!e.owner&&!e.located()))throw u.error("Remote stream, not owner. it = ",e.id),"Remote stream, not owner. it = "+e.id}})},getConfrId:function(){return this.ticket.confrId},isCaller:function(){var e=this;return e.isP2P()&&e.ticket.caller==e.ticket.memName},isCallee:function(){var e=this;return e.isP2P()&&e.ticket.callee==e.ticket.memName},isP2P:function(){var e=this;return e.ticket&&("P2P"==e.ticket.type||"p2p"==e.ticket.type)},isConfr:function(){var e=this;return e.ticket&&("CONFR"==e.ticket.type||"confr"==e.ticket.type)},onEvent:function(e){},join:function(e,t){var n=this;emedia.requireTrustBeforeJoin()?n.someBrowsersRequireGetUserMedia((function(){n._join(e,t)}),t):n._join(e,t)},_join:function(e,t){u.debug("begin join ...");var n,r=this;if(console.log("Attendee self",r),r._memberId)return u.warn("Had joined. igrone it"),void(e&&e(r.memId));function i(e){try{if(e instanceof d.WSClose&&e.retry)return;e instanceof d.EnterFail||(e=new d.EnterFail({attendee:r,cause:e})),r.onEvent(e),t&&t(e)}finally{}}function o(t){if(0==t.result){r.reflushSupportVCodes(t.vcodes),r.setMemberId(t.memId),r.role=t.role,r.onEvent(new d.EnterSuccess({ip:r.ip})),e&&e(t.memId);try{r.__rtc_cfg=t.rtcCfg,"string"===typeof t.rtcCfg&&(r.__rtc_cfg=JSON.parse(t.rtcCfg))}finally{r.onMembers(t.cver,t.mems),r.onStreams(t.cver,t.streams)}}else try{i(new d.RspFail({request:n,response:t}))}finally{-9527!==t.result&&r.onEvent(new d.ServerRefuseEnter({failed:t.result,msg:t.msg}))}}function s(){n=r.newMessage().setOp(200).setTicket(r.ticket).setNickName(r.nickName||r.ticket.memName).setResource(r.resource).setExt(r.ext),r.postMessage(n,o)}r.connect(s,i),u.debug("join",r.ticket.url)},withpublish:function(e){var t,n=this;if(!e||!e.localStream)throw u.error("pubS null or stream not open"),"pubS null or stream not open";var r,i=e&&e.localStream;function o(o,s){if(1===arguments.length&&(s=o,o=void 0),n._memberId)return u.warn("Had joined. igrone it"),void(o&&o(n.memId));function a(e){try{if(e instanceof d.WSClose&&e.retry)return;e instanceof d.EnterFail||(e=new d.EnterFail({attendee:n,cause:e})),n.onEvent(e),s&&s(e)}finally{emedia.stopTracks(i),r&&n.closeWebrtc(r.getRtcId())}}var c=n.getOptimalVideoCodecs();function l(i){if(0==i.result){n.reflushSupportVCodes(i.vcodes),n.setMemberId(i.memId),n.role=i.role,n.onEvent(new d.EnterSuccess({ip:n.ip}));var s=n.newStream(e);s.updateAttributes({_localMediaStream:e.localStream,rtcId:r.getRtcId(),_webrtc:r,id:i.streamId,csrc:i.csrc,owner:{id:i.memId,nickName:n.nickName,name:n.sysUserId,ext:n.extObj},optimalVideoCodecs:c}),o&&o(i.memId,s),r.useIp=n.ip,n.onEvent(new d.PushSuccess({stream:s,hidden:!0})),i.sdp&&n.ansC(r.getRtcId(),i.sdp),i.cands&&n.tcklC(r.getRtcId(),i.cands);try{n.__rtc_cfg=i.rtcCfg,"string"===typeof i.rtcCfg&&(n.__rtc_cfg=JSON.parse(i.rtcCfg)),n.__rtc_cfg&&n.__rtc_cfg.iceServers&&n.__rtc_cfg.iceServers.length>0&&(u.warn("Server rsp one rtc cfg. publish will republish"),n._service&&setTimeout((function(){n._service._republish(s)}),200))}finally{n.onMembers(i.cver,i.mems),n.onStreams(i.cver,i.streams)}}else try{a(new d.RspFail({request:t,response:i}))}finally{-9527!==i.result&&n.onEvent(new d.ServerRefuseEnter({failed:i.result,msg:i.msg}))}}function f(){u.debug("enter and pubs");var i,o,s=e.localStream;2===e.type&&(i={offerToReceiveAudio:!0,offerToReceiveVideo:!1},o={subSVideo:!1,subSAudio:!0}),r=n.createWebrtc({_rtcId:e.rtcId,optimalVideoCodecs:c,offerOptions:i,subArgs:o,vbitrate:e.vbitrate||e.constaints&&e.constaints.video&&e.constaints.video.bitrate,abitrate:e.abitrate||e.constaints&&e.constaints.audio&&e.constaints.audio.bitrate},e.iceRebuildCount),n.setLocalStream(s,r.getRtcId()),n.doOffer(r.getRtcId(),(function(i){t=n.newMessage().setOp(200).setTicket(n.ticket).setNickName(n.nickName||n.ticket.memName).setResource(n.resource).setSdp(i).setRtcId(r.getRtcId()).setPubS(e).setExt(n.ext),n.postMessage(t,l)}))}n.connect(f,a),u.debug("join",n.ticket.url)}return{join:o}},push:function(e,t,n,r){u.debug("begin push ...");var i,o=this;if(2===arguments.length&&(n=t,t=void 0),!e||!e.localStream)throw u.error("pubS or stream open"),"pubS or stream open";var s,a=e.localStream;function c(t){try{var i=o.newStream(e);i.updateAttributes({_localMediaStream:e.localStream,_webrtc:s,rtcId:s&&s.getRtcId(),owner:{id:o.getMemberId(),nickName:o.nickName,name:o.sysUserId,ext:o.extObj}});t=new d.PushFail({stream:i,cause:t,hidden:r&&!0===t.hidden});o.onEvent(t),t.hidden||n&&n(t)}finally{a&&!0!==t.hidden&&emedia.stopTracks(a),s&&o.closeWebrtc(s.getRtcId(),!0===t.hidden)}}if(e.rtcId||2!==e.type||emedia.config.allowRepeatAudioMixerPublish||!o._service.hasAudioMixers()){var l=e.optimalVideoCodecs||o.getOptimalVideoCodecs();p(e),u.debug("push",o.ticket.url)}else c(new d.AudioMixerStreamRepeatPublish);function f(n,r){if(0==r.result){var s=o.newStream(e);s.updateAttributes({_localMediaStream:e.localStream,_webrtc:n,rtcId:n.getRtcId(),id:r.streamId,csrc:r.csrc,owner:{id:o.getMemberId(),nickName:o.nickName,name:o.sysUserId,ext:o.extObj},optimalVideoCodecs:l}),s.id&&2===s.type&&(o.audioMixers[s.id]=s);try{o.onEvent(new d.PushSuccess({stream:s,hidden:!0}))}finally{r.sdp&&o.ansC(n.getRtcId(),r.sdp),r.cands&&o.tcklC(n.getRtcId(),r.cands),t&&t(s)}}else c(new d.RspFail({request:i,response:r,hidden:!0===r.retrying}))}function p(e){u.debug("pubs");var t,n,r=e.localStream;if(2===e.type&&(t={offerToReceiveAudio:!0,offerToReceiveVideo:!1},n={subSVideo:!1,subSAudio:!0}),s=o.createWebrtc({_rtcId:e.rtcId,optimalVideoCodecs:l,offerOptions:t,subArgs:n,vbitrate:e.vbitrate||e.constaints&&e.constaints.video&&e.constaints.video.bitrate,abitrate:e.abitrate||e.constaints&&e.constaints.audio&&e.constaints.audio.bitrate},e.iceRebuildCount),o.setLocalStream(r,s.getRtcId()),e.constaints&&e.constaints.video){var a=e.constaints.video,c=a.width,d=a.height;if(c&&d){var p=c.exact||c.min,h=d.exact||d.min,m={w:p,h:h};e.resolution=m}}o.doOffer(s.getRtcId(),(function(t){i=o.newMessage().setOp(102).setRtcId(s.getRtcId()).setSdp(t).setPubS(e),o.postMessage(i,(function(e){f(s,e)}))}))}},isSafari:function(){return emedia.isSafari},someBrowsersRequireGetUserMedia:function(e,t){var n=this;if(emedia.youInSomeBrowsers()&&!emedia._yetGetUserMedia){if(!0===n.__tryingOpenMedia)n.__tryingOpenMediaWaitSuceess=n.__tryingOpenMediaWaitSuceess||[],n.__tryingOpenMediaWaitFail=n.__tryingOpenMediaWaitFail||[],"function"===typeof e&&n.__tryingOpenMediaWaitSuceess.push(e),"function"===typeof t&&n.__tryingOpenMediaWaitFail.push(t);else{var r=function(t,r){emedia._yetGetUserMedia=!0,emedia.stopTracks(r),setTimeout((function(){n.__tryingOpenMedia=!1,e&&e.apply(n),n.__tryingOpenMediaWaitSuceess&&c.forEach(n.__tryingOpenMediaWaitSuceess,(function(e,t){t.apply(n)})),n.__tryingOpenMediaWaitSuceess=[],n.__tryingOpenMediaWaitFail=[]}),300)},i=function(e){n.__tryingOpenMedia=!1,u.error("Some browsers must getUserMedia, gather cands. now try get audio. fail. subfail"),t&&t.call(n,e),n.__tryingOpenMediaWaitFail&&c.forEach(n.__tryingOpenMediaWaitFail,(function(t,r){r.call(n,e)})),n.__tryingOpenMediaWaitSuceess=[],n.__tryingOpenMediaWaitFail=[]};n.__tryingOpenMedia=!0,n._service.__getUserMedia({audio:!0},r,(function(e){n._service.__getUserMedia({video:!0},r,i)}))}return!0}return!1},createWebrtcAndSubscribeStream:function(e,t,n,r){var i=this;t||(t={});var o=i._cacheStreams[e],s=i._cacheMembers[o.memId],a=o;function l(n){u.warn("sub stream error",e,n),b&&a._webrtc&&a._webrtc.setSubArgs(b),b&&a.updateAttributes({subArgs:b}),n=new d.SubFail({stream:a,hidden:!0===n.hidden,cause:n}),t&&t.onEvent&&t.onEvent(n),i.onEvent&&i.onEvent(n)}function f(){a.updateAttributes(a.subArgs)}r=r||a.subArgs||{subSVideo:!0,subSAudio:2!==o.type};var p=o.vcodes||[],h=s&&s.vcodes||[],m=i.supportVCodes,v=i._getOptimalVideoCodecsSubset(p,h,m);r=r||a.subArgs;var b=a.subArgs,y=!(a.vcodes&&a.vcodes.length>0);emedia.isSafari&&(y=y||!!a.voff);var g={offerToReceiveAudio:!0,offerToReceiveVideo:r.subSVideo&&!y};function _(){var o=i.createWebrtc({iceServerConfig:n,optimalVideoCodecs:v,offerOptions:g,onGotMediaStream:function(e){t.onGotRemote&&t.onGotRemote(a)}},a.iceRebuildCount),l=o.getRtcId();u.warn(l," sub stream ",e,v),a.updateAttributes({_webrtc:o,rtcId:l,owner:c.extend({},s)}),r&&a._webrtc&&a._webrtc.setSubArgs(r),r&&a.updateAttributes({subArgs:r})}g.offerToReceiveAudio||g.offerToReceiveVideo||u.warn("offerToReceiveAudio == false and offerToReceiveVideo == false"),i.someBrowsersRequireGetUserMedia((function(){_(),i.offerCall(a.rtcId,null,e,l,f)}),(function(t){u.error("Some browsers must getUserMedia, gather cands. now try get audio. fail. subfail",e),l(t)}))||(_(),i.offerCall(a.rtcId,null,e,l,f))},_getOptimalVideoCodecsSubset:function(e,t,n){var r=this,i=[];if(e&&e.length>0&&n[e[0]]&&i.push(e[0]),0==i.length)for(var o=0;o<r._orderVCodes.length;o++)c.forEach(t,(function(e,t){t==r._orderVCodes[o]&&i.push(t)}));return i},subscribeStream:function(e,t,n,r,i){var o=this,s=o._ices[e],a=o._cacheStreams[t],u=o._cacheMembers[a.memId],l=a;l.updateAttributes({_webrtc:s,rtcId:e,owner:c.extend({},u)});var f=l.subArgs;if(r=r||{subSVideo:!0,subSAudio:!0},l.updateAttributes({subArgs:l.subArgs||{subSVideo:!0,subSAudio:!0}}),l._webrtc&&l._webrtc.setSubArgs(l._webrtc.subArgs||{subSVideo:!0,subSAudio:!0}),!l.subArgs.subSVideo&&r.subSVideo&&!l.voff){var p=a.vcodes,h=u.vcodes,m=o.supportVCodes;o._getOptimalVideoCodecsSubset(p,h,m)}r&&l._webrtc&&l._webrtc.setSubArgs(r),r&&l.updateAttributes({subArgs:r});var v=o.newMessage().setOp(205).setRtcId(e).setSubSId(t);r&&c.extend(v,r),o.postMessage(v,(function(e){if(0!=e.result){f&&l._webrtc&&l._webrtc.setSubArgs(f),f&&l.updateAttributes({subArgs:f});var t=new d.SubFail({stream:l,cause:new d.RspFail({request:v,response:e})});return n&&n(t),void o.onEvent(t)}l.updateAttributes(l.subArgs);t=new d.SubSuccess({stream:l,hidden:!0});o._updateRemoteStream(l,l._webrtc.getRemoteStream()),o.onEvent(t),"function"===typeof i&&i()}))},unsubscribeStream:function(e){var t=this,n=t._cacheStreams[e],r=n._webrtc&&n._webrtc.getRtcId();if(r){try{var i=t.newMessage().setOp(206).setRtcId(r).setSubSId(e);t.postMessage(i)}finally{t.closeWebrtc(r)}return r}},onEnter:function(e,t){var n=this;if(e&&(n._cver=e),t&&!n._cacheMembers[t.id]){n._cacheMembers[t.id]=t;var r={};t.res&&t.res.vcodes&&t.res.vcodes.length>0&&c.forEach(t.res.vcodes,(function(e,t){r[t]||(r[t]=!0,n.supportVCodes[t]&&n.supportVCodes[t]++)})),n.onAddMember(c.extend({},t))}},_onFinally:function(){var e=this;e._cacheMembers={},e._cacheStreams={},e._linkedStreams={},e._ices={},e._maybeNotExistStreams={};var t=[];if(c.forEach(e._openedRtcMediaStreams,(function(e,n){!1!==n.active&&t.push(n)})),t.length>0)for(var n=0;n<t.length;n++)try{var r=t[n];u.info("exit, close stream = ",r.id),emedia.stopTracks(r)}catch(i){u.error(i)}u.warn("finally. all clean.")},_onRoleUpdate:function(e,t){var n=this;u.info("Role ",e," <-",n.role),u.info(t),n.role=e,n.roleToken=t,n.onRoleUpdate&&n.onRoleUpdate(e,t)},onExit:function(e,t,n){var r=this;if(e&&(r._cver=e),t!=r.getMemberId()){var i=r._cacheMembers[t];i&&(i.res&&i.res.vcodes&&i.res.vcodes.length>0&&c.forEach(i.res.vcodes,(function(e,t){r.supportVCodes[t]--})),r._onRemoveMember(i,n),r.onEvent(new d.Hangup({reason:n,parnter:i})))}else{u.warn("Me exit. ",n,t);try{r.closed||r.close(n)}catch(o){r.onEvent(new d.Hangup({reason:n,self:{id:r._memberId}})),r.onMeExit&&r.onMeExit(n),u.warn(o)}}},onPub:function(e,t,n){var r=this;if(!r._cacheMembers[t])throw u.error("No found member. when pub"),"No found member. when pub";var i=r.newStream(n),o=r._cacheStreams[n.id];if(e&&(r._cver=e),o&&i.sver!==o.sver)return u.info("Onpub. the steam ",o.id," republish. sver ",o.sver,i.sver),!i||i.aoff===o.aoff&&i.voff==o.voff||r.onStreamControl(void 0,n.id,i.voff,i.aoff),c.extend(o,i),void r._onRepublishStream(o);var s=i;return s.updateAttributes({owner:r._cacheMembers[t]}),r._cacheStreams[n.id]=s,r._onAddStream(r.newStream(s)),r.autoSub&&r.createWebrtcAndSubscribeStream(n.id,{onGotRemote:function(e){}}),s},onUnpub:function(e,t,n){var r=this,i=r._cacheStreams[n];r._onRemovePubstream(r._cacheMembers[t],i),e&&(r._cver=e)},onClose:function(e,t,n){var r=this;try{r.close(n||0)}finally{r.onConfrClose&&r.onConfrClose(t,n)}},__getWebrtcFor:function(e){var t=this,n=t._cacheStreams[e]&&t._cacheStreams[e]._webrtc;return n&&n.getRtcId()},_getWebrtc:function(e){var t=this,n=t._cacheStreams[e]&&t._cacheStreams[e]._webrtc;return n},_updateRemoteStream:function(e,t){e.located()&&2===e.type?emedia.enableAudioTracks(t,!0):emedia.enableAudioTracks(t,!e.aoff&&!(e.subArgs&&!1===e.subArgs.subSAudio)),emedia.enableVideoTracks(t,!e.voff&&!(e.subArgs&&!1===e.subArgs.subSVideo))},onStreamControl:function(e,t,n,r,i){var o=this,s=o._cacheStreams[t];s.updateAttributes({voff:n,aoff:r});var a=s._webrtc;a&&a._remoteStream&&o._updateRemoteStream(s,a._remoteStream);var c=o.newStream(s);o.onUpdateStream&&o.onUpdateStream(c,new c.Update({voff:n,aoff:r})),e&&(o._cver=e),i&&s.updateAttributes({sver:i})},aoff:function(e,t,n){var r=this,i=r.__getWebrtcFor(e.id);if(!i)throw u.error("pubS not publish",e.id),"pubS not publish"+e.id;var o=r._linkedStreams[e.id];o.updateAttributes({aoff:t}),e.updateAttributes({aoff:t});var s=r.newMessage().setOp(400).setRtcId(i).setVoff(e.voff).setAoff(t);r.postMessage(s,n),r.onUpdateStream&&r.onUpdateStream(e,new e.Update({aoff:t}))},voff:function(e,t,n){var r=this,i=r.__getWebrtcFor(e.id);if(!i)throw u.error("pubS not publish",e.id),"pubS not publish"+e.id;var o=r._linkedStreams[e.id];o.updateAttributes({voff:t}),e.updateAttributes({voff:t});var s=r.newMessage().setOp(400).setRtcId(i).setVoff(t).setAoff(e.aoff);r.postMessage(s,n),r.onUpdateStream&&r.onUpdateStream(e,new e.Update({voff:t}))},startRecord:function(e,t){var n=this,r=e.rtcId,i=n.newMessage().setOp(500).setRtcId(r).setFlag(1);n.postMessage(i,(function(i){u.warn("record ",r,i.result,i.msg),t&&t(0===i.result),0===i.result&&(n._records[e.id]=c.extend(!1,{},e))}))},stopRecord:function(e,t){var n=this,r=e.rtcId,i=n.newMessage().setOp(500).setRtcId(r).setFlag(0);n.postMessage(i,(function(e){u.warn("stop record ",r,e.result,e.msg),t&&t(0===e.result)})),n._records[e.id]&&c.removeAttribute(n._records,e.id)},onMembers:function(e,t){var n=this,r=[];c.forEach(n._cacheMembers,(function(e,n){t[e]||r.push(n)})),c.forEach(r,(function(e,t){n.onExit(void 0,t.id)}));var i=[];c.forEach(t,(function(e,t){(t.name&&t.name!=n.memName||!t.name&&e!=n.getMemberId())&&(n._cacheMembers[e]||i.push(t),n._cacheMembers[e]&&c.extend(n._cacheMembers[e],t))})),c.forEach(i,(function(e,t){n.onEnter(void 0,t)})),e&&(n._cver=e)},onStreams:function(e,t){var n=this,r=[];c.forEach(n._cacheStreams,(function(e,n){n.located()||t[e]||r.push(n)})),c.forEach(r,(function(e,t){n.onUnpub(void 0,t.memId,t.id)}));var i=[];c.forEach(t,(function(e,t){(t.memName&&t.memName!=n.memName||!t.memName&&t.memId!=n.getMemberId())&&(n._cacheStreams[e]||i.push(t),n._cacheStreams[e]&&c.extend(n._cacheStreams[e],t))})),c.forEach(i,(function(e,t){n.onPub(void 0,t.memId,t)})),c.forEach(n._cacheStreams,(function(e,r){var i;r.located()||(i=t[e]),!i||i.aoff===r.aoff&&i.voff==r.voff||n.onStreamControl(void 0,e,i.voff,i.aoff),i&&i.sver!==r.sver&&(c.extend(r,i),n._onRepublishStream(r))})),e&&(n._cver=e)},_onRemoveMember:function(e,t){var n=this;u.info("remove",e,t);var r=[];c.forEach(n._cacheStreams,(function(t,n){(n.memId||n.owner&&n.owner.id)===e.id&&r.push(n)})),c.forEach(r,(function(e,r){n._onRemovePubstream(r.owner,r,t)})),c.removeAttribute(n._cacheMembers,e.id),n.onRemoveMember&&n.onRemoveMember(e,t)},_onAddStream:function(e){u.info("add stream ",e.id),u.debug("add stream ",e);var t=this;t.onAddStream(e)},_onRemovePubstream:function(e,t,n){var r=this;if(t&&0!=t.id)try{var i=c.removeAttribute(r._mediaMeters,t.id);i&&i._finally()}finally{o(t)}function o(e){2===e.type&&(c.removeAttribute(r.audioMixers,e.id),e.remotePlayAudioObject&&document.body.removeChild(e.remotePlayAudioObject)),n||(n="Unpub"),e&&!e.closeReason&&e.updateAttributes({closeReason:n});r.unsubscribeStream(e.id),c.removeAttribute(r._cacheStreams,e.id);if(r._streamAutomators&&c.removeAttribute(r._streamAutomators,e.id),r._monitSoundChanagedStreams&&c.removeAttribute(r._monitSoundChanagedStreams,e.id),r.onRemoveStream){e=r.newStream(e);r.onRemoveStream(e)}}},_onRepublishStream:function(e){var t=this;if(!t._ices[e.rtcId]&&!emedia.subscribed(e)||t._maybeNotExistStreams[e.id])t.onUpdateStream(e);else{t.unsubscribeStream(e.id);t.createWebrtcAndSubscribeStream(e.id,{onGotRemote:function(e){}})}},_onRecvRemoteMessage:function(e,t,n){var r=this;u.debug("Recv remote message",e,t);var i,o=r._cacheMembers[e];try{i=JSON.parse(t)}catch(s){}r.onRecvRemoteMessage&&r.onRecvRemoteMessage(o||e,i||t,n)},_onSoundChanage:function(e,t,n){emedia.config._printSoundData&&u.info("Stream id "+t.id+", meter "+(n&&n.instant.toFixed(2)+" "+n.slow.toFixed(2)+" "+n.clip.toFixed(2)+" "+(n.trackAudioLevel||"--")+" "+(n.trackTotalAudioEnergy||"--"))),n||(n={instant:0,slow:0,clip:0}),emedia.config.logVolumeWhenInstantGE&&emedia.config.logVolumeWhenInstantGE>0&&n.instant>=emedia.config.logVolumeWhenInstantGE&&n.instant<3*emedia.config.logVolumeWhenInstantGE&&u.info("Stream id "+t.id+", webrtc = "+(t._webrtc?t._webrtc.getRtcId():"null")+", media streamId = "+(t.getMediaStream()?t.getMediaStream().id:"null")+", instant >= "+emedia.config.logVolumeWhenInstantGE+", meter instant="+n.instant+", slow="+n.slow+", clip="+n.clip);var r=this;0===n.instant&&(n.instant=n.trackAudioLevel||n.trackTotalAudioEnergy||0),r.onSoundChanage(e,t,n),r._service._judgeTalking(n)&&r.onTalking(e,t,n)},onAddMember:function(e){},onRemoveMember:function(e,t){},onAddStream:function(e){},onRemoveStream:function(e){},onUpdateStream:function(e,t){},onRecvRemoteMessage:function(e,t){},onSoundChanage:function(e,t,n){},onTalking:function(e,t,n){},_sendRequestMessage:function(e){if(e){var t=this,n=function(){var e="";for(var n in t._cacheMembers){var r=t._cacheMembers[n];if(r.role==emedia.mgr.Role.ADMIN){e=r.id;break}}return e},r=n();if(r){var o=this._memberId,a=this.memName,c=this.nickName,u=this.newMessage(),l={op:1002,memId:r,arg:(0,s.default)({op2:e,memId:o,memName:a,nickName:c||a}),tsxTime:(new Date).getTime(),_reqOps:["1002"+e]};(0,i.default)(u,l),this.postMessage(u)}else console.warn("this confrence have not admin")}},requestToTalker:function(){this._sendRequestMessage(21)},_send_action_request_message:function(e,t,n){if(t&&e&&void 0!==n){var r=t.tsxId,o=t.arg,a=o.memId,c=this.newMessage(),u={op:1001,arg:(0,s.default)({op2:e,memId:a}),memId:a,result:n,tsxId:r,_reqOps:["1002"+e]};(0,i.default)(c,u),this.postMessage(c)}},refuseRequestToTalker:function(e){this._send_action_request_message(21,e,1)},refuseRequestToAdmin:function(e){this._send_action_request_message(22,e,1)},requestToAdmin:function(){this._sendRequestMessage(22)},_sendControlAudioMessage:function(e,t){if(e&&t){var n=this.newMessage(),r={op:1002,memId:e,arg:(0,s.default)({op2:t,memId:e}),tsxTime:(new Date).getTime(),_reqOps:[100223,100224]};(0,i.default)(n,r),this.postMessage(n)}},muteBymemberId:function(e){this._sendControlAudioMessage(e,23)},unmuteBymemberId:function(e){this._sendControlAudioMessage(e,24)}});e.exports=p},function(e,t,n){"use strict";var r=n(87),i=r.tagLogger("Member"),o=n(151),s=n(156);e.exports=r.prototypeExtend({__init__:function(){var e=this;if(!e._session)throw i.error("Require session"),"Require session";e.closed=!1,e._ices={},e.supportVCodes={},e.audioMixers={}},reflushSupportVCodes:function(e){var t=this;t.supportVCodes={},t._orderVCodes=e,e&&0!=e.length?r.forEach(e,(function(e,n){t.supportVCodes[n]=1})):i.warn("Not config support vcodes")},getOptimalVideoCodecs:function(){var e=this;if(!e._orderVCodes||0==e._orderVCodes.length)return/Chrome/.test(navigator.userAgent)?"VP8":/Safari/.test(navigator.userAgent)?"H264":"VP8";var t=0;r.forEach(e._cacheMembers,(function(){t++}));for(var n,i=0,o=0;o<e._orderVCodes.length;o++){var s=e._orderVCodes[o];if(0==i&&(i=e.supportVCodes[s]),e.supportVCodes[s]>t)return s;e.supportVCodes[s]>i&&(i=e.supportVCodes[s],n=s)}return n||e._orderVCodes&&e._orderVCodes.length>0&&e._orderVCodes[0]},setMemberId:function(e){this._memberId=e},getMemberId:function(){return this._memberId||this.id},createWebrtc:function(e,t){var n=this;e||(e={}),r.extend(e,{_rebuildCount:t||0}),!0===n._service.useRTCCfg&&n.__rtc_cfg?e.iceServerConfig=r.extend(!0,{},n.__rtc_cfg):r.isPlainObject(n._service.useRTCCfg)&&(e.iceServerConfig=r.extend(!0,{},n._service.useRTCCfg));var a=new s({confrAttendee:n,useIp:n.ip,onIceStateChange:function(e){var t=e;i.debug("evt.target ice state",t);try{if("failed"==t)return n.onEvent(new o.ICEConnectFail({webrtc:a})),void(a.onEvent&&a.onEvent(new o.ICEConnectFail({webrtc:a})));if("connected"==t)return n.onEvent(new o.ICEConnected({webrtc:a})),void(a.onEvent=null);if("closed"==t)return n.onEvent(new o.ICEClosed({webrtc:a})),void(a.onEvent&&a.onEvent(new o.ICEClosed({webrtc:a})));if("disconnected"==t)return n.onEvent(new o.ICEDisconnected({webrtc:a})),void(a.onEvent&&a.onEvent(new o.ICEDisconnected({webrtc:a})))}finally{n._onIceStateChange&&n._onIceStateChange(a,e)}},onIceCandidate:function(e){n._onIceCandidate&&e&&n._onIceCandidate(a,e)},onGotRemoteStream:function(e){i.info("got stream.",a._rtcId,a.__id,e),a.onGotMediaStream&&a.onGotMediaStream(e),n.onEvent(new o.ICERemoteMediaStream({webrtc:a}))},onAddIceCandidateError:function(e){n.onEvent(new o.AddIceCandError({webrtc:a,event:e}))},onSetSessionDescriptionError:function(e){i.warn("onSetSessionDescriptionError : Failed to set session description: "+e.toString()),n.onEvent&&n.onEvent(new o.ICEConnectFail({webrtc:a,event:e}))},onCreateSessionDescriptionError:function(e){i.warn("Failed to create session description: "+e.toString()),n.onEvent&&n.onEvent(new o.ICEConnectFail({webrtc:a,event:e}))}},e);return n._ices||(n._ices={}),n._ices[a.getRtcId()]&&n._howDoWebrtcWhenCrtExsitsWebrtc(a),n._ices[a.getRtcId()]=a,n._ices[a.__id]=a,n._iceCreateRtcPeerConnection(a.getRtcId()),i.debug("create rtc ",a),a},_howDoWebrtcWhenCrtExsitsWebrtc:function(e){var t=this;t.closeWebrtc(e.getRtcId(),!0,!1)},connect:function(e,t){var n=this;n._session.connect(e,t)},connected:function(){var e=this;return e._session.connected()},newMessage:function(e){var t=this,n=t._session.newMessage(e);return n.post=function(e,n){t.postMessage(this,e,n)},n},message:function(e){var t=this,n=t._session.newMessage(e);return n.post=function(e,n){t.postMessage(this,e,n)},n},postMessage:function(e,t,n){var r=this;try{e.sessId||(e.sessId=r._session._sessionId),r._session.postMessage(e,t,n)}catch(o){t&&t({op:1001,tsxId:e.tsxId,result:-9527,msg:"post message. exception"}),i.warn(o)}},onEvent:function(e){},_onIceStateChange:function(e,t){var n=this;i.info(e.getRtcId(),t),n.onEvent(new o.ICEChanage({webrtc:e,state:t}))},_onIceCandidate:function(e,t){var n,i=this;r.isArray(t)?n=t:(n=[],n.push(t));var s=i.newMessage().setOp(105).setRtcId(e.getRtcId()).setCands(n);i.postMessage(s,(function(e){0==e.result||i.onEvent(new o.RspFail({request:s,response:e}))}))},_initC:function(e,t,n,s,a,c){var u=this;if(t&&t.rtcId!==e.getRtcId())throw i.error("stream and webrtc rtcId not equal."),"stream and webrtc rtcId not equal.";var l=u.newMessage().setOp(102).setRtcId(e.getRtcId()).setSdp(n).setSubSId(s);e.subArgs&&r.extend(l,e.subArgs),t&&t.located()&&l.setPubS(t),u.postMessage(l,(function(n){if(0!=n.result)return u.onEvent(new o.RspFail({request:l,response:n})),void(a&&a(new o.RspFail({request:l,response:n,hidden:!0===n.retrying})));t&&!t.id&&n.streamId&&t.updateAttributes({id:n.streamId});try{c&&c()}catch(r){i.warn(r)}n.sdp&&u.ansC(e.getRtcId(),n.sdp,n.cands),n.mems&&u.onMembers&&u.onMembers(n.cver,n.mems),n.streams&&u.onStreams&&u.onStreams(n.cver,n.streams)}))},_acptC:function(e,t,n){var r=this,i=r.newMessage().setOp(104).setRtcId(e.getRtcId()).setSdp(t);r.postMessage(i,(function(e){if(0!=e.result)return r.onEvent(new o.RspFail({request:i,response:e})),void(n&&n(new o.RspFail({request:i,response:e})))}))},_ansCAndPubstream:function(e,t,n,s,a){var c=this,u=c.newMessage().setOp(106).setRtcId(e.getRtcId()).setSdp(n);e.subArgs&&r.extend(u,e.subArgs),t&&t.located()&&(t=r.extend({},t),r.removeAttribute(t,"mutedMuted"),r.removeAttribute(t,"_located"),u.setPubS(t)),c.postMessage(u,(function(e){if(0!=e.result)return c.onEvent(new o.RspFail({request:u,response:e})),void(s&&s(new o.RspFail({request:u,response:e,hidden:!0===e.retrying})));t&&!t.id&&e.streamId&&t.updateAttributes({id:e.streamId});try{a&&a()}catch(n){i.warn(n)}}))},_ansC:function(e,t,n){var r=this,i=r.newMessage().setOp(106).setRtcId(e.getRtcId()).setSdp(t);r.postMessage(i,(function(e){if(0!=e.result)return r.onEvent(new o.RspFail({request:i,response:e})),void(n&&n(new o.RspFail({request:i,response:e})))}))},_termC:function(e,t,n){var r=this,i="string"===typeof e?e:e.getRtcId(),s=r.newMessage().setOp(107).setRtcId(i).setEndReason(t);r.postMessage(s,(function(e){if(0!=e.result)return r.onEvent(new o.RspFail({request:s,response:e})),void(n&&n(new o.RspFail({request:s,response:e})))}))},_iceCreateRtcPeerConnection:function(e){var t=this;t._ices[e].createRtcPeerConnection(),i.debug("create rtc peer connection",e)},doOffer:function(e,t,n){var r=this,i=r._ices[e];i.createOffer((function(e){t(e)}))},offerCall:function(e,t,n,r,i){var o=this,s=o._ices[e];s.createOffer((function(e){o._initC&&o._initC(s,t,e,n,r,i)}))},accept:function(e,t){var n=this,r=n._ices[e];r.createPRAnswer((function(e){n._acptC&&n._acptC(r,e,t)}))},answerCall:function(e,t,n,r){var i=this,o=i._ices[e];o.createAnswer((function(e){i._ansCAndPubstream&&i._ansCAndPubstream(o,t,e,n,r)}))},answer:function(e,t){var n=this,r=n._ices[e];r.createAnswer((function(e){n._ansC&&n._ansC(r,e,t)}))},onTcklC:function(e,t){var n=this;n._addIceCandidate(t,e)},onAcptC:function(e,t,n){var r=this;r._iceSetRemoteSDP(t,e),n&&r._addIceCandidate(n,e)},onAnsC:function(e,t,n){var r=this;r._iceSetRemoteSDP(t,e),n&&r._addIceCandidate(n,e)},_addIceCandidate:function(e,t){var n=this;if(e&&0!=e.length){var r=n._ices[t];r&&r.addIceCandidate(e)}else i.warn("drop cands",e)},closeWebrtc:function(e,t,n){var o=this,s=o._ices[e];if(r.forEach(o._cacheStreams,(function(t,n){if(n.rtcId===e&&!n.located())try{var s=r.removeAttribute(o._mediaMeters,t);s&&s._finally()}catch(a){i.warn(a)}n.rtcId===e&&2===n.type&&r.removeAttribute(o.audioMixers,n.id)})),!s||s.closed)return i.warn("Webrtc not exsits or closed",s&&s.closed),n&&s&&r.forEach(o._cacheStreams,(function(t,n){n.rtcId===e&&(r.removeAttribute(o._linkedStreams,t),i.warn("Webrtc close, remvoe from _linkedStreams",t))})),void(n||o._termC(e,0));if(o._records){var a=function(e){try{o.stopRecord(e)}catch(t){i.warn(t)}finally{r.removeAttribute(o._records,e.id)}};r.forEach(o._records,(function(t,n){n.rtcId===e&&a(n)}))}try{n||s&&o._termC(s,t&&s._localStream?-10:0)}finally{s&&s.close(t),s&&o.onWebrtcTermC&&o.onWebrtcTermC(s),t||s&&r.forEach(o._cacheStreams,(function(t,s){s.rtcId===e&&(s.located()&&(emedia.stopTracks(s._localMediaStream),s&&!s.closeReason&&s.updateAttributes({closeReason:"WebrtcClose"}),o._cacheStreams[t]&&o._linkedStreams[t]&&o.onRemoveStream(s),r.removeAttribute(o._cacheStreams,t),o._streamAutomators&&r.removeAttribute(o._streamAutomators,t),o._monitSoundChanagedStreams&&r.removeAttribute(o._monitSoundChanagedStreams,t),i.info("Webrtc close. Remove stream",t,". from cache")),n&&(r.removeAttribute(o._linkedStreams,t),i.info("Webrtc close. Remove stream",t,". from _linkedStreams")))}))}return s},__close:function(e){i.warn("closing, reason = ",e);var t=this;if(!t.closed){if(t.closed=!0,t.__getCopyInterval&&(clearInterval(t.__getCopyInterval),i.warn("Stop interval get copy")),t._ices)for(var n in t._ices)t.closeWebrtc(n,!1);var r=t.newMessage().setOp(201).setReason(e||0);t.postMessage(r)}},exit:function(e){var t=this;e?(e&&t._closeMyConfr(11),setTimeout((function(){t.close(0)}),100)):t.close(0)},_closeMyConfr:function(e){var t=this,n=t.newMessage().setOp(204).setReason(e||0);t.postMessage(n,(function(e){i.warn("Close confr ",e.result,e.msg)}))},close:function(e,t){var n=this;if(!n.closed)try{r.forEach(n._cacheStreams||{},(function(e,t){t.located()&&t._localMediaStream&&emedia.stopTracks(t._localMediaStream)})),n.__close(e),r.forEach(n._cacheStreams,(function(e,t){n.onRemoveStream(t)})),r.forEach(n._cacheMembers,(function(e,t){n.onRemoveMember(t)}))}finally{try{setTimeout((function(){n._session&&n._session.close(e)}),500),n.onEvent(new o.Hangup({reason:e,failed:t,self:{id:n._memberId}})),n.onMeExit&&n.onMeExit(e,t)}catch(s){i.error(s)}finally{n._onFinally&&n._onFinally()}}},webrtcState:function(e){var t=this,n=t._ices[e];return n.iceConnectionState()},_iceSetRemoteSDP:function(e,t){var n=this,r=n._ices[t];r.setRemoteDescription(e)},setLocalStream:function(e,t){var n=this,r=n._ices[t];r.setLocalStream(e)},onWebrtcTermC:function(e){}})},function(e,t,n){"use strict";var r=n(2),i=a(r),o=n(80),s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var c=n(87),u=c.tagLogger("Webrtc"),l=n(157),d=n(152).default,f={headerSection:null,audioSection:null,videoSection:null,_parseHeaderSection:function(e,t,n){var r=t;return-1===n||(r=-1===t?n:Math.min(t,n)),r>=0?e.slice(0,r):e},_parseAudioSection:function(e,t,n){var r=t;if(r>=0)return e.slice(r,n<r?e.length:n)},_parseVideoSection:function(e,t,n){var r=n;if(r>=0)return e.slice(r,t<r?e.length:t)},spiltSection:function(e){var t=this;t._preSDP=e;var n=t._preAudioIndex=e.indexOf("m=audio"),r=t._preVideoIndex=e.indexOf("m=video");t.headerSection=t._parseHeaderSection(e,n,r),t.audioSection=t._parseAudioSection(e,n,r),t.videoSection=t._parseVideoSection(e,n,r)},setVideoBitrate:function(e){e&&this.videoSection&&(this.videoSection=this.setBitrate(this.videoSection,e))},setVideoMinBitrate:function(e){this.setAllFmtpBitrate({"x-google-min-bitrate":e})},setVideoMaxBitrate:function(e){this.setAllFmtpBitrate({"x-google-max-bitrate":e})},setVideoStartBitrate:function(e){this.setAllFmtpBitrate({"x-google-start-bitrate":e})},setAllFmtpBitrate:function(e){if(this.videoSection){var t={};(0,s.default)(e).forEach((function(n){var r=e[n],i=n+"="+r,o=new RegExp("(a=fmtp\\:\\d+\\s\\S*;?)("+n+"=\\d+)(;?\\S*)","g");t[n]={field:i,regex:o}})),this.videoSection=this.videoSection.replace(/(a=fmtp\:\d+[^\r\n]+)([\r\n]+)/g,(function(e,n,r){return n.indexOf("apt=")>=0?e:((0,s.default)(t).forEach((function(e){var r=t[e],i=r.regex,o=r.field,s=n.replace(i,(function(e,t,n,r){return t+o+r}));s.indexOf(e)<0?(s.endsWith(";")||(s+=";"),n=s+o):n=s})),n+r)}))}},setFmtpBitrate:function(e,t){if(t&&this.videoSection){var n=e+"="+t,r=new RegExp("(a=fmtp\\:\\d+\\s\\S*;?)("+e+"=\\d+)(;?\\S*)","g");this.videoSection=this.videoSection.replace(/(a=fmtp\:\d+[^\r\n]+)([\r\n]+)/g,(function(t,i,o){var s=i.replace(r,(function(e,t,r,i){return t+n+i}));return s.indexOf(e)<0&&(s.endsWith(";")||(s+=";"),s+=n),s+o}))}},setAudioBitrate:function(e){e&&this.audioSection&&(this.audioSection=this.setBitrate(this.audioSection,e))},setBitrate0:function(e,t){return e=e.replace(/(b=)(?:AS|TIAS)(\:)\d+/g,"$1AS$2"+t),e.indexOf("b=AS")<0&&(e=e.replace(/(m=(?:audio|video)[^\r\n]+)([\r\n]+)/g,"$1$2b=AS:"+t+"$2")),e},setBitrate:function(e,t){var n="AS";return emedia.isFirefox&&(t=1e3*(t>>>0),n="TIAS"),e=e.replace(/(b=)(?:AS|TIAS)(\:)\d+/g,"$1"+n+"$2"+t),e.indexOf("b="+n+":")<0&&(e=e.indexOf("c=IN ")<0?e.replace(/(m=(?:audio|video)[^\r\n]+)([\r\n]+)/g,"$1$2b="+n+":"+t+"$2"):e.replace(/c=IN ([^\r\n]+)([\r\n]+)/,"c=IN $1$2b="+n+":"+t+"$2")),e},updateVideoSection:function(e,t){var n=this;n.videoSection&&(n.videoSection=n.videoSection.replace(e,t))},updateAudioSection:function(e,t){var n=this;n.audioSection&&(n.audioSection=n.audioSection.replace(e,t))},updateVideoSendonly:function(){var e=this;e.videoSection&&(e.videoSection=e.videoSection.replace(/sendrecv/g,"sendonly"))},updateVideoRecvonly:function(){var e=this;e.videoSection&&(e.videoSection=e.videoSection.replace(/sendrecv/g,"recvonly"))},updateAudioSendonly:function(){var e=this;e.audioSection&&(e.audioSection=e.audioSection.replace(/sendrecv/g,"sendonly"))},updateAudioRecvonly:function(){var e=this;e.audioSection&&(e.audioSection=e.audioSection.replace(/sendrecv/g,"recvonly"))},updateACodes:function(e){var t=this;if(e&&t.audioSection){if("string"===typeof e){var n=[];n.push(e),e=n}for(var r={},i=/a=rtpmap:(\d+) ([A-Za-z0-9]+)\/.*/gi,o=(n=t._parseLine(t.audioSection,i),0);o<n.length;o++){var s=n[++o],a=n[++o];r[a]=s}var l=[];for(o=0;o<e.length;o++){var d=r[e[o]];d&&l.push(d)}0==l.length&&(t._webrtc?u.warn("Not found acodes map",e,t._webrtc._rtcId,t._webrtc.__id):u.warn("Not found acodes map",e));var f=t.audioSection.indexOf("\r"),p=t.audioSection.substring(0,f),h=p.split(" ");Array.prototype.push.apply(l,h.slice(3));var m=[],v={};c.forEach(l,(function(e,t){0==m.length?(m.push(t),v[t]=!0):v[t]||(m.push(t),v[t]=!0)})),h.splice(3,h.length-3,m.join(" ")),p=h.join(" "),t._webrtc&&u.warn(p,t._webrtc._rtcId,t._webrtc.__id),t.audioSection=p+t.audioSection.substring(f)}},updateVCodes:function(e){var t=this;if(e&&t.videoSection){if("string"===typeof e){var n=[];n.push(e),e=n}for(var r={},i=/a=rtpmap:(\d+) ([A-Za-z0-9]+)\/.*/gi,o=(n=t._parseLine(t.videoSection,i),0);o<n.length;o++){var s=n[++o],a=n[++o];r[a]=s}var l=/a=fmtp:(\d+) .*profile-level-id=42e01f;?.*/gi,d=t._parseLine(t.videoSection,l);d&&d.length>=2&&(r["H264"]=d[1]);var f=[];for(o=0;o<e.length;o++){var p=r[e[o]];p&&f.push(p)}0==f.length&&(t._webrtc?u.warn("Not found vcodes map",e,t._webrtc._rtcId,t._webrtc.__id):u.warn("Not found vcodes map",e));var h=t.videoSection.indexOf("\r"),m=t.videoSection.substring(0,h),v=m.split(" ");Array.prototype.push.apply(f,v.slice(3));var b=[],y={};c.forEach(f,(function(e,t){0==b.length?(b.push(t),y[t]=!0):y[t]||(b.push(t),y[t]=!0)})),v.splice(3,v.length-3,b.join(" ")),m=v.join(" "),t._webrtc&&u.warn(m,t._webrtc._rtcId,t._webrtc.__id),t.videoSection=m+t.videoSection.substring(h)}},removeSSRC:function(e){for(var t=[],n=e.split(/a=ssrc:[^\n]+/g),r=0;r<n.length;r++)"\n"!=n[r]&&t.push(n[r]);return t.join("\n")},removeField_msid:function(e){for(var t=[],n=e.split(/a=msid:[^\n]+/g),r=0;r<n.length;r++)"\n"!=n[r]&&t.push(n[r]);e=t.join("\n"),t=[],n=e.split(/[\n]+/g);for(r=0;r<n.length;r++)"\n"!=n[r]&&t.push(n[r]);return t.join("\n")},updateHeaderMsidSemantic:function(e){var t=this,n="a=msid-semantic: WMS "+e,r=t.headerSection.split(/a=msid\-semantic: WMS.*/g),i=[];switch(r.length){case 1:i.push(r[0]);break;case 2:i.push(r[0]),i.push(n),i.push("\n");break;case 3:i.push(r[0]),i.push(n),i.push("\n"),i.push(r[2]),i.push("\n");break}return t.headerSection=i.join("")},updateAudioSSRCSection:function(e,t,n,r){var i=this;i.audioSection&&(i.audioSection=i.removeSSRC(i.audioSection)),i.audioSection&&(i.audioSection=i.removeField_msid(i.audioSection)),i.audioSection&&(i.audioSection=i.audioSection+i.ssrcSection(e,t,n,r))},updateVideoSSRCSection:function(e,t,n,r){var i=this;i.videoSection&&(i.videoSection=i.removeSSRC(i.videoSection)),i.videoSection&&(i.videoSection=i.removeField_msid(i.videoSection)),i.videoSection&&(i.videoSection=i.videoSection+i.ssrcSection(e,t,n,r))},getUpdatedSDP:function(e){var t,n,r,i=this;if(void 0!==e&&null!=e||(e=i._preAudioIndex<i._preVideoIndex),i.videoSection&&i.videoSection.replace(/a=mid:([^\r\n]+)/,(function(e,n){return t=n,e})),i.audioSection&&i.audioSection.replace(/a=mid:([^\r\n]+)/,(function(e,t){return n=t,e})),e){var o=["a=group:BUNDLE"];i.audioSection&&o.push(n),i.videoSection&&o.push(t),r=i.headerSection.replace(/a=group:BUNDLE [^\r\n]+/,o.join(" ")),i.audioSection&&(r+=i.audioSection),i.videoSection&&(r+=i.videoSection)}else{o=["a=group:BUNDLE"];i.videoSection&&o.push(t),i.audioSection&&o.push(n),r=i.headerSection.replace(/a=group:BUNDLE [^\r\n]+/,o.join(" ")),i.videoSection&&(r+=i.videoSection),i.audioSection&&(r+=i.audioSection)}return r},parseMsidSemantic:function(e){var t=this,n=/a=msid\-semantic:\s*WMS (\S+)/gi,r=t._parseLine(e,n);return r&&2==r.length&&(t.msidSemantic={line:r[0],WMS:r[1]}),t.msidSemantic},ssrcSection:function(e,t,n,r){var i=["a=ssrc:"+e+" cname:"+t,"a=ssrc:"+e+" msid:"+n+" "+r,"a=ssrc:"+e+" mslabel:"+n,"a=ssrc:"+e+" label:"+r,""];return i.join("\n")},parseSSRC:function(e){var t=this,n=new RegExp("a=(ssrc):(\\d+) (\\S+):(\\S+)","ig"),r=t._parseLine(e,n);if(r){for(var i={lines:[],updateSSRCSection:t.ssrcSection},o=0;o<r.length;o++){var s=r[o];if(s.indexOf("a=ssrc")>=0)i.lines.push(s);else switch(s){case"ssrc":case"cname":case"msid":case"mslabel":case"label":i[s]=r[++o]}}return i}},_parseLine:function(e,t){var n,r=[];while(null!=(n=t.exec(e)))for(var i=0;i<n.length;i++)r.push(n[i]);if(r.length>0)return r}},p=function(e,t){c.extend(this,f),this._webrtc=t,this.spiltSection(e)};p.isAudioVideo=function(e){var t=e.indexOf("m=audio"),n=e.indexOf("m=video");return t<n},p.isVideoPreAudio=function(e){var t=e.indexOf("m=audio"),n=e.indexOf("m=video");return t>=0&&n>=0&&n<t};var h=emedia.__rtc_globalCount=0,m=c.prototypeExtend({closed:!1,sdpConstraints:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}},offerOptions:{offerToReceiveAudio:!0,offerToReceiveVideo:!0},optimalVideoCodecs:null,optimalAudioCodecs:null,__init__:function(){var e=this;e._rtcId||(e._rtcId="RTC"+h++),e.__id="_i_"+h++,e.__setRemoteSDP=!1,e.__tmpRemoteCands=[],e.__tmpLocalCands=[],e._rtcPeerConnection=null,e.cctx=e.__id,emedia&&emedia.config&&emedia.config.forceUseVideoCodecs&&emedia.config.forceUseVideoCodecs.length>0&&(e.optimalVideoCodecs=emedia.config.forceUseVideoCodecs),emedia&&emedia.config&&emedia.config.forceUseAudioCodecs&&emedia.config.forceUseAudioCodecs.length>0&&(e.optimalAudioCodecs=emedia.config.forceUseAudioCodecs),emedia&&emedia.config&&"number"===typeof emedia.config.forceVideoBitrate&&(e.vbitrate=emedia.config.forceVideoBitrate),emedia&&emedia.config&&"number"===typeof emedia.config.forceMinVideoBitrate&&(e.vminBitrate=emedia.config.forceMinVideoBitrate),emedia&&emedia.config&&"number"===typeof emedia.config.forceAudioBitrate&&(e.abitrate=emedia.config.forceAudioBitrate),u.info("Webrtc created. optimal video codecs:",e.optimalVideoCodecs,"audio codecs:",e.optimalAudioCodecs,"vbitrate:",e.vbitrate,"vminBitrate:",e.vminBitrate,"abitrate:",e.abitrate,e._rtcId,e.__id)},getRtcId:function(){return this._rtcId},iceState:function(){var e=this;return e._rtcPeerConnection.iceConnectionState},setSubArgs:function(e){var t=this;t.subArgs=e},getReceiversOfPeerConnection:function(){var e=this;if(e._rtcPeerConnection&&"closed"!=e._rtcPeerConnection.iceConnectionState)return e._rtcPeerConnection.getReceivers()},updateRemoteBySubArgs:function(){var e=this;e.subArgs&&e._remoteStream&&(emedia.enableVideoTracks(e._remoteStream,!(e.subArgs&&!1===e.subArgs.subSVideo)),emedia.enableAudioTracks(e._remoteStream,!(e.subArgs&&!1===e.subArgs.subSAudio)),u.info("enable tracks remote stream",e._remoteStream,e.subArgs,e._rtcId,e.__id,e.closed))},createRtcPeerConnection:function(e){var t=this;u.debug("begin create peer connection ......",t._rtcId,t.__id,t.closed),e||(e=t.iceServerConfig),e||emedia.isEdge?(e||(e={}),!e.iceServers&&(e.iceServers=[]),e.rtcpMuxPolicy="require",e.bundlePolicy="max-bundle",e.relayOnly&&(e.iceTransportPolicy="relay")):e=null,emedia&&emedia.config&&"function"===typeof emedia.config.reconfigRTCConfiguration&&(e=emedia.config.reconfigRTCConfiguration(e)),u.info("create pc, set config:",e,t._rtcId,t.__id,t.closed);var n=t._rtcPeerConnection=new RTCPeerConnection(e);function r(e){u.info("states: connectionState",n.connectionState,", iceConnectionState",n.iceConnectionState,"@",t._rtcId,t.__id,t.closed);try{var r=n.iceConnectionState||n.connectionState;"failed"!=n.connectionState&&"failed"!=n.iceConnectionState||(r="failed"),t.lastIceConnectionState!==r&&(t.lastIceConnectionState=r,t.onIceStateChange(r))}finally{}}n.__peerId=t._rtcId,u.debug("created local peer connection object",n,t._rtcId),n.onicecandidate=function(e){var n=e.candidate;if("icecandidate"!=e.type||n&&("string"!==typeof n.protocol||"tcp"!==n.protocol.toLowerCase())&&!/ TCP /.test(n.candidate)){if(!n.candidate)throw u.error("Not found candidate. candidate is error"),"Not found candidate. candidate is error,";if(n.cctx=t.cctx,!t.__setRemoteSDP)return(t.__tmpLocalCands||(t.__tmpLocalCands={})).push(n),void u.debug("On ICE candidate ok: but tmp buffer caused by not set remote sdp: ",n,t._rtcId,t.__id,t.closed);u.debug("On ICE candidate ok: ",n,t._rtcId,t.__id,t.closed),t._onIceCandidate(n)}else u.debug("On ICE candidate: drop",n,t._rtcId,t.__id,t.closed)},t.lastIceConnectionState="",n.onconnectionstatechange=r.bind(t),n.onicestatechange=r.bind(t),n.oniceconnectionstatechange=r.bind(t),n.onsignalingstatechange=function(e){u.info("states: signaling",n.signalingState,"@",t._rtcId,t.__id,t.closed)},null===n.ontrack&&t._onTrack&&(n.ontrack=function(e){t._onTrack(e)}),n.onaddstream=function(e){t._onGotRemoteStream(e)}},addTrack:function(e,t){var n=this;e.forEach((function(e){n._rtcPeerConnection.addTrack(e,t),u.debug("Added track(",e.id,e.kind,e.label,") of stream(",t.id,") to RtcPeerConnection",n._rtcId,n.__id,n.closed)}))},setLocalStream:function(e){var t=this;if(t._localStream=e,t._rtcPeerConnection.addTrack)e.getTracks().forEach((function(n){t._rtcPeerConnection.addTrack(n,e),u.debug("Added track(",n.enabled,n.id,n.kind,n.label,") of localStream(",e.id,") to RtcPeerConnection",t._rtcId,t.__id,t.closed)}));else{t._rtcPeerConnection.addStream(e);var n=e.getVideoTracks(),r=e.getAudioTracks();n&&n.length>0&&u.debug("RtcPeerConnection video: ",n[0].enabled,n[0].id,n[0].kind,n[0].label,t._rtcId,t.__id,t.closed),r&&r.length>0&&u.debug("RtcPeerConnection audio: ",r[0].enabled,r[0].id,r[0].kind,r[0].label,t._rtcId,t.__id,t.closed)}u.debug("Added local stream to RtcPeerConnection",e.id,e.active,t._rtcId,t.__id,this.closed)},removeStream:function(e){this._rtcPeerConnection.removeStream(e),u.debug("Remove stream from RtcPeerConnection",e,self._rtcId,self.__id,this.closed)},getLocalStream:function(){return this._localStream},getRemoteStream:function(){return this._remoteStream},createOffer:function(e,t){var n=this;u.debug("createOffer start...",n.offerOptions,n._rtcId,n.__id);var r=c.extend({},n.offerOptions);return n.subArgs&&(r={offerToReceiveAudio:!0,offerToReceiveVideo:!0}),n._rtcPeerConnection.createOffer(r).then((function(t){if(n.offerDescription=t,emedia.isEdge&&(t.sdp=t.sdp.replace(/profile-level-id=[^;]+/,"profile-level-id=42e01f")),emedia.isFirefox?n.fireFoxOfferVideoPreAudio=n.__offerVideoPreAudio=p.isVideoPreAudio(t.sdp):n.__offerVideoPreAudio=p.isVideoPreAudio(t.sdp),t.sdp=t.sdp.replace(/m=video 0/g,"m=video 9"),u.warn("setLocalDescription. modify offer. if 'm=video 0' -> 'm=video 9'; if H264, 'profile-level-id=42e01f'",n._rtcId,n.__id),n.optimalVideoCodecs&&n.optimalVideoCodecs.length>0||n.optimalAudioCodecs&&n.optimalAudioCodecs.length>0||n.offerOptions&&(!1===n.offerOptions.offerToReceiveVideo||!1===n.offerOptions.offerToReceiveAudio)){var r=new p(t.sdp,n);n.optimalVideoCodecs&&r.updateVCodes(n.optimalVideoCodecs),n.optimalAudioCodecs&&r.updateACodes(n.optimalAudioCodecs),n.offerOptions&&!1===n.offerOptions.offerToReceiveVideo&&r.updateVideoSection(/a=sendrecv|a=recvonly/g,"a=sendonly"),n.offerOptions&&!1===n.offerOptions.offerToReceiveAudio&&r.updateAudioSection(/a=sendrecv|a=recvonly/g,"a=sendonly"),t.sdp=r.getUpdatedSDP()}u.debug("setLocalDescription start",n._rtcId,n.__id,n.closed,n.optimalVideoCodecs,n.optimalAudioCodecs),n._rtcPeerConnection.setLocalDescription(t).then(n._onSetLocalSessionDescriptionSuccess.bind(n),n._onSetSessionDescriptionError.bind(n,t)).then((function(){t.cctx=n.cctx,(e||n.onCreateOfferSuccess.bind(n))(t)}))}),t||n._onCreateSessionDescriptionError.bind(n,r))},createPRAnswer:function(e,t){var n=this;return u.info(" createPRAnswer start",n.closed,n.sdpConstraints),n._rtcPeerConnection.createAnswer(n.sdpConstraints).then((function(t){u.debug("_____________PRAnswer ",t.sdp,n._rtcId,n.__id,n.closed),t.type="pranswer",t.sdp=t.sdp.replace(/a=recvonly/g,"a=inactive");var r=new p(t.sdp,n);n.optimalVideoCodecs&&r.updateVCodes(n.optimalVideoCodecs),n.optimalAudioCodecs&&r.updateACodes(n.optimalAudioCodecs),t.sdp=r.getUpdatedSDP(),n.__prAnswerDescription=t,u.debug("inactive PRAnswer ",t.sdp,n._rtcId,n.__id,n.closed),u.debug("setLocalDescription start",t,n._rtcId,n.__id,n.closed),n._rtcPeerConnection.setLocalDescription(t).then(n._onSetLocalSessionDescriptionSuccess.bind(n),n._onSetSessionDescriptionError.bind(n,t)).then((function(){r.updateHeaderMsidSemantic("MS_0000"),r.updateAudioSSRCSection(1e3,"CHROME0000","MS_0000","LABEL_AUDIO_1000"),r.updateVideoSSRCSection(2e3,"CHROME0000","MS_0000","LABEL_VIDEO_2000"),t.sdp=r.getUpdatedSDP(),u.debug("Send PRAnswer ",t.sdp,n._rtcId,n.__id,n.closed),n.cctx&&(t.cctx=n.cctx),(e||n.onCreatePRAnswerSuccess.bind(n))(t)}))}),t||n._onCreateSessionDescriptionError.bind(n,n.sdpConstraints))},createAnswer:function(e,t){var n=this;return u.info("createAnswer start",n.closed,n.sdpConstraints),n._rtcPeerConnection.createAnswer(n.sdpConstraints).then((function(t){function r(e){var n=e.parseMsidSemantic(e.headerSection);if(n){"*"==n.WMS&&e.updateHeaderMsidSemantic(n.WMS="MS_0000");var r=e.parseSSRC(e.audioSection),i=e.parseSSRC(e.videoSection);r&&e.updateAudioSSRCSection(1e3,"CHROME0000",n.WMS,r.label||"LABEL_AUDIO_1000"),i&&e.updateVideoSSRCSection(2e3,"CHROME0000",n.WMS,i.label||"LABEL_VIDEO_2000"),t.sdp=e.getUpdatedSDP()}}u.debug("_____________________Answer ",n._rtcId,n.__id,n.closed),t.type="answer";var i=new p(t.sdp,n);n.optimalVideoCodecs&&i.updateVCodes(n.optimalVideoCodecs),n.optimalAudioCodecs&&i.updateACodes(n.optimalAudioCodecs),emedia.supportPRAnswer?r(i):t.sdp=i.getUpdatedSDP(),n.__answerDescription=t,u.debug("Answer ",n._rtcId,n.__id,n.closed),u.debug("setLocalDescription start",t,n._rtcId,n.__id,n.closed),n._rtcPeerConnection.setLocalDescription(t).then(n._onSetLocalSessionDescriptionSuccess.bind(n),n._onSetSessionDescriptionError.bind(n,t)).then((function(){emedia.supportPRAnswer&&(i.updateHeaderMsidSemantic("MS_0000"),i.updateAudioSSRCSection(1e3,"CHROME0000","MS_0000","LABEL_AUDIO_1000"),i.updateVideoSSRCSection(2e3,"CHROME0000","MS_0000","LABEL_VIDEO_2000"),t.sdp=i.getUpdatedSDP()),u.debug("Send Answer ",n._rtcId,n.__id,n.closed),n.cctx&&(t.cctx=n.cctx),(e||n.onCreateAnswerSuccess.bind(n))(t)}))}),t||n._onCreateSessionDescriptionError.bind(n,n.sdpConstraints))},_printStats:function(e){var t=this;t.confrAttendee&&emedia.config.remainLastStatsCount&&e&&e.getTracks().forEach((function(e){t._printTrackStats(e)}))},_printTrackStats:function(e){var t=this;if(t.confrAttendee&&emedia.config.remainLastStatsCount){var n=t.confrAttendee._trackStats&&t.confrAttendee._trackStats[e.id];if(n){for(var r in n){var i=n[r];for(var o in i){var s=i[o];if(s)for(var a=s.curIndex,l=0;l<emedia.config.remainLastStatsCount;l++){a=(a-1)%emedia.config.remainLastStatsCount;var d=s[a];if(!d||void 0===d.data)break;u.info("[track]",t._rtcId,t.__id,e.kind,e.id,r,o,d.data,d.timestamp.toLocaleString())}}}c.removeAttribute(t.confrAttendee._trackStats,e.id)}}},close:function(e,t,n){var r=this;if(u.warn("webrtc closing",r._rtcId,r.__id,r.closed),r.__iceWaitIntervalId&&clearTimeout(r.__iceWaitIntervalId),!r.closed){t=!0===t,r.closed=!0;try{var i=function(){if(r._rtcPeerConnection&&r._rtcPeerConnection.close(),u.info("peer connection close. it is",r._rtcPeerConnection&&r._rtcPeerConnection.__peerId),!n&&emedia.isSafari){r._rtcPeerConnection.iceConnectionState||r._rtcPeerConnection.connectionState;setTimeout((function(){r._rtcPeerConnection.iceConnectionState||r._rtcPeerConnection.connectionState;r.onIceStateChange&&r.onIceStateChange("closed")}),200)}},o=r._localStream,s=r._remoteStream;emedia.config.printStatsWhenPCClose?r.getStats((function(){i(),o&&r._printStats(o),s&&r._printStats(s)})):i()}catch(a){u.warn(a)}finally{r._localStream&&!1===e&&emedia.stopTracks(r._localStream),r._remoteStream&&emedia.stopTracks(r._remoteStream),r._remoteStream=null,t||r.onClose&&r.onClose(),!0===n&&(u.info("Webrtc close. but retry build. will onIceStateChange(failed). eg. emedia.config iceWaitBuildMillis",r._rtcId,r.__id),r.onIceStateChange&&r.onIceStateChange("failed")),u.warn("webrtc closed. closed:",r._rtcId,r.__id,r.closed)}}},addIceCandidate:function(e){console.log("addIceCandidate candidate",(0,i.default)(e));var t=this,n=c.isArray(e)?e:[e];if(emedia.config.useDeployMore&&(emedia.mgr.rtc_url_config||(emedia.mgr.rtc_url_config=new d),n=emedia.mgr.rtc_url_config.replace_candidates(n)),emedia&&emedia.config&&"function"===typeof emedia.config.reChanageCandidate){for(var r=[],o=0;o<n.length;o++){e=n[o];var s=emedia.config.reChanageCandidate(e);s&&(u.info("Candidate rechanage. addons. it =",e,"->",s),c.isArray(s)?Array.prototype.push.apply(r,s):r.push(s))}n=r}t._addIceCandidate(n)},_addIceCandidate:function(e){var t=this;if(t._rtcPeerConnection){u.debug("Add ICE candidate: ",e,t._rtcId,t.__id,t.closed);var n=c.isArray(e)?e:[e];
//!_util.isArray(candidate) && _cands.push(candidate);
if(!t.__setRemoteSDP)return Array.prototype.push.apply(t.__tmpRemoteCands||(t.__tmpRemoteCands={}),n),void u.debug("Add ICE candidate but tmp buffer caused by not set remote sdp: ",e,t._rtcId,t.__id,t.closed);for(var r=0;r<n.length;r++)if(e=n[r],e.cctx&&e.cctx!=t.cctx)u.warn("addIceCandidate fail drop. cctx not equal. ",e,t._rtcId,t.__id,t.closed);else{if(!0===t.fireFoxOfferVideoPreAudio){var i=e.sdpMLineIndex;e.sdpMLineIndex=parseInt(e.sdpMid.replace(/[^0-9]*/,"")),u.warn("Firefox sdp section video pre audio, sdp mline index update ",i,"->",e.sdpMLineIndex)}e.candidate&&""!==e.candidate?t._rtcPeerConnection.addIceCandidate(new RTCIceCandidate(e)).then(t.onAddIceCandidateSuccess.bind(t),t._onAddIceCandidateError.bind(t,e)):u.warn("Add ICE candidate fail. drop it ",e,t._rtcId,t.__id,t.closed)}}},setRemoteDescription:function(e){var t=this;return t._setRemoteDescription(e)},_setRemoteDescription:function(e){var t=this;if(t.__iceWaitIntervalId&&(clearTimeout(t.__iceWaitIntervalId),t.__iceWaitIntervalId=null,u.info("emedia.config iceWaitBuildMillis, clear ice wait interval id",t._rtcId,t.__id)),u.debug("setRemoteDescription start. ",t._rtcId,t.__id,t.closed),t.offerDescription){if(e.cctx&&e.cctx!=t.cctx)return void u.warn("setRemoteDescription fail drop. cctx not equal. ",e,t._rtcId,t.__id,t.closed);if(!0===t.fireFoxOfferVideoPreAudio||!0===t.__offerVideoPreAudio){var n=new p(e.sdp,t);e.sdp=n.getUpdatedSDP(!1),u.info("Remote sdp.2. switch audio video",e.sdp)}}else e.cctx&&(t.cctx=e.cctx);if(e.sdp=e.sdp.replace(/UDP\/TLS\/RTP\/SAVPF/g,"RTP/SAVPF"),u.warn("setRemoteDescription. UDP/TLS/RTP/SAVPF -> RTP/SAVPF; if firefox: switch audio video;",t._rtcId,t.__id),t.vbitrate||t.abitrate||t.vminBitrate){n=new p(e.sdp,t);t.vbitrate&&n.setVideoBitrate(t.vbitrate),t.vminBitrate&&n.setVideoMinBitrate(t.vminBitrate),t.abitrate&&n.setAudioBitrate(t.abitrate),u.warn("vbitrate = ",t.vbitrate,"vminBitrate = ",this.vminBitrate,", abitrate = ",t.abitrate,t._rtcId,t.__id),e.sdp=n.getUpdatedSDP("undefined"===typeof t.__offerVideoPreAudio||null===t.__offerVideoPreAudio?void 0:!t.__offerVideoPreAudio)}return u.debug("final remote sdp =",e.sdp,t._rtcId,t.__id),e=t.__remoteDescription=new RTCSessionDescription(e),t._rtcPeerConnection.setRemoteDescription(e).then((function(){t.__setRemoteSDP=!0,t._onSetRemoteSuccess.apply(t,arguments),t.__tmpLocalCands&&t.__tmpLocalCands.length>0&&(u.debug("After setRemoteDescription. send cands",t._rtcId,t.__id,t.closed),t._onIceCandidate(t.__tmpLocalCands),t.__tmpLocalCands=[]),t.__tmpRemoteCands&&t.__tmpRemoteCands.length>0&&(u.debug("After setRemoteDescription. add tmp cands",t._rtcId,t.__id,t.closed),t._addIceCandidate(t.__tmpRemoteCands),t.__tmpRemoteCands=[])}),t._onSetSessionDescriptionError.bind(t,e))},iceConnectionState:function(){var e=this;return e._rtcPeerConnection.iceConnectionState},isConnected:function(){var e=this,t=e.lastIceConnectionState;return"connected"===t||"completed"===t},_onGotRemoteStream:function(e){var t=this;t._remoteStream=e.stream||e.streams[0],t._remoteStream._rtcId=t._rtcId,t._remoteStream.__rtc_c_id=t.__id,u.debug("On got remote stream",t._remoteStream?t._remoteStream.id+"_"+t._remoteStream.active:"null",t._rtcId,t.__id),t._remoteStream&&t._remoteStream.getTracks().forEach((function(e){u.debug("remote stream",t._remoteStream.id," track =",e.enabled,e.id,e.kind,e.label,t._rtcId,t.__id)})),t.updateRemoteBySubArgs(),this.onGotRemoteStream(this._remoteStream,e),u.debug("received remote stream, you will see the other.",t._rtcId,t.__id,this.closed)},_onSetRemoteSuccess:function(){u.info("onSetRemoteSuccess success",this._rtcId,this.__id),this.onSetRemoteSuccess.apply(this,arguments),this.offerDescription&&this.__remoteDescription&&this.__remoteDescription.sdp&&this._onAnswerCodes(this.__remoteDescription.sdp)},_onAnswerCodes:function(e){var t=this,n=new p(e,this);if(n.videoSection){var r=l.parseRtpParameters(n.videoSection);if(!r.codecs||0===r.codecs.length)return void u.info("not found any video codes. @ ",t._rtcId,t.__id);var i=[];c.forEach(r.codecs,(function(e,t){i.push(t.name)})),t.finalVCodeChoices=i,t.onVCodeChoices&&t.onVCodeChoices(i)}},onSetRemoteSuccess:function(){},onAddIceCandidateSuccess:function(){u.debug("addIceCandidate success",this._rtcId,this.__id)},_onAddIceCandidateError:function(e,t){u.error("failed to add ICE Candidate: "+t.toString(),", error candidate:",e,this._rtcId,this.__id),this.onAddIceCandidateError(t)},onAddIceCandidateError:function(e){},_onIceCandidate:function(e){u.debug("onIceCandidate:",e,this._rtcId,this.__id),this.onIceCandidate(e)},onIceCandidate:function(e){},onIceStateChange:function(e){u.debug("onIceStateChange : ICE state ",e)},_onCreateSessionDescriptionError:function(e,t){u.error("Failed to create session description: "+t.toString()," offerOptionsOrSDPConstraints:",e,this._rtcId,this.__id),this.onCreateSessionDescriptionError(t)},onCreateSessionDescriptionError:function(e){},onCreateOfferSuccess:function(e){u.debug("create offer success",this._rtcId,this.__id)},onCreatePRAnswerSuccess:function(e){u.debug("create answer success",this._rtcId,this.__id)},onCreateAnswerSuccess:function(e){u.debug("create answer success",this._rtcId,this.__id)},_onSetSessionDescriptionError:function(e,t){u.error("onSetSessionDescriptionError : Failed to set session description: ",t.toString(),this._rtcId,this.__id),e&&e.type&&e.sdp&&u.error("error sdp: type=",e.type,"sdp=",e.sdp,this._rtcId,this.__id),this.onSetSessionDescriptionError(t)},onSetSessionDescriptionError:function(e){},_onSetLocalSessionDescriptionSuccess:function(){var e=this;u.debug("onSetLocalSessionDescriptionSuccess : setLocalDescription complete",this._rtcId,this.__id),emedia.config.iceWaitBuildMillis&&(this.__iceWaitIntervalId&&clearTimeout(this.__iceWaitIntervalId),this.__iceWaitIntervalId=setTimeout((function(){u.info("emedia.config iceWaitBuildMillis, timeout, will close webrtc, will retry build by onIceStateChange(failed)",e._rtcId,e.__id),e.onIceStateChange&&e.onIceStateChange("failed")}),emedia.config.iceWaitBuildMillis),u.info("emedia.config iceWaitBuildMillis, start timeout",e._rtcId,e.__id)),this.onSetLocalSessionDescriptionSuccess(),this.__answerDescription&&this.__answerDescription.sdp&&this._onAnswerCodes(this.__answerDescription.sdp)},onSetLocalSessionDescriptionSuccess:function(){},onGotRemoteStream:function(e){u.debug("Got remote stream. ",e,this._rtcId,this.__id)},getStats:function(e){var t=this;return t._rtcPeerConnection?"function"!==typeof emedia.config.rtcStatsTypeMath?(u.warn("Get stats, but config rtcStatsTypeMather, ",this._rtcId,this.__id),void(e&&e())):void t._rtcPeerConnection.getStats(null).then((function(n){n.forEach((function(e,n){emedia.config.rtcStatsTypeMath(e,n)&&u.info("Rtc stats",e,t._rtcId,t.__id)})),e&&e(n)})):(u.warn("Get stats, but peer connection not exsits, ",this._rtcId,this.__id),void(e&&e()))}});e.exports=m},function(e,t,n){"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},r.splitSections=function(e){var t=e.split("\nm=");return t.map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},r.parseCandidate=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var n={foundation:t[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1];break}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)t=r[i].trim().split("="),n[t[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},r.getDtlsParameters=function(e,t){var n=r.matchPrefix(e+t,"a=fingerprint:");return{role:"auto",fingerprints:n.map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},r.getIceParameters=function(e,t){var n=r.splitLines(e);n=n.concat(r.splitLines(t));var i={usernameFragment:n.filter((function(e){return 0===e.indexOf("a=ice-ufrag:")}))[0].substr(12),password:n.filter((function(e){return 0===e.indexOf("a=ice-pwd:")}))[0].substr(10)};return i},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e),i=n[0].split(" "),o=3;o<i.length;o++){var s=i[o],a=r.matchPrefix(e,"a=rtpmap:"+s+" ")[0];if(a){var c=r.parseRtpMap(a),u=r.matchPrefix(e,"a=fmtp:"+s+" ");switch(c.parameters=u.length?r.parseFmtp(u[0]):{},c.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+s+" ").map(r.parseRtcpFb),t.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(c.name.toUpperCase());break;default:break}}}return r.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(r.parseExtmap(e))})),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)}));var i=0;return t.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(n+="a=maxptime:"+i+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){n+=r.writeExtmap(e)})),n},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),s=-1!==i.fecMechanisms.indexOf("ULPFEC"),a=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=a.length>0&&a[0].ssrc,u=r.matchPrefix(e,"a=ssrc-group:FID").map((function(e){var t=e.substr(17).split(" ");return t.map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(t=u[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(r.rtx={ssrc:t}),n.push(r),o&&(r=JSON.parse(JSON.stringify(r)),r.fec={ssrc:c,mechanism:s?"red+ulpfec":"red"},n.push(r))}})),0===n.length&&c&&n.push({ssrc:c});var l=r.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=l}))),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var i=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var o=r.matchPrefix(e,"a=rtcp-mux");return t.mux=o.length>0,t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return t=n[0].substr(7).split(" "),{stream:t[0],track:t[1]};var i=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?(t=i[0].value.split(" "),{stream:t[0],track:t[1]}):void 0},r.parseSctpDescription=function(e){var t,n=r.parseMLine(e),i=r.matchPrefix(e,"a=max-message-size:");i.length>0&&(t=parseInt(i[0].substr(19),10)),isNaN(t)&&(t=65536);var o=r.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:n.fmt,maxMessageSize:t};var s=r.matchPrefix(e,"a=sctpmap:");if(s.length>0){var a=r.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:t}}},r.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){var i,o=void 0!==t?t:2;i=e||r.generateSessionId();var s=n||"thisisadapterortc";return"v=0\r\no="+s+" "+i+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,i){var o=r.writeRtpDescription(e.kind,t);if(o+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var s="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+s,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+s,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+s,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),o},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2);default:}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){var t=r.splitLines(e),n=t[0].split(" ");return n[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e),n=t[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0],n=t.substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},r.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},e.exports=r},function(e,t,n){"use strict";var r=n(87),i=n(159);emedia.subscribed=function(e){return!!e._located||(2===e.type?!(e._located||!e._webrtc):void 0!==e._webrtc)};var o=r.prototypeExtend({voff:0,aoff:0,__init__:function(){var e=this;if(!e._mediaStream)throw _logger.error("_mediaStream empty"),"_mediaStream empty";if(e.hasEnabledTracks(e._mediaStream)){if(!e.__audioContext)throw _logger.error("require audioContext"),"require audioContext";e.__soundMeter=new i(e.__audioContext),e.__soundMeter.connectToSource(e._mediaStream,(function(t){if(t)throw t;e.__worked=e.__soundMeter.__worked=!0}))}},hasEnabledTracks:function(e){return emedia.hasEnabledTracks(e)},getSoundMeters:function(){var e=this;if(e.__soundMeter&&e.__worked)if(e._mediaStream.active){if(e.hasEnabledTracks(e._mediaStream))return{instant:e.__soundMeter.instant,slow:e.__soundMeter.slow,clip:e.__soundMeter.clip}}else e.__worked&&e._finally()},_finally:function(){var e=this;e.__soundMeter&&(e.__soundMeter.stop(),e.__worked=e.__soundMeter.__worked=!1)}});e.exports=r.prototypeExtend({__undefinedEQDelete:!0,Update:r.prototypeExtend({ifAoff:function(e){this.if("aoff",e)},ifVoff:function(e){this.if("voff",e)},ifMediaStream:function(e){this.if("mediaStream",e)},if:function(e,t){"undefined"!==typeof this[e]&&t(this[e])}}),located:function(){return this._located||!1},webrtc:function(e){return e&&(this._webrtc=e),this},getMediaStream:function(){return"undefined"!==typeof this.mediaStream?this.mediaStream:this._located?this._localMediaStream:this._webrtc&&(this._webrtc.getRemoteStream()||this._webrtc.getLocalStream())},requestFrame:function(){this._localMediaStream&&this._localMediaStream.getVideoTracks().forEach((function(e){"function"===typeof e.requestFrame&&e.requestFrame()}))},getLocalMediaStream:function(){return this._localMediaStream},getRemoteMediaStream:function(){if(this._webrtc&&"undefined"!==typeof this._webrtc.getRemoteStream())return this._webrtc.getRemoteStream()},mutedNeed:function(){return this.mutedMuted||!1},ifMediaStream:function(e){"undefined"===typeof this.mediaStream?this._located&&"undefined"!==typeof this._localMediaStream?e(this._localMediaStream):this._located||!this._webrtc||"undefined"===typeof this._webrtc.getRemoteStream()||e(this._webrtc.getRemoteStream()):e(this.mediaStream)},subscribed:function(){return emedia.subscribed(this)},updateAttributes:function(){for(var e=this,t=0;t<arguments.length;t++){var n=arguments[t];if(r.isPlainObject(n))for(var i in n){var o=n[i];e[i]=o}}},getHtmlDOMID:function(){return"_m_"+this.owner.id+"_s_"+this.id},MediaSoundMeter:o,StreamSoundMeter:r.prototypeExtend({__init__:function(){var e=this;if(!e._stream||"function"!==typeof e._stream.getMediaStream)throw _logger.error("_stream empty or not found method getMediaStream"),"_stream empty or not found method getMediaStream";if(e._streamId=e._stream.id,e._streamCreateId=e._stream.__create_id,e._mediaStream=e._mediaStream,2===e._stream.type&&!e._stream.located()&&!e._webrtc)throw _logger.error("require webrtc. when type = 2 and not located"),"require webrtc. when type = 2 and not located";e.__mediaSoundMeter=e.__mediaSoundMeter||new o({__audioContext:e.__audioContext,_mediaStream:e._mediaStream}),e.__mediaSoundMeter.useCount=(e.__mediaSoundMeter.useCount||0)+1},onSoundMeters:function(e){var t=this,n={instant:0,slow:0,clip:0};if(t._stream.aoff)return t._finally(),e(n),n;if(2!==t._stream.type&&t._stream.subArgs&&void 0!==t._stream.subArgs.subSAudio&&!t._stream.subArgs.subSAudio)return t._finally(),e(n),n;if(0==t._stream.id||2===t._stream.type&&!t._stream.located()&&(!t._stream.subArgs||!t._stream.subArgs.subSAudio)){var i,o=t._webrtc.getReceiversOfPeerConnection();if(!o||0===o.length)return e(n),n;for(var s in o)"audio"===o[s].track.kind&&(i=o[s]);if(!i)return e(n),n;if("function"===typeof i.getContributingSources){var a,c=i.getContributingSources();if(emedia.config._printSoundData&&r.logger.debug(t._stream.id,t._stream.csrc,"rtpContributingSources ",c),!c||0===c.length)return e(n),n;for(var s in c)c[s].source==t._stream.csrc&&(a=t._stream.csrc);if(emedia.config._printSoundData&&r.logger.debug(t._stream.id,t._stream.csrc,"source ",a),void 0===a)return e(n),n}}var u=t.__mediaSoundMeter.getSoundMeters()||n,l=2===t._stream.type?t._webrtc:t._stream._webrtc;(emedia.meterWithTrackAudioLevel||0===u.instant)&&l&&!l.closed&&l._rtcPeerConnection&&l._rtcPeerConnection.getStats().then((function(t){t.size>0&&t.forEach((function(t){"track"!==t.type||"audio"!==t.kind&&"audio"!==t.trackIdentifier||(u.trackAudioLevel=t.audioLevel,u.trackTotalAudioEnergy=t.totalAudioEnergy,e(u))}))})),e(u)},_finally:function(){var e=this;2===e._stream.type&&e._stream.located()&&e._remoteMediaSoundMeters&&e._remoteMediaSoundMeters._finally(),e.__mediaSoundMeter.useCount--,0===e.__mediaSoundMeter.useCount&&e.__mediaSoundMeter._finally()}})})},function(e,t,n){"use strict";function r(e){this.context=e,this.instant=0,this.slow=0,this.clip=0,this.script=e.createScriptProcessor(2048,1,1);var t=this;this.script.onaudioprocess=function(e){var n,r=e.inputBuffer.getChannelData(0),i=0,o=0;for(n=0;n<r.length;++n)i+=r[n]*r[n],Math.abs(r[n])>.99&&(o+=1);t.instant=Math.sqrt(i/r.length),t.slow=.95*t.slow+.05*t.instant,t.clip=o/r.length}}r.prototype.connectToSource=function(e,t){console.log("SoundMeter connecting");try{this.mic=this.context.createMediaStreamSource(e),this.mic.connect(this.script),this.script.connect(this.context.destination),"undefined"!==typeof t&&t(null)}catch(n){console.error(n),"undefined"!==typeof t&&t(n)}},r.prototype.stop=function(){this.mic.disconnect(),this.script.disconnect()},e.exports=r},function(e,t,n){"use strict";var r=n(87),i=r.tagLogger("Handler"),o=n(151),s=r.prototypeExtend({onEvent:function(e){var t=this;function n(){try{t.handleEvent(e)}catch(n){i.warn(n)}}if(e&&i.info("[EVT]",e.message(),e.hidden||""),e instanceof o.ServerRefuseEnter&&e.failed&&-95270===e.failed&&(e.failed=-9527),e instanceof emedia.event.StreamState&&e.stream&&e.stream.located())n();else try{e.hidden||t.onNotifyEvent&&t.onNotifyEvent(e)}finally{n()}},handleEvent:function(e){var t=this;if(e instanceof o.RecvResponse)t._onRecvResponse(e);else if(e instanceof o.ServerRefuseEnter)i.warn("Server refuse, ",e.failed,e.msg),t.onServerRefuseEnter(e);else if(e instanceof o.NetworkChanaged)i.warn("Network chanaged, ",e.preIp,e.nowIp),t.onNetworkChanaged(e);else if(e instanceof o.EnterFail)i.warn("Enter fail, result = ",e.failed),t.onEnterFail();else if(e instanceof o.WSClose)t.onWSClose();else if(e instanceof o.WSConnected)i.warn("Websocket connected");else if(e instanceof o.ICEConnected){var n=e.webrtc;t.onICEConnected(n)}else if(e instanceof o.ICEConnectFail){n=e.webrtc;t.onICEConnectFail(n)}else if(e instanceof o.ICEDisconnected){n=e.webrtc;t.onICEDisconnected(n)}else if(e instanceof o.ICEClosed){n=e.webrtc;t.onICEClosed(n)}else if(e instanceof o.ICERemoteMediaStream)t.onICERemoteMediaStream(e.webrtc);else if(e instanceof o.PushSuccess){t._cacheStreams[e.stream.id]=t._linkedStreams[e.stream.id]=e.stream;var s=t.newStream(e.stream);if(e.hidden&&!t._maybeNotExistStreams[e.stream.id]&&!s.isRepublished)return void t._onAddStream(s);emedia._yetGetUserMedia=!0;try{!0!==e.hidden&&s&&t.onUpdateStream(s,new s.Update({voff:s.voff,aoff:s.aoff,mediaStream:s.getMediaStream()}))}finally{emedia.isSafari&&r.forEach(t._cacheStreams,(function(e,n){!0===n._autoSubWhenPushStream&&(r.removeAttribute(n,"_autoSubWhenPushStream"),t.createWebrtcAndSubscribeStream(n.id))}))}}else if(e instanceof o.SubSuccess)t._linkedStreams[e.stream.id]=e.stream,e.stream.updateAttributes({_zoom:1});else if(e instanceof o.PushFail){if(!0!==e.hidden){var a=r.removeAttribute(t._linkedStreams,e.stream.id);if(i.warn("PushFail remove from _linkedStreams",e.stream.id,a),a){s=t.newStream(e.stream);t.onRemoveStream(s)}}}else if(e instanceof o.SubFail){if(!0!==e.hidden){r.removeAttribute(t._linkedStreams,e.stream.id),i.warn("SubFail remove from _linkedStreams",e.stream.id);s=t.newStream(e.stream);s.updateAttributes({rtcId:void 0,_webrtc:void 0,mediaStream:void 0}),t.onUpdateStream(s,new s.Update(s))}}else if(e instanceof o.SubFailNotSupportVCodes){var c=e.stream;i.warn("Rtc donot support pub VCodes. close. sub fail.",c.rtcId," -> ",c.id);try{t.onNotSupportPublishVideoCodecs&&t.onNotSupportPublishVideoCodecs(c)}catch(d){i.warn(d)}}else if(e instanceof o.EnterSuccess)t.onEnterSuccess();else if(e instanceof o.SwitchVCodes){c=e.stream;var u,l=e.useVCodes;n=c._webrtc;if(i.warn("Rtc switch VCodes. ",c.id,l),l&&0!=l.length||i.warn("Rtc switch VCodes. error! useVCodes is empty ",c.id,l),emedia.config&&emedia.config.forceUseVideoCodecs&&emedia.config.forceUseVideoCodecs.length>0&&(u=emedia.config.forceUseVideoCodecs,r.isArray(u)||(u=[],u.push(emedia.config.forceUseVideoCodecs))),u){if("string"===typeof u&&u!==l[0])return void i.warn("Rtc switch VCodes. igrone . useVCodes !== forceUseVideoCodecs ",c.id,n._rtcId,l,u);if(r.isArray(u)&&u[0]!==l[0])return void i.warn("Rtc switch VCodes. igrone ddd . useVCodes == forceUseVideoCodecs ",c.id,n._rtcId,l,u)}if(n&&n.optimalVideoCodecs){if("string"===typeof n.optimalVideoCodecs&&n.optimalVideoCodecs==l[0])return void i.warn("Rtc switch VCodes. igrone . useVCodes == optimalVideoCodecs ",c.id,n._rtcId,l);if(r.isArray(n.optimalVideoCodecs)&&n.optimalVideoCodecs.length>0&&n.optimalVideoCodecs[0]==l[0])return void i.warn("Rtc switch VCodes. igrone ddd . useVCodes == optimalVideoCodecs ",c.id,n._rtcId,l)}c.updateAttributes({optimalVideoCodecs:l}),n&&t.closeWebrtc(n.getRtcId(),!0),setTimeout((function(){c.updateAttributes({iceRebuildCount:1}),t.iceRebuild(c),i.warn("Rtc switch VCodes. iceRebuild end.",c.id,l)}),300)}},_onRecvResponse:function(e){var t=this,n=e.request,r=e.response;if(n&&r&&200!==n.op&&1002!==n.op&&0!==r.result){i.warn("Server refuse. when request = ",n);var o=e.failed;switch(o){case-9527:case-95270:break;case-500:case-502:case-504:case-508:case-510:t.close(4,o);break;case-506:t.close(11,o);break;case-501:t.close(11,o);default:}}},onServerRefuseEnter:function(e){var t=this,n=e.failed;switch(n){case-9527:case-95270:t.close(4,-9527);break;case-500:case-502:case-504:case-508:case-510:t.close(4,n);break;case-506:t.close(11,n);break;default:t.close(2)}},onEnterFail:function(){var e=this;e.__getCopyInterval&&clearInterval(e.__getCopyInterval)},onNetworkChanaged:function(e){var t=this,n=e.nowIp;emedia.config.rebuildPeerConnectionWhenNetworkChanaged&&setTimeout((function(){var e={};r.forEach(t._cacheStreams,(function(r,o){if(!t._maybeNotExistStreams[r]&&o._webrtc){var s=o._webrtc;e[o.rtcId]||(s.closed||"string"!==typeof s.useIp||s.useIp===n||(i.warn("network chanage. webrtc will rebuild.",s._rtcId,s.__id),t.onICEClosed(s)),e[o.rtcId]=!0)}}))}),100)},onEnterSuccess:function(){var e=this;setTimeout((function(){e._failIcesRebuild()}),50),e.getCopyIntervalMillis&&e.getCopyIntervalMillis>0&&(i.warn("Run interval get copy. interval = ",e.getCopyIntervalMillis),e.__getCopyInterval&&clearInterval(e.__getCopyInterval),e.__getCopyInterval=setInterval((function(){e._session.connected()?e._sysCopy.apply(e):(i.warn("Warn! cannot get copy. cause offline."),e.__getCopyInterval&&clearInterval(e.__getCopyInterval))}),e.getCopyIntervalMillis)),e.getMediaMeterIntervalMillis&&e.getMediaMeterIntervalMillis>0&&e._intervalGetMediaMeters()},_intervalGetMediaMeters:function(){var e=this;function t(){e.__getMediaMetersIntervalFlag&&emedia.cancelAnimationFrame(e.__getMediaMetersIntervalFlag),e.getMediaMeterIntervalMillis?e.__getMediaMetersIntervalFlag=emedia.requestAnimationFrame((function(n){"function"===typeof emedia.AudioContext&&e._flushMediaMetersByAudioContext.apply(e),!1===e.closed&&t()}),e.getMediaMeterIntervalMillis):i.warn("Ontalking closed. please use getMediaMeterIntervalMillis")}t()},_flushMediaMetersByAudioContext:function(){var e=this;r.forEach(e._cacheStreams,(function(t,n){e._monitSoundChanagedStreams&&!e._monitSoundChanagedStreams[t]||"0"!=n.id&&e._updateMetersOrNewOne.call(e,t,n)}));var t=[];r.forEach(e._mediaMeters,(function(n,r){var i=e._cacheStreams[n];i&&e._updateMetersOrNewOne.call(e,n,i),i||t.push(n)})),r.forEach(t,(function(t,n){r.removeAttribute(e._mediaMeters,n)}))},_updateMetersOrNewOne:function(e,t){var n=this,i=n._mediaMeters[e];if(2===t.type&&!t.located()&&(!t.subArgs||!t.subArgs.subSAudio)){var o=n._oneAudioMixers();if(!o||i&&i._webrtc&&o._webrtc.__id!=i._webrtc.__id)return i&&i._finally(),r.removeAttribute(n._mediaMeters,e),void n._onSoundChanage.call(n,t.owner,t)}return i&&i._streamCreateId===t.__create_id&&i.__mediaSoundMeter.__worked?(i.onSoundMeters((function(e){n._onSoundChanage.call(n,t.owner,t,e)})),i):(i&&(i._streamCreateId!==t.__create_id||i.__mediaSoundMeter.__worked)&&(i&&i._finally(),r.removeAttribute(n._mediaMeters,e),n._onSoundChanage.call(n,t.owner,t)),t.aoff?void 0:(i=n._newMediaMeters(t),i&&(n._mediaMeters[e]&&n._mediaMeters[e]._finally(),n._mediaMeters[e]=i),i))},_newAudioContext:function(){if(emedia.__usingWebAudio)return emedia.__audioContext},_newMediaMeters:function(e){var t,n=this;if(2===e.type&&e.subArgs&&e.subArgs.subSAudio&&e._webrtc&&e._webrtc.getRemoteStream()){var r=new e.StreamSoundMeter({_stream:e,_mediaStream:e._webrtc.getRemoteStream(),_webrtc:e._webrtc,__audioContext:n._newAudioContext()});return r}if(2===e.type&&e.located()){r=new e.StreamSoundMeter({_stream:e,_mediaStream:e._localMediaStream,__audioContext:n._newAudioContext()});return r}if(2===e.type&&!e.located()){var i=n._oneAudioMixers();if(!i||!i._webrtc||i._webrtc.closed)return;if(i&&(void 0===i._remoteMediaSoundMeters||!i._remoteMediaSoundMeters.__worked)&&i._webrtc&&i._webrtc.getRemoteStream()&&(i._remoteMediaSoundMeters=new i.MediaSoundMeter({_mediaStream:i._webrtc.getRemoteStream(),__audioContext:n._newAudioContext()})),!i._remoteMediaSoundMeters)return;r=new e.StreamSoundMeter({_stream:e,_webrtc:i._webrtc,__mediaSoundMeter:i._remoteMediaSoundMeters});return r}if(!e.aoff&&(t=e.getMediaStream())){r=new e.StreamSoundMeter({_stream:e,_mediaStream:t,__audioContext:n._newAudioContext()});return r}},_oneAudioMixers:function(){var e=this,t=e._cacheStreams["0"];if(t&&t._webrtc&&!t._webrtc.closed)return t;for(var n in e.audioMixers){var r=e.audioMixers[n];if(r.located())return r}},onWSClose:function(){var e=this;e.__getCopyInterval&&clearInterval(e.__getCopyInterval),i.info("Websocket closed.")},onICEDisconnected:function(e){var t=this;t.__networkWeakInterval&&clearTimeout(t.__networkWeakInterval),t.__networkWeakInterval=setTimeout((function(){t.onNetworkWeak&&t.onNetworkWeak()}),1e3),r.forEach(t._linkedStreams,(function(n,o){var s;o.rtcId==e.getRtcId()&&((s=t._maybeNotExistStreams[n])||(s=t._maybeNotExistStreams[n]=r.extend({},o),s.updateAttributes({iceRebuildCount:1})),i.info("Stream maybe not exist. caused by disconnected",o.id))}))},onICEConnectFail:function(e){var t=this;for(var n in t._linkedStreams){var s=t._linkedStreams[n];if(s.rtcId==e.getRtcId()){if(s._webrtc&&s._webrtc.__id!==e.__id){i.warn("Stream use other webrtc rtcId = ",s.rtcId,", id: ",s._webrtc.__id,e.__id);continue}var a;if((a=t._maybeNotExistStreams[n])||(a=t._maybeNotExistStreams[n]=r.extend({},s),a.updateAttributes({iceRebuildCount:1})),a){var c=new o.StreamState({stream:a});c.iceFail(),t.onEvent(c)}if(i.info("ice fail. webrtc = ",e.getRtcId()," problem stream is ",a.iceRebuildCount,a.id),a.iceRebuildCount>emedia.config.iceRebuildCount)i.info("ice fail. webrtc = ",e.getRtcId()," rebuild fail. problem stream is ",a.id),a.located()?t.onEvent(new o.PushFail({stream:s,cause:"pub ice rebuild failed."})):t.onEvent(new o.SubFail({stream:s,cause:"sub ice rebuild failed."})),t.closeWebrtc(e.getRtcId(),!1);else{var u=t._records[a.id];a._localMediaStream?i.info("ice fail. webrtc = ",e.getRtcId()," will rebuild. remain local stream. ",a.id):i.info("ice fail. webrtc = ",e.getRtcId()," will rebuild.",a.id),t.closeWebrtc(e.getRtcId(),!0),u&&(t._records[a.id]=u),function(e){setTimeout((function(){t.iceRebuild(e)}),emedia.config.iceRebuildIntervalMillis)}(a),i.info("ice fail. webrtc = ",e.getRtcId()," will rebuilding. problem stream is ",a.id)}2===s.type&&r.removeAttribute(t.audioMixers,s.id)}}},onICEClosed:function(e){var t=this;if(e.closed){i.warn("Webrtc will be removed. by __id = ",e.__id,", rtcId = ",e.getRtcId());var n=r.removeAttribute(t._ices,e.__id);n?i.warn("Webrtc removed. by id = ",n.__id,", rtcId = ",n.getRtcId()):i.warn("Webrtc removed. by id = ",e.__id,", rtcId = ",e.getRtcId());var o=t._ices[e.getRtcId()];o&&o.__id===n.__id&&(n=r.removeAttribute(t._ices,e.getRtcId()),i.warn("Webrtc removed. by rtcId = ",n.getRtcId(),", __id = ",n.__id))}else i.info("ICE self closed. not allow. will rebuild",e.getRtcId()),t.onICEConnectFail(e)},onICEConnected:function(e){var t=this;r.forEach(t._cacheStreams,(function(n,s){if(s.rtcId==e.getRtcId()){if(s.updateAttributes({finalVCodeChoices:e.finalVCodeChoices}),t._maybeNotExistStreams[n]){r.removeAttribute(t._maybeNotExistStreams,s.id),t._linkedStreams[n]=s,i.info("ice reconnected. webrtc = ",e.getRtcId(),"will update stream = ",s.id);var a=t._records[s.id];a&&a.rtcId!==s.rtcId&&(t.startRecord(s),i.warn("Re record. for ",s.id,", after rebuild ice.",a.rtcId,"->",s.rtcId))}else i.info("ice connected. webrtc = ",e.getRtcId(),s.id),s.located()&&t.onEvent(new o.PushSuccess({stream:s})),s.located()||t.onEvent(new o.SubSuccess({stream:s}));2===s.type&&(t.audioMixers[s.id]=s)}}))},onICERemoteMediaStream:function(e){var t=this;r.forEach(t._cacheStreams,(function(n,r){if(r.rtcId==e.getRtcId()&&(!r.located()||2===r.type)){var i=e.getRemoteStream();if(t._updateRemoteStream(r,i),r.onGotRemoteMediaStream)r.onGotRemoteMediaStream.call(r,i);else{r=t.newStream(r);r.updateAttributes({mediaStream:e.getRemoteStream()}),t.onUpdateStream(r,new r.Update({mediaStream:r.mediaStream}))}}}))},_failIcesRebuild:function(){var e=this,t=1;r.forEach(e._maybeNotExistStreams,(function(n,r){setTimeout((function(){e.iceRebuild(r)}),100*t)}))},iceRebuild:function(e){var t=this;return t.connected()?t._linkedStreams[e.id]&&t._cacheStreams[e.id]?void(e.iceRebuildCount>emedia.config.iceRebuildCount?(i.info("ice rebuild fail. count too many. stream is ",e.id),e.located()?t.onEvent(new o.PushFail({stream:e,cause:"pub ice rebuild failed."})):t.onEvent(new o.SubFail({stream:e,cause:"sub ice rebuild failed."}))):t.connected()?(i.info("ice try rebuild. count",e.iceRebuildCount,". stream is ",e.id),t.rebuildIce(e),e.iceRebuildCount++):i.warn("ice rebuild. stop. cause by not websocket disconnect",e.id)):(i.info("ice rebuild fail. it yet closed. stream is ",e.id,e.rtcId),r.removeAttribute(t._maybeNotExistStreams,e.id),r.removeAttribute(t._linkedStreams,e.id),void i.warn("iceRebuild, remvoe from _linkedStreams",e.id)):(e.updateAttributes({iceRebuildCount:1}),void i.warn("Websocket disconnect. waiting. rebuild count reset",e.iceRebuildCount,e.id))},rebuildIce:function(e){var t=this;t._cacheStreams[e.id]?(i.warn("Begin rebuild ice ",e.iceRebuildCount,e.id),e.located()?(e.updateAttributes({isRepublished:!0}),t.push(e,void 0,void 0,!0)):t.createWebrtcAndSubscribeStream(e.id),i.warn("Finish rebuild ice ",e.iceRebuildCount,e.id,t._cacheStreams[e.id].rtcId)):i.warn("Begin rebuild ice. not found stream at local",e.iceRebuildCount,e.id)},_sysCopy:function(){var e=this,t=e.newMessage().setOp(1e3).setCver(e._cver||0);e.postMessage(t,(function(t){0==t.result?(e._cver||0)<t.cver&&(e._cver=t.cver,e.onMembers(t.cver,t.mems||{}),e.onStreams(t.cver,t.streams||{}),i.info("Got copy success.")):i.warn("Get copy fail. result = ",t.result)}))}});e.exports=s},function(e,t,n){"use strict";var r=n(87),i=r.tagLogger("Desktop"),o=n(151);window.__shareDesktopMessageCount__=0,e.exports=r.prototypeExtend({__RTC_PAGE_MSG_TYPE__:"RTC-SD-PAGE",__RTC_EXT_MSG_TYPE__:"RTC-SD-EXT",__init__:function(){var e=this;e.__extLoaded=e.rsdExtLoaded(),e.__extLoaded&&e.__onRsdExtLoad(),window.addEventListener("load",(function(t){if(!e.__extLoaded){var n=e.rsdExtLoaded();e.__extLoaded=n}})),window.addEventListener("message",(function(t){if(t.data){var n=t.data;n.type&&n.type===e.__RTC_EXT_MSG_TYPE__&&n.evname&&(i.info("got ext-msg: ",n),"extLoaded"!==n.evname?e.__onMessage(n):e.__extLoaded||(e.__extLoaded=!0,setTimeout(e.__onRsdExtLoad(),50)))}}))},rsdExtLoaded:function(){var e=document.getElementById("RTC-Share-Deskto-installed-ele-rat1abrr");return!(!emedia.isElectron&&!e)},__sendMessage:function(e,t){var n=this,o="tsx_"+__shareDesktopMessageCount__+++"_"+Math.random().toString(36).substr(2,4);if(!n.__extLoaded)throw i.error("Rtc share desktop not loaded"),"Rtc share desktop not loaded";e.tsxId=o,n["on_"+o]=function(){t&&t.apply(n,arguments),r.removeAttribute(n,"on_"+o)},window.postMessage&&window.postMessage(e,"*")},__onMessage:function(e){var t=this,n=e.tsxId;t["on_"+n]&&t["on_"+n](e)},__onRsdExtLoad:function(){var e=this;e.onExtLoaded&&e.onExtLoaded()},openDesktopMedia:function(e,t){var n=this;if(emedia.isElectron)n.openDesktopMediaInElectron(e,t);else if(n.__extLoaded&&n.rsdExtLoaded()){var r={type:n.__RTC_PAGE_MSG_TYPE__,evname:"chooseDesktopMedia",screenOptions:e};n.__sendMessage(r,(function(e){"onAccessApproved"===e.evname&&e.streamId?t(new o.OpenDesktopMedia({desktopStreamId:e.streamId})):t(new o.OpenDesktopMediaAccessDenied)}))}else t(new o.ShareDesktopExtensionNotFound)},openDesktopMediaInElectron:function(e,t){e||(e=["screen","window"]),emedia.electron.desktopCapturer.getSources({types:e},(function(e,n){if(e)t(new o.OpenDesktopMediaAccessDenied({error:e}));else if("function"===typeof emedia.chooseElectronDesktopMedia){for(var r=0;r<n.length;r++){i.debug("desktop capturer. ",n[r]);var s=n[r];s.hxThumbDataURL=s.thumbnail.toDataURL()}emedia.chooseElectronDesktopMedia(n,(function(e){var n;n=e&&e.id?e.id:e,t(new o.OpenDesktopMedia({desktopStreamId:n}))}),(function(){t(new o.OpenDesktopMediaAccessDenied({message:"User denied access"}))}))}else t(new o.OpenDesktopMedia({desktopStreamId:n[0].id}))}))}})},function(e,t,n){"use strict";var r,i=n(87),o=i.tagLogger("PCStats");e.exports=r=i.prototypeExtend({__init__:function(){this._webrtc||this._stream&&(this._webrtc=this._stream._webrtc),this.samplesDatas={},this.gatherResults={},this._bysamples={},!1!==this._inbound_&&(this._bysamples["inbound-rtp"]=["bytesRateReceived","packageLossRate","bytesReceived","packetsLost","packetsReceived","pliCount","framesDecoded"]),!1!==this._outbound_&&(this._bysamples["outbound-rtp"]=["bytesRateSent","bytesSent","packetsSent","qpSum","pliCount"])},_onGatherResult:function(e,t,n,r){var i=this;if(i._service&&i._service.current&&emedia.config.remainLastStatsCount){var o=i._service.current._trackStats;o||(o=i._service.current._trackStats={});var s=(o[e]||(o[e]={}))[t];s||(s=o[e][t]={});var a=s[n];a||(a=s[n]=new Array(emedia.config.remainLastStatsCount)),void 0===a.curIndex&&(a.curIndex=0),a[a.curIndex]={data:r,timestamp:new Date},a.curIndex=(a.curIndex+1)%emedia.config.remainLastStatsCount}"function"===typeof this.onGatherResult&&this.onGatherResult(e,t,n,r)},stats:function(e){if(this._webrtc&&this._webrtc._rtcPeerConnection)return this._webrtc._rtcPeerConnection.getStats(e);o.warn("not found webrtc or peer connection")},statsOfTrack:function(e){if(!e instanceof window.MediaStreamTrack)throw o.error("selector not a MediaStreamTrack"),"selector not a MediaStreamTrack";return this.stats(e)},audioTrack:function(e){var t=e&&e.getAudioTracks();return t&&t.length?t[0]:void 0},videoTrack:function(e){var t=e&&e.getVideoTracks();return t&&t.length?t[0]:void 0},gatherTrack:function(e,t){var n=this;t=e.kind||t,t=t&&t.toLowerCase();var r=e.id;this.statsOfTrack(e).then((function(i){n.samplesDatas[r]||(n.samplesDatas[r]={});var s=n.samplesDatas[r];i.forEach((function(r,i){var a=n._bysamples[r.type],c=r.mediaType||i.indexOf("ideo")>=0&&"video"||i.indexOf("udio")>=0&&"audio"||void 0;if(a&&a.length&&(!0===emedia.config._printDebugStats&&o.debug(i,r,e,c,t),!c||c===t)){var u=s[r.type]||(s[r.type]={});a.forEach((function(n){var i=u[n]||(u[n]=[]),o={timestamp:r.timestamp,kind:r.mediaType||e.kind||t};o[n]="packageLossRate"===n?{packetsLost:r["packetsLost"],packetsReceived:r["packetsReceived"]}:"bytesRateReceived"===n?r["bytesReceived"]:"bytesRateSent"===n?r["bytesSent"]:r[n],i.push(o)}))}}))}))},gatherWebrtcMediaStream:function(e,t){var n=this;t?"audio"!==t.toLowerCase()?"video"!==t.toLowerCase()||e.getVideoTracks().forEach((function(e){n.gatherTrack(e,e.kind||t.toLowerCase())})):e.getAudioTracks().forEach((function(e){n.gatherTrack(e,e.kind||t.toLowerCase())})):e.getTracks().forEach((function(e){n.gatherTrack(e)}))},gatherWebrtc:function(){this._webrtc._localStream&&this.gatherWebrtcMediaStream(this._webrtc._localStream),this._webrtc._remoteStream&&this.gatherWebrtcMediaStream(this._webrtc._remoteStream)},_gather_inbound_rtp_packageLossRate:function(e){if(!e||0===e.length)return 0;var t=0,n=0;if(e.length>1)for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];i.packageLossRate.packetsReceived!=o.packageLossRate.packetsReceived?(t+=(i.packageLossRate.packetsLost-o.packageLossRate.packetsLost)/(i.packageLossRate.packetsReceived-o.packageLossRate.packetsReceived),n++):(t=0,n=0)}return e.length>=emedia.config.statsSeconds&&e.shift(),0==n?0:t/n},_gatherBytesRate:function(e,t,n){if(!n||0===n.length)return 0;var r=n[n.length-1][t]-n[0][t],i=n[n.length-1].timestamp-n[0].timestamp;return n.length>=emedia.config.statsSeconds&&n.shift(),0===i?0:parseFloat(1e3*r/i).toFixed(2)},_gather:function(e,t,n){e=e.replace(/[^\w]/g,"_"),t=t.replace(/[^\w]/g,"_");var r=i.list("_gather",e,t).join("_");if("function"===typeof this[r])return this[r](n);if(t.startsWith("bytesRate"))return this._gatherBytesRate(e,t,n);var o=n.shift();return o&&o[t]||0},_statsCount:function(){var e=this;function t(){i.forEach(e.samplesDatas,(function(t,r){var i=e.gatherResults[t]=e.gatherResults[t]||{};n(t,i,r)}))}function n(e,t,n){i.forEach(n,(function(n,i){var o=t[n]||(t[n]={});r(e,o,n,i)}))}function r(t,n,r,o){i.forEach(o,(function(i,o){var s=n[i]=e._gather(r,i,o);e._onGatherResult(t,r,i,s)}))}t()},gather:function(){this.gatherWebrtc(),this._statsCount()},intervalGather:function(e){this._intervalId&&clearInterval(this._intervalId),this._intervalId=setInterval(this.gather.bind(this),e||1e3)},stopIntervalGather:function(){this._intervalId&&clearInterval(this._intervalId)}});var s={},a=r.echo=function(e){i.forEach(e,(function(e,t){var n;!s[t.id]&&t._webrtc&&!t._webrtc.closed&&t.getMediaStream()?(s[t.id]=n=new r({_webrtc:t._webrtc}),n._mediaStream=t.getMediaStream()):!s[t.id]||t._webrtc&&!t._webrtc.closed&&t.getMediaStream()||i.removeAttribute(s,t.id)}));var t=[];i.forEach(s,(function(n,r){e&&e[n]?(r.gatherWebrtcMediaStream(r._mediaStream),r._statsCount()):t.push(n)})),i.forEach(t,(function(e,t){i.removeAttribute(s,t)}))};r.intervalEcho=function(e,t){return setInterval((function(){a(e)}),t)},i.forEach(["inbound","outbound"],(function(e,t){i.forEach(["Audio","Video"],(function(e,n){(function(e,t){var n;r[e+t]=n=function(o,s,a){var c;n.__intervalIds||(n.__intervalIds={}),c=this instanceof emedia.XService?this:emedia.useCurrentXService;var u=o.id+"___"+c.namespace,l=n.__intervalIds&&n.__intervalIds[u];return l&&clearInterval(l),l=setInterval((function(){var a,d=n[u];(!d&&o&&o._webrtc&&!o._webrtc.closed&&o.getMediaStream()?(n[u]=d=new r({_webrtc:o._webrtc,_inbound_:"inbound"===e,_outbound_:"outbound"===e}),d._service=c,s&&(d.onGatherResult=s),d._mediaStream=o.getMediaStream()):!d||o&&o._webrtc&&!o._webrtc.closed&&o._webrtc.__id===d._webrtc.__id&&o.getMediaStream()&&d._mediaStream&&d._mediaStream.id===o.getMediaStream().id||(i.removeAttribute(n,u),d=null),d)?(d.gatherWebrtcMediaStream(d._mediaStream,t),d._statsCount()):o&&c&&(a=c.getStreamById(o.id))?o=a:l&&clearInterval(l)}),a),n.__intervalIds[u]=l,l}})(t,n)}))}))},function(e,t,n){"use strict";var r,i=n(87),o=i.tagLogger("DefaultTrack"),s=n(164);function a(e){var t;return t=document.createElement("canvas"),e.appendChild(t),t.style.cssText="position: absolute; background: transparent; width: 100%; height: 100%",t.width=e.offsetWidth,t.height=e.offsetHeight,o.warn("Canvas",t.width,t.height),t}e.exports=r=s.extend({__init__:function(){this._canvas||(this._canvas=a(this._target)),this._canvasContext||(this._canvasContext=this._canvas.getContext("2d"))},resizeCanvas:function(){},_calPosition:function(){var e=s.prototype._calPosition.apply(this,arguments);return e.x=Math.floor(e.x*this._canvas.width/e.width),e.y=Math.floor(e.y*this._canvas.height/e.height),e},_draw:function(e,t,n,r,i,o){var s=this,a=s._canvasContext;(!t||t<=1)&&(t=2);var c=a.getImageData(e.x-t/2,e.y-t/2,t,t),u=function(e,t,n,r,i){for(var o=0,s=e.data;o<s.length;o+=4){var a={r:void 0===t?s[o]:t,g:void 0===n?s[o+1]:n,b:void 0===r?s[o+2]:r,alpha:void 0===i?s[o+3]:i};s[o]=a.r,s[o+1]=a.g,s[o+2]=a.b,s[o+3]=a.alpha}};c&&u(c,n,r,i,o),a.putImageData(c,e.x,e.y)},redraw:function(e,t,n,i,o,s){var a=this,c=r.prototype._draw.bind(a);c({x:e,y:t},2)},onMouseTrigger:function(e,t){e.isLeftKey()&&this._draw(e.xy,8,189,56,51,255),e.isRightKey()&&this._draw(e.xy,8,45,23,189,255),e.isWheelKey()&&this._draw(e.xy,8,58,189,76,255)},onMouseTrack:function(e,t,n){this._draw(e,2,227,18,247,255)}})},function(e,t,n){"use strict";var r=n(87),i=(r.tagLogger("MouseTrack"),n(165));e.exports=r.prototypeExtend({_scale:1,__init__:function(){},getTargetPageXY:function(){var e=this;return e._target&&r.extend({},r.getDomPageRect(e._target))},onMouseTrack:function(e,t,n){},onMouseTrigger:function(e,t){},_onMouseTrack:function(e,t,n){this.onMouseTrack&&this.onMouseTrack(e,t,n)},_onMouseTrigger:function(e,t){this.onMouseTrigger&&this.onMouseTrigger(e,t)},track:function(e){var t=this,n=e=r.extend({},e),i=t.getTargetPageXY();i&&(e=t._calPosition(e),n={x:e.x,y:e.y,pageX:i.x+e.x,pageY:i.y+e.y}),t._onMouseTrack(n,t._lastPageXY,t._lastTrigger),t._lastPageXY=n},trigger:function(e){var t=this;e=new i(e);var n,r=t.getTargetPageXY();r&&(n=t._calPosition(e.xy),e.xy={x:n.x,y:n.y,pageX:r.x+n.x,pageY:r.y+n.y}),e._time||(e._time=(new Date).getTime()),t._onMouseTrigger(e,t._lastTrigger),t._lastTrigger=e},releaseTrigger:function(){this._lastTrigger=void 0,this._lastPageXY=void 0,this.onReleaseTrigger&&this.onReleaseTrigger(this._lastTrigger)},_calPosition:function(e){var t=this;t._referenceVideo&&(e=emedia.Service.prototype.eventXYAtVideo.call(null,e,t._referenceVideo));var n=t.getTargetPageXY();if(!n)return e;r.isFloat(e.x)&&void 0!==e.width&&(e.x=e.x*e.width*t._scale*(n.width/e.width)),r.isFloat(e.y)&&void 0!==e.height&&(e.y=e.y*e.height*t._scale*(n.height/e.height)),r.isFloat(e.x)&&void 0===e.width&&(e.x=e.x*t._scale*n.width),r.isFloat(e.y)&&void 0===e.height&&(e.y=e.y*t._scale*n.height),r.isInt(e.x)&&void 0!==e.width&&(e.x=e.x*t._scale*(n.width/e.width)),r.isInt(e.y)&&void 0!==e.height&&(e.y=e.y*t._scale*(n.height/e.height)),r.isInt(e.x)&&void 0===e.width&&(e.x=e.x*t._scale),r.isInt(e.y)&&void 0===e.height&&(e.y=e.y*t._scale);var i=Math.floor(e.x),o=Math.floor(e.y);return i<0&&(i=n.width+i),o<0&&(o=n.width+o),{x:i,y:o,width:n.width,height:n.height}}})},function(e,t,n){"use strict";var r=n(87),i=(r.tagLogger("MouseTrigger"),{LEFT:1,WHEEL:2,RIGHT:4,WHEEL_ROLL_UP:8,WHEEL_ROLL_DOWN:16,KEY_UP:0,KEY_DOWN:1,MOVE:2,KEYBOARD_DOWN:3,KEYBOARD_UP:4});e.exports=r.prototypeExtend({_timeoutMillis:500,_time:(new Date).getTime(),isKeyup:function(){return i.KEY_UP==this.oper},isKeydown:function(){return i.KEY_DOWN==this.oper},isWheelup:function(){return i.WHEEL_ROLL_UP==this.btn},isWheeldown:function(){return i.WHEEL_ROLL_DOWN==this.btn},isLeftKey:function(){return i.LEFT==this.btn},isRightKey:function(){return i.RIGHT==this.btn},isWheelKey:function(){return i.WHEEL==this.btn},isWheelRoll:function(){return this.isWheeldown()||this.isWheelup()},timeout:function(){var e=(new Date).getTime();return e-this._time>=this._timeoutMillis},_toString:function(){return r.list("btn:",this.btn,", oper:",this.oper,", timeout:",this.timeout(),", at (",this.xy.x,", ",this.xy.y,")").join("")}}),e.exports.BTN=i},function(e,t,n){"use strict";var r=n(2),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s=n(87),a=s.tagLogger("AddonsP2P"),c=n(151),u=function(e){var t=e.extend({postMessage:function(t,n){var r=this,i=t.tsxId;t.tsxId||(i=t.tsxId="MSG"+Date.now()+"-"+emedia.__session_globalCount++),e.prototype.postMessage.call(r,t,n),function(e){var t=r.owner;t.isP2P()&&r._callbacks[e]&&setTimeout((function(){var t=r._callbacks[e];if(t&&1004===t.op){var n=r.newMessage({op:1001,tsxId:t.tsxId,memId:t.memId,result:0,msg:"3000ms not recv response. will success callback. "+t.tsxId});r.onMessage(n)}}),3e3)}(i)},__modifyMessageForPost:function(t){var n=this;t=e.prototype.__modifyMessageForPost.call(n,t);var r=n.owner;if(r.isP2P()){if(102===t.op||105===t.op){var o=n.newMessage({op:1001,tsxId:t.tsxId,memId:t.memId,result:0,streamId:t.rtcId+(r.isCaller()?"__Caller":"__Callee"),sver:1});if(setTimeout((function(){n.onMessage(o)}),100),!t._cached_){var a=s.extend({_cached_:!0},t);s.removeAttribute(a,"tsxId"),102===t.op&&(r.__cache_[t.rtcId]=[]).push(a),105===t.op&&r.__cache_[t.rtcId]&&r.__cache_[t.rtcId].push(a),r.__cache_[t.rtcId]&&(r.__cache_[t.rtcId].selfId=r.getMemberId())}}if(s.removeAttribute(t,"_cached_"),t.memId){var c=n.newMessage({op:1004,sessId:s.removeAttribute(t,"sessId"),memId:s.removeAttribute(t,"memId"),tsxId:s.removeAttribute(t,"tsxId"),arg:(0,i.default)(t)});t=c}switch(t.op){case 205:o=n.newMessage({op:1001,tsxId:t.tsxId,result:0});return void setTimeout((function(){n.onMessage(o)}),50);case 102:case 104:case 105:case 106:case 107:if(-10===t.endReason)return;case 1001:case 400:c=n.newMessage({op:1004,sessId:s.removeAttribute(t,"sessId"),tsxId:s.removeAttribute(t,"tsxId"),arg:(0,i.default)(t)});t=c;break;case 303:case 206:return;default:}}return t},onP2PMessage:function(e){var t=this,n=t.owner;if(t.owner.isConfr())a.warn("Recv p2p ctrl message. when CONFR. ignore");else{var r=JSON.parse(e.arg);if(r.memId=e.memId,r.tsxId=e.tsxId,r.sessId=e.sessId,400===r.op&&(r.streamId=r.rtcId+(t.owner.isCaller()?"__Callee":"__Caller")),1001!==r.op){var i=t.newMessage({op:1001,tsxId:e.tsxId,memId:e.memId,sessId:e.sessId,result:0,msg:"Web sdk success recv"});102!==r.op&&105!==r.op||s.extend(i,{streamId:r.rtcId+(n.isCaller()?"__Callee":"__Caller"),sver:1}),t.postMessage(i)}(function(e){setTimeout((function(){t.onMessage(e)}),10)})(r)}}});return s.extend(t.prototype._events,{1004:"onP2PMessage"}),t},l=function(e){var t=e.extend({__init__:function(){var t=this;e.prototype.__init__.call(t),t.__cache_={};var n=t.iceRebuild;t.iceRebuild=function(e){var t=this;t.isP2P()&&e.rtcId?e._webrtc&&!0===e._webrtc.answerWebrtc?a.warn("Stream not auto iceRebuild. caused by answer webrtc. it = ",e.id,e):e.located()?n.call(t,e):a.warn("Stream not auto iceRebuild. caused by not located. it = ",e.id,e):n.call(t,e)}},onEnter:function(t,n){var r=this;try{e.prototype.onEnter.call(r,t,n)}finally{if(!r.isP2P()||!(n=r._cacheMembers[n.id]))return;s.forEach(r.__cache_,(function(e,t){!0!==t.answered&&s.forEach(t,(function(e,t){(function(e){e.memId=n.id,r.postMessage(e)})(t)}))}))}},rejectAnswer:function(e,t,n,r){var i=this,o=i.newMessage().setOp(107).setRtcId(t).setMemId(e).setEndReason(n);i.postMessage(o,(function(e){if(0!=e.result)return i.onEvent(new c.RspFail({request:o,response:e})),void(r&&r(new c.RspFail({request:o,response:e})))}))},closeWebrtc:function(t,n,r){var i=this,o=!1;if(i.isP2P()){var c=i._ices[t];if(c){var u=c.iceConnectionState();o="failed"===u,o=o&&c._rebuildCount<emedia.config.iceRebuildCount,a.warn("Webrtc state failed. it is ",t,c._rebuildCount,emedia.config.iceRebuildCount,c.__id)}}if(e.prototype.closeWebrtc.call(i,t,n,r||o),i.isP2P()&&!r&&o&&s.forEach(i._cacheStreams,(function(e,n){n.rtcId===t&&(i._linkedStreams[e]=n,a.warn("Reput stream to _linkedStreams",e))})),i.isP2P()&&!n){s.removeAttribute(i.__cache_,t);var l=s.extend({},i._cacheStreams);s.forEach(l,(function(e,n){if(t===n.rtcId){s.removeAttribute(i._linkedStreams,n.id);var r=s.removeAttribute(i._cacheStreams,n.id);if(i._streamAutomators&&s.removeAttribute(i._streamAutomators,n.id),a.warn("P2P close webrtc. remove stream from _cacheStreams. it = ",n.id,n),r._localMediaStream&&i._service._stopTracks(r._localMediaStream),i.onRemoveStream){n=i.newStream(n);i.onRemoveStream(n)}}}))}},subscribeStream:function(t,n,r,i){var o=this;if(o.isP2P()){var s=o._ices[t],u=o._cacheStreams[n],l=u;if(l.updateAttributes({_webrtc:s,rtcId:t}),i=i||{subSVideo:!0,subSAudio:!0},l.updateAttributes({subArgs:l.subArgs||{subSVideo:!0,subSAudio:!0}}),l._webrtc&&l._webrtc.setSubArgs(l._webrtc.subArgs||{subSVideo:!0,subSAudio:!0}),!l.subArgs.subSVideo&&i.subSVideo&&l.voff)throw a.error("Sub not allow. stream voff"),"Sub not allow. stream voff";if(!l.subArgs.subSAudio&&i.subSAudio&&l.aoff)throw a.error("Sub not allow. stream aoff"),"Sub not allow. stream aoff";if(l.subArgs.subSVideo&&!i.subSVideo&&!l.voff&&emedia.isSafari)throw a.error("Sub not allow. safari close sub video. will error"),"Sub not allow. safari close sub video. will error";i&&l._webrtc&&l._webrtc.setSubArgs(i),i&&l.updateAttributes({subArgs:i});var d=new c.SubSuccess({stream:l,hidden:!0});o._updateRemoteStream(l,l._webrtc.getRemoteStream()),o.onEvent(d)}else e.prototype.subscribeStream.call(o,t,n,r,i)},unsubscribeStream:function(t){var n=this;n.isP2P()||e.prototype.unsubscribeStream.call(n,t)},onPub:function(t,n,r){var i=this;if(i.isP2P()){var o=e.prototype.onPub.call(i,t,n,r);return o}e.prototype.onPub.call(i,t,n,r)},onStreams:function(t,n){var r=this;r.isP2P()?a.warn("P2P ingrone the onStreams"):e.prototype.onStreams.call(r,t,n)},_howDoWebrtcWhenCrtExsitsWebrtc:function(t){var n=this;n.isP2P()?n.closeWebrtc(t.getRtcId(),!0,!0):e.prototype._howDoWebrtcWhenCrtExsitsWebrtc.call(n,t)},createWebrtcAndSubscribeStream:function(t,n,r,i){var o=this;if(o.isP2P()){o=this;n||(n={});var u=o._cacheStreams[t],l=o._cacheMembers[u.owner.id],d=u;i=i||d.subArgs||{subSVideo:!0,subSAudio:!0};var f=u.vcodes,p=l.vcodes,h=o.supportVCodes,m=o._getOptimalVideoCodecsSubset(f,p,h);i=i||d.subArgs;var v=d.subArgs,b=!(d.vcodes&&d.vcodes.length>0),y={offerToReceiveAudio:!0,offerToReceiveVideo:i.subSVideo&&b};y.offerToReceiveAudio||y.offerToReceiveVideo||a.warn("offerToReceiveAudio == false and offerToReceiveVideo == false");var g=o.createWebrtc({_rtcId:d.rtcId,iceServerConfig:r,optimalVideoCodecs:m,offerOptions:y,onGotMediaStream:function(e){var t=new c.SubSuccess({stream:d,hidden:!0});n.onGotRemote&&n.onGotRemote(d),o.onEvent&&o.onEvent(t)}},d.iceRebuildCount),_=g.getRtcId();a.warn(_," sub stream ",t,m);var S=d._webrtc;if(d.updateAttributes({_webrtc:g,rtcId:_,owner:s.extend({},l)}),o._ices[_]=g,g.answerWebrtc=!0,i&&d._webrtc&&d._webrtc.setSubArgs(i),i&&d.updateAttributes({subArgs:i}),_==="rtc-"+o.ticket.confrId){o.__lastCalleePub;var w=o._cacheStreams[_+(o.isCaller()?"__Caller":"__Callee")];w=new o._service.AVPubstream(w||{constaints:{audio:!d.aoff,video:!d.voff}});S&&S.getLocalStream()&&o._service._stopTracks(S.getLocalStream()),o._service.openUserMedia(w).then((function(){var e=o.newStream(w);e.updateAttributes({_localMediaStream:w.localStream,_webrtc:g,rtcId:g.getRtcId(),id:_+(o.isCaller()?"__Caller":"__Callee"),owner:{id:o.getMemberId(),nickName:o.nickName,name:o.sysUserId,ext:o.extObj}}),o.onEvent(new c.PushSuccess({stream:e,hidden:!0})),C(w.localStream),o.answerCall(_,w,x)}),x)}else C(),o.answer(_,x)}else e.prototype.createWebrtcAndSubscribeStream.call(o,t,n,r,i);function x(e){a.warn("sub stream error",t,e),v&&d._webrtc&&d._webrtc.setSubArgs(v),v&&d.updateAttributes({subArgs:v}),e=new c.SubFail({stream:d,hidden:!0===e.hidden,cause:e}),n&&n.onEvent&&n.onEvent(e),o.onEvent&&o.onEvent(e)}function C(e){e&&g.setLocalStream(e),g.setRemoteDescription(d.sdp),d.cands&&d.cands.length>0&&g.addIceCandidate(d.cands)}}});return t},d=function(e,t,n){var r=e.extend({Session:t,Attendee:n,__init__:function(){var t=this;e.prototype.__init__.call(t),void 0!==t.useRTCCfg&&!1!==t.useRTCCfg&&null!==t.useRTCCfg||(t.useRTCCfg=emedia.config.forceUseRTCCfgIfServerReturnWhenP2P)},push:function(t,n,r){var i=this;if(i.current&&i.current.isP2P()){if(2===t.type)throw a.error("P2P do not allow audio_mixer"),"P2P do not allow audio_mixer";if(t instanceof i.AVPubstream&&!t.rtcId){var o=i.current._cacheStreams["rtc-"+i.current.ticket.confrId+"__Caller"]||i.current._cacheStreams["rtc-"+i.current.ticket.confrId+"__Callee"];o||(t.rtcId="rtc-"+i.current.ticket.confrId)}}e.prototype.push.call(i,t,n,r)},newSession:function(t,n){var r=this,i=e.prototype.newSession.call(r,t,n),o=i.onTermC,u=i.onAnsC;return s.extend(i,{onInitC:function(e){if(t.isP2P()){if(e.rtcId==="rtc-"+t.ticket.confrId){var n=e.rtcId+(t.isCaller()?"__Callee":"__Caller"),r=t._cacheStreams[n];if(r&&r.owner&&r.owner.id!==e.memId)return t.rejectAnswer(e.memId,e.rtcId,10),void t.postMessage(t.newMessage({op:1001,memId:e.memId,tsxId:e.tsxId,result:-554,msg:"Other device call it. you no."}))}e.pubS.sdp=e.sdp,e.pubS.cands=e.cands,e.pubS.id=e.rtcId+(t.isCaller()?"__Callee":"__Caller"),e.pubS._located=!1,e.pubS.memId=e.memId,e.pubS.rtcId=e.rtcId,e.pubS.sver=0;r=t._cacheStreams[e.pubS.id];r&&(e.pubS.sver=r.sver+1,s.removeAttribute(t._maybeNotExistStreams,e.pubS.id)),t.onPub.call(t,++t._cver,e.memId,e.pubS)}},onTermC:function(e){if(t.isP2P()){if(-20===e.endReason){var n=t._cacheStreams[e.rtcId+"__Caller"];return a.warn("Begin re-publish. 20",n),void(n&&r._republish(n))}if(e.memId&&e.memId!==t.getMemberId()){var i=[];return s.forEach(t._cacheStreams,(function(e,t){i.push(t)})),i=i.sort((function(e,n){var r=-1;return e.id>n.id&&(r=1),t.isCallee()?0-r:r})),void s.forEach(i,(function(n,r){r&&r.owner&&r.owner.id===e.memId&&e.rtcId===r.rtcId&&(-10!==e.endReason&&o.call(t,e),e.rtcId==="rtc-"+t.ticket.confrId&&t.onUnpub(++t._cver,e.memId,r.id),10===e.endReason&&t.onEvent(new c.OtherDeviceAnswer({rtcId:e.rtcId,stream:r}))),r&&r.owner&&r.owner.id===t.getMemberId()&&e.rtcId===r.rtcId&&(t.closeWebrtc(e.rtcId),t.onUnpub(++t._cver,r.owner.id,r.id))}))}-10!==e.endReason&&o.call(t,e),10===e.endReason&&t.onEvent(new c.OtherDeviceAnswer({rtcId:e.rtcId}))}else o.call(t,e)},onAnsC:function(e){if(t.isP2P())if(t.__cache_[e.rtcId]){if(!0===t.__cache_[e.rtcId].answered)return a.warn("Webrtc ",e.rtcId,"had been ansC"),t.rejectAnswer(e.memId,e.rtcId,10),void t.postMessage(t.newMessage({op:1001,memId:e.memId,tsxId:e.tsxId,result:-554,msg:"Other device sub it. you no."}));try{if(e.pubS){var n=t.newStream(e.pubS);n.updateAttributes({_webrtc:t._ices[e.rtcId],rtcId:e.rtcId,id:e.rtcId+(t.isCaller()?"__Callee":"__Caller"),owner:t._cacheMembers[e.memId]}),t._cacheStreams[n.id]?t._cacheStreams[n.id]=n:t.onPub.call(t,++t._cver,e.memId,n),t.onEvent(new c.SubSuccess({stream:n,hidden:!0}))}var r=t._cacheMembers[e.memId];u.call(t,e),s.forEach(t._cacheMembers,(function(n,i){n!==e.memId&&r.memName===i.memName&&t.rejectAnswer(n,e.rtcId,10)}))}finally{t.__cache_[e.rtcId].answered=!0}}else a.warn("Webrtc ",e.rtcId,"not created. drop the answer");else u.call(t,e)}})}});return r};e.exports=function(e){var t=e.prototype.Session||n(149),r=u(t.extend({})),i=e.prototype.Attendee||n(154),o=l(i.extend({}));return d(e,r,o)}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.outer=void 0;var r=n(142),i=w(r),o=n(115),s=w(o),a=n(145),c=w(a),u=n(80),l=w(u),d=n(153),f=w(d),p=n(8),h=w(p),m=n(2),v=w(m),b=n(168),y=n(146),g=w(y),_=n(5),S=w(_);function w(e){return e&&e.__esModule?e:{default:e}}var x={};function C(t){if(t&&0!=(0,l.default)(t).length)if(t.key){var n=t.key,r=t.val,i=t.success,o=t.error,s=t.type;if(this.__current_confrId){var a=this._confrs[this.__current_confrId].roleToken;if(a){var c={roleToken:a,cattrs:[{key:n,val:r,op:s}]};e.ajax({type:"POST",url:emedia.config.restPrefix+"/easemob/rtc/confr/attrs/update",data:(0,v.default)(c),contentType:"application/json",success:function(e){i&&"function"==typeof i&&i(e)},error:function(e){o&&"function"==typeof o&&o(e)}})}else console.warn("roleToken is not have")}else console.warn("please set_confr_attrs after joined")}else console.warn("options.key is not have");else console.warn("options is not have")}function O(t,n){var r={type:"POST",url:emedia.config.restPrefix+"/easemob/rtc/confr/attrs/update",data:(0,v.default)({roleToken:t,cstate:{muteAll:n}}),contentType:"application/json"};return new h.default((function(t,n){e.ajax((0,f.default)({},r,{success:function(e){0==e.error?t(e):n(e)},error:function(e){n(e)}}))}))}b.single.onMemberJoin=function(e,t){emedia.decodeMemeberName(e),this.onMemberJoined(e,b.single._confr(t))},b.single.onMemberLeave=function(e,t,n){emedia.decodeMemeberName(e),this.onMemberExited(e,t,b.single._confr(n))},b.single._onRoleUpdated=function(e,t){this.onRoleChanged(e,b.single._confr(t))},b.single._onAddMemberStream=function(e,t){e&&emedia.decodeMemeberName(e.owner),this.onStreamAdded(e.owner,e,b.single._confr(t))},b.single._onRemoveMemberStream=function(e,t){e&&emedia.decodeMemeberName(e.owner),this.onStreamRemoved(e.owner,e,b.single._confr(t))},b.single._onUpdateMemberStream=function(e,t,n){e&&emedia.decodeMemeberName(e.owner),this.onStreamUpdated&&this.onStreamUpdated(e.owner,e,t,b.single._confr(n))},b.single.onExit=function(e,t,n){this.onConferenceExit(e,t,b.single._confr(n))},x.onMemberJoined=function(e){},x.onMemberExited=function(e,t){},x.onRoleChanged=function(e){},x.onStreamAdded=function(e,t){},x.onStreamRemoved=function(e,t){},x.onConferenceExit=function(e,t){},x.joinConferenceWithTicket=b.single.joinUseTicket,x.joinConference=b.single.joinUsePassword,x.getConferenceTkt=b.single.reqTkt,x.publish=function(e,t,n){return b.single.shareVideoWithAudio(e.video,e.audio,t,n)},x.unpublish=function(e){return b.single.hungup(e)},x.unsubscribe=function(e){return b.single.hungup(e)},x.exitConference=function(e){return b.single.exit(e||!1)},x.getConferenceInfo=function(e,t){return b.single.selectConfr(e,t)},x.createConference=b.single.createConfrSptMnPrg,x.grantRole=function(e,t,n){return emedia.decodeMemeberName(t),b.single.chanageRoles(n,t,e.id)},x.degradeRole=function(t,n,r){if(t)if(n&&n instanceof Array!=0&&0!=n.length){if(r){var i=this._confrs[t];if(i){var o=i.role,s=i.roleToken;if(!(Number(r)>=Number(o))){var a={type:"POST",url:emedia.config.restPrefix+"/easemob/rtc/role/degrade",data:(0,v.default)({roleToken:s,uids:n,role:r}),contentType:"application/json"};return new h.default((function(t,n){e.ajax((0,f.default)({},a,{success:function(e){0==e.error?t(e):n(e)},error:function(e){n(e)}}))}))}console.warn("only degradeRole,oldRole: "+o+" >>> toRole: "+r)}else console.warn("confr is not exits")}}else console.warn("members is must Array also length > 0")},x.kickMembersById=function(e,t){return emedia.decodeMemeberName(t),b.single.kickMember(t,e.id)},x.destroyConference=function(e){return b.single.disbandConfr(e,e.roleToken)},x.setConferenceAttrs=function(e){e.type="UPDATE",C.call(this,e)},x.deleteConferenceAttrs=function(e){e.type="DEL",C.call(this,e)},x.onConfrStateUpdated=function(e){var t=this,n=function(){var n=e.muteAll;void 0!==n&&(n?t.onMuteAll&&"function"==typeof t.onMuteAll&&t.onMuteAll():t.onUnMuteAll&&"function"==typeof t.onUnMuteAll&&t.onUnMuteAll())},r=this.__current_confrId;if(r){var i=this._services[r];if(i){var o=i.current;o&&o.role&&o.role!=this.Role.ADMIN&&n()}}},x.joinRoom=function(){var t=(0,c.default)(i.default.mark((function t(n){var r,o,a,c,u,l,d,p,m,b,y,g,_,S,w,x,C,O,T,E;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=function(t){var n=emedia.config,r=n.restPrefix,i=n.appkey;if(i){var o=i.split("#")[0],s=i.split("#")[1],a=r+"/"+o+"/"+s+"/conferences/room";return new h.default((function(n,r){var i={url:a,data:(0,v.default)(t),type:"POST",contentType:"application/json",success:function(e){e.error?r(e):n(e)},error:function(e){r(e)}};e.ajax(i)}))}console.warn("appkey is not defined")},o=this,a=function(t){var n=emedia.config.restPrefix+"/easemob/rtc/req/ticket?_ct="+(new Date).getTime();t.region&&(n+="&REGION="+t.region),t.confrId&&(n+="&CONFRID="+t.confrId);var r={type:"POST",url:n,data:(0,v.default)(t),contentType:"application/json",dataType:"json"};return new h.default((function(t,n){e.ajax((0,f.default)({},r,{success:function(e){0==e.error?t(e):n(e)},error:function(e){n(e)}}))}))},c=n.roomName,u=n.password,l=n.role,d=n.config,p=this.identityName,m=this.identityToken,c){t.next=8;break}return console.warn("the roomName is required at joinRoom"),t.abrupt("return");case 8:if(u){t.next=11;break}return console.warn("the password is required at joinRoom"),t.abrupt("return");case 11:if(p){t.next=14;break}return console.warn("the memName is required at joinRoom"),t.abrupt("return");case 14:if(m){t.next=17;break}return console.warn("the token is required at joinRoom"),t.abrupt("return");case 17:if(l){t.next=20;break}return console.warn("the role is required at joinRoom"),t.abrupt("return");case 20:return t.prev=20,b=(0,f.default)({roomName:c,password:u,memName:p,token:m},d),t.next=24,r(b);case 24:return y=t.sent,g=y.confrId,t.prev=26,_={uid:p,token:m,confrId:g,password:u,role:l,terminal:this._terminalInfo,rec:d.rec,recMerge:d.recMerge},t.next=30,a(_);case 30:return S=t.sent,S.mixed=11===S.type||12===S.type,S.id=S.serverConfrId=S.confrId=g,this._confrs[g]=(0,s.default)(this._confrs[g]||{},S),t.prev=34,w=S.ticket,x=d.nickName,C=d.ext,O=y.confrId,T=y.isCreator,t.next=40,o.joinConferenceWithTicket(O,w,(0,f.default)({nickName:x},C));case 40:return E=t.sent,T&&(E.isCreator=T),t.abrupt("return",E);case 45:if(t.prev=45,t.t0=t["catch"](34),!/cause: -523|cause:-523/.test(t.t0.errorMessage)){t.next=49;break}return t.abrupt("return",{error:-523,message:"talker count limit"});case 49:return t.abrupt("return",{error:-1,message:"joinRoom error"});case 50:t.next=57;break;case 52:if(t.prev=52,t.t1=t["catch"](26),!t.t1.response){t.next=56;break}return t.abrupt("return",JSON.parse(t.t1.response));case 56:return t.abrupt("return",{error:-1,message:"joinRoom error"});case 57:t.next=64;break;case 59:if(t.prev=59,t.t2=t["catch"](20),!t.t2.response){t.next=63;break}return t.abrupt("return",JSON.parse(t.t2.response));case 63:return t.abrupt("return",{error:-1,message:"joinRoom error"});case 64:case"end":return t.stop()}}),t,this,[[20,59],[26,52],[34,45]])})));return function(e){return t.apply(this,arguments)}}(),x.requestToTalker=function(e){if(e){var t=this._services[e];t.requestToTalker()}else console.warn("requestToTalker confrId is required")},x.requestToAdmin=function(e){if(e){var t=this._services[e];t.requestToAdmin()}else console.warn("requestToTalker confrId is required")},x.muteBymemberId=function(e,t){if(e&&t){var n=this._services[e];n.muteBymemberId(t)}else console.warn("muteBymemberId confrId and memberId is required")},x.unmuteBymemberId=function(e,t){if(e&&t){var n=this._services[e];n.unmuteBymemberId(t)}else console.warn("muteBymemberId confrId and memberId is required")},x.muteAll=function(e){if(e){var t=this._services[e];if(t){var n=t.current,r=n.role,i=n.roleToken;if(7==r){if(i){var o=!0;return O.call(this,i,o)}}else console.warn("only admin can action")}else console.warn("service is not exits")}else console.warn("muteAll confrId is required")},x.unmuteAll=function(e){if(e){var t=this._services[e];if(t){var n=t.current,r=n.role,i=n.roleToken;if(7==r){if(i){var o=!1;return O.call(this,i,o)}}else console.warn("only admin can action")}else console.warn("service is not exits")}else console.warn("unmuteAll confrId is required")},x.updateLiveLayout=function(t,n){if(t)if(n){var r=this._services[t].current,i=r.role,o=r.roleToken,s=r.liveCfgs;if(7==i)if(o){if(s){var a=s[0].id,c=emedia.config.restPrefix+"/easemob/rtc/live/layout",u={confrId:t,liveId:a,regions:n,roleToken:o};return new h.default((function(t,n){e.ajax({url:c,type:"POST",data:(0,v.default)(u),contentType:"application/json",dataType:"json",success:function(e){0==e.error?t(e):n(e)},error:function(e){n(e)}})}))}console.warn("updateLiveLayout liveCfgs is not have")}else console.error("updateLiveLayout roleToken is required");else console.warn("only admin can updateLiveLayout")}else console.warn("updateLiveLayout regions is required");else console.warn("updateLiveLayout confrId is required")},x.deleteLive=function(t){if(t){var n=this._services[t].current,r=n.liveCfgs,i=n.role,o=n.roleToken;if(r)if(7==i){if(o){var s=r[0].id,a=emedia.config.restPrefix+"/easemob/rtc/delete/live",c={confrId:t,liveId:s,roleToken:o};return new h.default((function(t,n){e.ajax({url:a,type:"DELETE",data:(0,v.default)(c),contentType:"application/json",dataType:"json",success:function(e){0==e.error?t(e):n(e)},error:function(e){n(e)}})}))}console.error("updateLiveLayout roleToken is required")}else console.warn("only admin can deleteLive");else console.warn("this service Live is not")}else console.warn("deleteLive confrId is required")},emedia.decodeMemeberName=function(e){if("function"!==typeof emedia.decodeMemeberNameString)return e;if("string"===typeof e)return emedia.decodeMemeberNameString(e);if(g.default.isArray(e)){for(var t=0;t<e.length;t++)e[t]=emedia.decodeMemeberName(e[t]);return e}return e.name?(e.globalName=e.name,void(e.memName=e.name=emedia.decodeMemeberName(e.name))):e.memName?(e.globalName=e.memName,void(e.memName=e.name=emedia.decodeMemeberName(e.memName))):void 0},emedia.ConfrType=b.single.ConfrType,emedia.Role=b.single.Role,emedia.StreamType=b.single.StreamType,(0,S.default)((function(){var e=window.WebIM;if(e&&e.conn&&"function"===typeof e.conn.onOpened){var t=function(){emedia.decodeMemeberNameString=function(t){if("string"===typeof t){if(t.indexOf(e.conn.orgName)<0)return t;var n=t.indexOf("_");n<0?n=0:n++;var r=t.indexOf("@");return r<0&&(r=t.length),t.substring(n,r)}return t},b.single.setUrlCreator((function(t,n){return e.conn.apiUrl+t})),b.single.setIdentity(e.conn.orgName+"#"+e.conn.appName+"_"+e.conn.user,e.conn.token)},n=e.conn.onOpened;e.conn.onOpened=function(){n.apply(e.conn,arguments),t()},e.conn.token&&t()}}));t.outer=g.default.extend(b.single,x)}).call(this,n(5))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.single=void 0;var r=n(88),i=y(r),o=n(2),s=y(o),a=n(8),c=(y(a),n(87)),u=y(c),l=n(5),d=y(l),f=n(146),p=y(f),h=n(169),m=n(271),v=n(158),b=y(v);function y(e){return e&&e.__esModule?e:{default:e}}var g=u.default.tagLogger("mgr");window.emedia=window.emedia||{};var _={createConfr:"/easemob/rtc/req/ticket",reqTkt:"/easemob/rtc/req/ticket",chanageRoles:"/easemob/rtc/chanage/roles",disbandConfr:"/easemob/rtc/disband/conference",kickMember:"/easemob/rtc/kick/member",selectConfr:"/easemob/rtc/select/confr"};function S(){this._confrs={},this._services={},this._events={},this._videos={}}S.prototype.ConfrType={COMMUNICATION:10,COMMUNICATION_MIX:11,LIVE:12,P2P:13,INTERCOMM:14},S.prototype.Role={ADMIN:7,TALKER:3,AUDIENCE:1},S.prototype.StreamType={VIDEO:0,DESKTOP:1,MIXVIDEO:2};var w=function(e,t){return function(n){d.default.ajax({type:"POST",url:e,data:(0,s.default)(t),contentType:"application/json",dataType:"json",success:function(r,i,o){g.debug("REST: ",r," -> ",t,e),0===r.error?(u.default.removeAttribute(r,"error"),n.next(r),n.complete()):(u.default.extend(r,{errorType:"server_refuse"}),n.error(r))},error:function(r,i,o){var s={errorType:"http_error",error:r.status,errorMessage:o};g.debug("REST: ",s," -> ",t,e),n.error({errorType:"http_error",error:r.status,errorMessage:o})}})}};(function(e){u.default.forEach(e,(function(e,t){S.prototype[e]=function(n){var r=t;r=r+"?_ct="+(new Date).getTime(),n.region&&(r=r+"&REGION="+n.region),n.confrId&&(r=r+"&CONFRID="+n.confrId);var i=this.createUrl(r,e);return w(i,n)}}))})(_),S.prototype.createUrl=function(e,t){var n=emedia.config&&emedia.config.restPrefix||"";return n+e},S.prototype.setUrlCreator=function(e){this.createUrl=e.bind(this)},S.prototype.destroy=function(){},S.prototype.ZeroStream=b.default.extend({__init__:function(){var e=this;e.type=2,e.id="0",e._located=!1,e.mutedMuted=!1},onGotRemoteMediaStream:function(e){var t=this;if(!t.remotePlayAudioObject){t.id;var n=document.createElement("audio");n.style.display="none",n.id="__o_remote_play_audio_"+t.id,n.autoplay=!0,n.playsinline=!0,t.remotePlayAudioObject=n,document.body.appendChild(n)}t.remotePlayAudioObject.srcObject=e}}),S.prototype.setIdentity=function(e,t,n){this.identityName=e,this.identityToken=t,this.ext=n,this._terminalInfo={browser:emedia.browser,browserVersion:emedia.browserVersion,version:window._emediaVersion||emedia.config.version,userAgent:emedia.config.userAgent},g.info("set identity: ",e,t),this.destroy(),emedia.config({autoSub:!1,onlyEnter:!0})},S.prototype.EventsObservable=n(369).default;var x=(0,m.catchError)((function(e,t){throw g.error(e),e}));function C(e,t,n,r){var o=this,s=void 0,a=void 0;if(arguments.length>=0&&"object"===(0,i.default)(arguments[0])){var c=arguments[0];s=c.region,e=c.confrType,t=c.password,n=c.rec,r=c.recMerge,a=c.liveCfg}return"string"===typeof e&&(e=parseInt(e)),h.Observable.create(S.prototype.createConfr.call(o,{region:s,uid:o.identityName,token:o.identityToken,confrType:e,password:t,terminal:o._terminalInfo,rec:n,recMerge:r,liveCfg:a})).pipe((0,m.map)((function(e){return e.mixed=11===e.type||12===e.type,e.id=e.serverConfrId=e.confrId,o._confrs[e.confrId]=p.default.extend({},e),u.default.removeAttribute(e,"rtcCfg"),e})),x)}function O(e,t,n,r,o){var s=this,a=void 0,c=void 0;if(arguments.length>=0&&"object"===(0,i.default)(arguments[0])){var l=arguments[0];a=l.region,e=l.confrType,t=l.password,n=l.rec,r=l.recMerge,o=l.supportWechatMiniProgram,c=l.liveCfg}"string"===typeof e&&(e=parseInt(e));var d={region:a,uid:s.identityName,token:s.identityToken,confrType:e,password:t,terminal:s._terminalInfo,rec:n,recMerge:r,supportWechatMiniProgram:o,liveCfg:c};return o&&(d.useVCodes=["VP8","H264"]),h.Observable.create(S.prototype.createConfr.call(s,d)).pipe((0,m.map)((function(e){return e.mixed=11===e.type||12===e.type,e.id=e.serverConfrId=e.confrId,s._confrs[e.confrId]=p.default.extend({},e),u.default.removeAttribute(e,"rtcCfg"),e})),x)}function T(e,t){var n,r=this;if(arguments.length>=0&&"object"===(0,i.default)(arguments[0])){var o=arguments[0];e=o.confrId,t=o.password,n=o.role}var s=r._confr(e),a={uid:r.identityName,token:r.identityToken,confrId:s&&s.id||e,password:t,role:n,terminal:r._terminalInfo};return r._confrs[e]&&(a.roleToken=r._confrs[e].roleToken),h.Observable.create(S.prototype.reqTkt.call(r,a)).pipe((0,m.map)((function(t){return t.mixed=11===t.type||12===t.type,t.id=t.serverConfrId=t.confrId=e,r._confrs[e]=u.default.extend(r._confrs[e]||{},t),u.default.removeAttribute(t,"rtcCfg"),t})),x)}function E(e,t,n){var r=this,i=r._confr(n),o=r._service(n),s={confrId:i&&i.id||n,uids:t,role:e,roleToken:i.roleToken};return h.Observable.create(S.prototype.chanageRoles.call(r,s)).pipe((0,m.map)((function(e){return o&&o.current&&o.current._sysCopy(),i.id})),x)}function I(e,t){var n=this,r=n._confr(e),i={confrId:r&&r.id||e,roleToken:r&&r.roleToken||t};return h.Observable.create(S.prototype.disbandConfr.call(n,i)).pipe((0,m.map)((function(t){return u.default.removeAttribute(n._confrs,e),r.id})),x)}function k(e,t){var n=this,r=n._confr(t),i={confrId:r&&r.id||t,uids:e,roleToken:r.roleToken};return h.Observable.create(S.prototype.kickMember.call(n,i)).pipe((0,m.map)((function(e){return r.id})),x)}function R(e,t){var n=this,r=n._confr(e),i={uid:n.identityName,token:n.identityToken,confrId:r&&r.id||e,password:t};return r&&(i.password=t||r.password,i.roleToken=r.roleToken),h.Observable.create(S.prototype.selectConfr.call(n,i)).pipe(x)}function P(e,t){}function M(e,t){var n=this,r=n._confr(e),i=n._service(e);switch(r.type){case 0:case 10:break;case 11:break;case 12:var o=new n.ZeroStream;if(i.current._cacheStreams[o.id]=o,i.current.role==ne.Role.AUDIENCE)return K.call(n,e,o,!1,!0).pipe((0,m.concatMap)((function(){return(0,h.of)(u.default.extend({},n._confrs[e]))})));break;case 13:case 14:return(0,h.throwError)("not support conf type: "+r.type);default:return(0,h.throwError)("not support conf type: "+r.type)}return(0,h.of)(u.default.extend({},n._confrs[e]))}function A(e,t,n){var r=this;return emedia.ctrl.support(n,(function(t,n,i){r.onHasRemoteControl(t,n,i,e)}),(function(t,n,i){r.onRemoteFreeControl(t,n,i,e)})),g.info("support remote control. ",e,t),(0,h.of)(u.default.extend({},r._confrs[e]))}function j(e,t,n){var r=this;if(r.joined(e))return(0,h.throwError)("had joined confr "+e+", if you want join again, please call exitConference");var i=r._events[e]=new r.EventsObservable(r,e,(function(t){P.call(r,e,t)}));r.confrEventsObserver&&i.subscribe(r.confrEventsObserver);var o=r._service(e);return o=r._services[e]=new emedia.XService({listeners:i,nickName:n&&n.nickName}),o.setup(t,n),h.Observable.create((function(t){o.join((function(n){r.__current_confrId=e,r._confrs[e].joinId=n,r._confrs[e].role=o.current&&o.current.role,t.next(r._confrs[e]),t.complete()}),(function(e){o.exit(),t.error({errorType:"join_fail",error:-200,errorMessage:e.message()})}))})).pipe((0,m.concatMap)((function(t,n){return A.call(r,e,t,o)})),(0,m.concatMap)((function(t,n){return M.call(r,e,t)})),x)}function N(e,t,n){var r=this;return T.call(r,e,t,n).pipe((0,m.concatMap)((function(t,i){return j.call(r,e,t.ticket,n)})))}function D(e,t,n){var r=this;return R.call(r,e,t,n).pipe((0,m.concatMap)((function(i,o){return N.call(r,e,t,n)})))}function B(e,t){var n=t.aoff,r=t.voff;n&&r&&(t.aoff=0,t.constaints.audio=!0);var i=this,o=i._service(e);return h.Observable.create((function(e){o.openUserMedia(t).then((function(){e.next(t),e.complete()}),(function(t){e.error({errorType:"open_user_media_fail",error:-201,errorMessage:t.message()})}))})).pipe(x)}function L(e,t){var n=this,r=n._service(e);return h.Observable.create((function(e){r.push(t,(function(t){e.next(t),e.complete()}),(function(t){e.error({errorType:"push_fail",error:-203,errorMessage:t.message()})}))})).pipe(x)}function F(e,t,n){var r=this,i=(r._confr(n),r._service(n));return e="string"===typeof e?i.getStreamById(e):i.getStreamById(e.id),e?t?p.default.isEqual(t,e.constaints.video)?V.call(r,n,e,0):U.call(r,n,e,t):V.call(r,n,e,1):(0,h.throwError)("pub stream not exsits. it is "+e)}function V(e,t,n){var r=this,i=r._service(e);return h.Observable.create((function(e){i.voff(t,n,(function(t){e.error({errorType:"voff_fail",error:-203,errorMessage:t.message()})}),(function(){e.next(i.getStreamById(t.id)),e.complete()}))})).pipe(x)}function U(e,t,n){var r=this,i=r._service(e);return h.Observable.create((function(e){var r={};p.default.isObject(t.constaints)&&(r=u.default.extend(!0,{},t.constaints)),r.video=n,i.chanageConstraints(t,r,(function(t){e.error({errorType:"ChanageVideoConstraints_fail",error:-203,errorMessage:t.message()})}),(function(){e.next(i.getStreamById(t.id)),e.complete()}))})).pipe(x)}function $(e,t,n){var r=this,i=r._confr(n),o=r._service(n);return e="string"===typeof e?o.getStreamById(e):o.getStreamById(e.id),e?i.type!==r.ConfrType.COMMUNICATION_MIX&&i.type!==r.ConfrType.LIVE||1!==e.type||t?W.call(r,n,e,t):(g.warn("confr mix. not allow desktop with audio."),(0,h.throwError)("confr mix. not allow desktop with audio.")):(0,h.throwError)("pub stream not exsits. it is "+e)}function W(e,t,n){var r=this,i=r._service(e);return h.Observable.create((function(e){i.aoff(t,n,(function(t){e.error({errorType:"aoff_fail",error:-203,errorMessage:t.message()})}),(function(){e.next(i.getStreamById(t.id)),e.complete()}))})).pipe(x)}function z(e,t,n,r){var i=this,o=i._confr(e),s=i._service(e);if(s.current.role==i.Role.AUDIENCE)return(0,h.throwError)("Audience not allow publish");if(o.av)return(0,h.throwError)("Audio and video stream has been published. not allow repeat publish.");var a=o.mixed?s.AudioMixerPubstream:s.AVPubstream,c=o.av=new a({constaints:t,aoff:t.audio?0:1,voff:t.video?0:1,ext:r});return B.call(i,o.id,c).pipe((0,m.concatMap)((function(e){if(i.realConstaints){var t=i.realConstaints,s=t.audio,a=t.video;e.constaints=i.realConstaints,e.aoff=s?0:1,e.voff=a?0:1}return n&&u.default.targetDOM(n)&&attachMediaStream(n,e.localStream),L.call(i,o.id,e,r)})),(0,m.map)((function(e){if(i.realConstaints){var t=i.realConstaints,r=t.audio,s=t.video;e.constaints=i.realConstaints,e.aoff=r?0:1,e.voff=s?0:1}return o.av=e,n&&i.streamBindVideo(o.av,n),o.type==i.ConfrType.LIVE&&i.hungup(0),u.default.extend({},e)})),(0,m.catchError)((function(e,t){throw o.av&&i.hungup(o.av),o.av=void 0,g.error(e),e})))}function H(e){var t=this,n=t._confr(e),r=t._service(e);return r.current.role==t.Role.AUDIENCE?(0,h.throwError)("Audience not allow publish"):h.Observable.create((function(e){r.switchMobileCamera(n.av,(function(t){e.error({errorType:"switch_camera_fail",error:-203,errorMessage:t.message()})}),(function(){e.complete()}))})).pipe(x)}function G(e){var t=this,n=t._confr(e),r=t._service(e);return r.current.role==t.Role.AUDIENCE?(0,h.throwError)("Audience not allow publish"):h.Observable.create((function(e){r.chanageCamera(n.av,(function(t){e.error({errorType:"switch_camera_fail",error:-203,errorMessage:t.message()})}),(function(){e.complete()}))})).pipe(x)}function q(e){var t=e.confrId,n=e.constaints,r=e.videoTag,i=e.ext,o=e.stopSharedCallback,s=this,a=s._confr(t),c=s._service(t);if(c.current.role==s.Role.AUDIENCE)return(0,h.throwError)("Audience not allow publish");if(a.desktop)return(0,h.throwError)("desktop stream has been published. not allow repeat publish.");if((a.type===s.ConfrType.COMMUNICATION_MIX||a.type===s.ConfrType.LIVE)&&n.audio)return g.warn("confr mix. not allow desktop with audio."),(0,h.throwError)("confr mix. not allow desktop with audio.");n.audio||!a.av||a.av.aoff||g.warn("repeat audio. desktop and av");var l=a.desktop=new c.ShareDesktopPubstream({screenOptions:n.video&&n.video.screenOptions||["screen","window","tab"],mandatory:n.video&&n.video.mandatory||{},vbitrate:n.video&&n.video.bitrate,abitrate:n.audio&&n.audio.bitrate,aoff:n.audio?0:1,ext:i,onMediaInactive:function(){"function"==typeof o&&o()}});return B.call(s,a.id,l).pipe((0,m.concatMap)((function(e){return r&&u.default.targetDOM(r)&&attachMediaStream(r,e.localStream),L.call(s,a.id,e,i)})),(0,m.map)((function(e){return a.desktop=e,r&&u.default.targetDOM(r)&&s.streamBindVideo(a.desktop,r),u.default.extend({},e)})),(0,m.catchError)((function(e,t){throw a.desktop=void 0,g.error(e),e})))}function K(e,t,n,r,i){var o=this,s="string"===typeof t?t:t.id,a=o._confr(e),c=o._service(e);return 2===t.type&&1==r&&0!=t.id&&(r=!1,g.warn("Mixed audio stream. not allow repeat sub audio. force reset subSAudio = false")),i&&u.default.targetDOM(i)&&o.streamBindVideo(s,i),h.Observable.create((function(e){c.subscribe(s,(function(t){try{if("0"!=s){var n=c.getStreamById(s),r={video:n.subArgs?n.subArgs.subSVideo:!n.voff,audio:n.subArgs?n.subArgs.subSAudio:!n.aoff};2===n.type&&(r.audio=!0),o._onMemberMediaChanaged(n.owner,n,r,a.confrId)}}finally{e.next(t),e.complete()}}),(function(t){e.error({errorType:"sub_fail",error:-203,errorMessage:t.message()})}),{subSVideo:n,subSAudio:r})})).pipe(x)}function Y(e,t,n){var r=this,i=r._service(n);e=i.current._cacheStreams["string"===typeof e?e:e.id];var o=t||r.crtAndReturnVideo(e.owner,e);if(o){r._videos[e.id]=o,o.setAttribute("autoplay","autoplay"),o.setAttribute("playsinline","playsinline"),o.setAttribute("hx_stream",e.id),e.aoff?o.setAttribute("aoff","aoff"):o.removeAttribute("aoff"),e.voff?o.setAttribute("voff","voff"):o.removeAttribute("voff"),e.ifMediaStream((function(e){o&&attachMediaStream(o,e),o.hasAttribute("flow")&&r.onMediaTransmission(o,(function(e,t,n,r){(0,d.default)(o).trigger("onMediaTransmission",[e,t,n,r])}))}));var s=(0,d.default)(o);s.off("hungup"),s.on("hungup",(function(t,i,o){r.hungup(e,n),o&&o()})),s.off("subscribe"),s.on("subscribe",(function(t,i,o,s,a){e.located()?s&&s("local stream not allow sub"):(i=e.subArgs&&e.subArgs.subSVideo||!0,o=e.subArgs&&e.subArgs.subSAudio||!0,r.subscribe(e.owner,e,i,o,n).then(a).catch(s))})),s.off("pauseVideo"),s.on("pauseVideo",(function(t,o,a){e=i.current._cacheStreams["string"===typeof e?e:e.id],e.located()?(s[0].__constaints_video=e.constaints&&e.constaints.video,r.pauseVideo(e,n).then(a).catch(o)):r.subscribe(e.owner,e,!1,e.subArgs&&e.subArgs.subSAudio||!e.aoff,n).then(a).catch(o)})),s.off("resumeVideo"),s.on("resumeVideo",(function(t,o,a,c){e=i.current._cacheStreams["string"===typeof e?e:e.id],e.located()?(void 0===c&&(c=s[0].__constaints_video,void 0!==c&&null!=c||(c=!0)),s[0].__constaints_video=void 0,r.resumeVideo(e,c,n).then(a).catch(o)):r.subscribe(e.owner,e,!0,e.subArgs&&e.subArgs.subSVideo||!e.voff,n).then(a).catch(o)})),s.off("pauseAudio"),s.on("pauseAudio",(function(t,i,o){e.located()?r.pauseAudio(e,n).then(o).catch(i):r.subscribe(e.owner,e,e.subArgs.subSVideo,!1,n).then(o).catch(i)})),s.off("resumeAudio"),s.on("resumeAudio",(function(t,i,o){e.located()?r.resumeAudio(e,n).then(o).catch(i):r.subscribe(e.owner,e,e.subArgs.subSVideo,!0,n).then(o).catch(i)})),s.off("remoteControl"),s.on("remoteControl",(function(t,i,s,a,c,u,l,d){if(e.located())throw g.error("not allow remote control at local"),"not allow remote control at local";r.remoteControl(e,o,o,i,s,a,c,u,l,d,n)})),s.off("chanageCamera"),s.on("chanageCamera",(function(e,t,i){r.chanageCamera(n).then(i).catch(t)})),s.off("captureVideo"),s.on("captureVideo",(function(e,t,i,s){var a=r.captureVideo(o,i,s,n);t&&t(a)})),s.off("capturePictureRemote"),s.on("capturePictureRemote",(function(t,i,o){r.capturePictureRemote(e,!1,n).then(o).catch(i)})),s.off("freezeFrameRemote"),s.on("freezeFrameRemote",(function(t,i,o){r.freezeFrameRemote(e,n).then(o).catch(i)})),s.off("zoomRemote"),s.on("zoomRemote",(function(t,i,o,s){r.zoomRemote(e,i,n).then(s).catch(o)})),s.off("torchRemote"),s.on("torchRemote",(function(t,i,o,s){r.torchRemote(e,i,n).then(s).catch(o)})),s.off("freeRemoteControl"),s.on("freeRemoteControl",(function(t,i,o){try{r.freeRemoteControl(e,n)}finally{o&&o()}}));var a={video:!e.voff,audio:!e.aoff,voff:e.voff,aoff:e.aoff};e.located()||(a={video:e.subArgs?e.subArgs.subSVideo:!e.voff,audio:e.subArgs?e.subArgs.subSAudio:!e.aoff,voff:e.voff,aoff:e.aoff}),s.trigger("onMediaChanaged",[a,e,e.owner,n]),o.getAttribute("sound")&&(i.current._monitSoundChanagedStreams=i.current._monitSoundChanagedStreams||{},i.current._monitSoundChanagedStreams[e.id]=e.id)}}function J(e,t,n,r){var i=this;"string"!==typeof t&&(t=t.id);i._confr(e);var o=i._service(e);return h.Observable.create((function(e){o.focusExpoRemote(t,n,r,(function(t){e.error({errorType:"focusexpo_remote_fail",error:-203,errorMessage:t.message()})}),(function(){e.complete()}))})).pipe(x)}function X(e,t,n){var r=this;"string"!==typeof t&&(t=t.id);r._confr(e);var i=r._service(e);return h.Observable.create((function(e){i.capturePictureRemote(t,n,(function(t){e.next(t),e.complete()}),(function(t){e.error({errorType:"capture_remote_fail",error:-203,errorMessage:t.message()})}))})).pipe(x)}function Z(e,t,n){var r=this;"string"!==typeof t&&(t=t.id);r._confr(e);var i=r._service(e);return h.Observable.create((function(e){i.zoomRemote(t,n,(function(t){e.error({errorType:"capture_remote_fail",error:-203,errorMessage:t.message()})}),(function(){e.complete()}))})).pipe(x)}function Q(e,t,n){var r=this;"string"!==typeof t&&(t=t.id);r._confr(e);var i=r._service(e);return h.Observable.create((function(e){i.torchRemote(t,n,(function(t){e.next(t),e.complete()}),(function(t){e.error({errorType:"torch_remote_fail",error:-203,errorMessage:t.message()})}))})).pipe(x)}function ee(e,t){var n=this;"string"!==typeof t&&(t=t.id);n._confr(e);var r=n._service(e);return h.Observable.create((function(e){r.freezeFrameRemote(t,(function(t){e.next(t),e.complete()}),(function(t){e.error({errorType:"freeze_remote_fail",error:-203,errorMessage:t.message()})}))})).pipe(x)}var te=u.default.extend(new S,{_confr:function(e){var t=this;return e||(e=t.__current_confrId),t._confrs[e]},_service:function(e){var t=this;return e||(e=t.__current_confrId),this._services[e]},getStreamById:function(e,t){var n=this,r=n._service(t);return r&&r.getStreamById(e)},getMemberById:function(e,t){var n=this,r=n._service(t);return r&&r.getMemberById(e)},streamBindVideo:function(e,t,n){Y.call(this,e,t,n)},getBindVideoBy:function(e){var t=this;if("string"!==typeof e&&e&&e.id&&(e=e.id),"string"!==typeof e)throw g.error("Bad stream ",e),"Bad stream "+e;return t._videos[e]},createConfr:function(e,t,n,r){return C.apply(this,arguments).toPromise()},createConfrSptMnPrg:function(e,t,n,r){return O.apply(this,arguments).toPromise()},reqTkt:function(e,t){return T.apply(this,arguments).toPromise()},chanageRoles:function(e,t,n){return E.apply(this,arguments).toPromise()},disbandConfr:function(e,t){return I.apply(this,arguments).toPromise()},kickMember:function(e,t){return k.apply(this,arguments).toPromise()},selectConfr:function(e,t){return R.apply(this,arguments).toPromise()},joinUsePassword:function(e,t,n){return D.call(this,e,t,n).toPromise()},joinUseTicket:function(e,t,n){return j.call(this,e,t,n).toPromise()},joined:function(e){return e&&this._confrs[e]&&this._confrs[e].joinId},shareDesktopWithAudio:function(e){var t=e.videoConstaints,n=e.withAudio,r=e.videoTag,i=e.ext,o=e.confrId,s=e.sharedCallback,a=e.stopSharedCallback,c=this;u.default.targetDOM(r)||(o=i,i=r,r=void 0);var l={video:t,audio:n},d={confrId:o,constaints:l,videoTag:r,ext:i,sharedCallback:s,stopSharedCallback:a};return q.call(c,d).toPromise()},chanageCamera:function(e){return G.call(this,e).toPromise()},switchMobileCamera:function(e){return H.call(this,e).toPromise()},shareVideoWithAudio:function(e,t,n,r,i){var o=this;u.default.targetDOM(n)||(i=r,r=n,n=void 0);var a={video:e,audio:t},c=JSON.parse((0,s.default)(a));return o.realConstaints=c,z.call(o,i,a,n,r).toPromise()},captureVideo:function(e,t,n,r){var i=this,o=i._service(r);return o.captureVideo(e,t,n)},openUserMedia:function(e,t){var n=this,r=n._service(t);return h.Observable.create((function(t){r.__getUserMedia(e,(function(e,n){t.next(n),t.complete()}),(function(e){t.error(e)}))})).pipe(x).toPromise()},mediaDevices:function(e){return"function"===typeof e&&(e=void 0),h.Observable.create((function(t){navigator.mediaDevices.enumerateDevices().then((function(n){for(var r=[],i=0;i!==n.length;++i){var o=n[i];o.deviceId;e||r.push(o),e&&e===o.kind?r.push(o):"audioinput"===o.kind||"audiooutput"===o.kind||"videoinput"===o.kind||g.info("Some other kind of source/device: ",o)}t.next(r),t.complete()})).catch((function(e){g.warn("navigator.getUserMedia error: ",e),t.error(e)}))})).pipe(x).toPromise()},resumeVideo:function(e,t,n){return F.call(this,e,t||!0,n).toPromise()},pauseVideo:function(e,t){return F.call(this,e,!1,t).toPromise()},resumeAudio:function(e,t){return $.call(this,e,!1,t).toPromise()},pauseAudio:function(e,t){return $.call(this,e,!0,t).toPromise()},freezeFrameRemote:function(e,t){return ee.call(this,t,e).toPromise()},torchRemote:function(e,t,n){return Q.call(this,n,e,t).toPromise()},zoomRemote:function(e,t,n){return Z.call(this,n,e,t).toPromise()},capturePictureRemote:function(e,t){return X.call(this,t,e,!1).toPromise()},focusExpoRemote:function(e,t,n,r){return J.call(this,r,e,t,n).toPromise()},onFocusExpoRemoteWhenClickVideo:function(e,t,n,r){var i=this;return"function"===typeof t&&(r=n,n=t,t=void 0),(0,d.default)(e).off(t||"click"),(0,d.default)(e).on(t||"click",(function(t){var o=e.getAttribute("hx_stream");i.focusExpoRemote(o,e,t).then(r).catch(n)})),t},offEventAtTag:function(e,t){t&&(0,d.default)(e).off(t)},hungup:function(e,t){var n,r=this;n="string"===typeof e?e:e.id||e+"";var i=r._service(t),o=r._confr(t);if(o&&i){i.hungup(n);var s=!1;if(o.av&&(s=o.av.id===n)&&(o.av=void 0),o.desktop&&o.desktop.id===n&&(o.desktop=void 0),s&&o.type==r.ConfrType.LIVE&&i.current.role==ne.Role.AUDIENCE){var a=i.current&&i.current._cacheStreams["0"];r.subscribe(i.current,a,!1,!0,t)}}else g.warn("when hungup stream. not found confr and service.",e)},subscribe:function(e,t,n,r,i,o){var s=this;return u.default.targetDOM(i)||(o=i,i=void 0),K.call(s,o,t,n,r,i).toPromise()},exit:function(e,t){var n=this,r=n._service(t);r?r.exit(e):g.warn("when exit. not found service.",t)},_onExit:function(e,t,n){var r=this;try{r.__current_confrId=void 0,r.onExit(t,n,e)}finally{u.default.removeAttribute(r._confrs,e),u.default.removeAttribute(r._services,e),u.default.removeAttribute(r._videos,e),u.default.removeAttribute(r._events,e)}},onExit:function(e,t,n){},_onRoleUpdated:function(e,t){},onMemberJoin:function(e,t){},onMemberLeave:function(e,t,n){},_onRecvRemoteMessage:function(e,t,n){},crtAndReturnVideo:function(e,t,n){},unloadVideo:function(e,t,n,r){},remoteControl:function(e,t,n,r,i,o,s,a,c,u,l){var d=this,f=d._service(l);r=!!r;var p="string"===typeof e?e:e.id;r?emedia.ctrl.mirrorControlled(f,p,t,n,i,o,s,a,c,u):emedia.ctrl.controlled(f,p,t,n,i,o,s,a,c,u)},freeRemoteControl:function(e,t){var n=this,r=n._service(t),i="string"===typeof e?e:e.id;emedia.ctrl.disControlled(r,i)},zeptoTrigger:function(e,t){var n=[];return Array.prototype.push.apply(n,Array.prototype.slice.call(arguments,2)),h.Observable.create((function(r){var i=[function(){r.error.apply(r,arguments)},function(){r.next.apply(r,arguments),r.complete()}];Array.prototype.push.apply(i,n),(0,d.default)(e).trigger(t,i)})).pipe(x).toPromise()},_onAddMemberStream:function(e,t){},_onRemoveMemberStream:function(e,t){},_onUpdateMemberStream:function(e,t,n){},_onMemberMediaChanaged:function(e,t,n,r){var i=this._videos[t.id];n&&(n.voff=t.voff,n.aoff=t.aoff),i&&(0,d.default)(i).trigger("onMediaChanaged",[n,t,e,r])},onMediaChanaged:function(e,t){this.addVideoEventListener(e,"onMediaChanaged",t)},_onMemberSoundChanaged:function(e,t,n,r){var i=this._videos[t.id];i&&(0,d.default)(i).trigger("onSoundChanaged",[n,t,e,r])},onSoundChanaged:function(e,t){if(!emedia.config.getMediaMeterIntervalMillis||emedia.config.getMediaMeterIntervalMillis<=0)throw g.error("monit sound chanaged not config. please config getMediaMeterIntervalMillis"),"monit sound chanaged not config. please config getMediaMeterIntervalMillis";e.setAttribute("sound","sound"),this.addVideoEventListener(e,"onSoundChanaged",t)},onMediaTransmission:function(e,t){if(emedia.helper&&"function"===typeof emedia.helper.inboundVideo){var n=this._service(),r=e.getAttribute("hx_stream"),i=r&&n.getStreamById(r),o=e.getAttribute("flowWebrtc");i&&i._webrtc&&o==i._webrtc.__id||(e.hasAttribute("flow")&&i&&i._webrtc?(i.located()?emedia.helper.outboundVideo(i,t,1e3):emedia.helper.inboundVideo(i,t,1e3),e.setAttribute("flowWebrtc",i._webrtc.__id)):(this.addVideoEventListener(e,"onMediaTransmission",t),e.setAttribute("flow","flow")))}else g.warn("please import helper. <script>")},_onTalking:function(e,t,n,r){},_onNotSupportMemberPublishVideoCodecs:function(e,t,n){var r=this._videos[t.id];r&&(0,d.default)(r).trigger("onNotSupportVideoCodecs",[t,e,n])},onNotSupportVideoCodecs:function(e,t){this.addVideoEventListener(e,"onNotSupportVideoCodecs",t)},_onStreamIceStateChanged:function(e,t,n,r){var i=this._videos[t.id];i&&(0,d.default)(i).trigger("onIceStateChanged",[n,t,e,r])},onIceStateChanged:function(e,t){this.addVideoEventListener(e,"onIceStateChanged",t)},onHasRemoteControl:function(e,t,n,r){var i=this._videos[e.id];i&&(0,d.default)(i).trigger("onRemoteControl",[t,n,e,r])},onRemoteControl:function(e,t){this.addVideoEventListener(e,"onRemoteControl",t)},onRemoteFreeControl:function(e,t,n,r){var i=this._videos[e.id];i&&(0,d.default)(i).trigger("onFreeControl",[t,n,e,r])},onFreeControl:function(e,t){this.addVideoEventListener(e,"onFreeControl",t)},addVideoEventListener:function(e,t,n){(0,d.default)(e).off(t),(0,d.default)(e).on(t,(function(){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);n&&n.apply(e,t)}))}});p.default.each(["hungup","subscribe","pauseVideo","resumeVideo","pauseAudio","resumeAudio","chanageCamera","freeRemoteControl","capturePictureRemote","freezeFrameRemote"],(function(e,t){var n=e.replace(/\b[a-z]/g,(function(e){return e.toUpperCase()}));te["trigger"+n]=function(t){var n=[];return n.push(t),n.push(e),Array.prototype.push.apply(n,Array.prototype.slice.call(arguments,1)),te.zeptoTrigger.apply(te,n)}})),te.triggerTorchRemote=function(e,t){return h.Observable.create((function(n){(0,d.default)(e).trigger("torchRemote",[t,function(){n.error.apply(n,arguments)},function(){n.next.apply(n,arguments),n.complete()}])})).pipe(x).toPromise()},te.triggerZoomRemote=function(e,t){return h.Observable.create((function(n){(0,d.default)(e).trigger("zoomRemote",[t,function(){n.error.apply(n,arguments)},function(){n.next.apply(n,arguments),n.complete()}])})).pipe(x).toPromise()},te.triggerSubscribe=function(e,t,n){return h.Observable.create((function(r){(0,d.default)(e).trigger("subscribe",[t,n,function(){r.error.apply(r,arguments)},function(){r.next.apply(r,arguments),r.complete()}])})).pipe(x).toPromise()},te.triggerRemoteControl=function(e,t,n,r,i,o,s,a){(0,d.default)(e).trigger("remoteControl",[t,n,r,i,o,s,a])},te.triggerCaptureVideo=function(e,t,n){return h.Observable.create((function(r){(0,d.default)(e).trigger("captureVideo",[function(){r.next.apply(r,arguments),r.complete()},t,n])})).pipe(x).toPromise()};var ne=t.single=te},function(e,t,n){"use strict";n.r(t);var r=n(170);n.d(t,"Observable",(function(){return r["Observable"]}));var i=n(187);n.d(t,"ConnectableObservable",(function(){return i["ConnectableObservable"]}));var o=n(192);n.d(t,"GroupedObservable",(function(){return o["GroupedObservable"]}));var s=n(184);n.d(t,"observable",(function(){return s["observable"]}));var a=n(188);n.d(t,"Subject",(function(){return a["Subject"]}));var c=n(193);n.d(t,"BehaviorSubject",(function(){return c["BehaviorSubject"]}));var u=n(194);n.d(t,"ReplaySubject",(function(){return u["ReplaySubject"]}));var l=n(211);n.d(t,"AsyncSubject",(function(){return l["AsyncSubject"]}));var d=n(212);n.d(t,"asapScheduler",(function(){return d["asap"]}));var f=n(216);n.d(t,"asyncScheduler",(function(){return f["async"]}));var p=n(195);n.d(t,"queueScheduler",(function(){return p["queue"]}));var h=n(217);n.d(t,"animationFrameScheduler",(function(){return h["animationFrame"]}));var m=n(220);n.d(t,"VirtualTimeScheduler",(function(){return m["VirtualTimeScheduler"]})),n.d(t,"VirtualAction",(function(){return m["VirtualAction"]}));var v=n(201);n.d(t,"Scheduler",(function(){return v["Scheduler"]}));var b=n(178);n.d(t,"Subscription",(function(){return b["Subscription"]}));var y=n(172);n.d(t,"Subscriber",(function(){return y["Subscriber"]}));var g=n(203);n.d(t,"Notification",(function(){return g["Notification"]})),n.d(t,"NotificationKind",(function(){return g["NotificationKind"]}));var _=n(185);n.d(t,"pipe",(function(){return _["pipe"]}));var S=n(186);n.d(t,"noop",(function(){return S["noop"]}));var w=n(221);n.d(t,"identity",(function(){return w["identity"]}));var x=n(222);n.d(t,"isObservable",(function(){return x["isObservable"]}));var C=n(223);n.d(t,"ArgumentOutOfRangeError",(function(){return C["ArgumentOutOfRangeError"]}));var O=n(224);n.d(t,"EmptyError",(function(){return O["EmptyError"]}));var T=n(189);n.d(t,"ObjectUnsubscribedError",(function(){return T["ObjectUnsubscribedError"]}));var E=n(181);n.d(t,"UnsubscriptionError",(function(){return E["UnsubscriptionError"]}));var I=n(225);n.d(t,"TimeoutError",(function(){return I["TimeoutError"]}));var k=n(226);n.d(t,"bindCallback",(function(){return k["bindCallback"]}));var R=n(228);n.d(t,"bindNodeCallback",(function(){return R["bindNodeCallback"]}));var P=n(229);n.d(t,"combineLatest",(function(){return P["combineLatest"]}));var M=n(240);n.d(t,"concat",(function(){return M["concat"]}));var A=n(251);n.d(t,"defer",(function(){return A["defer"]}));var j=n(204);n.d(t,"empty",(function(){return j["empty"]}));var N=n(252);n.d(t,"forkJoin",(function(){return N["forkJoin"]}));var D=n(244);n.d(t,"from",(function(){return D["from"]}));var B=n(253);n.d(t,"fromEvent",(function(){return B["fromEvent"]}));var L=n(254);n.d(t,"fromEventPattern",(function(){return L["fromEventPattern"]}));var F=n(255);n.d(t,"generate",(function(){return F["generate"]}));var V=n(256);n.d(t,"iif",(function(){return V["iif"]}));var U=n(257);n.d(t,"interval",(function(){return U["interval"]}));var $=n(259);n.d(t,"merge",(function(){return $["merge"]}));var W=n(260);n.d(t,"never",(function(){return W["never"]}));var z=n(205);n.d(t,"of",(function(){return z["of"]}));var H=n(261);n.d(t,"onErrorResumeNext",(function(){return H["onErrorResumeNext"]}));var G=n(262);n.d(t,"pairs",(function(){return G["pairs"]}));var q=n(263);n.d(t,"partition",(function(){return q["partition"]}));var K=n(266);n.d(t,"race",(function(){return K["race"]}));var Y=n(267);n.d(t,"range",(function(){return Y["range"]}));var J=n(210);n.d(t,"throwError",(function(){return J["throwError"]}));var X=n(268);n.d(t,"timer",(function(){return X["timer"]}));var Z=n(269);n.d(t,"using",(function(){return Z["using"]}));var Q=n(270);n.d(t,"zip",(function(){return Q["zip"]}));var ee=n(245);n.d(t,"scheduled",(function(){return ee["scheduled"]})),n.d(t,"EMPTY",(function(){return j["EMPTY"]})),n.d(t,"NEVER",(function(){return W["NEVER"]}));var te=n(176);n.d(t,"config",(function(){return te["config"]}))},function(e,t,n){"use strict";n.r(t),n.d(t,"Observable",(function(){return c}));var r=n(171),i=n(183),o=n(184),s=n(185),a=n(176),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=Object(i["toSubscriber"])(e,t,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||a["config"].useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a["config"].useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){a["config"].useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Object(r["canReportError"])(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return t=u(t),new t((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o["observable"]]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Object(s["pipeFromArray"])(e)(this)},e.prototype.toPromise=function(e){var t=this;return e=u(e),new e((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function u(e){if(e||(e=a["config"].Promise||Promise),!e)throw new Error("no Promise impl found");return e}},function(e,t,n){"use strict";n.r(t),n.d(t,"canReportError",(function(){return i}));var r=n(172);function i(e){while(e){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r["Subscriber"]?i:null}return!0}},function(e,t,n){"use strict";n.r(t),n.d(t,"Subscriber",(function(){return l})),n.d(t,"SafeSubscriber",(function(){return d}));var r=n(173),i=n(174),o=n(175),s=n(178),a=n(182),c=n(176),u=n(177),l=function(e){function t(n,r,i){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o["empty"];break;case 1:if(!n){s.destination=o["empty"];break}if("object"===typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new d(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new d(s,n,r,i);break}return s}return r["__extends"](t,e),t.prototype[a["rxSubscriber"]]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s["Subscription"]),d=function(e){function t(t,n,r,s){var a,c=e.call(this)||this;c._parentSubscriber=t;var u=c;return Object(i["isFunction"])(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==o["empty"]&&(u=Object.create(n),Object(i["isFunction"])(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=a,c._error=r,c._complete=s,c}return r["__extends"](t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c["config"].useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c["config"].useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(u["hostReportError"])(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(u["hostReportError"])(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c["config"].useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),c["config"].useDeprecatedSynchronousErrorHandling)throw n;Object(u["hostReportError"])(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c["config"].useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return c["config"].useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(u["hostReportError"])(r),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l)},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return s})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return d})),n.d(t,"__exportStar",(function(){return f})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return h})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return v})),n.d(t,"__await",(function(){return b})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return g})),n.d(t,"__asyncValues",(function(){return _})),n.d(t,"__makeTemplateObject",(function(){return S})),n.d(t,"__importStar",(function(){return w})),n.d(t,"__importDefault",(function(){return x}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r["throw"](e))}catch(t){o(t)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function f(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function h(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{c(i[e](t))}catch(n){d(o[0][3],n)}}function c(e){e.value instanceof b?Promise.resolve(e.value.v).then(u,l):d(o[0][2],e)}function u(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function g(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"===typeof p?p(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){t=e[n](t),i(r,o,t.done,t.value)}))}}function i(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";function r(e){return"function"===typeof e}n.r(t),n.d(t,"isFunction",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"empty",(function(){return o}));var r=n(176),i=n(177),o={closed:!0,next:function(e){},error:function(e){if(r["config"].useDeprecatedSynchronousErrorHandling)throw e;Object(i["hostReportError"])(e)},complete:function(){}}},function(e,t,n){"use strict";n.r(t),n.d(t,"config",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;t.stack}r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}),0)}n.r(t),n.d(t,"hostReportError",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"Subscription",(function(){return a}));var r=n(179),i=n(180),o=n(174),s=n(181),a=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,a=n._parentOrParents,u=n._unsubscribe,l=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof e)a.remove(this);else if(null!==a)for(var d=0;d<a.length;++d){var f=a[d];f.remove(this)}if(Object(o["isFunction"])(u))try{u.call(this)}catch(m){t=m instanceof s["UnsubscriptionError"]?c(m.errors):[m]}if(Object(r["isArray"])(l)){d=-1;var p=l.length;while(++d<p){var h=l[d];if(Object(i["isObject"])(h))try{h.unsubscribe()}catch(m){t=t||[],m instanceof s["UnsubscriptionError"]?t=t.concat(c(m.errors)):t.push(m)}}}if(t)throw new s["UnsubscriptionError"](t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!==typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;n=new e,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function c(e){return e.reduce((function(e,t){return e.concat(t instanceof s["UnsubscriptionError"]?t.errors:t)}),[])}},function(e,t,n){"use strict";n.r(t),n.d(t,"isArray",(function(){return r}));var r=function(){return Array.isArray||function(e){return e&&"number"===typeof e.length}}()},function(e,t,n){"use strict";function r(e){return null!==e&&"object"===typeof e}n.r(t),n.d(t,"isObject",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"UnsubscriptionError",(function(){return i}));var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),i=r},function(e,t,n){"use strict";n.r(t),n.d(t,"rxSubscriber",(function(){return r})),n.d(t,"$$rxSubscriber",(function(){return i}));var r=function(){return"function"===typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),i=r},function(e,t,n){"use strict";n.r(t),n.d(t,"toSubscriber",(function(){return s}));var r=n(172),i=n(182),o=n(175);function s(e,t,n){if(e){if(e instanceof r["Subscriber"])return e;if(e[i["rxSubscriber"]])return e[i["rxSubscriber"]]()}return e||t||n?new r["Subscriber"](e,t,n):new r["Subscriber"](o["empty"])}},function(e,t,n){"use strict";n.r(t),n.d(t,"observable",(function(){return r}));var r=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}()},function(e,t,n){"use strict";n.r(t),n.d(t,"pipe",(function(){return i})),n.d(t,"pipeFromArray",(function(){return o}));var r=n(186);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)}function o(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:r["noop"]}},function(e,t,n){"use strict";function r(){}n.r(t),n.d(t,"noop",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"ConnectableObservable",(function(){return u})),n.d(t,"connectableObservableDescriptor",(function(){return l}));var r=n(173),i=n(188),o=n(170),s=n(172),a=n(178),c=n(191),u=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r["__extends"](t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,e=this._connection=new a["Subscription"],e.add(this.source.subscribe(new d(this.getSubject(),this))),e.closed&&(this._connection=null,e=a["Subscription"].EMPTY)),e},t.prototype.refCount=function(){return Object(c["refCount"])()(this)},t}(o["Observable"]),l=function(){var e=u.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r["__extends"](t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i["SubjectSubscriber"]);s["Subscriber"]},function(e,t,n){"use strict";n.r(t),n.d(t,"SubjectSubscriber",(function(){return l})),n.d(t,"Subject",(function(){return d})),n.d(t,"AnonymousSubject",(function(){return f}));var r=n(173),i=n(170),o=n(172),s=n(178),a=n(189),c=n(190),u=n(182),l=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r["__extends"](t,e),t}(o["Subscriber"]),d=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r["__extends"](t,e),t.prototype[u["rxSubscriber"]]=function(){return new l(this)},t.prototype.lift=function(e){var t=new f(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a["ObjectUnsubscribedError"];if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new a["ObjectUnsubscribedError"];this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a["ObjectUnsubscribedError"];this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a["ObjectUnsubscribedError"];return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a["ObjectUnsubscribedError"];return this.hasError?(e.error(this.thrownError),s["Subscription"].EMPTY):this.isStopped?(e.complete(),s["Subscription"].EMPTY):(this.observers.push(e),new c["SubjectSubscription"](this,e))},t.prototype.asObservable=function(){var e=new i["Observable"];return e.source=this,e},t.create=function(e,t){return new f(e,t)},t}(i["Observable"]),f=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r["__extends"](t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){var t=this.source;return t?this.source.subscribe(e):s["Subscription"].EMPTY},t}(d)},function(e,t,n){"use strict";n.r(t),n.d(t,"ObjectUnsubscribedError",(function(){return i}));var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),i=r},function(e,t,n){"use strict";n.r(t),n.d(t,"SubjectSubscription",(function(){return o}));var r=n(173),i=n(178),o=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r["__extends"](t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(i["Subscription"])},function(e,t,n){"use strict";n.r(t),n.d(t,"refCount",(function(){return o}));var r=n(173),i=n(172);function o(){return function(e){return e.lift(new s(e))}}var s=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new a(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r["__extends"](t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"groupBy",(function(){return c})),n.d(t,"GroupedObservable",(function(){return f}));var r=n(173),i=n(172),o=n(178),s=n(170),a=n(188);function c(e,t,n,r){return function(i){return i.lift(new u(e,t,n,r))}}var u=function(){function e(e,t,n,r){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),l=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.keySelector=n,s.elementSelector=r,s.durationSelector=i,s.subjectSelector=o,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return r["__extends"](t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(n){return void this.error(n)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(c){this.error(c)}else r=e;if(!i){i=this.subjectSelector?this.subjectSelector():new a["Subject"],n.set(t,i);var o=new f(t,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new f(t,i))}catch(c){return void this.error(c)}this.add(s.subscribe(new d(t,i,this)))}}i.closed||i.next(r)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,n){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(i["Subscriber"]),d=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.key=t,i.group=n,i.parent=r,i}return r["__extends"](t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this,t=e.parent,n=e.key;this.key=this.parent=null,t&&t.removeGroup(n)},t}(i["Subscriber"]),f=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.groupSubject=n,i.refCountSubscription=r,i}return r["__extends"](t,e),t.prototype._subscribe=function(e){var t=new o["Subscription"],n=this,r=n.refCountSubscription,i=n.groupSubject;return r&&!r.closed&&t.add(new p(r)),t.add(i.subscribe(e)),t},t}(s["Observable"]),p=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return r["__extends"](t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o["Subscription"])},function(e,t,n){"use strict";n.r(t),n.d(t,"BehaviorSubject",(function(){return s}));var r=n(173),i=n(188),o=n(189),s=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r["__extends"](t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o["ObjectUnsubscribedError"];return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i["Subject"])},function(e,t,n){"use strict";n.r(t),n.d(t,"ReplaySubject",(function(){return l}));var r=n(173),i=n(188),o=n(195),s=n(178),a=n(202),c=n(189),u=n(190),l=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r["__extends"](t,e),t.prototype.nextInfiniteTimeWindow=function(t){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new d(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new c["ObjectUnsubscribedError"];if(this.isStopped||this.hasError?t=s["Subscription"].EMPTY:(this.observers.push(e),t=new u["SubjectSubscription"](this,e)),i&&e.add(e=new a["ObserveOnSubscriber"](e,i)),n)for(var l=0;l<o&&!e.closed;l++)e.next(r[l]);else for(l=0;l<o&&!e.closed;l++)e.next(r[l].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o["queue"]).now()},t.prototype._trimBufferThenGetEvents=function(){var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;while(o<i){if(e-r[o].time<n)break;o++}return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(i["Subject"]),d=function(){function e(e,t){this.time=e,this.value=t}return e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"queue",(function(){return o}));var r=n(196),i=n(199),o=new i["QueueScheduler"](r["QueueAction"])},function(e,t,n){"use strict";n.r(t),n.d(t,"QueueAction",(function(){return o}));var r=n(173),i=n(197),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r["__extends"](t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(i["AsyncAction"])},function(e,t,n){"use strict";n.r(t),n.d(t,"AsyncAction",(function(){return o}));var r=n(173),i=n(198),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r["__extends"](t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(i["Action"])},function(e,t,n){"use strict";n.r(t),n.d(t,"Action",(function(){return o}));var r=n(173),i=n(178),o=function(e){function t(t,n){return e.call(this)||this}return r["__extends"](t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(i["Subscription"])},function(e,t,n){"use strict";n.r(t),n.d(t,"QueueScheduler",(function(){return o}));var r=n(173),i=n(200),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r["__extends"](t,e),t}(i["AsyncScheduler"])},function(e,t,n){"use strict";n.r(t),n.d(t,"AsyncScheduler",(function(){return o}));var r=n(173),i=n(201),o=function(e){function t(n,r){void 0===r&&(r=i["Scheduler"].now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r["__extends"](t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){while(e=t.shift())e.unsubscribe();throw n}}},t}(i["Scheduler"])},function(e,t,n){"use strict";n.r(t),n.d(t,"Scheduler",(function(){return r}));var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"observeOn",(function(){return s})),n.d(t,"ObserveOnOperator",(function(){return a})),n.d(t,"ObserveOnSubscriber",(function(){return c})),n.d(t,"ObserveOnMessage",(function(){return u}));var r=n(173),i=n(172),o=n(203);function s(e,t){return void 0===t&&(t=0),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.scheduler,this.delay))},e}(),c=function(e){function t(t,n,r){void 0===r&&(r=0);var i=e.call(this,t)||this;return i.scheduler=n,i.delay=r,i}return r["__extends"](t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){var n=this.destination;n.add(this.scheduler.schedule(t.dispatch,this.delay,new u(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(o["Notification"].createNext(e))},t.prototype._error=function(e){this.scheduleMessage(o["Notification"].createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(o["Notification"].createComplete()),this.unsubscribe()},t}(i["Subscriber"]),u=function(){function e(e,t){this.notification=e,this.destination=t}return e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"NotificationKind",(function(){return r})),n.d(t,"Notification",(function(){return a}));var r,i=n(204),o=n(205),s=n(210);r||(r={});var a=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){var r=this.kind;switch(r){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"===typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Object(o["of"])(this.value);case"E":return Object(s["throwError"])(this.error);case"C":return Object(i["empty"])()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return"undefined"!==typeof t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"EMPTY",(function(){return i})),n.d(t,"empty",(function(){return o}));var r=n(170),i=new r["Observable"]((function(e){return e.complete()}));function o(e){return e?s(e):i}function s(e){return new r["Observable"]((function(t){return e.schedule((function(){return t.complete()}))}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"of",(function(){return s}));var r=n(206),i=n(207),o=n(209);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Object(r["isScheduler"])(n)?(e.pop(),Object(o["scheduleArray"])(e,n)):Object(i["fromArray"])(e)}},function(e,t,n){"use strict";function r(e){return e&&"function"===typeof e.schedule}n.r(t),n.d(t,"isScheduler",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"fromArray",(function(){return s}));var r=n(170),i=n(208),o=n(209);function s(e,t){return t?Object(o["scheduleArray"])(e,t):new r["Observable"](Object(i["subscribeToArray"])(e))}},function(e,t,n){"use strict";n.r(t),n.d(t,"subscribeToArray",(function(){return r}));var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},function(e,t,n){"use strict";n.r(t),n.d(t,"scheduleArray",(function(){return o}));var r=n(170),i=n(178);function o(e,t){return new r["Observable"]((function(n){var r=new i["Subscription"],o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"throwError",(function(){return i}));var r=n(170);function i(e,t){return t?new r["Observable"]((function(n){return t.schedule(o,0,{error:e,subscriber:n})})):new r["Observable"]((function(t){return t.error(e)}))}function o(e){var t=e.error,n=e.subscriber;n.error(t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"AsyncSubject",(function(){return s}));var r=n(173),i=n(188),o=n(178),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return r["__extends"](t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),o["Subscription"].EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),o["Subscription"].EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(i["Subject"])},function(e,t,n){"use strict";n.r(t),n.d(t,"asap",(function(){return o}));var r=n(213),i=n(215),o=new i["AsapScheduler"](r["AsapAction"])},function(e,t,n){"use strict";n.r(t),n.d(t,"AsapAction",(function(){return s}));var r=n(173),i=n(214),o=n(197),s=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r["__extends"](t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=i["Immediate"].setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(i["Immediate"].clearImmediate(n),t.scheduled=void 0)},t}(o["AsyncAction"])},function(e,t,n){"use strict";n.r(t),n.d(t,"Immediate",(function(){return s}));var r=1,i={};function o(e){var t=i[e];t&&t()}var s={setImmediate:function(e){var t=r++;return i[t]=e,Promise.resolve().then((function(){return o(t)})),t},clearImmediate:function(e){delete i[e]}}},function(e,t,n){"use strict";n.r(t),n.d(t,"AsapScheduler",(function(){return o}));var r=n(173),i=n(200),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r["__extends"](t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){while(++r<i&&(e=n.shift()))e.unsubscribe();throw t}},t}(i["AsyncScheduler"])},function(e,t,n){"use strict";n.r(t),n.d(t,"async",(function(){return o}));var r=n(197),i=n(200),o=new i["AsyncScheduler"](r["AsyncAction"])},function(e,t,n){"use strict";n.r(t),n.d(t,"animationFrame",(function(){return o}));var r=n(218),i=n(219),o=new i["AnimationFrameScheduler"](r["AnimationFrameAction"])},function(e,t,n){"use strict";n.r(t),n.d(t,"AnimationFrameAction",(function(){return o}));var r=n(173),i=n(197),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r["__extends"](t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(i["AsyncAction"])},function(e,t,n){"use strict";n.r(t),n.d(t,"AnimationFrameScheduler",(function(){return o}));var r=n(173),i=n(200),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r["__extends"](t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){while(++r<i&&(e=n.shift()))e.unsubscribe();throw t}},t}(i["AsyncScheduler"])},function(e,t,n){"use strict";n.r(t),n.d(t,"VirtualTimeScheduler",(function(){return s})),n.d(t,"VirtualAction",(function(){return a}));var r=n(173),i=n(197),o=n(200),s=function(e){function t(t,n){void 0===t&&(t=a),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return r["__extends"](t,e),t.prototype.flush=function(){var e,t,n=this,r=n.actions,i=n.maxFrames;while((t=r[0])&&t.delay<=i)if(r.shift(),this.frame=t.delay,e=t.execute(t.state,t.delay))break;if(e){while(t=r.shift())t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(o["AsyncScheduler"]),a=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.index=r,i.active=!0,i.index=t.index=r,i}return r["__extends"](t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(i["AsyncAction"])},function(e,t,n){"use strict";function r(e){return e}n.r(t),n.d(t,"identity",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"isObservable",(function(){return i}));var r=n(170);function i(e){return!!e&&(e instanceof r["Observable"]||"function"===typeof e.lift&&"function"===typeof e.subscribe)}},function(e,t,n){"use strict";n.r(t),n.d(t,"ArgumentOutOfRangeError",(function(){return i}));var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),i=r},function(e,t,n){"use strict";n.r(t),n.d(t,"EmptyError",(function(){return i}));var r=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),i=r},function(e,t,n){"use strict";n.r(t),n.d(t,"TimeoutError",(function(){return i}));var r=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),i=r},function(e,t,n){"use strict";n.r(t),n.d(t,"bindCallback",(function(){return u}));var r=n(170),i=n(211),o=n(227),s=n(171),a=n(179),c=n(206);function u(e,t,n){if(t){if(!Object(c["isScheduler"])(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return u(e,n).apply(void 0,r).pipe(Object(o["map"])((function(e){return Object(a["isArray"])(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var a,c=this,u={context:c,subject:a,callbackFunc:e,scheduler:n};return new r["Observable"]((function(r){if(n){var o={args:t,subscriber:r,params:u};return n.schedule(l,0,o)}if(!a){a=new i["AsyncSubject"];var d=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.next(e.length<=1?e[0]:e),a.complete()};try{e.apply(c,t.concat([d]))}catch(f){Object(s["canReportError"])(a)?a.error(f):console.warn(f)}}return a.subscribe(r)}))}}function l(e){var t=this,n=e.args,r=e.subscriber,o=e.params,s=o.callbackFunc,a=o.context,c=o.scheduler,u=o.subject;if(!u){u=o.subject=new i["AsyncSubject"];var l=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length<=1?e[0]:e;t.add(c.schedule(d,0,{value:r,subject:u}))};try{s.apply(a,n.concat([l]))}catch(f){u.error(f)}}this.add(u.subscribe(r))}function d(e){var t=e.value,n=e.subject;n.next(t),n.complete()}},function(e,t,n){"use strict";n.r(t),n.d(t,"map",(function(){return o})),n.d(t,"MapOperator",(function(){return s}));var r=n(173),i=n(172);function o(e,t){return function(n){if("function"!==typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r["__extends"](t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"bindNodeCallback",(function(){return u}));var r=n(170),i=n(211),o=n(227),s=n(171),a=n(206),c=n(179);function u(e,t,n){if(t){if(!Object(a["isScheduler"])(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return u(e,n).apply(void 0,r).pipe(Object(o["map"])((function(e){return Object(c["isArray"])(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var a={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new r["Observable"]((function(r){var o=a.context,c=a.subject;if(n)return n.schedule(l,0,{params:a,subscriber:r,context:o});if(!c){c=a.subject=new i["AsyncSubject"];var u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?c.error(n):(c.next(e.length<=1?e[0]:e),c.complete())};try{e.apply(o,t.concat([u]))}catch(d){Object(s["canReportError"])(c)?c.error(d):console.warn(d)}}return c.subscribe(r)}))}}function l(e){var t=this,n=e.params,r=e.subscriber,o=e.context,s=n.callbackFunc,a=n.args,c=n.scheduler,u=n.subject;if(!u){u=n.subject=new i["AsyncSubject"];var l=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.shift();if(r)t.add(c.schedule(f,0,{err:r,subject:u}));else{var i=e.length<=1?e[0]:e;t.add(c.schedule(d,0,{value:i,subject:u}))}};try{s.apply(o,a.concat([l]))}catch(p){this.add(c.schedule(f,0,{err:p,subject:u}))}}this.add(u.subscribe(r))}function d(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function f(e){var t=e.err,n=e.subject;n.error(t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"combineLatest",(function(){return l})),n.d(t,"CombineLatestOperator",(function(){return d})),n.d(t,"CombineLatestSubscriber",(function(){return f}));var r=n(173),i=n(206),o=n(179),s=n(230),a=n(231),c=n(207),u={};function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null,r=null;return Object(i["isScheduler"])(e[e.length-1])&&(r=e.pop()),"function"===typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(o["isArray"])(e[0])&&(e=e[0]),Object(c["fromArray"])(e,r).lift(new d(n))}var d=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.resultSelector))},e}(),f=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r["__extends"](t,e),t.prototype._next=function(e){this.values.push(u),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(a["subscribeToResult"])(this,r,r,n))}}},t.prototype.notifyComplete=function(e){0===(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.values,s=o[n],a=this.toRespond?s===u?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(s["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"OuterSubscriber",(function(){return o}));var r=n(173),i=n(172),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r["__extends"](t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"subscribeToResult",(function(){return s}));var r=n(232),i=n(233),o=n(170);function s(e,t,n,s,a){if(void 0===a&&(a=new r["InnerSubscriber"](e,n,s)),!a.closed)return t instanceof o["Observable"]?t.subscribe(a):Object(i["subscribeTo"])(t)(a)}},function(e,t,n){"use strict";n.r(t),n.d(t,"InnerSubscriber",(function(){return o}));var r=n(173),i=n(172),o=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r["__extends"](t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"subscribeTo",(function(){return f}));var r=n(208),i=n(234),o=n(235),s=n(237),a=n(238),c=n(239),u=n(180),l=n(236),d=n(184),f=function(e){if(e&&"function"===typeof e[d["observable"]])return Object(s["subscribeToObservable"])(e);if(Object(a["isArrayLike"])(e))return Object(r["subscribeToArray"])(e);if(Object(c["isPromise"])(e))return Object(i["subscribeToPromise"])(e);if(e&&"function"===typeof e[l["iterator"]])return Object(o["subscribeToIterable"])(e);var t=Object(u["isObject"])(e)?"an invalid object":"'"+e+"'",n="You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"subscribeToPromise",(function(){return i}));var r=n(177),i=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,r["hostReportError"]),t}}},function(e,t,n){"use strict";n.r(t),n.d(t,"subscribeToIterable",(function(){return i}));var r=n(236),i=function(e){return function(t){var n=e[r["iterator"]]();do{var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}while(1);return"function"===typeof n.return&&t.add((function(){n.return&&n.return()})),t}}},function(e,t,n){"use strict";function r(){return"function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.r(t),n.d(t,"getSymbolIterator",(function(){return r})),n.d(t,"iterator",(function(){return i})),n.d(t,"$$iterator",(function(){return o}));var i=r(),o=i},function(e,t,n){"use strict";n.r(t),n.d(t,"subscribeToObservable",(function(){return i}));var r=n(184),i=function(e){return function(t){var n=e[r["observable"]]();if("function"!==typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"isArrayLike",(function(){return r}));var r=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e}},function(e,t,n){"use strict";function r(e){return!!e&&"function"!==typeof e.subscribe&&"function"===typeof e.then}n.r(t),n.d(t,"isPromise",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"concat",(function(){return o}));var r=n(205),i=n(241);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(i["concatAll"])()(r["of"].apply(void 0,e))}},function(e,t,n){"use strict";n.r(t),n.d(t,"concatAll",(function(){return i}));var r=n(242);function i(){return Object(r["mergeAll"])(1)}},function(e,t,n){"use strict";n.r(t),n.d(t,"mergeAll",(function(){return o}));var r=n(243),i=n(221);function o(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Object(r["mergeMap"])(i["identity"],e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"mergeMap",(function(){return u})),n.d(t,"MergeMapOperator",(function(){return l})),n.d(t,"MergeMapSubscriber",(function(){return d}));var r=n(173),i=n(231),o=n(230),s=n(232),a=n(227),c=n(244);function u(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"===typeof t?function(r){return r.pipe(u((function(n,r){return Object(c["from"])(e(n,r)).pipe(Object(a["map"])((function(e,i){return t(n,e,r,i)})))}),n))}:("number"===typeof t&&(n=t),function(t){return t.lift(new l(e,n))})}var l=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.project,this.concurrent))},e}(),d=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r["__extends"](t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new s["InnerSubscriber"](this,void 0,void 0),o=this.destination;o.add(r),Object(i["subscribeToResult"])(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"from",(function(){return s}));var r=n(170),i=n(233),o=n(245);function s(e,t){return t?Object(o["scheduled"])(e,t):e instanceof r["Observable"]?e:new r["Observable"](Object(i["subscribeTo"])(e))}},function(e,t,n){"use strict";n.r(t),n.d(t,"scheduled",(function(){return d}));var r=n(246),i=n(247),o=n(209),s=n(248),a=n(249),c=n(239),u=n(238),l=n(250);function d(e,t){if(null!=e){if(Object(a["isInteropObservable"])(e))return Object(r["scheduleObservable"])(e,t);if(Object(c["isPromise"])(e))return Object(i["schedulePromise"])(e,t);if(Object(u["isArrayLike"])(e))return Object(o["scheduleArray"])(e,t);if(Object(l["isIterable"])(e)||"string"===typeof e)return Object(s["scheduleIterable"])(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},function(e,t,n){"use strict";n.r(t),n.d(t,"scheduleObservable",(function(){return s}));var r=n(170),i=n(178),o=n(184);function s(e,t){return new r["Observable"]((function(n){var r=new i["Subscription"];return r.add(t.schedule((function(){var i=e[o["observable"]]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"schedulePromise",(function(){return o}));var r=n(170),i=n(178);function o(e,t){return new r["Observable"]((function(n){var r=new i["Subscription"];return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"scheduleIterable",(function(){return s}));var r=n(170),i=n(178),o=n(236);function s(e,t){if(!e)throw new Error("Iterable cannot be null");return new r["Observable"]((function(n){var r,s=new i["Subscription"];return s.add((function(){r&&"function"===typeof r.return&&r.return()})),s.add(t.schedule((function(){r=e[o["iterator"]](),s.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),s}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"isInteropObservable",(function(){return i}));var r=n(184);function i(e){return e&&"function"===typeof e[r["observable"]]}},function(e,t,n){"use strict";n.r(t),n.d(t,"isIterable",(function(){return i}));var r=n(236);function i(e){return e&&"function"===typeof e[r["iterator"]]}},function(e,t,n){"use strict";n.r(t),n.d(t,"defer",(function(){return s}));var r=n(170),i=n(244),o=n(204);function s(e){return new r["Observable"]((function(t){var n;try{n=e()}catch(s){return void t.error(s)}var r=n?Object(i["from"])(n):Object(o["empty"])();return r.subscribe(t)}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"forkJoin",(function(){return c}));var r=n(170),i=n(179),o=n(227),s=n(180),a=n(244);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(Object(i["isArray"])(n))return u(n,null);if(Object(s["isObject"])(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return u(r.map((function(e){return n[e]})),r)}}if("function"===typeof e[e.length-1]){var a=e.pop();return e=1===e.length&&Object(i["isArray"])(e[0])?e[0]:e,u(e,null).pipe(Object(o["map"])((function(e){return a.apply(void 0,e)})))}return u(e,null)}function u(e,t){return new r["Observable"]((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,s=0,c=function(c){var u=Object(a["from"])(e[c]),l=!1;n.add(u.subscribe({next:function(e){l||(l=!0,s++),i[c]=e},error:function(e){return n.error(e)},complete:function(){o++,o!==r&&l||(s===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},u=0;u<r;u++)c(u);else n.complete()}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"fromEvent",(function(){return a}));var r=n(170),i=n(179),o=n(174),s=n(227);function a(e,t,n,u){return Object(o["isFunction"])(n)&&(u=n,n=void 0),u?a(e,t,n).pipe(Object(s["map"])((function(e){return Object(i["isArray"])(e)?u.apply(void 0,e):u(e)}))):new r["Observable"]((function(r){function i(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}c(e,t,i,r,n)}))}function c(e,t,n,r,i){var o;if(d(e)){var s=e;e.addEventListener(t,n,i),o=function(){return s.removeEventListener(t,n,i)}}else if(l(e)){var a=e;e.on(t,n),o=function(){return a.off(t,n)}}else if(u(e)){var f=e;e.addListener(t,n),o=function(){return f.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var p=0,h=e.length;p<h;p++)c(e[p],t,n,r,i)}r.add(o)}function u(e){return e&&"function"===typeof e.addListener&&"function"===typeof e.removeListener}function l(e){return e&&"function"===typeof e.on&&"function"===typeof e.off}function d(e){return e&&"function"===typeof e.addEventListener&&"function"===typeof e.removeEventListener}},function(e,t,n){"use strict";n.r(t),n.d(t,"fromEventPattern",(function(){return a}));var r=n(170),i=n(179),o=n(174),s=n(227);function a(e,t,n){return n?a(e,t).pipe(Object(s["map"])((function(e){return Object(i["isArray"])(e)?n.apply(void 0,e):n(e)}))):new r["Observable"]((function(n){var r,i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{r=e(i)}catch(s){return void n.error(s)}if(Object(o["isFunction"])(t))return function(){return t(i,r)}}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"generate",(function(){return s}));var r=n(170),i=n(221),o=n(206);function s(e,t,n,s,c){var u,l;if(1==arguments.length){var d=e;l=d.initialState,t=d.condition,n=d.iterate,u=d.resultSelector||i["identity"],c=d.scheduler}else void 0===s||Object(o["isScheduler"])(s)?(l=e,u=i["identity"],c=s):(l=e,u=s);return new r["Observable"]((function(e){var r=l;if(c)return c.schedule(a,0,{subscriber:e,iterate:n,condition:t,resultSelector:u,state:r});do{if(t){var i=void 0;try{i=t(r)}catch(s){return void e.error(s)}if(!i){e.complete();break}}var o=void 0;try{o=u(r)}catch(s){return void e.error(s)}if(e.next(o),e.closed)break;try{r=n(r)}catch(s){return void e.error(s)}}while(1)}))}function a(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(o){return void t.error(o)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(o){return void t.error(o)}if(!r)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(o){return void t.error(o)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"iif",(function(){return o}));var r=n(251),i=n(204);function o(e,t,n){return void 0===t&&(t=i["EMPTY"]),void 0===n&&(n=i["EMPTY"]),Object(r["defer"])((function(){return e()?t:n}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"interval",(function(){return s}));var r=n(170),i=n(216),o=n(258);function s(e,t){return void 0===e&&(e=0),void 0===t&&(t=i["async"]),(!Object(o["isNumeric"])(e)||e<0)&&(e=0),t&&"function"===typeof t.schedule||(t=i["async"]),new r["Observable"]((function(n){return n.add(t.schedule(a,e,{subscriber:n,counter:0,period:e})),n}))}function a(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}},function(e,t,n){"use strict";n.r(t),n.d(t,"isNumeric",(function(){return i}));var r=n(179);function i(e){return!Object(r["isArray"])(e)&&e-parseFloat(e)+1>=0}},function(e,t,n){"use strict";n.r(t),n.d(t,"merge",(function(){return a}));var r=n(170),i=n(206),o=n(242),s=n(207);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,a=null,c=e[e.length-1];return Object(i["isScheduler"])(c)?(a=e.pop(),e.length>1&&"number"===typeof e[e.length-1]&&(n=e.pop())):"number"===typeof c&&(n=e.pop()),null===a&&1===e.length&&e[0]instanceof r["Observable"]?e[0]:Object(o["mergeAll"])(n)(Object(s["fromArray"])(e,a))}},function(e,t,n){"use strict";n.r(t),n.d(t,"NEVER",(function(){return o})),n.d(t,"never",(function(){return s}));var r=n(170),i=n(186),o=new r["Observable"](i["noop"]);function s(){return o}},function(e,t,n){"use strict";n.r(t),n.d(t,"onErrorResumeNext",(function(){return a}));var r=n(170),i=n(244),o=n(179),s=n(204);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return s["EMPTY"];var n=e[0],c=e.slice(1);return 1===e.length&&Object(o["isArray"])(n)?a.apply(void 0,n):new r["Observable"]((function(e){var t=function(){return e.add(a.apply(void 0,c).subscribe(e))};return Object(i["from"])(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"pairs",(function(){return o})),n.d(t,"dispatch",(function(){return s}));var r=n(170),i=n(178);function o(e,t){return t?new r["Observable"]((function(n){var r=Object.keys(e),o=new i["Subscription"];return o.add(t.schedule(s,0,{keys:r,index:0,subscriber:n,subscription:o,obj:e})),o})):new r["Observable"]((function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var i=n[r];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()}))}function s(e){var t=e.keys,n=e.index,r=e.subscriber,i=e.subscription,o=e.obj;if(!r.closed)if(n<t.length){var s=t[n];r.next([s,o[s]]),i.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}},function(e,t,n){"use strict";n.r(t),n.d(t,"partition",(function(){return a}));var r=n(264),i=n(233),o=n(265),s=n(170);function a(e,t,n){return[Object(o["filter"])(t,n)(new s["Observable"](Object(i["subscribeTo"])(e))),Object(o["filter"])(Object(r["not"])(t,n))(new s["Observable"](Object(i["subscribeTo"])(e)))]}},function(e,t,n){"use strict";function r(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}n.r(t),n.d(t,"not",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"filter",(function(){return o}));var r=n(173),i=n(172);function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r["__extends"](t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"race",(function(){return c})),n.d(t,"RaceOperator",(function(){return u})),n.d(t,"RaceSubscriber",(function(){return l}));var r=n(173),i=n(179),o=n(207),s=n(230),a=n(231);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!Object(i["isArray"])(e[0]))return e[0];e=e[0]}return Object(o["fromArray"])(e,void 0).lift(new u)}var u=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new l(e))},e}(),l=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r["__extends"](t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=Object(a["subscribeToResult"])(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(t)},t}(s["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"range",(function(){return i})),n.d(t,"dispatch",(function(){return o}));var r=n(170);function i(e,t,n){return void 0===e&&(e=0),new r["Observable"]((function(r){void 0===t&&(t=e,e=0);var i=0,s=e;if(n)return n.schedule(o,0,{index:i,count:t,start:e,subscriber:r});do{if(i++>=t){r.complete();break}if(r.next(s++),r.closed)break}while(1)}))}function o(e){var t=e.start,n=e.index,r=e.count,i=e.subscriber;n>=r?i.complete():(i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}},function(e,t,n){"use strict";n.r(t),n.d(t,"timer",(function(){return a}));var r=n(170),i=n(216),o=n(258),s=n(206);function a(e,t,n){void 0===e&&(e=0);var a=-1;return Object(o["isNumeric"])(t)?a=Number(t)<1?1:Number(t):Object(s["isScheduler"])(t)&&(n=t),Object(s["isScheduler"])(n)||(n=i["async"]),new r["Observable"]((function(t){var r=Object(o["isNumeric"])(e)?e:+e-n.now();return n.schedule(c,r,{index:0,period:a,subscriber:t})}))}function c(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"using",(function(){return s}));var r=n(170),i=n(244),o=n(204);function s(e,t){return new r["Observable"]((function(n){var r,s;try{r=e()}catch(u){return void n.error(u)}try{s=t(r)}catch(u){return void n.error(u)}var a=s?Object(i["from"])(s):o["EMPTY"],c=a.subscribe(n);return function(){c.unsubscribe(),r&&r.unsubscribe()}}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"zip",(function(){return l})),n.d(t,"ZipOperator",(function(){return d})),n.d(t,"ZipSubscriber",(function(){return f}));var r=n(173),i=n(207),o=n(179),s=n(172),a=n(230),c=n(231),u=n(236);function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"===typeof n&&e.pop(),Object(i["fromArray"])(e,void 0).lift(new d(n))}var d=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.resultSelector))},e}(),f=function(e){function t(t,n,r){void 0===r&&(r=Object.create(null));var i=e.call(this,t)||this;return i.iterators=[],i.active=0,i.resultSelector="function"===typeof n?n:null,i.values=r,i}return r["__extends"](t,e),t.prototype._next=function(e){var t=this.iterators;Object(o["isArray"])(e)?t.push(new h(e)):"function"===typeof e[u["iterator"]]?t.push(new p(e[u["iterator"]]())):t.push(new m(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];if(r.stillUnsubscribed){var i=this.destination;i.add(r.subscribe(r,n))}else this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){var i=e[r];if("function"===typeof i.hasValue&&!i.hasValue())return}var o=!1,s=[];for(r=0;r<t;r++){i=e[r];var a=i.next();if(i.hasCompleted()&&(o=!0),a.done)return void n.complete();s.push(a.value)}this.resultSelector?this._tryresultSelector(s):n.next(s),o&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(s["Subscriber"]),p=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),h=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[u["iterator"]]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),m=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return r["__extends"](t,e),t.prototype[u["iterator"]]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return Object(c["subscribeToResult"])(this,this.observable,this,t)},t}(a["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t);var r=n(272);n.d(t,"audit",(function(){return r["audit"]}));var i=n(273);n.d(t,"auditTime",(function(){return i["auditTime"]}));var o=n(274);n.d(t,"buffer",(function(){return o["buffer"]}));var s=n(275);n.d(t,"bufferCount",(function(){return s["bufferCount"]}));var a=n(276);n.d(t,"bufferTime",(function(){return a["bufferTime"]}));var c=n(277);n.d(t,"bufferToggle",(function(){return c["bufferToggle"]}));var u=n(278);n.d(t,"bufferWhen",(function(){return u["bufferWhen"]}));var l=n(279);n.d(t,"catchError",(function(){return l["catchError"]}));var d=n(280);n.d(t,"combineAll",(function(){return d["combineAll"]}));var f=n(281);n.d(t,"combineLatest",(function(){return f["combineLatest"]}));var p=n(282);n.d(t,"concat",(function(){return p["concat"]}));var h=n(241);n.d(t,"concatAll",(function(){return h["concatAll"]}));var m=n(283);n.d(t,"concatMap",(function(){return m["concatMap"]}));var v=n(284);n.d(t,"concatMapTo",(function(){return v["concatMapTo"]}));var b=n(285);n.d(t,"count",(function(){return b["count"]}));var y=n(286);n.d(t,"debounce",(function(){return y["debounce"]}));var g=n(287);n.d(t,"debounceTime",(function(){return g["debounceTime"]}));var _=n(288);n.d(t,"defaultIfEmpty",(function(){return _["defaultIfEmpty"]}));var S=n(289);n.d(t,"delay",(function(){return S["delay"]}));var w=n(291);n.d(t,"delayWhen",(function(){return w["delayWhen"]}));var x=n(292);n.d(t,"dematerialize",(function(){return x["dematerialize"]}));var C=n(293);n.d(t,"distinct",(function(){return C["distinct"]}));var O=n(294);n.d(t,"distinctUntilChanged",(function(){return O["distinctUntilChanged"]}));var T=n(295);n.d(t,"distinctUntilKeyChanged",(function(){return T["distinctUntilKeyChanged"]}));var E=n(296);n.d(t,"elementAt",(function(){return E["elementAt"]}));var I=n(299);n.d(t,"endWith",(function(){return I["endWith"]}));var k=n(300);n.d(t,"every",(function(){return k["every"]}));var R=n(301);n.d(t,"exhaust",(function(){return R["exhaust"]}));var P=n(302);n.d(t,"exhaustMap",(function(){return P["exhaustMap"]}));var M=n(303);n.d(t,"expand",(function(){return M["expand"]}));var A=n(265);n.d(t,"filter",(function(){return A["filter"]}));var j=n(304);n.d(t,"finalize",(function(){return j["finalize"]}));var N=n(305);n.d(t,"find",(function(){return N["find"]}));var D=n(306);n.d(t,"findIndex",(function(){return D["findIndex"]}));var B=n(307);n.d(t,"first",(function(){return B["first"]}));var L=n(192);n.d(t,"groupBy",(function(){return L["groupBy"]}));var F=n(308);n.d(t,"ignoreElements",(function(){return F["ignoreElements"]}));var V=n(309);n.d(t,"isEmpty",(function(){return V["isEmpty"]}));var U=n(310);n.d(t,"last",(function(){return U["last"]}));var $=n(227);n.d(t,"map",(function(){return $["map"]}));var W=n(312);n.d(t,"mapTo",(function(){return W["mapTo"]}));var z=n(313);n.d(t,"materialize",(function(){return z["materialize"]}));var H=n(314);n.d(t,"max",(function(){return H["max"]}));var G=n(317);n.d(t,"merge",(function(){return G["merge"]}));var q=n(242);n.d(t,"mergeAll",(function(){return q["mergeAll"]}));var K=n(243);n.d(t,"mergeMap",(function(){return K["mergeMap"]})),n.d(t,"flatMap",(function(){return K["mergeMap"]}));var Y=n(318);n.d(t,"mergeMapTo",(function(){return Y["mergeMapTo"]}));var J=n(319);n.d(t,"mergeScan",(function(){return J["mergeScan"]}));var X=n(320);n.d(t,"min",(function(){return X["min"]}));var Z=n(321);n.d(t,"multicast",(function(){return Z["multicast"]}));var Q=n(202);n.d(t,"observeOn",(function(){return Q["observeOn"]}));var ee=n(322);n.d(t,"onErrorResumeNext",(function(){return ee["onErrorResumeNext"]}));var te=n(323);n.d(t,"pairwise",(function(){return te["pairwise"]}));var ne=n(324);n.d(t,"partition",(function(){return ne["partition"]}));var re=n(325);n.d(t,"pluck",(function(){return re["pluck"]}));var ie=n(326);n.d(t,"publish",(function(){return ie["publish"]}));var oe=n(327);n.d(t,"publishBehavior",(function(){return oe["publishBehavior"]}));var se=n(328);n.d(t,"publishLast",(function(){return se["publishLast"]}));var ae=n(329);n.d(t,"publishReplay",(function(){return ae["publishReplay"]}));var ce=n(330);n.d(t,"race",(function(){return ce["race"]}));var ue=n(315);n.d(t,"reduce",(function(){return ue["reduce"]}));var le=n(331);n.d(t,"repeat",(function(){return le["repeat"]}));var de=n(332);n.d(t,"repeatWhen",(function(){return de["repeatWhen"]}));var fe=n(333);n.d(t,"retry",(function(){return fe["retry"]}));var pe=n(334);n.d(t,"retryWhen",(function(){return pe["retryWhen"]}));var he=n(191);n.d(t,"refCount",(function(){return he["refCount"]}));var me=n(335);n.d(t,"sample",(function(){return me["sample"]}));var ve=n(336);n.d(t,"sampleTime",(function(){return ve["sampleTime"]}));var be=n(316);n.d(t,"scan",(function(){return be["scan"]}));var ye=n(337);n.d(t,"sequenceEqual",(function(){return ye["sequenceEqual"]}));var ge=n(338);n.d(t,"share",(function(){return ge["share"]}));var _e=n(339);n.d(t,"shareReplay",(function(){return _e["shareReplay"]}));var Se=n(340);n.d(t,"single",(function(){return Se["single"]}));var we=n(341);n.d(t,"skip",(function(){return we["skip"]}));var xe=n(342);n.d(t,"skipLast",(function(){return xe["skipLast"]}));var Ce=n(343);n.d(t,"skipUntil",(function(){return Ce["skipUntil"]}));var Oe=n(344);n.d(t,"skipWhile",(function(){return Oe["skipWhile"]}));var Te=n(345);n.d(t,"startWith",(function(){return Te["startWith"]}));var Ee=n(346);n.d(t,"subscribeOn",(function(){return Ee["subscribeOn"]}));var Ie=n(348);n.d(t,"switchAll",(function(){return Ie["switchAll"]}));var ke=n(349);n.d(t,"switchMap",(function(){return ke["switchMap"]}));var Re=n(350);n.d(t,"switchMapTo",(function(){return Re["switchMapTo"]}));var Pe=n(298);n.d(t,"take",(function(){return Pe["take"]}));var Me=n(311);n.d(t,"takeLast",(function(){return Me["takeLast"]}));var Ae=n(351);n.d(t,"takeUntil",(function(){return Ae["takeUntil"]}));var je=n(352);n.d(t,"takeWhile",(function(){return je["takeWhile"]}));var Ne=n(353);n.d(t,"tap",(function(){return Ne["tap"]}));var De=n(354);n.d(t,"throttle",(function(){return De["throttle"]}));var Be=n(355);n.d(t,"throttleTime",(function(){return Be["throttleTime"]}));var Le=n(297);n.d(t,"throwIfEmpty",(function(){return Le["throwIfEmpty"]}));var Fe=n(356);n.d(t,"timeInterval",(function(){return Fe["timeInterval"]}));var Ve=n(357);n.d(t,"timeout",(function(){return Ve["timeout"]}));var Ue=n(358);n.d(t,"timeoutWith",(function(){return Ue["timeoutWith"]}));var $e=n(359);n.d(t,"timestamp",(function(){return $e["timestamp"]}));var We=n(360);n.d(t,"toArray",(function(){return We["toArray"]}));var ze=n(361);n.d(t,"window",(function(){return ze["window"]}));var He=n(362);n.d(t,"windowCount",(function(){return He["windowCount"]}));var Ge=n(363);n.d(t,"windowTime",(function(){return Ge["windowTime"]}));var qe=n(364);n.d(t,"windowToggle",(function(){return qe["windowToggle"]}));var Ke=n(365);n.d(t,"windowWhen",(function(){return Ke["windowWhen"]}));var Ye=n(366);n.d(t,"withLatestFrom",(function(){return Ye["withLatestFrom"]}));var Je=n(367);n.d(t,"zip",(function(){return Je["zip"]}));var Xe=n(368);n.d(t,"zipAll",(function(){return Xe["zipAll"]}))},function(e,t,n){"use strict";n.r(t),n.d(t,"audit",(function(){return s}));var r=n(173),i=n(230),o=n(231);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.durationSelector))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return r["__extends"](t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=void 0;try{var n=this.durationSelector;t=n(e)}catch(i){return this.destination.error(i)}var r=Object(o["subscribeToResult"])(this,t);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}},t.prototype.clearThrottle=function(){var e=this,t=e.value,n=e.hasValue,r=e.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),n&&(this.value=null,this.hasValue=!1,this.destination.next(t))},t.prototype.notifyNext=function(e,t,n,r){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"auditTime",(function(){return s}));var r=n(216),i=n(272),o=n(268);function s(e,t){return void 0===t&&(t=r["async"]),Object(i["audit"])((function(){return Object(o["timer"])(e,t)}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"buffer",(function(){return s}));var r=n(173),i=n(230),o=n(231);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.closingNotifier))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.buffer=[],r.add(Object(o["subscribeToResult"])(r,n)),r}return r["__extends"](t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"bufferCount",(function(){return o}));var r=n(173),i=n(172);function o(e,t){return void 0===t&&(t=null),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?c:a}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.bufferSize=n,r.buffer=[],r}return r["__extends"](t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(i["Subscriber"]),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.bufferSize=n,i.startBufferEvery=r,i.buffers=[],i.count=0,i}return r["__extends"](t,e),t.prototype._next=function(e){var t=this,n=t.bufferSize,r=t.startBufferEvery,i=t.buffers,o=t.count;this.count++,o%r===0&&i.push([]);for(var s=i.length;s--;){var a=i[s];a.push(e),a.length===n&&(i.splice(s,1),this.destination.next(a))}},t.prototype._complete=function(){var t=this,n=t.buffers,r=t.destination;while(n.length>0){var i=n.shift();i.length>0&&r.next(i)}e.prototype._complete.call(this)},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"bufferTime",(function(){return a}));var r=n(173),i=n(216),o=n(172),s=n(206);function a(e){var t=arguments.length,n=i["async"];Object(s["isScheduler"])(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var r=null;t>=2&&(r=arguments[1]);var o=Number.POSITIVE_INFINITY;return t>=3&&(o=arguments[2]),function(t){return t.lift(new c(e,r,o,n))}}var c=function(){function e(e,t,n,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),u=function(){function e(){this.buffer=[]}return e}(),l=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;s.bufferTimeSpan=n,s.bufferCreationInterval=r,s.maxBufferSize=i,s.scheduler=o,s.contexts=[];var a=s.openContext();if(s.timespanOnly=null==r||r<0,s.timespanOnly){var c={subscriber:s,context:a,bufferTimeSpan:n};s.add(a.closeAction=o.schedule(d,n,c))}else{var u={subscriber:s,context:a},l={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:s,scheduler:o};s.add(a.closeAction=o.schedule(p,n,u)),s.add(o.schedule(f,r,l))}return s}return r["__extends"](t,e),t.prototype._next=function(e){for(var t,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],s=o.buffer;s.push(e),s.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this,n=t.contexts,r=t.destination;while(n.length>0){var i=n.shift();r.next(i.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:e,bufferTimeSpan:n};this.add(e.closeAction=this.scheduler.schedule(d,n,r))}},t.prototype.openContext=function(){var e=new u;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts,n=t?t.indexOf(e):-1;n>=0&&t.splice(t.indexOf(e),1)},t}(o["Subscriber"]);function d(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function f(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,i=e.scheduler,o=r.openContext(),s=this;r.closed||(r.add(o.closeAction=i.schedule(p,n,{subscriber:r,context:o})),s.schedule(e,t))}function p(e){var t=e.subscriber,n=e.context;t.closeContext(n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"bufferToggle",(function(){return a}));var r=n(173),i=n(178),o=n(231),s=n(230);function a(e,t){return function(n){return n.lift(new c(e,t))}}var c=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.openings,this.closingSelector))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(Object(o["subscribeToResult"])(i,n)),i}return r["__extends"](t,e),t.prototype._next=function(e){for(var t=this.contexts,n=t.length,r=0;r<n;r++)t[r].buffer.push(e)},t.prototype._error=function(t){var n=this.contexts;while(n.length>0){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;while(t.length>0){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector,n=t.call(this,e);n&&this.trySubscribe(n)}catch(r){this._error(r)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var n=e.buffer,r=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(r),r.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,n=[],r=new i["Subscription"],s={buffer:n,subscription:r};t.push(s);var a=Object(o["subscribeToResult"])(this,e,s);!a||a.closed?this.closeBuffer(s):(a.context=s,this.add(a),r.add(a))},t}(s["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"bufferWhen",(function(){return a}));var r=n(173),i=n(178),o=n(230),s=n(231);function a(e){return function(t){return t.lift(new c(e))}}var c=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.closingSelector))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.closingSelector=n,r.subscribing=!1,r.openBuffer(),r}return r["__extends"](t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(e,t,n,r,i){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{var r=this.closingSelector;t=r()}catch(o){return this.error(o)}e=new i["Subscription"],this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Object(s["subscribeToResult"])(this,t)),this.subscribing=!1},t}(o["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"catchError",(function(){return a}));var r=n(173),i=n(230),o=n(232),s=n(231);function a(e){return function(t){var n=new c(e),r=t.lift(n);return n.caught=r}}var c=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.selector,this.caught))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.selector=n,i.caught=r,i}return r["__extends"](t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(i){return void e.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var r=new o["InnerSubscriber"](this,void 0,void 0);this.add(r),Object(s["subscribeToResult"])(this,n,void 0,void 0,r)}},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"combineAll",(function(){return i}));var r=n(229);function i(e){return function(t){return t.lift(new r["CombineLatestOperator"](e))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"combineLatest",(function(){return s}));var r=n(179),i=n(229),o=n(244);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return"function"===typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(r["isArray"])(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(Object(o["from"])([t].concat(e)),new i["CombineLatestOperator"](n))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"concat",(function(){return i}));var r=n(240);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(r["concat"].apply(void 0,[t].concat(e)))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"concatMap",(function(){return i}));var r=n(243);function i(e,t){return Object(r["mergeMap"])(e,t,1)}},function(e,t,n){"use strict";n.r(t),n.d(t,"concatMapTo",(function(){return i}));var r=n(283);function i(e,t){return Object(r["concatMap"])((function(){return e}),t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"count",(function(){return o}));var r=n(173),i=n(172);function o(e){return function(t){return t.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.count=0,i.index=0,i}return r["__extends"](t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"debounce",(function(){return s}));var r=n(173),i=n(230),o=n(231);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.durationSelector))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r.durationSubscription=null,r}return r["__extends"](t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(n){this.destination.error(n)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),n=Object(o["subscribeToResult"])(this,t),n&&!n.closed&&this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(e,t,n,r,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"debounceTime",(function(){return s}));var r=n(173),i=n(172),o=n(216);function s(e,t){return void 0===t&&(t=o["async"]),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.dueTime,this.scheduler))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r["__extends"](t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(u,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(i["Subscriber"]);function u(e){e.debouncedNext()}},function(e,t,n){"use strict";n.r(t),n.d(t,"defaultIfEmpty",(function(){return o}));var r=n(173),i=n(172);function o(e){return void 0===e&&(e=null),function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.defaultValue))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r["__extends"](t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"delay",(function(){return c}));var r=n(173),i=n(216),o=n(290),s=n(172),a=n(203);function c(e,t){void 0===t&&(t=i["async"]);var n=Object(o["isDate"])(e),r=n?+e-t.now():Math.abs(e);return function(e){return e.lift(new u(r,t))}}var u=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.delay,this.scheduler))},e}(),l=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return r["__extends"](t,e),t.dispatch=function(e){var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;while(n.length>0&&n[0].time-r.now()<=0)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0;var n=this.destination;n.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new d(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(a["Notification"].createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(a["Notification"].createComplete()),this.unsubscribe()},t}(s["Subscriber"]),d=function(){function e(e,t){this.time=e,this.notification=t}return e}()},function(e,t,n){"use strict";function r(e){return e instanceof Date&&!isNaN(+e)}n.r(t),n.d(t,"isDate",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"delayWhen",(function(){return c}));var r=n(173),i=n(172),o=n(170),s=n(230),a=n(231);function c(e,t){return t?function(n){return new d(n,t).lift(new u(e))}:function(t){return t.lift(new u(e))}}var u=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.delayDurationSelector))},e}(),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.delayDurationSelector=n,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return r["__extends"](t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var n=this.delayDurationSelector(e,t);n&&this.tryDelay(n,e)}catch(r){this.destination.error(r)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var n=Object(a["subscribeToResult"])(this,e,t);if(n&&!n.closed){var r=this.destination;r.add(n),this.delayNotifierSubscriptions.push(n)}},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(s["OuterSubscriber"]),d=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subscriptionDelay=n,r}return r["__extends"](t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new f(e,this.source))},t}(o["Observable"]),f=function(e){function t(t,n){var r=e.call(this)||this;return r.parent=t,r.source=n,r.sourceSubscribed=!1,r}return r["__extends"](t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"dematerialize",(function(){return o}));var r=n(173),i=n(172);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){return e.call(this,t)||this}return r["__extends"](t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"distinct",(function(){return s})),n.d(t,"DistinctSubscriber",(function(){return c}));var r=n(173),i=n(230),o=n(231);function s(e,t){return function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.keySelector,this.flushes))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=n,i.values=new Set,r&&i.add(Object(o["subscribeToResult"])(i,r)),i}return r["__extends"](t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(r){return void n.error(r)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"distinctUntilChanged",(function(){return o}));var r=n(173),i=n(172);function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.compare,this.keySelector))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=r,i.hasKey=!1,"function"===typeof n&&(i.compare=n),i}return r["__extends"](t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(o){return this.destination.error(o)}var r=!1;if(this.hasKey)try{var i=this.compare;r=i(this.key,t)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"distinctUntilKeyChanged",(function(){return i}));var r=n(294);function i(e,t){return Object(r["distinctUntilChanged"])((function(n,r){return t?t(n[e],r[e]):n[e]===r[e]}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"elementAt",(function(){return c}));var r=n(223),i=n(265),o=n(297),s=n(288),a=n(298);function c(e,t){if(e<0)throw new r["ArgumentOutOfRangeError"];var n=arguments.length>=2;return function(c){return c.pipe(Object(i["filter"])((function(t,n){return n===e})),Object(a["take"])(1),n?Object(s["defaultIfEmpty"])(t):Object(o["throwIfEmpty"])((function(){return new r["ArgumentOutOfRangeError"]})))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"throwIfEmpty",(function(){return s}));var r=n(173),i=n(224),o=n(172);function s(e){return void 0===e&&(e=u),function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.errorFactory))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.errorFactory=n,r.hasValue=!1,r}return r["__extends"](t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(o["Subscriber"]);function u(){return new i["EmptyError"]}},function(e,t,n){"use strict";n.r(t),n.d(t,"take",(function(){return a}));var r=n(173),i=n(172),o=n(223),s=n(204);function a(e){return function(t){return 0===e?Object(s["empty"])():t.lift(new c(e))}}var c=function(){function e(e){if(this.total=e,this.total<0)throw new o["ArgumentOutOfRangeError"]}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.total))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r["__extends"](t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"endWith",(function(){return o}));var r=n(240),i=n(205);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return Object(r["concat"])(t,i["of"].apply(void 0,e))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"every",(function(){return o}));var r=n(173),i=n(172);function o(e,t){return function(n){return n.lift(new s(e,t,n))}}var s=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg,this.source))},e}(),a=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return r["__extends"](t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"exhaust",(function(){return s}));var r=n(173),i=n(230),o=n(231);function s(){return function(e){return e.lift(new a)}}var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new c(e))},e}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return r["__extends"](t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(o["subscribeToResult"])(this,e)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"exhaustMap",(function(){return u}));var r=n(173),i=n(230),o=n(232),s=n(231),a=n(227),c=n(244);function u(e,t){return t?function(n){return n.pipe(u((function(n,r){return Object(c["from"])(e(n,r)).pipe(Object(a["map"])((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new l(e))}}var l=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.project))},e}(),d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return r["__extends"](t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new o["InnerSubscriber"](this,void 0,void 0),i=this.destination;i.add(r),Object(s["subscribeToResult"])(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){var t=this.destination;t.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"expand",(function(){return s})),n.d(t,"ExpandOperator",(function(){return a})),n.d(t,"ExpandSubscriber",(function(){return c}));var r=n(173),i=n(230),o=n(231);function s(e,t,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(r){return r.lift(new a(e,t,n))}}var a=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.project,this.concurrent,this.scheduler))},e}(),c=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return r["__extends"](t,e),t.dispatch=function(e){var t=e.subscriber,n=e.result,r=e.value,i=e.index;t.subscribeToProjection(n,r,i)},t.prototype._next=function(e){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(e);try{var i=this.project,o=i(e,r);if(this.scheduler){var s={subscriber:this,result:o,value:e,index:r},a=this.destination;a.add(this.scheduler.schedule(t.dispatch,0,s))}else this.subscribeToProjection(o,e,r)}catch(c){n.error(c)}}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,n){this.active++;var r=this.destination;r.add(Object(o["subscribeToResult"])(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this._next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer,n=this.destination;n.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"finalize",(function(){return s}));var r=n(173),i=n(172),o=n(178);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.callback))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.add(new o["Subscription"](n)),r}return r["__extends"](t,e),t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"find",(function(){return o})),n.d(t,"FindValueOperator",(function(){return s})),n.d(t,"FindValueSubscriber",(function(){return a}));var r=n(173),i=n(172);function o(e,t){if("function"!==typeof e)throw new TypeError("predicate is not a function");return function(n){return n.lift(new s(e,n,!1,t))}}var s=function(){function e(e,t,n,r){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=r}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),a=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.predicate=n,s.source=r,s.yieldIndex=i,s.thisArg=o,s.index=0,s}return r["__extends"](t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this,n=t.predicate,r=t.thisArg,i=this.index++;try{var o=n.call(r||this,e,i,this.source);o&&this.notifyComplete(this.yieldIndex?i:e)}catch(s){this.destination.error(s)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"findIndex",(function(){return i}));var r=n(305);function i(e,t){return function(n){return n.lift(new r["FindValueOperator"](e,n,!0,t))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"first",(function(){return u}));var r=n(224),i=n(265),o=n(298),s=n(288),a=n(297),c=n(221);function u(e,t){var n=arguments.length>=2;return function(u){return u.pipe(e?Object(i["filter"])((function(t,n){return e(t,n,u)})):c["identity"],Object(o["take"])(1),n?Object(s["defaultIfEmpty"])(t):Object(a["throwIfEmpty"])((function(){return new r["EmptyError"]})))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"ignoreElements",(function(){return o}));var r=n(173),i=n(172);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r["__extends"](t,e),t.prototype._next=function(e){},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"isEmpty",(function(){return o}));var r=n(173),i=n(172);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){return e.call(this,t)||this}return r["__extends"](t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"last",(function(){return u}));var r=n(224),i=n(265),o=n(311),s=n(297),a=n(288),c=n(221);function u(e,t){var n=arguments.length>=2;return function(u){return u.pipe(e?Object(i["filter"])((function(t,n){return e(t,n,u)})):c["identity"],Object(o["takeLast"])(1),n?Object(a["defaultIfEmpty"])(t):Object(s["throwIfEmpty"])((function(){return new r["EmptyError"]})))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"takeLast",(function(){return a}));var r=n(173),i=n(172),o=n(223),s=n(204);function a(e){return function(t){return 0===e?Object(s["empty"])():t.lift(new c(e))}}var c=function(){function e(e){if(this.total=e,this.total<0)throw new o["ArgumentOutOfRangeError"]}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.total))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r["__extends"](t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;if(t.length<n)t.push(e);else{var i=r%n;t[i]=e}},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"mapTo",(function(){return o}));var r=n(173),i=n(172);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.value))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.value=n,r}return r["__extends"](t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"materialize",(function(){return s}));var r=n(173),i=n(172),o=n(203);function s(){return function(e){return e.lift(new a)}}var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new c(e))},e}(),c=function(e){function t(t){return e.call(this,t)||this}return r["__extends"](t,e),t.prototype._next=function(e){this.destination.next(o["Notification"].createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(o["Notification"].createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(o["Notification"].createComplete()),e.complete()},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"max",(function(){return i}));var r=n(315);function i(e){var t="function"===typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t};return Object(r["reduce"])(t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"reduce",(function(){return a}));var r=n(316),i=n(311),o=n(288),s=n(185);function a(e,t){return arguments.length>=2?function(n){return Object(s["pipe"])(Object(r["scan"])(e,t),Object(i["takeLast"])(1),Object(o["defaultIfEmpty"])(t))(n)}:function(t){return Object(s["pipe"])(Object(r["scan"])((function(t,n,r){return e(t,n,r+1)})),Object(i["takeLast"])(1))(t)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"scan",(function(){return o}));var r=n(173),i=n(172);function o(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(e,t,n))}}var s=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.accumulator,this.seed,this.hasSeed))},e}(),a=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r["__extends"](t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"merge",(function(){return i}));var r=n(259);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(r["merge"].apply(void 0,[t].concat(e)))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"mergeMapTo",(function(){return i}));var r=n(243);function i(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"===typeof t?Object(r["mergeMap"])((function(){return e}),t,n):("number"===typeof t&&(n=t),Object(r["mergeMap"])((function(){return e}),n))}},function(e,t,n){"use strict";n.r(t),n.d(t,"mergeScan",(function(){return a})),n.d(t,"MergeScanOperator",(function(){return c})),n.d(t,"MergeScanSubscriber",(function(){return u}));var r=n(173),i=n(231),o=n(230),s=n(232);function a(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new c(e,t,n))}}var c=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.accumulator,this.seed,this.concurrent))},e}(),u=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o.acc=r,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r["__extends"](t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,n=this.destination,r=void 0;try{var i=this.accumulator;r=i(this.acc,e,t)}catch(o){return n.error(o)}this.active++,this._innerSub(r,e,t)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,n){var r=new s["InnerSubscriber"](this,void 0,void 0),o=this.destination;o.add(r),Object(i["subscribeToResult"])(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.destination;this.acc=t,this.hasValue=!0,o.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer,n=this.destination;n.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(o["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"min",(function(){return i}));var r=n(315);function i(e){var t="function"===typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t};return Object(r["reduce"])(t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"multicast",(function(){return i})),n.d(t,"MulticastOperator",(function(){return o}));var r=n(187);function i(e,t){return function(n){var i;if(i="function"===typeof e?e:function(){return e},"function"===typeof t)return n.lift(new o(i,t));var s=Object.create(n,r["connectableObservableDescriptor"]);return s.source=n,s.subjectFactory=i,s}}var o=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i},e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"onErrorResumeNext",(function(){return u})),n.d(t,"onErrorResumeNextStatic",(function(){return l}));var r=n(173),i=n(244),o=n(179),s=n(230),a=n(232),c=n(231);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&Object(o["isArray"])(e[0])&&(e=e[0]),function(t){return t.lift(new d(e))}}function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return 1===e.length&&Object(o["isArray"])(e[0])&&(e=e[0]),n=e.shift(),Object(i["from"])(n,null).lift(new d(e))}var d=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.nextSources))},e}(),f=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.nextSources=n,r}return r["__extends"](t,e),t.prototype.notifyError=function(e,t){this.subscribeToNextSource()},t.prototype.notifyComplete=function(e){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new a["InnerSubscriber"](this,void 0,void 0),n=this.destination;n.add(t),Object(c["subscribeToResult"])(this,e,void 0,void 0,t)}else this.destination.complete()},t}(s["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"pairwise",(function(){return o}));var r=n(173),i=n(172);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){var n=e.call(this,t)||this;return n.hasPrev=!1,n}return r["__extends"](t,e),t.prototype._next=function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"partition",(function(){return o}));var r=n(264),i=n(265);function o(e,t){return function(n){return[Object(i["filter"])(e,t)(n),Object(i["filter"])(Object(r["not"])(e,t))(n)]}}},function(e,t,n){"use strict";n.r(t),n.d(t,"pluck",(function(){return i}));var r=n(227);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(t){return Object(r["map"])(o(e,n))(t)}}function o(e,t){var n=function(n){for(var r=n,i=0;i<t;i++){var o=r[e[i]];if("undefined"===typeof o)return;r=o}return r};return n}},function(e,t,n){"use strict";n.r(t),n.d(t,"publish",(function(){return o}));var r=n(188),i=n(321);function o(e){return e?Object(i["multicast"])((function(){return new r["Subject"]}),e):Object(i["multicast"])(new r["Subject"])}},function(e,t,n){"use strict";n.r(t),n.d(t,"publishBehavior",(function(){return o}));var r=n(193),i=n(321);function o(e){return function(t){return Object(i["multicast"])(new r["BehaviorSubject"](e))(t)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"publishLast",(function(){return o}));var r=n(211),i=n(321);function o(){return function(e){return Object(i["multicast"])(new r["AsyncSubject"])(e)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"publishReplay",(function(){return o}));var r=n(194),i=n(321);function o(e,t,n,o){n&&"function"!==typeof n&&(o=n);var s="function"===typeof n?n:void 0,a=new r["ReplaySubject"](e,t,o);return function(e){return Object(i["multicast"])((function(){return a}),s)(e)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"race",(function(){return o}));var r=n(179),i=n(266);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&Object(r["isArray"])(e[0])&&(e=e[0]),t.lift.call(i["race"].apply(void 0,[t].concat(e)))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"repeat",(function(){return s}));var r=n(173),i=n(172),o=n(204);function s(e){return void 0===e&&(e=-1),function(t){return 0===e?Object(o["empty"])():e<0?t.lift(new a(-1,t)):t.lift(new a(e-1,t))}}var a=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.count,this.source))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return r["__extends"](t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this,n=t.source,r=t.count;if(0===r)return e.prototype.complete.call(this);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"repeatWhen",(function(){return a}));var r=n(173),i=n(188),o=n(230),s=n(231);function a(e){return function(t){return t.lift(new c(e))}}var c=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.notifier,t))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i.sourceIsBeingSubscribedTo=!0,i}return r["__extends"](t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(t){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},t.prototype._unsubscribe=function(){var e=this,t=e.notifications,n=e.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),n&&(n.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){var t;this.notifications=new i["Subject"];try{var n=this.notifier;t=n(this.notifications)}catch(r){return e.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=Object(s["subscribeToResult"])(this,t)},t}(o["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"retry",(function(){return o}));var r=n(173),i=n(172);function o(e){return void 0===e&&(e=-1),function(t){return t.lift(new s(e,t))}}var s=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.count,this.source))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return r["__extends"](t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this,r=n.source,i=n.count;if(0===i)return e.prototype.error.call(this,t);i>-1&&(this.count=i-1),r.subscribe(this._unsubscribeAndRecycle())}},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"retryWhen",(function(){return a}));var r=n(173),i=n(188),o=n(230),s=n(231);function a(e){return function(t){return t.lift(new c(e,t))}}var c=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.notifier,this.source))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i}return r["__extends"](t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,r=this.retries,o=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{n=new i["Subject"];try{var a=this.notifier;r=a(n)}catch(c){return e.prototype.error.call(this,c)}o=Object(s["subscribeToResult"])(this,r)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=o,n.next(t)}},t.prototype._unsubscribe=function(){var e=this,t=e.errors,n=e.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),n&&(n.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(e,t,n,r,i){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)},t}(o["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"sample",(function(){return s}));var r=n(173),i=n(230),o=n(231);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new c(e),r=t.subscribe(n);return r.add(Object(o["subscribeToResult"])(n,this.notifier)),r},e}(),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return r["__extends"](t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(e,t,n,r,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"sampleTime",(function(){return s}));var r=n(173),i=n(172),o=n(216);function s(e,t){return void 0===t&&(t=o["async"]),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.period,this.scheduler))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.period=n,i.scheduler=r,i.hasValue=!1,i.add(r.schedule(u,n,{subscriber:i,period:n})),i}return r["__extends"](t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(i["Subscriber"]);function u(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"sequenceEqual",(function(){return o})),n.d(t,"SequenceEqualOperator",(function(){return s})),n.d(t,"SequenceEqualSubscriber",(function(){return a}));var r=n(173),i=n(172);function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.compareTo,this.comparator))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.compareTo=n,i.comparator=r,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(n.subscribe(new c(t,i))),i}return r["__extends"](t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){var e=this,t=e._a,n=e._b,r=e.comparator;while(t.length>0&&n.length>0){var i=t.shift(),o=n.shift(),s=!1;try{s=r?r(i,o):i===o}catch(a){this.destination.error(a)}s||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(i["Subscriber"]),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.parent=n,r}return r["__extends"](t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"share",(function(){return a}));var r=n(321),i=n(191),o=n(188);function s(){return new o["Subject"]}function a(){return function(e){return Object(i["refCount"])()(Object(r["multicast"])(s)(e))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"shareReplay",(function(){return i}));var r=n(194);function i(e,t,n){var r;return r=e&&"object"===typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(o(r))}}function o(e){var t,n,i=e.bufferSize,o=void 0===i?Number.POSITIVE_INFINITY:i,s=e.windowTime,a=void 0===s?Number.POSITIVE_INFINITY:s,c=e.refCount,u=e.scheduler,l=0,d=!1,f=!1;return function(e){l++,t&&!d||(d=!1,t=new r["ReplaySubject"](o,a,u),n=e.subscribe({next:function(e){t.next(e)},error:function(e){d=!0,t.error(e)},complete:function(){f=!0,t.complete()}}));var i=t.subscribe(this);this.add((function(){l--,i.unsubscribe(),n&&!f&&c&&0===l&&(n.unsubscribe(),n=void 0,t=void 0)}))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"single",(function(){return s}));var r=n(173),i=n(172),o=n(224);function s(e){return function(t){return t.lift(new a(e,t))}}var a=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.predicate,this.source))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.seenValue=!1,i.index=0,i}return r["__extends"](t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(n){this.destination.error(n)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new o["EmptyError"])},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"skip",(function(){return o}));var r=n(173),i=n(172);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.total))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r["__extends"](t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"skipLast",(function(){return s}));var r=n(173),i=n(172),o=n(223);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new o["ArgumentOutOfRangeError"]}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new i["Subscriber"](e)):t.subscribe(new c(e,this._skipCount))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r._skipCount=n,r._count=0,r._ring=new Array(n),r}return r["__extends"](t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var r=n%t,i=this._ring,o=i[r];i[r]=e,this.destination.next(o)}},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"skipUntil",(function(){return a}));var r=n(173),i=n(230),o=n(232),s=n(231);function a(e){return function(t){return t.lift(new c(e))}}var c=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.notifier))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;r.hasValue=!1;var i=new o["InnerSubscriber"](r,void 0,void 0);return r.add(i),r.innerSubscription=i,Object(s["subscribeToResult"])(r,n,void 0,void 0,i),r}return r["__extends"](t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype.notifyNext=function(e,t,n,r,i){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"skipWhile",(function(){return o}));var r=n(173),i=n(172);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return r["__extends"](t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(n){this.destination.error(n)}},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"startWith",(function(){return o}));var r=n(240),i=n(206);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Object(i["isScheduler"])(n)?(e.pop(),function(t){return Object(r["concat"])(e,t,n)}):function(t){return Object(r["concat"])(e,t)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"subscribeOn",(function(){return i}));var r=n(347);function i(e,t){return void 0===t&&(t=0),function(n){return n.lift(new o(e,t))}}var o=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new r["SubscribeOnObservable"](t,this.delay,this.scheduler).subscribe(e)},e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"SubscribeOnObservable",(function(){return a}));var r=n(173),i=n(170),o=n(212),s=n(258),a=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=o["asap"]);var i=e.call(this)||this;return i.source=t,i.delayTime=n,i.scheduler=r,(!Object(s["isNumeric"])(n)||n<0)&&(i.delayTime=0),r&&"function"===typeof r.schedule||(i.scheduler=o["asap"]),i}return r["__extends"](t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=o["asap"]),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source,i=this.scheduler;return i.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(i["Observable"])},function(e,t,n){"use strict";n.r(t),n.d(t,"switchAll",(function(){return o}));var r=n(349),i=n(221);function o(){return Object(r["switchMap"])(i["identity"])}},function(e,t,n){"use strict";n.r(t),n.d(t,"switchMap",(function(){return u}));var r=n(173),i=n(230),o=n(232),s=n(231),a=n(227),c=n(244);function u(e,t){return"function"===typeof t?function(n){return n.pipe(u((function(n,r){return Object(c["from"])(e(n,r)).pipe(Object(a["map"])((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new l(e))}}var l=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.project))},e}(),d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return r["__extends"](t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new o["InnerSubscriber"](this,void 0,void 0),a=this.destination;a.add(i),this.innerSubscription=Object(s["subscribeToResult"])(this,e,t,n,i)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){var n=this.destination;n.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"switchMapTo",(function(){return i}));var r=n(349);function i(e,t){return t?Object(r["switchMap"])((function(){return e}),t):Object(r["switchMap"])((function(){return e}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"takeUntil",(function(){return s}));var r=n(173),i=n(230),o=n(231);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new c(e),r=Object(o["subscribeToResult"])(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n},e}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return r["__extends"](t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"takeWhile",(function(){return o}));var r=n(173),i=n(172);function o(e,t){return void 0===t&&(t=!1),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.inclusive))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.inclusive=r,i.index=0,i}return r["__extends"](t,e),t.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(r){return void n.error(r)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"tap",(function(){return a}));var r=n(173),i=n(172),o=n(186),s=n(174);function a(e,t,n){return function(r){return r.lift(new c(e,t,n))}}var c=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))},e}(),u=function(e){function t(t,n,r,i){var a=e.call(this,t)||this;return a._tapNext=o["noop"],a._tapError=o["noop"],a._tapComplete=o["noop"],a._tapError=r||o["noop"],a._tapComplete=i||o["noop"],Object(s["isFunction"])(n)?(a._context=a,a._tapNext=n):n&&(a._context=n,a._tapNext=n.next||o["noop"],a._tapError=n.error||o["noop"],a._tapComplete=n.complete||o["noop"]),a}return r["__extends"](t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"defaultThrottleConfig",(function(){return s})),n.d(t,"throttle",(function(){return a}));var r=n(173),i=n(230),o=n(231),s={leading:!0,trailing:!1};function a(e,t){return void 0===t&&(t=s),function(n){return n.lift(new c(e,t.leading,t.trailing))}}var c=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.durationSelector,this.leading,this.trailing))},e}(),u=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}return r["__extends"](t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this,t=e._hasValue,n=e._sendValue;t&&(this.destination.next(n),this.throttle(n)),this._hasValue=!1,this._sendValue=null},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=Object(o["subscribeToResult"])(this,t))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(t){return this.destination.error(t),null}},t.prototype.throttlingDone=function(){var e=this,t=e._throttled,n=e._trailing;t&&t.unsubscribe(),this._throttled=null,n&&this.send()},t.prototype.notifyNext=function(e,t,n,r,i){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"throttleTime",(function(){return a}));var r=n(173),i=n(172),o=n(216),s=n(354);function a(e,t,n){return void 0===t&&(t=o["async"]),void 0===n&&(n=s["defaultThrottleConfig"]),function(r){return r.lift(new c(e,t,n.leading,n.trailing))}}var c=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),u=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.duration=n,s.scheduler=r,s.leading=i,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return r["__extends"](t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(l,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(i["Subscriber"]);function l(e){var t=e.subscriber;t.clearThrottle()}},function(e,t,n){"use strict";n.r(t),n.d(t,"timeInterval",(function(){return a})),n.d(t,"TimeInterval",(function(){return c}));var r=n(216),i=n(316),o=n(251),s=n(227);function a(e){return void 0===e&&(e=r["async"]),function(t){return Object(o["defer"])((function(){return t.pipe(Object(i["scan"])((function(t,n){var r=t.current;return{value:n,current:e.now(),last:r}}),{current:e.now(),value:void 0,last:void 0}),Object(s["map"])((function(e){var t=e.current,n=e.last,r=e.value;return new c(r,t-n)})))}))}}var c=function(){function e(e,t){this.value=e,this.interval=t}return e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"timeout",(function(){return a}));var r=n(216),i=n(225),o=n(358),s=n(210);function a(e,t){return void 0===t&&(t=r["async"]),Object(o["timeoutWith"])(e,Object(s["throwError"])(new i["TimeoutError"]),t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"timeoutWith",(function(){return c}));var r=n(173),i=n(216),o=n(290),s=n(230),a=n(231);function c(e,t,n){return void 0===n&&(n=i["async"]),function(r){var i=Object(o["isDate"])(e),s=i?+e-n.now():Math.abs(e);return r.lift(new u(s,i,t,n))}}var u=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),l=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.absoluteTimeout=n,s.waitFor=r,s.withObservable=i,s.scheduler=o,s.action=null,s.scheduleTimeout(),s}return r["__extends"](t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(Object(a["subscribeToResult"])(e,t))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},t}(s["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"timestamp",(function(){return o})),n.d(t,"Timestamp",(function(){return s}));var r=n(216),i=n(227);function o(e){return void 0===e&&(e=r["async"]),Object(i["map"])((function(t){return new s(t,e.now())}))}var s=function(){function e(e,t){this.value=e,this.timestamp=t}return e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"toArray",(function(){return o}));var r=n(315);function i(e,t,n){return 0===n?[t]:(e.push(t),e)}function o(){return Object(r["reduce"])(i,[])}},function(e,t,n){"use strict";n.r(t),n.d(t,"window",(function(){return a}));var r=n(173),i=n(188),o=n(230),s=n(231);function a(e){return function(t){return t.lift(new c(e))}}var c=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new u(e),r=t.subscribe(n);return r.closed||n.add(Object(s["subscribeToResult"])(n,this.windowBoundaries)),r},e}(),u=function(e){function t(t){var n=e.call(this,t)||this;return n.window=new i["Subject"],t.next(n.window),n}return r["__extends"](t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.openWindow()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new i["Subject"];t.next(n)},t}(o["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"windowCount",(function(){return s}));var r=n(173),i=n(172),o=n(188);function s(e,t){return void 0===t&&(t=0),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.windowSize,this.startWindowEvery))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.destination=t,i.windowSize=n,i.startWindowEvery=r,i.windows=[new o["Subject"]],i.count=0,t.next(i.windows[0]),i}return r["__extends"](t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,s=i.length,a=0;a<s&&!this.closed;a++)i[a].next(e);var c=this.count-r+1;if(c>=0&&c%t===0&&!this.closed&&i.shift().complete(),++this.count%t===0&&!this.closed){var u=new o["Subject"];i.push(u),n.next(u)}},t.prototype._error=function(e){var t=this.windows;if(t)while(t.length>0&&!this.closed)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)while(e.length>0&&!this.closed)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"windowTime",(function(){return u}));var r=n(173),i=n(188),o=n(216),s=n(172),a=n(258),c=n(206);function u(e){var t=o["async"],n=null,r=Number.POSITIVE_INFINITY;return Object(c["isScheduler"])(arguments[3])&&(t=arguments[3]),Object(c["isScheduler"])(arguments[2])?t=arguments[2]:Object(a["isNumeric"])(arguments[2])&&(r=arguments[2]),Object(c["isScheduler"])(arguments[1])?t=arguments[1]:Object(a["isNumeric"])(arguments[1])&&(n=arguments[1]),function(i){return i.lift(new l(e,n,r,t))}}var l=function(){function e(e,t,n,r){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return r["__extends"](t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(i["Subject"]),f=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;s.destination=t,s.windowTimeSpan=n,s.windowCreationInterval=r,s.maxWindowSize=i,s.scheduler=o,s.windows=[];var a=s.openWindow();if(null!==r&&r>=0){var c={subscriber:s,window:a,context:null},u={windowTimeSpan:n,windowCreationInterval:r,subscriber:s,scheduler:o};s.add(o.schedule(m,n,c)),s.add(o.schedule(h,r,u))}else{var l={subscriber:s,window:a,windowTimeSpan:n};s.add(o.schedule(p,n,l))}return s}return r["__extends"](t,e),t.prototype._next=function(e){for(var t=this.windows,n=t.length,r=0;r<n;r++){var i=t[r];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},t.prototype._error=function(e){var t=this.windows;while(t.length>0)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;while(e.length>0){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new d;this.windows.push(e);var t=this.destination;return t.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(s["Subscriber"]);function p(e){var t=e.subscriber,n=e.windowTimeSpan,r=e.window;r&&t.closeWindow(r),e.window=t.openWindow(),this.schedule(e,n)}function h(e){var t=e.windowTimeSpan,n=e.subscriber,r=e.scheduler,i=e.windowCreationInterval,o=n.openWindow(),s=this,a={action:s,subscription:null},c={subscriber:n,window:o,context:a};a.subscription=r.schedule(m,t,c),s.add(a.subscription),s.schedule(e,i)}function m(e){var t=e.subscriber,n=e.window,r=e.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),t.closeWindow(n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"windowToggle",(function(){return c}));var r=n(173),i=n(188),o=n(178),s=n(230),a=n(231);function c(e,t){return function(n){return n.lift(new u(e,t))}}var u=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.openings,this.closingSelector))},e}(),l=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(i.openSubscription=Object(a["subscribeToResult"])(i,n,n)),i}return r["__extends"](t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,r=0;r<n;r++)t[r].window.next(e)},t.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n){var r=n.length,i=-1;while(++i<r){var o=n[i];o.window.error(t),o.subscription.unsubscribe()}}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t){var n=t.length,r=-1;while(++r<n){var i=t[r];i.window.complete(),i.subscription.unsubscribe()}}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e){var t=e.length,n=-1;while(++n<t){var r=e[n];r.window.unsubscribe(),r.subscription.unsubscribe()}}},t.prototype.notifyNext=function(e,t,n,r,s){if(e===this.openings){var c=void 0;try{var u=this.closingSelector;c=u(t)}catch(h){return this.error(h)}var l=new i["Subject"],d=new o["Subscription"],f={window:l,subscription:d};this.contexts.push(f);var p=Object(a["subscribeToResult"])(this,c,f);p.closed?this.closeWindow(this.contexts.length-1):(p.context=f,d.add(p)),this.destination.next(l)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,n=t[e],r=n.window,i=n.subscription;t.splice(e,1),r.complete(),i.unsubscribe()}},t}(s["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"windowWhen",(function(){return a}));var r=n(173),i=n(188),o=n(230),s=n(231);function a(e){return function(t){return t.lift(new c(e))}}var c=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.closingSelector))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.closingSelector=n,r.openWindow(),r}return r["__extends"](t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.openWindow(i)},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n,r=this.window=new i["Subject"];this.destination.next(r);try{var o=this.closingSelector;n=o()}catch(a){return this.destination.error(a),void this.window.error(a)}this.add(this.closingNotification=Object(s["subscribeToResult"])(this,n))},t}(o["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"withLatestFrom",(function(){return s}));var r=n(173),i=n(230),o=n(231);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;"function"===typeof e[e.length-1]&&(n=e.pop());var r=e;return t.lift(new a(r,n))}}var a=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.observables,this.project))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;i.observables=n,i.project=r,i.toRespond=[];var s=n.length;i.values=new Array(s);for(var a=0;a<s;a++)i.toRespond.push(a);for(a=0;a<s;a++){var c=n[a];i.add(Object(o["subscribeToResult"])(i,c,c,a))}return i}return r["__extends"](t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.values[n]=t;var o=this.toRespond;if(o.length>0){var s=o.indexOf(n);-1!==s&&o.splice(s,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"zip",(function(){return i}));var r=n(270);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(r["zip"].apply(void 0,[t].concat(e)))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"zipAll",(function(){return i}));var r=n(270);function i(e){return function(t){return t.lift(new r["ZipOperator"](e))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(87),i=c(r),o=n(169),s=n(5),a=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){this.mgr=e,this.confrId=t,l.apply(this),this.subject=new o.Subject,this.onRemoteStream=n}function l(){i.default.extend(this,{subscribe:function(e,t,n){return this.subject.subscribe(e,t,n)}},{onMeExit:function(e,t){this.mgr._onExit(this.confrId,e,t)},onAddMember:function(e){this.mgr.onMemberJoin(e,this.confrId)},onRemoveMember:function(e,t){this.mgr.onMemberLeave(e,t,this.confrId)},onAddStream:function(e){0!=e.id&&(e.located()||this.onRemoteStream&&this.onRemoteStream(e),this.mgr.streamBindVideo(e,void 0,this.confrId),this.mgr._onAddMemberStream(e,this.confrId))},onRemoveStream:function(e){if(0!=e.id){var t=this.mgr._confr(this.confrId);t&&e&&e.located()&&(t.av&&t.av.id===e.id&&(t.av=void 0),t.desktop&&t.desktop.id===e.id&&(t.desktop=void 0));var n=i.default.removeAttribute(this.mgr._videos,e.id);this.mgr._onRemoveMemberStream(e,this.confrId),n&&this.mgr.unloadVideo(e.owner,e,n)}},onUpdateStream:function(e,t){if(0!=e.id){var n=this,r=this.mgr._videos[e.id];r&&(t&&t.ifMediaStream((function(e){r&&attachMediaStream(r,e),r&&r.hasAttribute("flow")&&n.mgr.onMediaTransmission(r,(function(e,t,n,i){(0,a.default)(r).trigger("onMediaTransmission",[e,t,n,i])}))})),e.aoff?r.setAttribute("aoff","aoff"):r.removeAttribute("aoff"),e.voff?r.setAttribute("voff","voff"):r.removeAttribute("voff"));var i={video:!e.voff,audio:!e.aoff};t&&t.ifVoff((function(t){i||(i={}),i.video=!t,e.located()||(i.video=e.subArgs?e.subArgs.subSVideo:!e.voff)})),t&&t.ifAoff((function(t){i||(i={}),i.audio=!t,e.located()||(i.audio=e.subArgs?e.subArgs.subSAudio:!e.aoff,2===e.type&&(i.audio=!0))})),i&&this.mgr._onMemberMediaChanaged(e.owner,e,i,this.confrId),i&&this.mgr._onUpdateMemberStream(e,i,this.confrId)}},onNetworkWeak:function(){},onNotSupportPublishVideoCodecs:function(e){this.mgr._onNotSupportMemberPublishVideoCodecs(e,this.confrId)},onRecvRemoteMessage:function(e,t){this.mgr._onRecvRemoteMessage(e,t,this.confrId)},onSoundChanage:function(e,t,n){this.mgr._onMemberSoundChanaged(e,t,n,this.confrId)},onTalking:function(e,t,n){this.mgr._onTalking(e,t,n,this.confrId)},onRoleUpdate:function(e,t){var n=this.mgr._confrs[this.confrId];t&&(n.roleToken=t),n.role=e,e==this.mgr.Role.AUDIENCE&&(n.av&&this.mgr.hungup(n.av),n.desktop&&this.mgr.hungup(n.desktop)),this.mgr._onRoleUpdated(e,this.confrId)},onNotifyEvent:function(e){var t=this;try{if(e instanceof emedia.event.ICEChanage){var n=e.webrtc,r=e.state;i.default.forEach(t._cacheStreams,(function(e,o){if(o.rtcId==n.getRtcId()){var s=i.default.extend({},o),a=i.default.extend({},o.owner);t.mgr._onStreamIceStateChanged(a,s,r,t.confrId)}}))}}finally{t.subject.next(e)}}})}t.default=u},function(e,t,n){"use strict";var r=n(2),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s=n(87),a=s.tagLogger("PannelVideo"),c=n(371),u=n(372),l=(n(164),n(165)),d=n(373);function f(e){f._overrideCount++,f.overrideObj!==e&&(f.overrideObj=e,p.override=e.listeners.onRemoveMember,p.overrideService=e,e.listeners.onRemoveMember=p)}function p(e,t){try{var n=e&&e.id&&T(p.overrideService,e.id);n&&n.length&&s.forEach(n,(function(t,n){a.warn("Remove member. free remote controller. it is ",n.id,n._ctrlStream.id,n._controller.memName,e.id),n._free(),n._callbacks&&n._callbacks.onRemoteFreeControl&&n._callbacks.onRemoteFreeControl(n._ctrlStream,n._controller,n._cId)}))}finally{p.override&&p.override.apply(this,arguments)}}function h(e){h._overrideCount++,h.overrideObj!==e&&(h.overrideObj=e,v.override=e.listeners.onRemoveStream,v.overrideService=e,e.listeners.onRemoveStream=v)}function m(e){}function v(e){b(v.overrideService,e),v.override&&v.override.apply(this,arguments)}function b(e,t){N(e,t.id);var n=E(e,t);n&&s.forEach(n,(function(e,t){t._free&&t._free()})),s.removeAttribute(e.current.__remoteControls,t.id)}function y(e){if(y._overrideCount++,y.overrideObj!==e){y.overrideObj=e;var t=e.onHungup;e.onHungup=function(n){b(e,n),t&&t.apply(this,arguments)}.bind(e)}}function g(e,t){if(g._overrideCount++,g.overrideObj!==e){g.overrideObj=e;var n=e._onRemotePannelControl;e._onRemotePannelControl=function(e){I(this,e,!1,t),n&&n.apply(this,arguments)}.bind(e)}}function _(e,t,n){var r=[];n&&s.forEach(n.actions,(function(e,t){t.xy&&r.push({x:Math.round(1e4*t.xy.x),y:Math.round(1e4*t.xy.y),oper:t.oper,btn:t.btn,sn:t.sn,_time:t._time}),t.xy||r.push({oper:t.oper,btn:t.btn,sn:t.sn,_time:t._time})}));var o={op2:30,evt:0,streamId:t.id,actions:r,cId:n.cId};return e.current.newMessage({op:1002,memId:t.owner.id,arg:(0,i.default)(o),_reqOps:[100230]})}function S(e){"string"===typeof e.arg&&(e.arg=JSON.parse(e.arg));var t=e.arg,n=[],r=[];t&&t.actions&&s.forEach(t.actions,(function(e,t){void 0!==t.x&&void 0!==t.y&&n.push({xy:{x:t.x/1e4,y:t.y/1e4},oper:t.oper,btn:t.btn,sn:t.sn,_time:t._time}),(void 0===t.x||void 0===t.y)&&r.push({oper:t.oper,btn:t.btn,sn:t.sn,_time:t._time})})),t.mouse=n,t.keyboard=r}f._overrideCount=0,h._overrideCount=0,y._overrideCount=0,g._overrideCount=0;var w=0,x=s.prototypeExtend({__init__:function(){this.id=w++},accept:function(e,t){var n=this;if(n.hasOtherControl())throw n.busy(),a.error("Other has been controled."),"Other has been controled.";var r=!1,i=E(this._service,this._ctrlStream,this._controller);if(i&&s.forEach(i,(function(e,t){t.id<n.id?t._free():r=!0})),r)n._free();else{var o=this._service.current.__remoteControls||(this._service.current.__remoteControls={});o[n.id]=n,U(this,e,t),C(this._service,this._reqevt,0)}},controlling:function(){var e=this,t=[],n=E(this._service,this._ctrlStream);return n&&s.forEach(n,(function(n,r){r._controller.memName===e._controller.memName&&t.push(r)})),t&&t.length?t:void 0},hasOtherControl:function(){var e=this,t=!1,n=E(this._service,this._ctrlStream);return n&&s.forEach(n,(function(n,r){r._controller.memName!=e._controller.memName&&(t=!0)})),t},busy:function(){C(this._service,this._reqevt,-403)},reject:function(){C(this._service,this._reqevt,-402)},_free:function(){s.removeAttribute(this._service.current.__remoteControls,this.id)},forceDisconnect:function(){var e=E(this._service,this._ctrlStream);e&&s.forEach(e,(function(e,t){t._free&&t._free()})),a.info("remote control force disconnect")}});function C(e,t,n){e.current.message({op:1001,tsxId:t.tsxId,memId:t.memId,arg:(0,i.default)({cId:t.arg.cId}),result:n}).post()}function O(e,t){C(e,t,-405)}function T(e,t,n){var r=[];return e.current.__remoteControls&&s.forEach(e.current.__remoteControls,(function(e,i){n&&i._ctrlStream.id!==n.id||t&&i._controller.id!==t||r.push(i)})),r}function E(e,t,n,r){var i=[];return e.current.__remoteControls&&s.forEach(e.current.__remoteControls,(function(e,o){t&&o._ctrlStream.id!==t.id||n&&o._controller.memName!==n.memName||r&&o._cId!==r||i.push(o)})),i}function I(e,t,n,r){S(t);var o=t.arg,c=o.cId,u=o.streamId,d=e.getMemberById(t.memId),f=e.getStreamById(u);function p(){if(!d||!f)return O(e,t),!0;if(1===o.evt){var n,i=new x({_service:e,_controller:d,_ctrlStream:f,_cId:c,_reqevt:t,_callbacks:r});return i.hasOtherControl()?(i.busy(),!0):(n=i.controlling())?(s.forEach(n,(function(e,t){t._cId=c})),C(e,t,0),!0):(r&&r.onHasRemoteControl&&r.onHasRemoteControl(f,d,i),!0)}if(2===o.evt){var a=E(e,f,d,c);return a&&s.forEach(a,(function(n,r){r._free&&r._free(),C(e,t,0)})),r&&r.onRemoteFreeControl&&r.onRemoteFreeControl(f,d,c),!0}}if(n||!p()){var h=E(e,f,d,c);if(n||h&&0!==h.length||O(e,t),h&&s.forEach(h,(function(e,t){t._lastRecvTimestamp=(new Date).getTime()})),n){var m=e.current.__remoteControls[f.id];h=h||[],m&&h.push(m)}s.forEach(h,(function(r,c){var u=0,d=o.mouse;if(d&&d.length>0)try{s.forEach(d,(function(e,t){t.sn>u&&(u=t.sn),t.oper===l.BTN.MOVE?c.mouseTrack&&c.mouseTrack.track(t.xy):c.mouseTrack&&c.mouseTrack.trigger(new l(t))}))}catch(p){a.warn(p)}d=o.keyboard;if(d&&d.length>0)try{s.forEach(d,(function(e,t){t.sn>u&&(u=t.sn),c.keyboard&&(t.oper===l.BTN.KEYBOARD_DOWN?c.keyboard.onKeyDown(t.btn):t.oper===l.BTN.KEYBOARD_UP&&c.keyboard.onKeyUp(t.btn))}))}catch(p){a.warn(p)}if(!0!==n)try{f()}catch(p){a.warn(p)}function f(){e.current.message({op:1001,tsxId:t.tsxId,memId:t.memId,arg:(0,i.default)({sn:u}),result:0}).post((function(e){a.debug("Send remote control response. the result = ",e.result,e.msg||"")}))}}))}}function k(e,t,n,r,i){r&&r()}function R(e,t,n,r,i){r&&r()}function P(e,t,n,r,i,o,s){var a=e.eventXYAtMedia(r,n);a&&(a={x:a.x/a.width,y:a.y/a.height},j(e,{xy:a,oper:l.BTN.MOVE,sid:t},s),o&&o(a,i))}function M(e,t,n,r,i,o,a){r.xy=e.eventXYAtMedia(r.xy,n),r.xy&&(r.xy={x:r.xy.x/r.xy.width,y:r.xy.y/r.xy.height},s.extend(r,{sid:t}),j(e,r,a),o&&o(r,i))}function A(e,t,n,r,i,o){j(e,{oper:n,btn:r,sid:t},o),i&&i(n,r)}function j(e,t,n){var r=t.sid,i=e.getStreamById(r);e.current.__remoteControls&&e.current.__remoteControls[r]&&I(e,_(e,i,{actions:[t]}),!0);var o=e.current.__pannelBuffers[r],c=o.getUnclearSize();if(o.put(t),c<emedia.config.allowSendWhenLessThan){var u=function t(){for(var c=o.getUnread(),u=0,l=0;c&&l<c.length;l++){var d=c[l];s.removeAttribute(d,"sid"),u<d.sn&&(u=d.sn)}c&&0!==c.length&&(a.debug(r,"buffer remain:",o.getUnclearSize(),", send evt:",c.length),e.current.postMessage(_(e,i,{actions:c,cId:o._cId}),(function(e){if(-402!==e.result)if(-403!==e.result)if(-408!==e.result){if(-507===e.result||-405===e.result)return o.clearRead(u),void(n&&n.onNotAllowRemoteControl&&n.onNotAllowRemoteControl(i));0===e.result&&(o._lastRspTimestamp=(new Date).getTime());var c=e.arg;c&&(c=JSON.parse(c))&&!s.isInt(c.sn)?a.warn("rsp.sn not a Number.",c.sn,"for streamId",r):c&&void 0!==c.sn&&o.clearRead(c.sn),t()}else n&&n.onRemoteControlTimeout&&n.onRemoteControlTimeout(i);else n&&n.onBusy&&n.onBusy(i);else n&&n.onReject&&n.onReject(i)})))};u()}}function N(e,t){var n,r=e.current.__pannelMouses&&s.removeAttribute(e.current.__pannelMouses,t),o=e.current.__pannelKeyboards&&s.removeAttribute(e.current.__pannelKeyboards,t);if(e.current.__pannelBuffers&&(n=s.removeAttribute(e.current.__pannelBuffers,t)),r&&r.ungrab(),o&&o.ungrab(),m(e),n){var c=e.getStreamById(t);if(n._callbacks&&n._callbacks.onDisControlled&&n._callbacks.onDisControlled(c),c){var u=e.current.newMessage({op:1002,memId:c.owner.id,arg:(0,i.default)({op2:30,streamId:c.id,evt:2,cId:n._cId}),_reqOps:[100230]});e.current.postMessage(u,(function(e){0!==e.result&&a.warn("Unkown resultï¼",e.result)}))}}}function D(e,t,n,r){var i={};s.forEach(arguments,(function(e,t){"function"===typeof t&&(i[t.name]=t)})),L(e,t,n,!0,r,i)}function B(e,t,n,r){var i={};s.forEach(arguments,(function(e,t){"function"===typeof t&&(i[t.name]=t)})),L(e,t,n,!1,r,i)}function L(e,t,n,r,o,s){var c=Math.uuidFast();c=c.substr(c.length-6,6);var u=e.getStreamById(t);if(!u._webrtc)throw s&&s.onNotAllowRemoteControl&&s.onNotAllowRemoteControl(u),a.error("Not allow control. cause by the stream not sub"),"Not allow control. cause by the stream not sub";var l={op2:30,streamId:u.id,evt:1,cId:c},d=e.current.newMessage({op:1002,memId:u.owner.id,arg:(0,i.default)(l),_reqOps:[100230]});e.current.postMessage(d,(function(i){if(-402!==i.result)if(-403!==i.result)if(-408!==i.result)if(-507!==i.result&&-405!==i.result){if(0===i.result)return F(e,t,n,r,o,s,c,!0),void(s&&s.onAccept&&s.onAccept(u));a.warn("Unkown resultï¼",i.result),s&&s.onNotAllowRemoteControl&&s.onNotAllowRemoteControl(u)}else s&&s.onNotAllowRemoteControl&&s.onNotAllowRemoteControl(u);else s&&s.onRemoteControlTimeout&&s.onRemoteControlTimeout(u);else s&&s.onBusy&&s.onBusy(u);else s&&s.onReject&&s.onReject(u)}))}function F(e,t,n,r,i,o,s,f){void 0===i&&(i=n);var p=e.getStreamById(t),h=(e.current.__pannelMouses||(e.current.__pannelMouses={}))[t];if(h&&N(e,t),!p.located()&&!p.owner.acptOps[1003])throw a.error("which do not recv remote message, it is ",p.owner.memName),p.owner.memName+" do not recv remote message";h=new c({_target:i,_focused:!0,onMouseEnter:function(){k.call(h,e,t,n,o&&o.onMouseEnter,o),m&&m.grab()},onMouseExit:function(){R.call(h,e,t,n,o&&o.onMouseExit,o),m&&m.ungrab()},onMouseButton:function(i,s){!0===r&&(i.xy.x=-i.xy.x),M.call(h,e,t,n,i,s,o&&o.onMouseButton,o)},onMouseMove:function(i,s){emedia.config.disableTrack||(!0===r&&(i.x=-i.x),P.call(h,e,t,n,i,s,o&&o.onMouseMove,o))}});var m,v=e.current.__pannelBuffers||(e.current.__pannelBuffers={});v[t]=new d({_cId:s,_callbacks:o,trackBufferSize:emedia.config.trackBufferSize||1e3});(e.current.__pannelMouses||(e.current.__pannelMouses={}))[t]=h,h.grab(),f&&(m=new u({_target:document,_focused:!0,onKeyPress:function(n,r){var i=r?l.BTN.KEYBOARD_DOWN:l.BTN.KEYBOARD_UP,s=n;A.call(m,e,t,i,s,o&&o.onKeyboard,o)}}),(e.current.__pannelKeyboards||(e.current.__pannelKeyboards={}))[t]=m)}function V(e,t,n,r){var i=new c({_target:e,_focused:!0,onMouseEnter:function(){},onMouseExit:function(){t.releaseTrigger()},onMouseButton:function(e,i){e.xy={x:e.xy.x/e.xy.width,y:e.xy.y/e.xy.height},!0===r&&(e.xy.x=-e.xy.x),n&&(e.xy=emedia.Service.prototype.eventXYAtMedia.call(null,e.xy,n)),e.xy&&t.trigger(e)},onMouseMove:function(e,i){e={x:e.x/e.width,y:e.y/e.height},!0===r&&(e.x=-e.x),n&&(e=emedia.Service.prototype.eventXYAtMedia.call(null,e,n)),e&&t.track(e)}});return i.grab(),i}function U(e,t,n){var r=t;r&&(e.mouseTrack=r),e.keyboard=n}function $(e){var t={};s.forEach(arguments,(function(e,n){0!=e&&"function"===typeof n&&(t[n.name]=n)})),y(e),h(e),f(e),g(e,t),G(e)}function W(e,t){var n=e.getStreamById(t),r=E(e,n);if(r&&0!==r.length)return r[0]._controller.memName}function z(e,t,n,r){var i=e.getStreamById(t),o={_ctrlStream:i,_controller:i.owner,_service:e};U(o,n,r),(e.current.__remoteControls||(e.current.__remoteControls={}))[t]=o}function H(e,t){s.removeAttribute(e.current.__remoteControls,t)}var G=function e(t){var n,r;(e.timeoutId&&clearTimeout(e.timeoutId),e.timeoutId=setTimeout((function(){e(t)}),emedia.config.ctrlCheckIntervalMillis),t.current)&&((n=t.current.__remoteControls)&&s.forEach(n,(function(e,t){if(void 0!==t.id&&e==t.id){var n=(new Date).getTime();t._lastRecvTimestamp&&n-t._lastRecvTimestamp>emedia.config.ctrlTimeoutMillis&&(a.warn("Timeout for remote controller. it is ",t.id,t._ctrlStream.id,t._controller.memName),t._free(),t._callbacks&&t._callbacks.onRemoteFreeControl&&t._callbacks.onRemoteFreeControl(t._ctrlStream,t._controller,t._cId))}})),(r=t.current.__pannelBuffers)&&s.forEach(r,(function(e,n){var r=t.getStreamById(e);r&&!r.located()&&t.current.message({op:1002,memId:r.owner.id,arg:(0,i.default)({op2:30,streamId:r.id,evt:3,cId:n._cId}),_reqOps:[100230]}).post((function(e){}))})))};e.exports={mirrorControlled:D,controlled:B,disControlled:N,controlling:U,graffiti:V,echoControl:z,disEchoControl:H,support:$,getController:W}},function(e,t,n){"use strict";var r=n(87),i=(r.tagLogger("Mouse"),n(165));e.exports=r.prototypeExtend({__init__:function(){this._handlers=r.extend({mousedown:this._handleMouseDown.bind(this),mouseup:this._handleMouseUp.bind(this),mousemove:this._handleMouseMove.bind(this),mousewheel:this._handleMouseWheel.bind(this),mousedisable:this._handleMouseDisable.bind(this),mouseover:this._handleMouseOver.bind(this),mouseout:this._handleMouseOut.bind(this)},this._handlers||{})},onMouseButton:function(e,t){},onMouseMove:function(e,t){},onMouseEnter:function(){},onMouseExit:function(){},_onMouseButton:function(e,t,n){var r=(new Date).getTime(),o=new i({xy:e,oper:t,btn:n,_time:r});this.onMouseButton&&this.onMouseButton(o,this._lastTrigger),this._lastTrigger=o},_onMouseMove:function(e){this.onMouseMove&&this.onMouseMove(e,this._lastTrigger)},_captureMouse:function(){this._target.setCapture&&this._target.setCapture(),this._mouseCaptured=!0},_releaseMouse:function(){this._target.releaseCapture&&this._target.releaseCapture(),this._mouseCaptured=!1},_resetDoubleClickTimer:function(){this._doubleClickTimer=null},_handleMouseOver:function(e){!1!==this._mouseExit&&(this._mouseExit=!1,this.onMouseEnter&&this.onMouseEnter())},_handleMouseOut:function(e){!0!==this._mouseExit&&(this._mouseExit=!0,this.onMouseExit&&this.onMouseExit()),this._lastTrigger=void 0},_handleMouseDown:function(e){this._captureMouse(),this._handleMouseButton(e,i.BTN.KEY_DOWN)},_handleMouseUp:function(e){this._mouseCaptured&&(this._handleMouseButton(e,i.BTN.KEY_UP),this._releaseMouse())},_handleMouseWheel:function(e){if(this._focused){e=e||window.event;var t=r.getEventElementXY(e,this._target,this._scale),n=(e.detail?-1*e.detail:e.wheelDelta/40)>0?i.BTN.WHEEL_ROLL_UP:i.BTN.WHEEL_ROLL_DOWN;this._onMouseButton(t,i.BTN.KEY_DOWN,n),r.stopEvent(e)}},_handleMouseMove:function(e){if(this._focused){e=e||window.event;var t=r.getEventElementXY(e,this._target,this._scale);this._onMouseMove(t),r.stopEvent(e)}},_handleMouseDisable:function(e){if(this._focused){e=e||window.event;var t=r.getEventElementXY(e,this._target,this._scale);try{return!(t.realX>=0&&t.realY>=0&&t.realX<this._target.offsetWidth&&t.realY<this._target.offsetHeight)}finally{r.stopEvent(e)}}},_handleMouseButton:function(e,t){if(this._focused){e=e||window.event;var n,o=r.getEventElementXY(e,this._target,this._scale);if(e.touches||e.changedTouches){if(t==i.BTN.KEY_DOWN){if(null===this._doubleClickTimer)this._lastTouchPos=o;else{clearTimeout(this._doubleClickTimer);var s=this._lastTouchPos.x-o.x,a=this._lastTouchPos.y-o.y;Math.sqrt(s*s+a*a)<20*window.devicePixelRatio&&(o=this._lastTouchPos)}this._doubleClickTimer=setTimeout(this._resetDoubleClickTimer.bind(this),500)}n=i.BTN.LEFT}else n=e.which?1<<e.button:(1&e.button)+2*(2&e.button)+(4&e.button)/2;this._onMouseButton(o,t,n),r.stopEvent(e)}},grab:function(){var e=this._target;r.addEvent(e,"mouseover",this._handlers.mouseover),r.addEvent(e,"mouseout",this._handlers.mouseout),r.addEvent(e,"touchstart",this._handlers.mousedown),r.addEvent(e,"touchend",this._handlers.mouseup),r.addEvent(e,"touchmove",this._handlers.mousemove),r.addEvent(e,"mousedown",this._handlers.mousedown),r.addEvent(e,"mouseup",this._handlers.mouseup),r.addEvent(e,"mousemove",this._handlers.mousemove),r.addEvent(e,r.layoutEngine.gecko?"DOMMouseScroll":"mousewheel",this._handlers.mousewheel),r.addEvent(e,"contextmenu",this._handlers.mousedisable)},ungrab:function(){var e=this._target;r.removeEvent(e,"mouseover",this._handlers.mouseover),r.removeEvent(e,"mouseout",this._handlers.mouseout),r.removeEvent(e,"touchstart",this._handlers.mousedown),r.removeEvent(e,"touchend",this._handlers.mouseup),r.removeEvent(e,"touchmove",this._handlers.mousemove),r.removeEvent(e,"mousedown",this._handlers.mousedown),r.removeEvent(e,"mouseup",this._handlers.mouseup),r.removeEvent(e,"mousemove",this._handlers.mousemove),r.removeEvent(e,r.layoutEngine.gecko?"DOMMouseScroll":"mousewheel",this._handlers.mousewheel),r.removeEvent(e,"contextmenu",this._handlers.mousedisable)}})},function(e,t,n){"use strict";var r=n(87),i=r.tagLogger("Keyboard");e.exports=r.prototypeExtend({__init__:function(){this._eventHandlers={keyup:this._handleKeyUp.bind(this),keydown:this._handleKeyDown.bind(this),keypress:this._handleKeyPress.bind(this),blur:this._allKeysUp.bind(this)}},getKey:function(e){return"keyCode"in e&&"key"in e?e.key+":"+e.keyCode:"keyCode"in e?e.keyCode:e.key},onKeyPress:function(e,t){},_onKeyPress:function(e,t){this.onKeyPress&&this.onKeyPress(e,t)},_handleRfbEvent:function(e,t){e.shiftKey,e.ctrlKey,e.altKey;var n=e.keyCode||e.which;this._onKeyPress(n,"keydown"==t)},_handleKeyDown:function(e){return!this._focused||!this._handleRfbEvent(e,"keydown")||(r.stopEvent(e),!1)},_handleKeyPress:function(e){return!this._focused||(r.stopEvent(e),!1)},_handleKeyUp:function(e){return!this._focused||!this._handleRfbEvent(e,"keyup")||(r.stopEvent(e),!1)},_allKeysUp:function(){},sync:function(e){},grab:function(){var e=this._target;r.addEvent(e,"keydown",this._eventHandlers.keydown),r.addEvent(e,"keyup",this._eventHandlers.keyup),r.addEvent(e,"keypress",this._eventHandlers.keypress),r.addEvent(e,"blur",this._eventHandlers.blur),i.info("keyboard grab at element")},ungrab:function(){var e=this._target;r.removeEvent(e,"keydown",this._eventHandlers.keydown),r.removeEvent(e,"keyup",this._eventHandlers.keyup),r.removeEvent(e,"keypress",this._eventHandlers.keypress),r.removeEvent(e,"blur",this._eventHandlers.blur),this._allKeysUp(),i.info("keyboard upgrab at element")}})},function(e,t,n){"use strict";var r=n(87),i=(r.tagLogger("TotalBuffer"),n(374)),o=n(375),s=n(165);e.exports=r.prototypeExtend({trackBufferSize:100,_trackBufferCompRadio:.25,_sn:1,__init__:function(){this._eventBuffer=new i({_nextsn:this._nextsn.bind(this)}),this._trackBuffer=new o({_nextsn:this._nextsn.bind(this),_compRadio:this._trackBufferCompRadio,mouseTrackBufferSize:this.trackBufferSize})},_nextsn:function(){return this._sn++},put:function(e){e&&void 0!==e.oper&&(e.oper===s.BTN.MOVE?this._trackBuffer.put(e):this._eventBuffer.put(e))},getUnread1:function(e){function t(e,t){return e._time-t.time}var n;if(!e){var r=this._eventBuffer.getUnread(),i=this._trackBuffer.getUnread();return Array.prototype.push.apply(r,i),n=r,n.sort(t),n}n=[];r=this._eventBuffer._getUnread(e),i=this._trackBuffer._getUnread(e);Array.prototype.push.apply(n,r),Array.prototype.push.apply(n,i),n.sort(t),n=n.slice(0,e>n.length?n.length:e);for(var o=0;o<n.length;o++)n[o].oper===s.BTN.MOVE?this._trackBuffer.getUnread(1):this._eventBuffer.getUnread(1);return n},getUnread:function(e){e||(e=this._eventBuffer.getUnreadSize()+this._trackBuffer.getUnreadSize());var t=[];while(t.length!==e){var n=this._eventBuffer._getUnread(1),r=this._trackBuffer._getUnread(1);if(void 0===n&&r)t.push(this._trackBuffer.getUnread(1));else if(void 0===r&&n)t.push(this._eventBuffer.getUnread(1));else{if(void 0===r&&void 0===n)return t;n.sn<r.sn?t.push(this._eventBuffer.getUnread(1)):t.push(this._trackBuffer.getUnread(1))}}return t},getUnreadSize:function(){return this._trackBuffer.getUnreadSize()+this._eventBuffer.getUnreadSize()},getUnclearSize:function(){return this._trackBuffer.getUnclearSize()+this._eventBuffer.getUnclearSize()},clearRead:function(e){return this._eventBuffer.clearRead(e)+this._trackBuffer.clearRead(e)}})},function(e,t,n){"use strict";var r=n(87);r.tagLogger("EventBuffer");e.exports=r.prototypeExtend({_buffer:[],_sn:1,_beginIndex:0,_readIndex:0,_endIndex:0,_nextsn:function(){return this._sn++},put:function(e){e&&(e.sn=this._nextsn(),this._buffer.push(e),this._endIndex++)},_getUnread:function(e){return this._readIndex===this._endIndex?1===e?void 0:[]:this._buffer[this._readIndex]},getUnread:function(e){var t;try{return t=this._getUnread(e),t}finally{t&&(this._readIndex+=1===e?1:t.length)}},getUnreadSize:function(){return this._endIndex-this._readIndex},getUnclearSize:function(){return this._readIndex-this._beginIndex},clearRead:function(e){if(this._readIndex!==this._beginIndex){for(var t=0,n=this._beginIndex;n<this._readIndex;n++){if(!(this._buffer[n].sn<=e))break;t++}if(0===t)return 0;for(n=0;n<t;n++)this._buffer.shift();return this._beginIndex=0,this._readIndex-=t,this._endIndex-=t,t}}})},function(e,t,n){"use strict";var r=n(87);r.tagLogger("TrackBuffer");e.exports=r.prototypeExtend({mouseTrackBufferSize:1e3,_sn:1,_compRadio:.25,_beginIndex:0,_readIndex:0,_endIndex:0,__init__:function(){this._mouseTrackBuffer=new Array(this.mouseTrackBufferSize)},_nextsn:function(){return this._sn++},_index:function(e){return e%this.mouseTrackBufferSize},comp1:function(e){if(!(e>=1)){var t=Math.floor(1/e),n=this._beginIndex,r=n+1;while(n<this._endIndex){for(var i=2;i<t&&n+i<this._endIndex;i++)this._mouseTrackBuffer[this._index(r++)]=this._mouseTrackBuffer[this._index(n+i)];n+=t}this._endIndex=r}},put1:function(e){if(e){e.sn=this._nextsn(),this._endIndex-this._readIndex===this.mouseTrackBufferSize&&(this.comp1(this._compRadio),this._readIndex=this._beginIndex);var t=this._index(this._beginIndex),n=(this._index(this._readIndex),this._index(this._endIndex)),r=n;r<=t&&r>=0&&this._endIndex>this._beginIndex&&this._beginIndex++,this._mouseTrackBuffer[r]=e,this._endIndex++}},compHalfOfUnread:function(){var e=this._readIndex+2,t=this._readIndex+1;while(e<this._endIndex)this._mouseTrackBuffer[this._index(t++)]=this._mouseTrackBuffer[this._index(e)],e+=2;this._endIndex=t},put:function(e){if(e){e.sn=this._nextsn(),this._endIndex-this._beginIndex===this.mouseTrackBufferSize&&this.compHalfOfUnread();var t=this._index(this._endIndex);this._mouseTrackBuffer[t]=e,this._endIndex++}},_interval:function(e,t){var n=this._index(e),r=this._index(t);if(n<r)return this._mouseTrackBuffer.slice(n,r);var i=this._mouseTrackBuffer.slice(n);return Array.prototype.push.apply(i,this._mouseTrackBuffer.slice(0,r)),i},_getUnread:function(e){return this._readIndex===this._endIndex?1===e?void 0:[]:this._mouseTrackBuffer[this._index(this._readIndex)]},getUnread:function(e){var t;try{return t=this._getUnread(e),t}finally{t&&(this._readIndex+=1===e?1:t.length)}},getUnreadSize:function(){return this._endIndex-this._readIndex},getUnclearSize:function(){return this._readIndex-this._beginIndex},clearRead:function(e){if(this._readIndex!==this._beginIndex){for(var t=0,n=this._beginIndex;n<this._readIndex;n++){var r=this._index(n);if(!(this._mouseTrackBuffer[r].sn<=e))break;this._beginIndex++,t++}return t}}})},function(e,t,n){"use strict";var r=n(87),i=r.tagLogger("CompositeCanvas");function o(){}for(var s in CanvasRenderingContext2D.prototype)(function(e){o.prototype[e]=function(){if("function"===typeof this._canvasContext[e])this._canvasContext[e].apply(this._canvasContext,arguments);else{var t=arguments.length>=1?arguments[0]:void 0;if(!t)return this._canvasContext[e];this._canvasContext[e]=t}}})(s);var a=r.prototypeExtend(o,{__init__:function(){var e=this;e.compositeCanvasTag||(e.compositeCanvasTag=document.createElement("canvas")),e._canvasContext=e.compositeCanvasTag.getContext("2d"),e._canvasContext.globalAlpha=void 0!==this._globalAlpha?this._globalAlpha:1,e._compositeOperation=e._compositeOperation||c.source_over,e.globalCompositeOperation(e._compositeOperation)},setCanvas:function(){for(var e,t=this,n=0;n<arguments.length;n++)e=arguments[n],"function"===typeof e&&e(this.compositeCanvasTag,this._canvasContext),"function"!==typeof e&&r.isPlainObject(e)&&r.forEach(e,(function(e,n){i.debug("Canvas set ",e," = ",n),t.compositeCanvasTag.setAttribute(e,n)}));return t},getCanvasImageData:function(e,t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e.getContext("2d");return i.globalAlpha=t||0,i.getImageData.apply(i,n)},_composite:function(e){var t=this;return new a(t,{_compositeOperation:e})},composite:function(e){var t=this;return t.globalCompositeOperation(e),t},requestAnimationFrame:function(e){var t=this;return t.requestFrame(),t._requestAnimationFrameStart=window.requestAnimationFrame((function(e){t.requestAnimationFrame(e)})),t},cancelAnimationFrame:function(){var e=this;return e._requestAnimationFrameStart&&window.cancelAnimationFrame(e._requestAnimationFrameStart),e},requestFrame:function(e){var t,n=this;if("function"!==typeof this.requestOneFrame)throw i.error("Pleas implement requestOneFrame()"),"Pleas implement requestOneFrame()";try{this.requestOneFrame()}catch(o){i.error(o)}if(e&&(t=Math.floor(1e3/e)),!t)return n;var r=this.requestFrame.bind(this);return this.intervalId=setInterval((function(){r(e)}),t),n},stopRequestFrame:function(){return this.intervalId&&clearInterval(this.intervalId),this}});a.CompositeOperation=["source-atop","source-in","source-out","source-over","destination-atop","destination-in","destination-out","destination-over","lighter","darker","xor","copy"];var c=a.operation={source_atop:"source-atop",source_in:"source-in",source_out:"source-out",source_over:"source-over",destination_atop:"destination-atop",destination_in:"destination-in",destination_out:"destination-out",destination_over:"destination-over",lighter:"lighter",darker:"darker",xor:"xor",copy:"copy"};a.compositeVideoOverCanvas=function(e,t,n){var r;return(r=e.compositeCanvas)||(r=new a({compositeCanvasTag:e,requestOneFrame:function(){t&&r.drawImage(t,0,0,e.width,e.height),n&&r.drawImage(n,0,0,e.width,e.height)}}),e.compositeCanvas=r),r},e.exports=a},function(e,t,n){"use strict";var r=n(87);r.tagLogger("Keyboard");e.exports=r.prototypeExtend({onKeyDown:function(e){},onKeyUp:function(e){}})},function(e,t,n){"use strict";window.emedia=window.emedia||{};var r=n(87),i=r.tagLogger("electron");emedia.electron=window.require("electron"),emedia.chooseElectronDesktopMedia=function(e,t,n){i.info("Choose desktop. ",e[0]),t(e[0])}}])}))},"189d":function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},"199f":function(e,t,n){var r=n("09e4"),i=n("2439").f,o=n("3261"),s=n("7024"),a=n("79ae"),c=n("2d0a"),u=n("25d0");e.exports=function(e,t){var n,l,d,f,p,h,m=e.target,v=e.global,b=e.stat;if(l=v?r:b?r[m]||a(m,{}):(r[m]||{}).prototype,l)for(d in t){if(p=t[d],e.noTargetGet?(h=i(l,d),f=h&&h.value):f=l[d],n=u(v?d:m+(b?".":"#")+d,e.forced),!n&&void 0!==f){if(typeof p===typeof f)continue;c(p,f)}(e.sham||f&&f.sham)&&o(p,"sham",!0),s(l,d,p,e)}}},"1d2b":function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1fc1":function(e,t){e.exports={}},"20a7":function(e,t,n){var r=n("a714");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},"23cb":function(e,t,n){var r=n("a691"),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},"23e7":function(e,t,n){var r=n("da84"),i=n("06cf").f,o=n("9112"),s=n("6eeb"),a=n("ce4e"),c=n("e893"),u=n("94ca");e.exports=function(e,t){var n,l,d,f,p,h,m=e.target,v=e.global,b=e.stat;if(l=v?r:b?r[m]||a(m,{}):(r[m]||{}).prototype,l)for(d in t){if(p=t[d],e.noTargetGet?(h=i(l,d),f=h&&h.value):f=l[d],n=u(v?d:m+(b?".":"#")+d,e.forced),!n&&void 0!==f){if(typeof p===typeof f)continue;c(p,f)}(e.sham||f&&f.sham)&&o(p,"sham",!0),s(l,d,p,e)}}},"241c":function(e,t,n){var r=n("ca84"),i=n("7839"),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},2439:function(e,t,n){var r=n("0368"),i=n("0e17"),o=n("8d23"),s=n("a84f"),a=n("fe68"),c=n("7f34"),u=n("bf45"),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=s(e),t=a(t,!0),u)try{return l(e,t)}catch(n){}if(c(e,t))return o(!i.f.call(e,t),e[t])}},2444:function(e,t,n){"use strict";(function(t){var r=n("c532"),i=n("c8af"),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function a(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t)&&(e=n("b50d")),e}var c={adapter:a(),transformRequest:[function(e,t){return i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(o)})),e.exports=c}).call(this,n("4362"))},"25d0":function(e,t,n){var r=n("a714"),i=/#|\.prototype\./,o=function(e,t){var n=a[s(e)];return n==u||n!=c&&("function"==typeof t?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},2877:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):i&&(c=a?function(){i.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},"2b0e":function(e,t,n){"use strict";n.r(t),function(e){
/*!
 * Vue.js v2.6.11
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function r(e){return void 0===e||null===e}function i(e){return void 0!==e&&null!==e}function o(e){return!0===e}function s(e){return!1===e}function a(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function c(e){return null!==e&&"object"===typeof e}var u=Object.prototype.toString;function l(e){return"[object Object]"===u.call(e)}function d(e){return"[object RegExp]"===u.call(e)}function f(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function p(e){return i(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function h(e){return null==e?"":Array.isArray(e)||l(e)&&e.toString===u?JSON.stringify(e,null,2):String(e)}function m(e){var t=parseFloat(e);return isNaN(t)?e:t}function v(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}v("slot,component",!0);var b=v("key,ref,slot,slot-scope,is");function y(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var g=Object.prototype.hasOwnProperty;function _(e,t){return g.call(e,t)}function S(e){var t=Object.create(null);return function(n){var r=t[n];return r||(t[n]=e(n))}}var w=/-(\w)/g,x=S((function(e){return e.replace(w,(function(e,t){return t?t.toUpperCase():""}))})),C=S((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),O=/\B([A-Z])/g,T=S((function(e){return e.replace(O,"-$1").toLowerCase()}));function E(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function I(e,t){return e.bind(t)}var k=Function.prototype.bind?I:E;function R(e,t){t=t||0;var n=e.length-t,r=new Array(n);while(n--)r[n]=e[n+t];return r}function P(e,t){for(var n in t)e[n]=t[n];return e}function M(e){for(var t={},n=0;n<e.length;n++)e[n]&&P(t,e[n]);return t}function A(e,t,n){}var j=function(e,t,n){return!1},N=function(e){return e};function D(e,t){if(e===t)return!0;var n=c(e),r=c(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var i=Array.isArray(e),o=Array.isArray(t);if(i&&o)return e.length===t.length&&e.every((function(e,n){return D(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(i||o)return!1;var s=Object.keys(e),a=Object.keys(t);return s.length===a.length&&s.every((function(n){return D(e[n],t[n])}))}catch(u){return!1}}function B(e,t){for(var n=0;n<e.length;n++)if(D(e[n],t))return n;return-1}function L(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var F="data-server-rendered",V=["component","directive","filter"],U=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],$={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:j,isReservedAttr:j,isUnknownElement:j,getTagNamespace:A,parsePlatformTagName:N,mustUseProp:j,async:!0,_lifecycleHooks:U},W=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function z(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function H(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var G=new RegExp("[^"+W.source+".$_\\d]");function q(e){if(!G.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}var K,Y="__proto__"in{},J="undefined"!==typeof window,X="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Z=X&&WXEnvironment.platform.toLowerCase(),Q=J&&window.navigator.userAgent.toLowerCase(),ee=Q&&/msie|trident/.test(Q),te=Q&&Q.indexOf("msie 9.0")>0,ne=Q&&Q.indexOf("edge/")>0,re=(Q&&Q.indexOf("android"),Q&&/iphone|ipad|ipod|ios/.test(Q)||"ios"===Z),ie=(Q&&/chrome\/\d+/.test(Q),Q&&/phantomjs/.test(Q),Q&&Q.match(/firefox\/(\d+)/)),oe={}.watch,se=!1;if(J)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){se=!0}}),window.addEventListener("test-passive",null,ae)}catch(xs){}var ce=function(){return void 0===K&&(K=!J&&!X&&"undefined"!==typeof e&&(e["process"]&&"server"===e["process"].env.VUE_ENV)),K},ue=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function le(e){return"function"===typeof e&&/native code/.test(e.toString())}var de,fe="undefined"!==typeof Symbol&&le(Symbol)&&"undefined"!==typeof Reflect&&le(Reflect.ownKeys);de="undefined"!==typeof Set&&le(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var pe=A,he=0,me=function(){this.id=he++,this.subs=[]};me.prototype.addSub=function(e){this.subs.push(e)},me.prototype.removeSub=function(e){y(this.subs,e)},me.prototype.depend=function(){me.target&&me.target.addDep(this)},me.prototype.notify=function(){var e=this.subs.slice();for(var t=0,n=e.length;t<n;t++)e[t].update()},me.target=null;var ve=[];function be(e){ve.push(e),me.target=e}function ye(){ve.pop(),me.target=ve[ve.length-1]}var ge=function(e,t,n,r,i,o,s,a){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},_e={child:{configurable:!0}};_e.child.get=function(){return this.componentInstance},Object.defineProperties(ge.prototype,_e);var Se=function(e){void 0===e&&(e="");var t=new ge;return t.text=e,t.isComment=!0,t};function we(e){return new ge(void 0,void 0,void 0,String(e))}function xe(e){var t=new ge(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var Ce=Array.prototype,Oe=Object.create(Ce),Te=["push","pop","shift","unshift","splice","sort","reverse"];Te.forEach((function(e){var t=Ce[e];H(Oe,e,(function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];var i,o=t.apply(this,n),s=this.__ob__;switch(e){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2);break}return i&&s.observeArray(i),s.dep.notify(),o}))}));var Ee=Object.getOwnPropertyNames(Oe),Ie=!0;function ke(e){Ie=e}var Re=function(e){this.value=e,this.dep=new me,this.vmCount=0,H(e,"__ob__",this),Array.isArray(e)?(Y?Pe(e,Oe):Me(e,Oe,Ee),this.observeArray(e)):this.walk(e)};function Pe(e,t){e.__proto__=t}function Me(e,t,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];H(e,o,t[o])}}function Ae(e,t){var n;if(c(e)&&!(e instanceof ge))return _(e,"__ob__")&&e.__ob__ instanceof Re?n=e.__ob__:Ie&&!ce()&&(Array.isArray(e)||l(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Re(e)),t&&n&&n.vmCount++,n}function je(e,t,n,r,i){var o=new me,s=Object.getOwnPropertyDescriptor(e,t);if(!s||!1!==s.configurable){var a=s&&s.get,c=s&&s.set;a&&!c||2!==arguments.length||(n=e[t]);var u=!i&&Ae(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=a?a.call(e):n;return me.target&&(o.depend(),u&&(u.dep.depend(),Array.isArray(t)&&Be(t))),t},set:function(t){var r=a?a.call(e):n;t===r||t!==t&&r!==r||a&&!c||(c?c.call(e,t):n=t,u=!i&&Ae(t),o.notify())}})}}function Ne(e,t,n){if(Array.isArray(e)&&f(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?n:r?(je(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function De(e,t){if(Array.isArray(e)&&f(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||_(e,t)&&(delete e[t],n&&n.dep.notify())}}function Be(e){for(var t=void 0,n=0,r=e.length;n<r;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&Be(t)}Re.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)je(e,t[n])},Re.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)Ae(e[t])};var Le=$.optionMergeStrategies;function Fe(e,t){if(!t)return e;for(var n,r,i,o=fe?Reflect.ownKeys(t):Object.keys(t),s=0;s<o.length;s++)n=o[s],"__ob__"!==n&&(r=e[n],i=t[n],_(e,n)?r!==i&&l(r)&&l(i)&&Fe(r,i):Ne(e,n,i));return e}function Ve(e,t,n){return n?function(){var r="function"===typeof t?t.call(n,n):t,i="function"===typeof e?e.call(n,n):e;return r?Fe(r,i):i}:t?e?function(){return Fe("function"===typeof t?t.call(this,this):t,"function"===typeof e?e.call(this,this):e)}:t:e}function Ue(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?$e(n):n}function $e(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function We(e,t,n,r){var i=Object.create(e||null);return t?P(i,t):i}Le.data=function(e,t,n){return n?Ve(e,t,n):t&&"function"!==typeof t?e:Ve(e,t)},U.forEach((function(e){Le[e]=Ue})),V.forEach((function(e){Le[e+"s"]=We})),Le.watch=function(e,t,n,r){if(e===oe&&(e=void 0),t===oe&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var i={};for(var o in P(i,e),t){var s=i[o],a=t[o];s&&!Array.isArray(s)&&(s=[s]),i[o]=s?s.concat(a):Array.isArray(a)?a:[a]}return i},Le.props=Le.methods=Le.inject=Le.computed=function(e,t,n,r){if(!e)return t;var i=Object.create(null);return P(i,e),t&&P(i,t),i},Le.provide=Ve;var ze=function(e,t){return void 0===t?e:t};function He(e,t){var n=e.props;if(n){var r,i,o,s={};if(Array.isArray(n)){r=n.length;while(r--)i=n[r],"string"===typeof i&&(o=x(i),s[o]={type:null})}else if(l(n))for(var a in n)i=n[a],o=x(a),s[o]=l(i)?i:{type:i};else 0;e.props=s}}function Ge(e,t){var n=e.inject;if(n){var r=e.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(l(n))for(var o in n){var s=n[o];r[o]=l(s)?P({from:o},s):{from:s}}else 0}}function qe(e){var t=e.directives;if(t)for(var n in t){var r=t[n];"function"===typeof r&&(t[n]={bind:r,update:r})}}function Ke(e,t,n){if("function"===typeof t&&(t=t.options),He(t,n),Ge(t,n),qe(t),!t._base&&(t.extends&&(e=Ke(e,t.extends,n)),t.mixins))for(var r=0,i=t.mixins.length;r<i;r++)e=Ke(e,t.mixins[r],n);var o,s={};for(o in e)a(o);for(o in t)_(e,o)||a(o);function a(r){var i=Le[r]||ze;s[r]=i(e[r],t[r],n,r)}return s}function Ye(e,t,n,r){if("string"===typeof n){var i=e[t];if(_(i,n))return i[n];var o=x(n);if(_(i,o))return i[o];var s=C(o);if(_(i,s))return i[s];var a=i[n]||i[o]||i[s];return a}}function Je(e,t,n,r){var i=t[e],o=!_(n,e),s=n[e],a=et(Boolean,i.type);if(a>-1)if(o&&!_(i,"default"))s=!1;else if(""===s||s===T(e)){var c=et(String,i.type);(c<0||a<c)&&(s=!0)}if(void 0===s){s=Xe(r,i,e);var u=Ie;ke(!0),Ae(s),ke(u)}return s}function Xe(e,t,n){if(_(t,"default")){var r=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"===typeof r&&"Function"!==Ze(t.type)?r.call(e):r}}function Ze(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Qe(e,t){return Ze(e)===Ze(t)}function et(e,t){if(!Array.isArray(t))return Qe(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(Qe(t[n],e))return n;return-1}function tt(e,t,n){be();try{if(t){var r=t;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var s=!1===i[o].call(r,e,t,n);if(s)return}catch(xs){rt(xs,r,"errorCaptured hook")}}}rt(e,t,n)}finally{ye()}}function nt(e,t,n,r,i){var o;try{o=n?e.apply(t,n):e.call(t),o&&!o._isVue&&p(o)&&!o._handled&&(o.catch((function(e){return tt(e,r,i+" (Promise/async)")})),o._handled=!0)}catch(xs){tt(xs,r,i)}return o}function rt(e,t,n){if($.errorHandler)try{return $.errorHandler.call(null,e,t,n)}catch(xs){xs!==e&&it(xs,null,"config.errorHandler")}it(e,t,n)}function it(e,t,n){if(!J&&!X||"undefined"===typeof console)throw e;console.error(e)}var ot,st=!1,at=[],ct=!1;function ut(){ct=!1;var e=at.slice(0);at.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&le(Promise)){var lt=Promise.resolve();ot=function(){lt.then(ut),re&&setTimeout(A)},st=!0}else if(ee||"undefined"===typeof MutationObserver||!le(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())ot="undefined"!==typeof setImmediate&&le(setImmediate)?function(){setImmediate(ut)}:function(){setTimeout(ut,0)};else{var dt=1,ft=new MutationObserver(ut),pt=document.createTextNode(String(dt));ft.observe(pt,{characterData:!0}),ot=function(){dt=(dt+1)%2,pt.data=String(dt)},st=!0}function ht(e,t){var n;if(at.push((function(){if(e)try{e.call(t)}catch(xs){tt(xs,t,"nextTick")}else n&&n(t)})),ct||(ct=!0,ot()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){n=e}))}var mt=new de;function vt(e){bt(e,mt),mt.clear()}function bt(e,t){var n,r,i=Array.isArray(e);if(!(!i&&!c(e)||Object.isFrozen(e)||e instanceof ge)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(i){n=e.length;while(n--)bt(e[n],t)}else{r=Object.keys(e),n=r.length;while(n--)bt(e[r[n]],t)}}}var yt=S((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var n="~"===e.charAt(0);e=n?e.slice(1):e;var r="!"===e.charAt(0);return e=r?e.slice(1):e,{name:e,once:n,capture:r,passive:t}}));function gt(e,t){function n(){var e=arguments,r=n.fns;if(!Array.isArray(r))return nt(r,null,arguments,t,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)nt(i[o],null,e,t,"v-on handler")}return n.fns=e,n}function _t(e,t,n,i,s,a){var c,u,l,d;for(c in e)u=e[c],l=t[c],d=yt(c),r(u)||(r(l)?(r(u.fns)&&(u=e[c]=gt(u,a)),o(d.once)&&(u=e[c]=s(d.name,u,d.capture)),n(d.name,u,d.capture,d.passive,d.params)):u!==l&&(l.fns=u,e[c]=l));for(c in t)r(e[c])&&(d=yt(c),i(d.name,t[c],d.capture))}function St(e,t,n){var s;e instanceof ge&&(e=e.data.hook||(e.data.hook={}));var a=e[t];function c(){n.apply(this,arguments),y(s.fns,c)}r(a)?s=gt([c]):i(a.fns)&&o(a.merged)?(s=a,s.fns.push(c)):s=gt([a,c]),s.merged=!0,e[t]=s}function wt(e,t,n){var o=t.options.props;if(!r(o)){var s={},a=e.attrs,c=e.props;if(i(a)||i(c))for(var u in o){var l=T(u);xt(s,c,u,l,!0)||xt(s,a,u,l,!1)}return s}}function xt(e,t,n,r,o){if(i(t)){if(_(t,n))return e[n]=t[n],o||delete t[n],!0;if(_(t,r))return e[n]=t[r],o||delete t[r],!0}return!1}function Ct(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function Ot(e){return a(e)?[we(e)]:Array.isArray(e)?Et(e):void 0}function Tt(e){return i(e)&&i(e.text)&&s(e.isComment)}function Et(e,t){var n,s,c,u,l=[];for(n=0;n<e.length;n++)s=e[n],r(s)||"boolean"===typeof s||(c=l.length-1,u=l[c],Array.isArray(s)?s.length>0&&(s=Et(s,(t||"")+"_"+n),Tt(s[0])&&Tt(u)&&(l[c]=we(u.text+s[0].text),s.shift()),l.push.apply(l,s)):a(s)?Tt(u)?l[c]=we(u.text+s):""!==s&&l.push(we(s)):Tt(s)&&Tt(u)?l[c]=we(u.text+s.text):(o(e._isVList)&&i(s.tag)&&r(s.key)&&i(t)&&(s.key="__vlist"+t+"_"+n+"__"),l.push(s)));return l}function It(e){var t=e.$options.provide;t&&(e._provided="function"===typeof t?t.call(e):t)}function kt(e){var t=Rt(e.$options.inject,e);t&&(ke(!1),Object.keys(t).forEach((function(n){je(e,n,t[n])})),ke(!0))}function Rt(e,t){if(e){for(var n=Object.create(null),r=fe?Reflect.ownKeys(e):Object.keys(e),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var s=e[o].from,a=t;while(a){if(a._provided&&_(a._provided,s)){n[o]=a._provided[s];break}a=a.$parent}if(!a)if("default"in e[o]){var c=e[o].default;n[o]="function"===typeof c?c.call(t):c}else 0}}return n}}function Pt(e,t){if(!e||!e.length)return{};for(var n={},r=0,i=e.length;r<i;r++){var o=e[r],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==t&&o.fnContext!==t||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var a=s.slot,c=n[a]||(n[a]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var u in n)n[u].every(Mt)&&delete n[u];return n}function Mt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function At(e,t,r){var i,o=Object.keys(t).length>0,s=e?!!e.$stable:!o,a=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(s&&r&&r!==n&&a===r.$key&&!o&&!r.$hasNormal)return r;for(var c in i={},e)e[c]&&"$"!==c[0]&&(i[c]=jt(t,c,e[c]))}else i={};for(var u in t)u in i||(i[u]=Nt(t,u));return e&&Object.isExtensible(e)&&(e._normalized=i),H(i,"$stable",s),H(i,"$key",a),H(i,"$hasNormal",o),i}function jt(e,t,n){var r=function(){var e=arguments.length?n.apply(null,arguments):n({});return e=e&&"object"===typeof e&&!Array.isArray(e)?[e]:Ot(e),e&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:r,enumerable:!0,configurable:!0}),r}function Nt(e,t){return function(){return e[t]}}function Dt(e,t){var n,r,o,s,a;if(Array.isArray(e)||"string"===typeof e)for(n=new Array(e.length),r=0,o=e.length;r<o;r++)n[r]=t(e[r],r);else if("number"===typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(c(e))if(fe&&e[Symbol.iterator]){n=[];var u=e[Symbol.iterator](),l=u.next();while(!l.done)n.push(t(l.value,n.length)),l=u.next()}else for(s=Object.keys(e),n=new Array(s.length),r=0,o=s.length;r<o;r++)a=s[r],n[r]=t(e[a],a,r);return i(n)||(n=[]),n._isVList=!0,n}function Bt(e,t,n,r){var i,o=this.$scopedSlots[e];o?(n=n||{},r&&(n=P(P({},r),n)),i=o(n)||t):i=this.$slots[e]||t;var s=n&&n.slot;return s?this.$createElement("template",{slot:s},i):i}function Lt(e){return Ye(this.$options,"filters",e,!0)||N}function Ft(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function Vt(e,t,n,r,i){var o=$.keyCodes[t]||n;return i&&r&&!$.keyCodes[t]?Ft(i,r):o?Ft(o,e):r?T(r)!==t:void 0}function Ut(e,t,n,r,i){if(n)if(c(n)){var o;Array.isArray(n)&&(n=M(n));var s=function(s){if("class"===s||"style"===s||b(s))o=e;else{var a=e.attrs&&e.attrs.type;o=r||$.mustUseProp(t,a,s)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var c=x(s),u=T(s);if(!(c in o)&&!(u in o)&&(o[s]=n[s],i)){var l=e.on||(e.on={});l["update:"+s]=function(e){n[s]=e}}};for(var a in n)s(a)}else;return e}function $t(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t||(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),zt(r,"__static__"+e,!1)),r}function Wt(e,t,n){return zt(e,"__once__"+t+(n?"_"+n:""),!0),e}function zt(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!==typeof e[r]&&Ht(e[r],t+"_"+r,n);else Ht(e,t,n)}function Ht(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function Gt(e,t){if(t)if(l(t)){var n=e.on=e.on?P({},e.on):{};for(var r in t){var i=n[r],o=t[r];n[r]=i?[].concat(i,o):o}}else;return e}function qt(e,t,n,r){t=t||{$stable:!n};for(var i=0;i<e.length;i++){var o=e[i];Array.isArray(o)?qt(o,t,n):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return r&&(t.$key=r),t}function Kt(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];"string"===typeof r&&r&&(e[t[n]]=t[n+1])}return e}function Yt(e,t){return"string"===typeof e?t+e:e}function Jt(e){e._o=Wt,e._n=m,e._s=h,e._l=Dt,e._t=Bt,e._q=D,e._i=B,e._m=$t,e._f=Lt,e._k=Vt,e._b=Ut,e._v=we,e._e=Se,e._u=qt,e._g=Gt,e._d=Kt,e._p=Yt}function Xt(e,t,r,i,s){var a,c=this,u=s.options;_(i,"_uid")?(a=Object.create(i),a._original=i):(a=i,i=i._original);var l=o(u._compiled),d=!l;this.data=e,this.props=t,this.children=r,this.parent=i,this.listeners=e.on||n,this.injections=Rt(u.inject,i),this.slots=function(){return c.$slots||At(e.scopedSlots,c.$slots=Pt(r,i)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return At(e.scopedSlots,this.slots())}}),l&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=At(e.scopedSlots,this.$slots)),u._scopeId?this._c=function(e,t,n,r){var o=dn(a,e,t,n,r,d);return o&&!Array.isArray(o)&&(o.fnScopeId=u._scopeId,o.fnContext=i),o}:this._c=function(e,t,n,r){return dn(a,e,t,n,r,d)}}function Zt(e,t,r,o,s){var a=e.options,c={},u=a.props;if(i(u))for(var l in u)c[l]=Je(l,u,t||n);else i(r.attrs)&&en(c,r.attrs),i(r.props)&&en(c,r.props);var d=new Xt(r,c,s,o,e),f=a.render.call(null,d._c,d);if(f instanceof ge)return Qt(f,r,d.parent,a,d);if(Array.isArray(f)){for(var p=Ot(f)||[],h=new Array(p.length),m=0;m<p.length;m++)h[m]=Qt(p[m],r,d.parent,a,d);return h}}function Qt(e,t,n,r,i){var o=xe(e);return o.fnContext=n,o.fnOptions=r,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function en(e,t){for(var n in t)e[x(n)]=t[n]}Jt(Xt.prototype);var tn={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;tn.prepatch(n,n)}else{var r=e.componentInstance=on(e,Rn);r.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions,r=t.componentInstance=e.componentInstance;Nn(r,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,Fn(n,"mounted")),e.data.keepAlive&&(t._isMounted?Zn(n):Bn(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Ln(t,!0):t.$destroy())}},nn=Object.keys(tn);function rn(e,t,n,s,a){if(!r(e)){var u=n.$options._base;if(c(e)&&(e=u.extend(e)),"function"===typeof e){var l;if(r(e.cid)&&(l=e,e=Sn(l,u),void 0===e))return _n(l,t,n,s,a);t=t||{},Sr(e),i(t.model)&&cn(e.options,t);var d=wt(t,e,a);if(o(e.options.functional))return Zt(e,d,t,n,s);var f=t.on;if(t.on=t.nativeOn,o(e.options.abstract)){var p=t.slot;t={},p&&(t.slot=p)}sn(t);var h=e.options.name||a,m=new ge("vue-component-"+e.cid+(h?"-"+h:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:d,listeners:f,tag:a,children:s},l);return m}}}function on(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(n)}function sn(e){for(var t=e.hook||(e.hook={}),n=0;n<nn.length;n++){var r=nn[n],i=t[r],o=tn[r];i===o||i&&i._merged||(t[r]=i?an(o,i):o)}}function an(e,t){var n=function(n,r){e(n,r),t(n,r)};return n._merged=!0,n}function cn(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var o=t.on||(t.on={}),s=o[r],a=t.model.callback;i(s)?(Array.isArray(s)?-1===s.indexOf(a):s!==a)&&(o[r]=[a].concat(s)):o[r]=a}var un=1,ln=2;function dn(e,t,n,r,i,s){return(Array.isArray(n)||a(n))&&(i=r,r=n,n=void 0),o(s)&&(i=ln),fn(e,t,n,r,i)}function fn(e,t,n,r,o){if(i(n)&&i(n.__ob__))return Se();if(i(n)&&i(n.is)&&(t=n.is),!t)return Se();var s,a,c;(Array.isArray(r)&&"function"===typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===ln?r=Ot(r):o===un&&(r=Ct(r)),"string"===typeof t)?(a=e.$vnode&&e.$vnode.ns||$.getTagNamespace(t),s=$.isReservedTag(t)?new ge($.parsePlatformTagName(t),n,r,void 0,void 0,e):n&&n.pre||!i(c=Ye(e.$options,"components",t))?new ge(t,n,r,void 0,void 0,e):rn(c,n,e,r,t)):s=rn(t,n,e,r);return Array.isArray(s)?s:i(s)?(i(a)&&pn(s,a),i(n)&&hn(n),s):Se()}function pn(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),i(e.children))for(var s=0,a=e.children.length;s<a;s++){var c=e.children[s];i(c.tag)&&(r(c.ns)||o(n)&&"svg"!==c.tag)&&pn(c,t,n)}}function hn(e){c(e.style)&&vt(e.style),c(e.class)&&vt(e.class)}function mn(e){e._vnode=null,e._staticTrees=null;var t=e.$options,r=e.$vnode=t._parentVnode,i=r&&r.context;e.$slots=Pt(t._renderChildren,i),e.$scopedSlots=n,e._c=function(t,n,r,i){return dn(e,t,n,r,i,!1)},e.$createElement=function(t,n,r,i){return dn(e,t,n,r,i,!0)};var o=r&&r.data;je(e,"$attrs",o&&o.attrs||n,null,!0),je(e,"$listeners",t._parentListeners||n,null,!0)}var vn,bn=null;function yn(e){Jt(e.prototype),e.prototype.$nextTick=function(e){return ht(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,r=n.render,i=n._parentVnode;i&&(t.$scopedSlots=At(i.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=i;try{bn=t,e=r.call(t._renderProxy,t.$createElement)}catch(xs){tt(xs,t,"render"),e=t._vnode}finally{bn=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof ge||(e=Se()),e.parent=i,e}}function gn(e,t){return(e.__esModule||fe&&"Module"===e[Symbol.toStringTag])&&(e=e.default),c(e)?t.extend(e):e}function _n(e,t,n,r,i){var o=Se();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:r,tag:i},o}function Sn(e,t){if(o(e.error)&&i(e.errorComp))return e.errorComp;if(i(e.resolved))return e.resolved;var n=bn;if(n&&i(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),o(e.loading)&&i(e.loadingComp))return e.loadingComp;if(n&&!i(e.owners)){var s=e.owners=[n],a=!0,u=null,l=null;n.$on("hook:destroyed",(function(){return y(s,n)}));var d=function(e){for(var t=0,n=s.length;t<n;t++)s[t].$forceUpdate();e&&(s.length=0,null!==u&&(clearTimeout(u),u=null),null!==l&&(clearTimeout(l),l=null))},f=L((function(n){e.resolved=gn(n,t),a?s.length=0:d(!0)})),h=L((function(t){i(e.errorComp)&&(e.error=!0,d(!0))})),m=e(f,h);return c(m)&&(p(m)?r(e.resolved)&&m.then(f,h):p(m.component)&&(m.component.then(f,h),i(m.error)&&(e.errorComp=gn(m.error,t)),i(m.loading)&&(e.loadingComp=gn(m.loading,t),0===m.delay?e.loading=!0:u=setTimeout((function(){u=null,r(e.resolved)&&r(e.error)&&(e.loading=!0,d(!1))}),m.delay||200)),i(m.timeout)&&(l=setTimeout((function(){l=null,r(e.resolved)&&h(null)}),m.timeout)))),a=!1,e.loading?e.loadingComp:e.resolved}}function wn(e){return e.isComment&&e.asyncFactory}function xn(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(i(n)&&(i(n.componentOptions)||wn(n)))return n}}function Cn(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&In(e,t)}function On(e,t){vn.$on(e,t)}function Tn(e,t){vn.$off(e,t)}function En(e,t){var n=vn;return function r(){var i=t.apply(null,arguments);null!==i&&n.$off(e,r)}}function In(e,t,n){vn=e,_t(t,n||{},On,Tn,En,e),vn=void 0}function kn(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this;if(Array.isArray(e))for(var i=0,o=e.length;i<o;i++)r.$on(e[i],n);else(r._events[e]||(r._events[e]=[])).push(n),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){var n=this;function r(){n.$off(e,r),t.apply(n,arguments)}return r.fn=t,n.$on(e,r),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var r=0,i=e.length;r<i;r++)n.$off(e[r],t);return n}var o,s=n._events[e];if(!s)return n;if(!t)return n._events[e]=null,n;var a=s.length;while(a--)if(o=s[a],o===t||o.fn===t){s.splice(a,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?R(n):n;for(var r=R(arguments,1),i='event handler for "'+e+'"',o=0,s=n.length;o<s;o++)nt(n[o],t,r,t,i)}return t}}var Rn=null;function Pn(e){var t=Rn;return Rn=e,function(){Rn=t}}function Mn(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function An(e){e.prototype._update=function(e,t){var n=this,r=n.$el,i=n._vnode,o=Pn(n);n._vnode=e,n.$el=i?n.__patch__(i,e):n.__patch__(n.$el,e,t,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Fn(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||y(t.$children,e),e._watcher&&e._watcher.teardown();var n=e._watchers.length;while(n--)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Fn(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function jn(e,t,n){var r;return e.$el=t,e.$options.render||(e.$options.render=Se),Fn(e,"beforeMount"),r=function(){e._update(e._render(),n)},new nr(e,r,A,{before:function(){e._isMounted&&!e._isDestroyed&&Fn(e,"beforeUpdate")}},!0),n=!1,null==e.$vnode&&(e._isMounted=!0,Fn(e,"mounted")),e}function Nn(e,t,r,i,o){var s=i.data.scopedSlots,a=e.$scopedSlots,c=!!(s&&!s.$stable||a!==n&&!a.$stable||s&&e.$scopedSlots.$key!==s.$key),u=!!(o||e.$options._renderChildren||c);if(e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=o,e.$attrs=i.data.attrs||n,e.$listeners=r||n,t&&e.$options.props){ke(!1);for(var l=e._props,d=e.$options._propKeys||[],f=0;f<d.length;f++){var p=d[f],h=e.$options.props;l[p]=Je(p,h,t,e)}ke(!0),e.$options.propsData=t}r=r||n;var m=e.$options._parentListeners;e.$options._parentListeners=r,In(e,r,m),u&&(e.$slots=Pt(o,i.context),e.$forceUpdate())}function Dn(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function Bn(e,t){if(t){if(e._directInactive=!1,Dn(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Bn(e.$children[n]);Fn(e,"activated")}}function Ln(e,t){if((!t||(e._directInactive=!0,!Dn(e)))&&!e._inactive){e._inactive=!0;for(var n=0;n<e.$children.length;n++)Ln(e.$children[n]);Fn(e,"deactivated")}}function Fn(e,t){be();var n=e.$options[t],r=t+" hook";if(n)for(var i=0,o=n.length;i<o;i++)nt(n[i],e,null,e,r);e._hasHookEvent&&e.$emit("hook:"+t),ye()}var Vn=[],Un=[],$n={},Wn=!1,zn=!1,Hn=0;function Gn(){Hn=Vn.length=Un.length=0,$n={},Wn=zn=!1}var qn=0,Kn=Date.now;if(J&&!ee){var Yn=window.performance;Yn&&"function"===typeof Yn.now&&Kn()>document.createEvent("Event").timeStamp&&(Kn=function(){return Yn.now()})}function Jn(){var e,t;for(qn=Kn(),zn=!0,Vn.sort((function(e,t){return e.id-t.id})),Hn=0;Hn<Vn.length;Hn++)e=Vn[Hn],e.before&&e.before(),t=e.id,$n[t]=null,e.run();var n=Un.slice(),r=Vn.slice();Gn(),Qn(n),Xn(r),ue&&$.devtools&&ue.emit("flush")}function Xn(e){var t=e.length;while(t--){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&Fn(r,"updated")}}function Zn(e){e._inactive=!1,Un.push(e)}function Qn(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Bn(e[t],!0)}function er(e){var t=e.id;if(null==$n[t]){if($n[t]=!0,zn){var n=Vn.length-1;while(n>Hn&&Vn[n].id>e.id)n--;Vn.splice(n+1,0,e)}else Vn.push(e);Wn||(Wn=!0,ht(Jn))}}var tr=0,nr=function(e,t,n,r,i){this.vm=e,i&&(e._watcher=this),e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++tr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new de,this.newDepIds=new de,this.expression="","function"===typeof t?this.getter=t:(this.getter=q(t),this.getter||(this.getter=A)),this.value=this.lazy?void 0:this.get()};nr.prototype.get=function(){var e;be(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(xs){if(!this.user)throw xs;tt(xs,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&vt(e),ye(),this.cleanupDeps()}return e},nr.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},nr.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},nr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():er(this)},nr.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||c(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(xs){tt(xs,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},nr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},nr.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},nr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1}};var rr={enumerable:!0,configurable:!0,get:A,set:A};function ir(e,t,n){rr.get=function(){return this[t][n]},rr.set=function(e){this[t][n]=e},Object.defineProperty(e,n,rr)}function or(e){e._watchers=[];var t=e.$options;t.props&&sr(e,t.props),t.methods&&hr(e,t.methods),t.data?ar(e):Ae(e._data={},!0),t.computed&&lr(e,t.computed),t.watch&&t.watch!==oe&&mr(e,t.watch)}function sr(e,t){var n=e.$options.propsData||{},r=e._props={},i=e.$options._propKeys=[],o=!e.$parent;o||ke(!1);var s=function(o){i.push(o);var s=Je(o,t,n,e);je(r,o,s),o in e||ir(e,"_props",o)};for(var a in t)s(a);ke(!0)}function ar(e){var t=e.$options.data;t=e._data="function"===typeof t?cr(t,e):t||{},l(t)||(t={});var n=Object.keys(t),r=e.$options.props,i=(e.$options.methods,n.length);while(i--){var o=n[i];0,r&&_(r,o)||z(o)||ir(e,"_data",o)}Ae(t,!0)}function cr(e,t){be();try{return e.call(t,t)}catch(xs){return tt(xs,t,"data()"),{}}finally{ye()}}var ur={lazy:!0};function lr(e,t){var n=e._computedWatchers=Object.create(null),r=ce();for(var i in t){var o=t[i],s="function"===typeof o?o:o.get;0,r||(n[i]=new nr(e,s||A,A,ur)),i in e||dr(e,i,o)}}function dr(e,t,n){var r=!ce();"function"===typeof n?(rr.get=r?fr(t):pr(n),rr.set=A):(rr.get=n.get?r&&!1!==n.cache?fr(t):pr(n.get):A,rr.set=n.set||A),Object.defineProperty(e,t,rr)}function fr(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),me.target&&t.depend(),t.value}}function pr(e){return function(){return e.call(this,this)}}function hr(e,t){e.$options.props;for(var n in t)e[n]="function"!==typeof t[n]?A:k(t[n],e)}function mr(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)vr(e,n,r[i]);else vr(e,n,r)}}function vr(e,t,n,r){return l(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=e[n]),e.$watch(t,n,r)}function br(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=Ne,e.prototype.$delete=De,e.prototype.$watch=function(e,t,n){var r=this;if(l(t))return vr(r,e,t,n);n=n||{},n.user=!0;var i=new nr(r,e,t,n);if(n.immediate)try{t.call(r,i.value)}catch(o){tt(o,r,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}var yr=0;function gr(e){e.prototype._init=function(e){var t=this;t._uid=yr++,t._isVue=!0,e&&e._isComponent?_r(t,e):t.$options=Ke(Sr(t.constructor),e||{},t),t._renderProxy=t,t._self=t,Mn(t),Cn(t),mn(t),Fn(t,"beforeCreate"),kt(t),or(t),It(t),Fn(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function _r(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function Sr(e){var t=e.options;if(e.super){var n=Sr(e.super),r=e.superOptions;if(n!==r){e.superOptions=n;var i=wr(e);i&&P(e.extendOptions,i),t=e.options=Ke(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function wr(e){var t,n=e.options,r=e.sealedOptions;for(var i in n)n[i]!==r[i]&&(t||(t={}),t[i]=n[i]);return t}function xr(e){this._init(e)}function Cr(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=R(arguments,1);return n.unshift(this),"function"===typeof e.install?e.install.apply(e,n):"function"===typeof e&&e.apply(null,n),t.push(e),this}}function Or(e){e.mixin=function(e){return this.options=Ke(this.options,e),this}}function Tr(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,i=e._Ctor||(e._Ctor={});if(i[r])return i[r];var o=e.name||n.options.name;var s=function(e){this._init(e)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=t++,s.options=Ke(n.options,e),s["super"]=n,s.options.props&&Er(s),s.options.computed&&Ir(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,V.forEach((function(e){s[e]=n[e]})),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=e,s.sealedOptions=P({},s.options),i[r]=s,s}}function Er(e){var t=e.options.props;for(var n in t)ir(e.prototype,"_props",n)}function Ir(e){var t=e.options.computed;for(var n in t)dr(e.prototype,n,t[n])}function kr(e){V.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&l(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"===typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}function Rr(e){return e&&(e.Ctor.options.name||e.tag)}function Pr(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!d(e)&&e.test(t)}function Mr(e,t){var n=e.cache,r=e.keys,i=e._vnode;for(var o in n){var s=n[o];if(s){var a=Rr(s.componentOptions);a&&!t(a)&&Ar(n,o,r,i)}}}function Ar(e,t,n,r){var i=e[t];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),e[t]=null,y(n,t)}gr(xr),br(xr),kn(xr),An(xr),yn(xr);var jr=[String,RegExp,Array],Nr={name:"keep-alive",abstract:!0,props:{include:jr,exclude:jr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Ar(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",(function(t){Mr(e,(function(e){return Pr(t,e)}))})),this.$watch("exclude",(function(t){Mr(e,(function(e){return!Pr(t,e)}))}))},render:function(){var e=this.$slots.default,t=xn(e),n=t&&t.componentOptions;if(n){var r=Rr(n),i=this,o=i.include,s=i.exclude;if(o&&(!r||!Pr(o,r))||s&&r&&Pr(s,r))return t;var a=this,c=a.cache,u=a.keys,l=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;c[l]?(t.componentInstance=c[l].componentInstance,y(u,l),u.push(l)):(c[l]=t,u.push(l),this.max&&u.length>parseInt(this.max)&&Ar(c,u[0],u,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}},Dr={KeepAlive:Nr};function Br(e){var t={get:function(){return $}};Object.defineProperty(e,"config",t),e.util={warn:pe,extend:P,mergeOptions:Ke,defineReactive:je},e.set=Ne,e.delete=De,e.nextTick=ht,e.observable=function(e){return Ae(e),e},e.options=Object.create(null),V.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,P(e.options.components,Dr),Cr(e),Or(e),Tr(e),kr(e)}Br(xr),Object.defineProperty(xr.prototype,"$isServer",{get:ce}),Object.defineProperty(xr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(xr,"FunctionalRenderContext",{value:Xt}),xr.version="2.6.11";var Lr=v("style,class"),Fr=v("input,textarea,option,select,progress"),Vr=function(e,t,n){return"value"===n&&Fr(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},Ur=v("contenteditable,draggable,spellcheck"),$r=v("events,caret,typing,plaintext-only"),Wr=function(e,t){return Kr(t)||"false"===t?"false":"contenteditable"===e&&$r(t)?t:"true"},zr=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Hr="http://www.w3.org/1999/xlink",Gr=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},qr=function(e){return Gr(e)?e.slice(6,e.length):""},Kr=function(e){return null==e||!1===e};function Yr(e){var t=e.data,n=e,r=e;while(i(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(t=Jr(r.data,t));while(i(n=n.parent))n&&n.data&&(t=Jr(t,n.data));return Xr(t.staticClass,t.class)}function Jr(e,t){return{staticClass:Zr(e.staticClass,t.staticClass),class:i(e.class)?[e.class,t.class]:t.class}}function Xr(e,t){return i(e)||i(t)?Zr(e,Qr(t)):""}function Zr(e,t){return e?t?e+" "+t:e:t||""}function Qr(e){return Array.isArray(e)?ei(e):c(e)?ti(e):"string"===typeof e?e:""}function ei(e){for(var t,n="",r=0,o=e.length;r<o;r++)i(t=Qr(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}function ti(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}var ni={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ri=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ii=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),oi=function(e){return ri(e)||ii(e)};function si(e){return ii(e)?"svg":"math"===e?"math":void 0}var ai=Object.create(null);function ci(e){if(!J)return!0;if(oi(e))return!1;if(e=e.toLowerCase(),null!=ai[e])return ai[e];var t=document.createElement(e);return e.indexOf("-")>-1?ai[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:ai[e]=/HTMLUnknownElement/.test(t.toString())}var ui=v("text,number,password,search,email,tel,url");function li(e){if("string"===typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function di(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function fi(e,t){return document.createElementNS(ni[e],t)}function pi(e){return document.createTextNode(e)}function hi(e){return document.createComment(e)}function mi(e,t,n){e.insertBefore(t,n)}function vi(e,t){e.removeChild(t)}function bi(e,t){e.appendChild(t)}function yi(e){return e.parentNode}function gi(e){return e.nextSibling}function _i(e){return e.tagName}function Si(e,t){e.textContent=t}function wi(e,t){e.setAttribute(t,"")}var xi=Object.freeze({createElement:di,createElementNS:fi,createTextNode:pi,createComment:hi,insertBefore:mi,removeChild:vi,appendChild:bi,parentNode:yi,nextSibling:gi,tagName:_i,setTextContent:Si,setStyleScope:wi}),Ci={create:function(e,t){Oi(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Oi(e,!0),Oi(t))},destroy:function(e){Oi(e,!0)}};function Oi(e,t){var n=e.data.ref;if(i(n)){var r=e.context,o=e.componentInstance||e.elm,s=r.$refs;t?Array.isArray(s[n])?y(s[n],o):s[n]===o&&(s[n]=void 0):e.data.refInFor?Array.isArray(s[n])?s[n].indexOf(o)<0&&s[n].push(o):s[n]=[o]:s[n]=o}}var Ti=new ge("",{},[]),Ei=["create","activate","update","remove","destroy"];function Ii(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&i(e.data)===i(t.data)&&ki(e,t)||o(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&r(t.asyncFactory.error))}function ki(e,t){if("input"!==e.tag)return!0;var n,r=i(n=e.data)&&i(n=n.attrs)&&n.type,o=i(n=t.data)&&i(n=n.attrs)&&n.type;return r===o||ui(r)&&ui(o)}function Ri(e,t,n){var r,o,s={};for(r=t;r<=n;++r)o=e[r].key,i(o)&&(s[o]=r);return s}function Pi(e){var t,n,s={},c=e.modules,u=e.nodeOps;for(t=0;t<Ei.length;++t)for(s[Ei[t]]=[],n=0;n<c.length;++n)i(c[n][Ei[t]])&&s[Ei[t]].push(c[n][Ei[t]]);function l(e){return new ge(u.tagName(e).toLowerCase(),{},[],void 0,e)}function d(e,t){function n(){0===--n.listeners&&f(e)}return n.listeners=t,n}function f(e){var t=u.parentNode(e);i(t)&&u.removeChild(t,e)}function p(e,t,n,r,s,a,c){if(i(e.elm)&&i(a)&&(e=a[c]=xe(e)),e.isRootInsert=!s,!h(e,t,n,r)){var l=e.data,d=e.children,f=e.tag;i(f)?(e.elm=e.ns?u.createElementNS(e.ns,f):u.createElement(f,e),w(e),g(e,d,t),i(l)&&S(e,t),y(n,e.elm,r)):o(e.isComment)?(e.elm=u.createComment(e.text),y(n,e.elm,r)):(e.elm=u.createTextNode(e.text),y(n,e.elm,r))}}function h(e,t,n,r){var s=e.data;if(i(s)){var a=i(e.componentInstance)&&s.keepAlive;if(i(s=s.hook)&&i(s=s.init)&&s(e,!1),i(e.componentInstance))return m(e,t),y(n,e.elm,r),o(a)&&b(e,t,n,r),!0}}function m(e,t){i(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,_(e)?(S(e,t),w(e)):(Oi(e),t.push(e))}function b(e,t,n,r){var o,a=e;while(a.componentInstance)if(a=a.componentInstance._vnode,i(o=a.data)&&i(o=o.transition)){for(o=0;o<s.activate.length;++o)s.activate[o](Ti,a);t.push(a);break}y(n,e.elm,r)}function y(e,t,n){i(e)&&(i(n)?u.parentNode(n)===e&&u.insertBefore(e,t,n):u.appendChild(e,t))}function g(e,t,n){if(Array.isArray(t)){0;for(var r=0;r<t.length;++r)p(t[r],n,e.elm,null,!0,t,r)}else a(e.text)&&u.appendChild(e.elm,u.createTextNode(String(e.text)))}function _(e){while(e.componentInstance)e=e.componentInstance._vnode;return i(e.tag)}function S(e,n){for(var r=0;r<s.create.length;++r)s.create[r](Ti,e);t=e.data.hook,i(t)&&(i(t.create)&&t.create(Ti,e),i(t.insert)&&n.push(e))}function w(e){var t;if(i(t=e.fnScopeId))u.setStyleScope(e.elm,t);else{var n=e;while(n)i(t=n.context)&&i(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t),n=n.parent}i(t=Rn)&&t!==e.context&&t!==e.fnContext&&i(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t)}function x(e,t,n,r,i,o){for(;r<=i;++r)p(n[r],o,e,t,!1,n,r)}function C(e){var t,n,r=e.data;if(i(r))for(i(t=r.hook)&&i(t=t.destroy)&&t(e),t=0;t<s.destroy.length;++t)s.destroy[t](e);if(i(t=e.children))for(n=0;n<e.children.length;++n)C(e.children[n])}function O(e,t,n){for(;t<=n;++t){var r=e[t];i(r)&&(i(r.tag)?(T(r),C(r)):f(r.elm))}}function T(e,t){if(i(t)||i(e.data)){var n,r=s.remove.length+1;for(i(t)?t.listeners+=r:t=d(e.elm,r),i(n=e.componentInstance)&&i(n=n._vnode)&&i(n.data)&&T(n,t),n=0;n<s.remove.length;++n)s.remove[n](e,t);i(n=e.data.hook)&&i(n=n.remove)?n(e,t):t()}else f(e.elm)}function E(e,t,n,o,s){var a,c,l,d,f=0,h=0,m=t.length-1,v=t[0],b=t[m],y=n.length-1,g=n[0],_=n[y],S=!s;while(f<=m&&h<=y)r(v)?v=t[++f]:r(b)?b=t[--m]:Ii(v,g)?(k(v,g,o,n,h),v=t[++f],g=n[++h]):Ii(b,_)?(k(b,_,o,n,y),b=t[--m],_=n[--y]):Ii(v,_)?(k(v,_,o,n,y),S&&u.insertBefore(e,v.elm,u.nextSibling(b.elm)),v=t[++f],_=n[--y]):Ii(b,g)?(k(b,g,o,n,h),S&&u.insertBefore(e,b.elm,v.elm),b=t[--m],g=n[++h]):(r(a)&&(a=Ri(t,f,m)),c=i(g.key)?a[g.key]:I(g,t,f,m),r(c)?p(g,o,e,v.elm,!1,n,h):(l=t[c],Ii(l,g)?(k(l,g,o,n,h),t[c]=void 0,S&&u.insertBefore(e,l.elm,v.elm)):p(g,o,e,v.elm,!1,n,h)),g=n[++h]);f>m?(d=r(n[y+1])?null:n[y+1].elm,x(e,d,n,h,y,o)):h>y&&O(t,f,m)}function I(e,t,n,r){for(var o=n;o<r;o++){var s=t[o];if(i(s)&&Ii(e,s))return o}}function k(e,t,n,a,c,l){if(e!==t){i(t.elm)&&i(a)&&(t=a[c]=xe(t));var d=t.elm=e.elm;if(o(e.isAsyncPlaceholder))i(t.asyncFactory.resolved)?M(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(o(t.isStatic)&&o(e.isStatic)&&t.key===e.key&&(o(t.isCloned)||o(t.isOnce)))t.componentInstance=e.componentInstance;else{var f,p=t.data;i(p)&&i(f=p.hook)&&i(f=f.prepatch)&&f(e,t);var h=e.children,m=t.children;if(i(p)&&_(t)){for(f=0;f<s.update.length;++f)s.update[f](e,t);i(f=p.hook)&&i(f=f.update)&&f(e,t)}r(t.text)?i(h)&&i(m)?h!==m&&E(d,h,m,n,l):i(m)?(i(e.text)&&u.setTextContent(d,""),x(d,null,m,0,m.length-1,n)):i(h)?O(h,0,h.length-1):i(e.text)&&u.setTextContent(d,""):e.text!==t.text&&u.setTextContent(d,t.text),i(p)&&i(f=p.hook)&&i(f=f.postpatch)&&f(e,t)}}}function R(e,t,n){if(o(n)&&i(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var P=v("attrs,class,staticClass,staticStyle,key");function M(e,t,n,r){var s,a=t.tag,c=t.data,u=t.children;if(r=r||c&&c.pre,t.elm=e,o(t.isComment)&&i(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(i(c)&&(i(s=c.hook)&&i(s=s.init)&&s(t,!0),i(s=t.componentInstance)))return m(t,n),!0;if(i(a)){if(i(u))if(e.hasChildNodes())if(i(s=c)&&i(s=s.domProps)&&i(s=s.innerHTML)){if(s!==e.innerHTML)return!1}else{for(var l=!0,d=e.firstChild,f=0;f<u.length;f++){if(!d||!M(d,u[f],n,r)){l=!1;break}d=d.nextSibling}if(!l||d)return!1}else g(t,u,n);if(i(c)){var p=!1;for(var h in c)if(!P(h)){p=!0,S(t,n);break}!p&&c["class"]&&vt(c["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,a){if(!r(t)){var c=!1,d=[];if(r(e))c=!0,p(t,d);else{var f=i(e.nodeType);if(!f&&Ii(e,t))k(e,t,d,null,null,a);else{if(f){if(1===e.nodeType&&e.hasAttribute(F)&&(e.removeAttribute(F),n=!0),o(n)&&M(e,t,d))return R(t,d,!0),e;e=l(e)}var h=e.elm,m=u.parentNode(h);if(p(t,d,h._leaveCb?null:m,u.nextSibling(h)),i(t.parent)){var v=t.parent,b=_(t);while(v){for(var y=0;y<s.destroy.length;++y)s.destroy[y](v);if(v.elm=t.elm,b){for(var g=0;g<s.create.length;++g)s.create[g](Ti,v);var S=v.data.hook.insert;if(S.merged)for(var w=1;w<S.fns.length;w++)S.fns[w]()}else Oi(v);v=v.parent}}i(m)?O([e],0,0):i(e.tag)&&C(e)}}return R(t,d,c),t.elm}i(e)&&C(e)}}var Mi={create:Ai,update:Ai,destroy:function(e){Ai(e,Ti)}};function Ai(e,t){(e.data.directives||t.data.directives)&&ji(e,t)}function ji(e,t){var n,r,i,o=e===Ti,s=t===Ti,a=Di(e.data.directives,e.context),c=Di(t.data.directives,t.context),u=[],l=[];for(n in c)r=a[n],i=c[n],r?(i.oldValue=r.value,i.oldArg=r.arg,Li(i,"update",t,e),i.def&&i.def.componentUpdated&&l.push(i)):(Li(i,"bind",t,e),i.def&&i.def.inserted&&u.push(i));if(u.length){var d=function(){for(var n=0;n<u.length;n++)Li(u[n],"inserted",t,e)};o?St(t,"insert",d):d()}if(l.length&&St(t,"postpatch",(function(){for(var n=0;n<l.length;n++)Li(l[n],"componentUpdated",t,e)})),!o)for(n in a)c[n]||Li(a[n],"unbind",e,e,s)}var Ni=Object.create(null);function Di(e,t){var n,r,i=Object.create(null);if(!e)return i;for(n=0;n<e.length;n++)r=e[n],r.modifiers||(r.modifiers=Ni),i[Bi(r)]=r,r.def=Ye(t.$options,"directives",r.name,!0);return i}function Bi(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function Li(e,t,n,r,i){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,r,i)}catch(xs){tt(xs,n.context,"directive "+e.name+" "+t+" hook")}}var Fi=[Ci,Mi];function Vi(e,t){var n=t.componentOptions;if((!i(n)||!1!==n.Ctor.options.inheritAttrs)&&(!r(e.data.attrs)||!r(t.data.attrs))){var o,s,a,c=t.elm,u=e.data.attrs||{},l=t.data.attrs||{};for(o in i(l.__ob__)&&(l=t.data.attrs=P({},l)),l)s=l[o],a=u[o],a!==s&&Ui(c,o,s);for(o in(ee||ne)&&l.value!==u.value&&Ui(c,"value",l.value),u)r(l[o])&&(Gr(o)?c.removeAttributeNS(Hr,qr(o)):Ur(o)||c.removeAttribute(o))}}function Ui(e,t,n){e.tagName.indexOf("-")>-1?$i(e,t,n):zr(t)?Kr(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):Ur(t)?e.setAttribute(t,Wr(t,n)):Gr(t)?Kr(n)?e.removeAttributeNS(Hr,qr(t)):e.setAttributeNS(Hr,t,n):$i(e,t,n)}function $i(e,t,n){if(Kr(n))e.removeAttribute(t);else{if(ee&&!te&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}var Wi={create:Vi,update:Vi};function zi(e,t){var n=t.elm,o=t.data,s=e.data;if(!(r(o.staticClass)&&r(o.class)&&(r(s)||r(s.staticClass)&&r(s.class)))){var a=Yr(t),c=n._transitionClasses;i(c)&&(a=Zr(a,Qr(c))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var Hi,Gi={create:zi,update:zi},qi="__r",Ki="__c";function Yi(e){if(i(e[qi])){var t=ee?"change":"input";e[t]=[].concat(e[qi],e[t]||[]),delete e[qi]}i(e[Ki])&&(e.change=[].concat(e[Ki],e.change||[]),delete e[Ki])}function Ji(e,t,n){var r=Hi;return function i(){var o=t.apply(null,arguments);null!==o&&Qi(e,i,n,r)}}var Xi=st&&!(ie&&Number(ie[1])<=53);function Zi(e,t,n,r){if(Xi){var i=qn,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=i||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}Hi.addEventListener(e,t,se?{capture:n,passive:r}:n)}function Qi(e,t,n,r){(r||Hi).removeEventListener(e,t._wrapper||t,n)}function eo(e,t){if(!r(e.data.on)||!r(t.data.on)){var n=t.data.on||{},i=e.data.on||{};Hi=t.elm,Yi(n),_t(n,i,Zi,Qi,Ji,t.context),Hi=void 0}}var to,no={create:eo,update:eo};function ro(e,t){if(!r(e.data.domProps)||!r(t.data.domProps)){var n,o,s=t.elm,a=e.data.domProps||{},c=t.data.domProps||{};for(n in i(c.__ob__)&&(c=t.data.domProps=P({},c)),a)n in c||(s[n]="");for(n in c){if(o=c[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),o===a[n])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===n&&"PROGRESS"!==s.tagName){s._value=o;var u=r(o)?"":String(o);io(s,u)&&(s.value=u)}else if("innerHTML"===n&&ii(s.tagName)&&r(s.innerHTML)){to=to||document.createElement("div"),to.innerHTML="<svg>"+o+"</svg>";var l=to.firstChild;while(s.firstChild)s.removeChild(s.firstChild);while(l.firstChild)s.appendChild(l.firstChild)}else if(o!==a[n])try{s[n]=o}catch(xs){}}}}function io(e,t){return!e.composing&&("OPTION"===e.tagName||oo(e,t)||so(e,t))}function oo(e,t){var n=!0;try{n=document.activeElement!==e}catch(xs){}return n&&e.value!==t}function so(e,t){var n=e.value,r=e._vModifiers;if(i(r)){if(r.number)return m(n)!==m(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}var ao={create:ro,update:ro},co=S((function(e){var t={},n=/;(?![^(]*\))/g,r=/:(.+)/;return e.split(n).forEach((function(e){if(e){var n=e.split(r);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}));function uo(e){var t=lo(e.style);return e.staticStyle?P(e.staticStyle,t):t}function lo(e){return Array.isArray(e)?M(e):"string"===typeof e?co(e):e}function fo(e,t){var n,r={};if(t){var i=e;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(n=uo(i.data))&&P(r,n)}(n=uo(e.data))&&P(r,n);var o=e;while(o=o.parent)o.data&&(n=uo(o.data))&&P(r,n);return r}var po,ho=/^--/,mo=/\s*!important$/,vo=function(e,t,n){if(ho.test(t))e.style.setProperty(t,n);else if(mo.test(n))e.style.setProperty(T(t),n.replace(mo,""),"important");else{var r=yo(t);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)e.style[r]=n[i];else e.style[r]=n}},bo=["Webkit","Moz","ms"],yo=S((function(e){if(po=po||document.createElement("div").style,e=x(e),"filter"!==e&&e in po)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<bo.length;n++){var r=bo[n]+t;if(r in po)return r}}));function go(e,t){var n=t.data,o=e.data;if(!(r(n.staticStyle)&&r(n.style)&&r(o.staticStyle)&&r(o.style))){var s,a,c=t.elm,u=o.staticStyle,l=o.normalizedStyle||o.style||{},d=u||l,f=lo(t.data.style)||{};t.data.normalizedStyle=i(f.__ob__)?P({},f):f;var p=fo(t,!0);for(a in d)r(p[a])&&vo(c,a,"");for(a in p)s=p[a],s!==d[a]&&vo(c,a,null==s?"":s)}}var _o={create:go,update:go},So=/\s+/;function wo(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(So).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function xo(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(So).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?e.setAttribute("class",n):e.removeAttribute("class")}}function Co(e){if(e){if("object"===typeof e){var t={};return!1!==e.css&&P(t,Oo(e.name||"v")),P(t,e),t}return"string"===typeof e?Oo(e):void 0}}var Oo=S((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),To=J&&!te,Eo="transition",Io="animation",ko="transition",Ro="transitionend",Po="animation",Mo="animationend";To&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ko="WebkitTransition",Ro="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Po="WebkitAnimation",Mo="webkitAnimationEnd"));var Ao=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function jo(e){Ao((function(){Ao(e)}))}function No(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),wo(e,t))}function Do(e,t){e._transitionClasses&&y(e._transitionClasses,t),xo(e,t)}function Bo(e,t,n){var r=Fo(e,t),i=r.type,o=r.timeout,s=r.propCount;if(!i)return n();var a=i===Eo?Ro:Mo,c=0,u=function(){e.removeEventListener(a,l),n()},l=function(t){t.target===e&&++c>=s&&u()};setTimeout((function(){c<s&&u()}),o+1),e.addEventListener(a,l)}var Lo=/\b(transform|all)(,|$)/;function Fo(e,t){var n,r=window.getComputedStyle(e),i=(r[ko+"Delay"]||"").split(", "),o=(r[ko+"Duration"]||"").split(", "),s=Vo(i,o),a=(r[Po+"Delay"]||"").split(", "),c=(r[Po+"Duration"]||"").split(", "),u=Vo(a,c),l=0,d=0;t===Eo?s>0&&(n=Eo,l=s,d=o.length):t===Io?u>0&&(n=Io,l=u,d=c.length):(l=Math.max(s,u),n=l>0?s>u?Eo:Io:null,d=n?n===Eo?o.length:c.length:0);var f=n===Eo&&Lo.test(r[ko+"Property"]);return{type:n,timeout:l,propCount:d,hasTransform:f}}function Vo(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return Uo(t)+Uo(e[n])})))}function Uo(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function $o(e,t){var n=e.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=Co(e.data.transition);if(!r(o)&&!i(n._enterCb)&&1===n.nodeType){var s=o.css,a=o.type,u=o.enterClass,l=o.enterToClass,d=o.enterActiveClass,f=o.appearClass,p=o.appearToClass,h=o.appearActiveClass,v=o.beforeEnter,b=o.enter,y=o.afterEnter,g=o.enterCancelled,_=o.beforeAppear,S=o.appear,w=o.afterAppear,x=o.appearCancelled,C=o.duration,O=Rn,T=Rn.$vnode;while(T&&T.parent)O=T.context,T=T.parent;var E=!O._isMounted||!e.isRootInsert;if(!E||S||""===S){var I=E&&f?f:u,k=E&&h?h:d,R=E&&p?p:l,P=E&&_||v,M=E&&"function"===typeof S?S:b,A=E&&w||y,j=E&&x||g,N=m(c(C)?C.enter:C);0;var D=!1!==s&&!te,B=Ho(M),F=n._enterCb=L((function(){D&&(Do(n,R),Do(n,k)),F.cancelled?(D&&Do(n,I),j&&j(n)):A&&A(n),n._enterCb=null}));e.data.show||St(e,"insert",(function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),M&&M(n,F)})),P&&P(n),D&&(No(n,I),No(n,k),jo((function(){Do(n,I),F.cancelled||(No(n,R),B||(zo(N)?setTimeout(F,N):Bo(n,a,F)))}))),e.data.show&&(t&&t(),M&&M(n,F)),D||B||F()}}}function Wo(e,t){var n=e.elm;i(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=Co(e.data.transition);if(r(o)||1!==n.nodeType)return t();if(!i(n._leaveCb)){var s=o.css,a=o.type,u=o.leaveClass,l=o.leaveToClass,d=o.leaveActiveClass,f=o.beforeLeave,p=o.leave,h=o.afterLeave,v=o.leaveCancelled,b=o.delayLeave,y=o.duration,g=!1!==s&&!te,_=Ho(p),S=m(c(y)?y.leave:y);0;var w=n._leaveCb=L((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),g&&(Do(n,l),Do(n,d)),w.cancelled?(g&&Do(n,u),v&&v(n)):(t(),h&&h(n)),n._leaveCb=null}));b?b(x):x()}function x(){w.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),f&&f(n),g&&(No(n,u),No(n,d),jo((function(){Do(n,u),w.cancelled||(No(n,l),_||(zo(S)?setTimeout(w,S):Bo(n,a,w)))}))),p&&p(n,w),g||_||w())}}function zo(e){return"number"===typeof e&&!isNaN(e)}function Ho(e){if(r(e))return!1;var t=e.fns;return i(t)?Ho(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Go(e,t){!0!==t.data.show&&$o(t)}var qo=J?{create:Go,activate:Go,remove:function(e,t){!0!==e.data.show?Wo(e,t):t()}}:{},Ko=[Wi,Gi,no,ao,_o,qo],Yo=Ko.concat(Fi),Jo=Pi({nodeOps:xi,modules:Yo});te&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&is(e,"input")}));var Xo={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?St(n,"postpatch",(function(){Xo.componentUpdated(e,t,n)})):Zo(e,t,n.context),e._vOptions=[].map.call(e.options,ts)):("textarea"===n.tag||ui(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",ns),e.addEventListener("compositionend",rs),e.addEventListener("change",rs),te&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Zo(e,t,n.context);var r=e._vOptions,i=e._vOptions=[].map.call(e.options,ts);if(i.some((function(e,t){return!D(e,r[t])}))){var o=e.multiple?t.value.some((function(e){return es(e,i)})):t.value!==t.oldValue&&es(t.value,i);o&&is(e,"change")}}}};function Zo(e,t,n){Qo(e,t,n),(ee||ne)&&setTimeout((function(){Qo(e,t,n)}),0)}function Qo(e,t,n){var r=t.value,i=e.multiple;if(!i||Array.isArray(r)){for(var o,s,a=0,c=e.options.length;a<c;a++)if(s=e.options[a],i)o=B(r,ts(s))>-1,s.selected!==o&&(s.selected=o);else if(D(ts(s),r))return void(e.selectedIndex!==a&&(e.selectedIndex=a));i||(e.selectedIndex=-1)}}function es(e,t){return t.every((function(t){return!D(t,e)}))}function ts(e){return"_value"in e?e._value:e.value}function ns(e){e.target.composing=!0}function rs(e){e.target.composing&&(e.target.composing=!1,is(e.target,"input"))}function is(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function os(e){return!e.componentInstance||e.data&&e.data.transition?e:os(e.componentInstance._vnode)}var ss={bind:function(e,t,n){var r=t.value;n=os(n);var i=n.data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&i?(n.data.show=!0,$o(n,(function(){e.style.display=o}))):e.style.display=r?o:"none"},update:function(e,t,n){var r=t.value,i=t.oldValue;if(!r!==!i){n=os(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,r?$o(n,(function(){e.style.display=e.__vOriginalDisplay})):Wo(n,(function(){e.style.display="none"}))):e.style.display=r?e.__vOriginalDisplay:"none"}},unbind:function(e,t,n,r,i){i||(e.style.display=e.__vOriginalDisplay)}},as={model:Xo,show:ss},cs={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function us(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?us(xn(t.children)):e}function ls(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var i=n._parentListeners;for(var o in i)t[x(o)]=i[o];return t}function ds(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function fs(e){while(e=e.parent)if(e.data.transition)return!0}function ps(e,t){return t.key===e.key&&t.tag===e.tag}var hs=function(e){return e.tag||wn(e)},ms=function(e){return"show"===e.name},vs={name:"transition",props:cs,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(hs),n.length)){0;var r=this.mode;0;var i=n[0];if(fs(this.$vnode))return i;var o=us(i);if(!o)return i;if(this._leaving)return ds(e,i);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var c=(o.data||(o.data={})).transition=ls(this),u=this._vnode,l=us(u);if(o.data.directives&&o.data.directives.some(ms)&&(o.data.show=!0),l&&l.data&&!ps(o,l)&&!wn(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var d=l.data.transition=P({},c);if("out-in"===r)return this._leaving=!0,St(d,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),ds(e,i);if("in-out"===r){if(wn(o))return u;var f,p=function(){f()};St(c,"afterEnter",p),St(c,"enterCancelled",p),St(d,"delayLeave",(function(e){f=e}))}}return i}}},bs=P({tag:String,moveClass:String},cs);delete bs.mode;var ys={props:bs,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var i=Pn(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,i(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],s=ls(this),a=0;a<i.length;a++){var c=i[a];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))o.push(c),n[c.key]=c,(c.data||(c.data={})).transition=s;else;}if(r){for(var u=[],l=[],d=0;d<r.length;d++){var f=r[d];f.data.transition=s,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?u.push(f):l.push(f)}this.kept=e(t,null,u),this.removed=l}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(gs),e.forEach(_s),e.forEach(Ss),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,r=n.style;No(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Ro,n._moveCb=function e(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Ro,e),n._moveCb=null,Do(n,t))})}})))},methods:{hasMove:function(e,t){if(!To)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){xo(n,e)})),wo(n,t),n.style.display="none",this.$el.appendChild(n);var r=Fo(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function gs(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function _s(e){e.data.newPos=e.elm.getBoundingClientRect()}function Ss(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,i=t.top-n.top;if(r||i){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}var ws={Transition:vs,TransitionGroup:ys};xr.config.mustUseProp=Vr,xr.config.isReservedTag=oi,xr.config.isReservedAttr=Lr,xr.config.getTagNamespace=si,xr.config.isUnknownElement=ci,P(xr.options.directives,as),P(xr.options.components,ws),xr.prototype.__patch__=J?Jo:A,xr.prototype.$mount=function(e,t){return e=e&&J?li(e):void 0,jn(this,e,t)},J&&setTimeout((function(){$.devtools&&ue&&ue.emit("init",xr)}),0),t["default"]=xr}.call(this,n("c8ba"))},"2b27":function(e,t,n){(function(){var t={expires:"1d",path:"; path=/",domain:"",secure:"",sameSite:""},n={install:function(e){e.prototype.$cookies=this,e.$cookies=this},config:function(e,n,r,i,o){t.expires=e||"1d",t.path=n?"; path="+n:"; path=/",t.domain=r?"; domain="+r:"",t.secure=i?"; Secure":"",t.sameSite=o?"; SameSite="+o:""},get:function(e){var t=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;if(t&&"{"===t.substring(0,1)&&"}"===t.substring(t.length-1,t.length))try{t=JSON.parse(t)}catch(n){return t}return t},set:function(e,n,r,i,o,s,a){if(!e)throw new Error("Cookie name is not find in first argument.");if(/^(?:expires|max\-age|path|domain|secure|SameSite)$/i.test(e))throw new Error("Cookie key name illegality, Cannot be set to ['expires','max-age','path','domain','secure','SameSite']\t current key name: "+e);n&&n.constructor===Object&&(n=JSON.stringify(n));var c="";if(r=void 0===r?t.expires:r,r&&0!=r)switch(r.constructor){case Number:c=r===1/0||-1===r?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+r;break;case String:if(/^(?:\d{1,}(y|m|d|h|min|s))$/i.test(r)){var u=r.replace(/^(\d{1,})(?:y|m|d|h|min|s)$/i,"$1");switch(r.replace(/^(?:\d{1,})(y|m|d|h|min|s)$/i,"$1").toLowerCase()){case"m":c="; max-age="+2592e3*+u;break;case"d":c="; max-age="+86400*+u;break;case"h":c="; max-age="+3600*+u;break;case"min":c="; max-age="+60*+u;break;case"s":c="; max-age="+u;break;case"y":c="; max-age="+31104e3*+u;break;default:new Error("unknown exception of 'set operation'")}}else c="; expires="+r;break;case Date:c="; expires="+r.toUTCString();break}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(n)+c+(o?"; domain="+o:t.domain)+(i?"; path="+i:t.path)+(void 0===s?t.secure:s?"; Secure":"")+(void 0===a?t.sameSite:a?"; SameSite="+a:""),this},remove:function(e,n,r){return!(!e||!this.isKey(e))&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(r?"; domain="+r:t.domain)+(n?"; path="+n:t.path),this)},isKey:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){if(!document.cookie)return[];for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=0;t<e.length;t++)e[t]=decodeURIComponent(e[t]);return e}};e.exports=n,"undefined"!==typeof window&&(window.$cookies=n)})()},"2b88":function(e,t,n){"use strict";
/*! 
  * portal-vue Â© Thorsten LÃ¼nborg, 2019 
  * 
  * Version: 2.1.7
  * 
  * LICENCE: MIT 
  * 
  * https://github.com/linusborg/portal-vue
  * 
 */function r(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("2b0e"));function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e){return a(e)||c(e)||u()}function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function c(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var l="undefined"!==typeof window;function d(e){return Array.isArray(e)||"object"===o(e)?Object.freeze(e):e}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.reduce((function(e,n){var r=n.passengers[0],i="function"===typeof r?r(t):n.passengers;return e.concat(i)}),[])}function p(e,t){return e.map((function(e,t){return[t,e]})).sort((function(e,n){return t(e[1],n[1])||e[0]-n[0]})).map((function(e){return e[1]}))}function h(e,t){return t.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})}var m={},v={},b={},y=i.extend({data:function(){return{transports:m,targets:v,sources:b,trackInstances:l}},methods:{open:function(e){if(l){var t=e.to,n=e.from,r=e.passengers,o=e.order,s=void 0===o?1/0:o;if(t&&n&&r){var a={to:t,from:n,passengers:d(r),order:s},c=Object.keys(this.transports);-1===c.indexOf(t)&&i.set(this.transports,t,[]);var u=this.$_getTransportIndex(a),f=this.transports[t].slice(0);-1===u?f.push(a):f[u]=a,this.transports[t]=p(f,(function(e,t){return e.order-t.order}))}}},close:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.to,r=e.from;if(n&&(r||!1!==t)&&this.transports[n])if(t)this.transports[n]=[];else{var i=this.$_getTransportIndex(e);if(i>=0){var o=this.transports[n].slice(0);o.splice(i,1),this.transports[n]=o}}},registerTarget:function(e,t,n){l&&(this.trackInstances&&!n&&this.targets[e]&&console.warn("[portal-vue]: Target ".concat(e," already exists")),this.$set(this.targets,e,Object.freeze([t])))},unregisterTarget:function(e){this.$delete(this.targets,e)},registerSource:function(e,t,n){l&&(this.trackInstances&&!n&&this.sources[e]&&console.warn("[portal-vue]: source ".concat(e," already exists")),this.$set(this.sources,e,Object.freeze([t])))},unregisterSource:function(e){this.$delete(this.sources,e)},hasTarget:function(e){return!(!this.targets[e]||!this.targets[e][0])},hasSource:function(e){return!(!this.sources[e]||!this.sources[e][0])},hasContentFor:function(e){return!!this.transports[e]&&!!this.transports[e].length},$_getTransportIndex:function(e){var t=e.to,n=e.from;for(var r in this.transports[t])if(this.transports[t][r].from===n)return+r;return-1}}}),g=new y(m),_=1,S=i.extend({name:"portal",props:{disabled:{type:Boolean},name:{type:String,default:function(){return String(_++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}}},created:function(){var e=this;this.$nextTick((function(){g.registerSource(e.name,e)}))},mounted:function(){this.disabled||this.sendUpdate()},updated:function(){this.disabled?this.clear():this.sendUpdate()},beforeDestroy:function(){g.unregisterSource(this.name),this.clear()},watch:{to:function(e,t){t&&t!==e&&this.clear(t),this.sendUpdate()}},methods:{clear:function(e){var t={from:this.name,to:e||this.to};g.close(t)},normalizeSlots:function(){return this.$scopedSlots.default?[this.$scopedSlots.default]:this.$slots.default},normalizeOwnChildren:function(e){return"function"===typeof e?e(this.slotProps):e},sendUpdate:function(){var e=this.normalizeSlots();if(e){var t={from:this.name,to:this.to,passengers:s(e),order:this.order};g.open(t)}else this.clear()}},render:function(e){var t=this.$slots.default||this.$scopedSlots.default||[],n=this.tag;return t&&this.disabled?t.length<=1&&this.slim?this.normalizeOwnChildren(t)[0]:e(n,[this.normalizeOwnChildren(t)]):this.slim?e():e(n,{class:{"v-portal":!0},style:{display:"none"},key:"v-portal-placeholder"})}}),w=i.extend({name:"portalTarget",props:{multiple:{type:Boolean,default:!1},name:{type:String,required:!0},slim:{type:Boolean,default:!1},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},data:function(){return{transports:g.transports,firstRender:!0}},created:function(){var e=this;this.$nextTick((function(){g.registerTarget(e.name,e)}))},watch:{ownTransports:function(){this.$emit("change",this.children().length>0)},name:function(e,t){g.unregisterTarget(t),g.registerTarget(e,this)}},mounted:function(){var e=this;this.transition&&this.$nextTick((function(){e.firstRender=!1}))},beforeDestroy:function(){g.unregisterTarget(this.name)},computed:{ownTransports:function(){var e=this.transports[this.name]||[];return this.multiple?e:0===e.length?[]:[e[e.length-1]]},passengers:function(){return f(this.ownTransports,this.slotProps)}},methods:{children:function(){return 0!==this.passengers.length?this.passengers:this.$scopedSlots.default?this.$scopedSlots.default(this.slotProps):this.$slots.default||[]},noWrapper:function(){var e=this.slim&&!this.transition;return e&&this.children().length>1&&console.warn("[portal-vue]: PortalTarget with `slim` option received more than one child element."),e}},render:function(e){var t=this.noWrapper(),n=this.children(),r=this.transition||this.tag;return t?n[0]:this.slim&&!r?e():e(r,{props:{tag:this.transition&&this.tag?this.tag:void 0},class:{"vue-portal-target":!0}},n)}}),x=0,C=["disabled","name","order","slim","slotProps","tag","to"],O=["multiple","transition"],T=i.extend({name:"MountingPortal",inheritAttrs:!1,props:{append:{type:[Boolean,String]},bail:{type:Boolean},mountTo:{type:String,required:!0},disabled:{type:Boolean},name:{type:String,default:function(){return"mounted_"+String(x++)}},order:{type:Number,default:0},slim:{type:Boolean},slotProps:{type:Object,default:function(){return{}}},tag:{type:String,default:"DIV"},to:{type:String,default:function(){return String(Math.round(1e7*Math.random()))}},multiple:{type:Boolean,default:!1},targetSlim:{type:Boolean},targetSlotProps:{type:Object,default:function(){return{}}},targetTag:{type:String,default:"div"},transition:{type:[String,Object,Function]}},created:function(){if("undefined"!==typeof document){var e=document.querySelector(this.mountTo);if(e){var t=this.$props;if(g.targets[t.name])t.bail?console.warn("[portal-vue]: Target ".concat(t.name," is already mounted.\n        Aborting because 'bail: true' is set")):this.portalTarget=g.targets[t.name];else{var n=t.append;if(n){var r="string"===typeof n?n:"DIV",i=document.createElement(r);e.appendChild(i),e=i}var o=h(this.$props,O);o.slim=this.targetSlim,o.tag=this.targetTag,o.slotProps=this.targetSlotProps,o.name=this.to,this.portalTarget=new w({el:e,parent:this.$parent||this,propsData:o})}}else console.error("[portal-vue]: Mount Point '".concat(this.mountTo,"' not found in document"))}},beforeDestroy:function(){var e=this.portalTarget;if(this.append){var t=e.$el;t.parentNode.removeChild(t)}e.$destroy()},render:function(e){if(!this.portalTarget)return console.warn("[portal-vue] Target wasn't mounted"),e();if(!this.$scopedSlots.manual){var t=h(this.$props,C);return e(S,{props:t,attrs:this.$attrs,on:this.$listeners,scopedSlots:this.$scopedSlots},this.$slots.default)}var n=this.$scopedSlots.manual({to:this.to});return Array.isArray(n)&&(n=n[0]),n||e()}});function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.component(t.portalName||"Portal",S),e.component(t.portalTargetName||"PortalTarget",w),e.component(t.MountingPortalName||"MountingPortal",T)}var I={install:E};t.default=I,t.Portal=S,t.PortalTarget=w,t.MountingPortal=T,t.Wormhole=g},"2ba0":function(e,t,n){var r=n("7024");e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},"2d0a":function(e,t,n){var r=n("7f34"),i=n("b973"),o=n("2439"),s=n("4c07");e.exports=function(e,t){for(var n=i(t),a=s.f,c=o.f,u=0;u<n.length;u++){var l=n[u];r(e,l)||a(e,l,c(t,l))}}},"2d83":function(e,t,n){"use strict";var r=n("387f");e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},"2dd8":function(e,t,n){},"2e67":function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"2f62":function(e,t,n){"use strict";(function(e){
/*!
 * vuex v3.4.0
 * (c) 2020 Evan You
 * @license MIT
 */
function n(e){var t=Number(e.version.split(".")[0]);if(t>=2)e.mixin({beforeCreate:r});else{var n=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[r].concat(e.init):r,n.call(this,e)}}function r(){var e=this.$options;e.store?this.$store="function"===typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}var r="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},i=r.__VUE_DEVTOOLS_GLOBAL_HOOK__;function o(e){i&&(e._devtoolHook=i,i.emit("vuex:init",e),i.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){i.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){i.emit("vuex:action",e,t)}),{prepend:!0}))}function s(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function a(e){return null!==e&&"object"===typeof e}function c(e){return e&&"function"===typeof e.then}function u(e,t){return function(){return e(t)}}var l=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},d={namespaced:{configurable:!0}};d.namespaced.get=function(){return!!this._rawModule.namespaced},l.prototype.addChild=function(e,t){this._children[e]=t},l.prototype.removeChild=function(e){delete this._children[e]},l.prototype.getChild=function(e){return this._children[e]},l.prototype.hasChild=function(e){return e in this._children},l.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},l.prototype.forEachChild=function(e){s(this._children,e)},l.prototype.forEachGetter=function(e){this._rawModule.getters&&s(this._rawModule.getters,e)},l.prototype.forEachAction=function(e){this._rawModule.actions&&s(this._rawModule.actions,e)},l.prototype.forEachMutation=function(e){this._rawModule.mutations&&s(this._rawModule.mutations,e)},Object.defineProperties(l.prototype,d);var f=function(e){this.register([],e,!1)};function p(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return void 0;p(e.concat(r),t.getChild(r),n.modules[r])}}f.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},f.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},f.prototype.update=function(e){p([],this.root,e)},f.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var i=new l(t,n);if(0===e.length)this.root=i;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],i)}t.modules&&s(t.modules,(function(t,i){r.register(e.concat(i),t,n)}))},f.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];t.getChild(n).runtime&&t.removeChild(n)},f.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return t.hasChild(n)};var h;var m=function(e){var t=this;void 0===e&&(e={}),!h&&"undefined"!==typeof window&&window.Vue&&k(window.Vue);var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new f(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new h,this._makeLocalGettersCache=Object.create(null);var i=this,s=this,a=s.dispatch,c=s.commit;this.dispatch=function(e,t){return a.call(i,e,t)},this.commit=function(e,t,n){return c.call(i,e,t,n)},this.strict=r;var u=this._modules.root.state;_(this,u,[],this._modules.root),g(this,u),n.forEach((function(e){return e(t)}));var l=void 0!==e.devtools?e.devtools:h.config.devtools;l&&o(this)},v={state:{configurable:!0}};function b(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function y(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;_(e,n,[],e._modules.root,!0),g(e,n,t)}function g(e,t,n){var r=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,o={};s(i,(function(t,n){o[n]=u(t,e),Object.defineProperty(e.getters,n,{get:function(){return e._vm[n]},enumerable:!0})}));var a=h.config.silent;h.config.silent=!0,e._vm=new h({data:{$$state:t},computed:o}),h.config.silent=a,e.strict&&T(e),r&&(n&&e._withCommit((function(){r._data.$$state=null})),h.nextTick((function(){return r.$destroy()})))}function _(e,t,n,r,i){var o=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=r),!o&&!i){var a=E(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit((function(){h.set(a,c,r.state)}))}var u=r.context=S(e,s,n);r.forEachMutation((function(t,n){var r=s+n;x(e,r,t,u)})),r.forEachAction((function(t,n){var r=t.root?n:s+n,i=t.handler||t;C(e,r,i,u)})),r.forEachGetter((function(t,n){var r=s+n;O(e,r,t,u)})),r.forEachChild((function(r,o){_(e,t,n.concat(o),r,i)}))}function S(e,t,n){var r=""===t,i={dispatch:r?e.dispatch:function(n,r,i){var o=I(n,r,i),s=o.payload,a=o.options,c=o.type;return a&&a.root||(c=t+c),e.dispatch(c,s)},commit:r?e.commit:function(n,r,i){var o=I(n,r,i),s=o.payload,a=o.options,c=o.type;a&&a.root||(c=t+c),e.commit(c,s,a)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return w(e,t)}},state:{get:function(){return E(e.state,n)}}}),i}function w(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(i){if(i.slice(0,r)===t){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return e.getters[i]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function x(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push((function(t){n.call(e,r.state,t)}))}function C(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push((function(t){var i=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return c(i)||(i=Promise.resolve(i)),e._devtoolHook?i.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):i}))}function O(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)})}function T(e){e._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function E(e,t){return t.reduce((function(e,t){return e[t]}),e)}function I(e,t,n){return a(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}function k(e){h&&e===h||(h=e,n(h))}v.state.get=function(){return this._vm._data.$$state},v.state.set=function(e){0},m.prototype.commit=function(e,t,n){var r=this,i=I(e,t,n),o=i.type,s=i.payload,a=(i.options,{type:o,payload:s}),c=this._mutations[o];c&&(this._withCommit((function(){c.forEach((function(e){e(s)}))})),this._subscribers.slice().forEach((function(e){return e(a,r.state)})))},m.prototype.dispatch=function(e,t){var n=this,r=I(e,t),i=r.type,o=r.payload,s={type:i,payload:o},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(s,n.state)}))}catch(u){0}var c=a.length>1?Promise.all(a.map((function(e){return e(o)}))):a[0](o);return new Promise((function(e,t){c.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(s,n.state)}))}catch(u){0}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(s,n.state,e)}))}catch(u){0}t(e)}))}))}},m.prototype.subscribe=function(e,t){return b(e,this._subscribers,t)},m.prototype.subscribeAction=function(e,t){var n="function"===typeof e?{before:e}:e;return b(n,this._actionSubscribers,t)},m.prototype.watch=function(e,t,n){var r=this;return this._watcherVM.$watch((function(){return e(r.state,r.getters)}),t,n)},m.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},m.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),_(this,this.state,e,this._modules.get(e),n.preserveState),g(this,this.state)},m.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=E(t.state,e.slice(0,-1));h.delete(n,e[e.length-1])})),y(this)},m.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},m.prototype.hotUpdate=function(e){this._modules.update(e),y(this,!0)},m.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(m.prototype,v);var R=B((function(e,t){var n={};return N(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=L(this.$store,"mapState",e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,t,n):t[i]},n[r].vuex=!0})),n})),P=B((function(e,t){var n={};return N(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.commit;if(e){var o=L(this.$store,"mapMutations",e);if(!o)return;r=o.context.commit}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n})),M=B((function(e,t){var n={};return N(t).forEach((function(t){var r=t.key,i=t.val;i=e+i,n[r]=function(){if(!e||L(this.$store,"mapGetters",e))return this.$store.getters[i]},n[r].vuex=!0})),n})),A=B((function(e,t){var n={};return N(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var o=L(this.$store,"mapActions",e);if(!o)return;r=o.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n})),j=function(e){return{mapState:R.bind(null,e),mapGetters:M.bind(null,e),mapMutations:P.bind(null,e),mapActions:A.bind(null,e)}};function N(e){return D(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function D(e){return Array.isArray(e)||a(e)}function B(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function L(e,t,n){var r=e._modulesNamespaceMap[n];return r}var F={Store:m,install:k,version:"3.4.0",mapState:R,mapMutations:P,mapGetters:M,mapActions:A,createNamespacedHelpers:j};t["a"]=F}).call(this,n("c8ba"))},"30b5":function(e,t,n){"use strict";var r=n("c532");function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},3261:function(e,t,n){var r=n("0368"),i=n("4c07"),o=n("8d23");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"37e1":function(e,t,n){"use strict";var r=n("199f"),i=n("0f33"),o=n("c85d"),s=n("a714"),a=n("0ee6"),c=n("894d"),u=n("8fe4"),l=n("7024"),d=!!o&&s((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}));r({target:"Promise",proto:!0,real:!0,forced:d},{finally:function(e){var t=c(this,a("Promise")),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),i||"function"!=typeof o||o.prototype["finally"]||l(o.prototype,"finally",a("Promise").prototype["finally"])},"387f":function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e}},3934:function(e,t,n){"use strict";var r=n("c532");e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}()},"428f":function(e,t,n){var r=n("da84");e.exports=r},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"44ad":function(e,t,n){var r=n("d039"),i=n("c6b6"),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},"467f":function(e,t,n){"use strict";var r=n("2d83");e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},4930:function(e,t,n){var r=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},"4c07":function(e,t,n){var r=n("0368"),i=n("bf45"),o=n("d0c8"),s=n("fe68"),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(o(e),t=s(t,!0),o(n),i)try{return a(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"4d64":function(e,t,n){var r=n("fc6a"),i=n("50c4"),o=n("23cb"),s=function(e){return function(t,n,s){var a,c=r(t),u=i(c.length),l=o(s,u);if(e&&n!=n){while(u>l)if(a=c[l++],a!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"4dd8":function(e,t,n){var r=n("90c5");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"50c4":function(e,t,n){var r=n("a691"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},5135:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"51d2":function(e,t,n){"use strict";var r=n("0368"),i=n("a714"),o=n("f14a"),s=n("a5b6"),a=n("0e17"),c=n("ebca"),u=n("774c"),l=Object.assign,d=Object.defineProperty;e.exports=!l||i((function(){if(r&&1!==l({b:1},l(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||o(l({},t)).join("")!=i}))?function(e,t){var n=c(e),i=arguments.length,l=1,d=s.f,f=a.f;while(i>l){var p,h=u(arguments[l++]),m=d?o(h).concat(d(h)):o(h),v=m.length,b=0;while(v>b)p=m[b++],r&&!f.call(h,p)||(n[p]=h[p])}return n}:l},5270:function(e,t,n){"use strict";var r=n("c532"),i=n("c401"),o=n("2e67"),s=n("2444"),a=n("d925"),c=n("e683");function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){u(e),e.baseURL&&!a(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||s.adapter;return t(e).then((function(t){return u(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},5692:function(e,t,n){var r=n("c430"),i=n("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var r=n("d066"),i=n("241c"),o=n("7418"),s=n("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},5923:function(e,t,n){var r,i,o,s,a,c,u,l,d=n("09e4"),f=n("2439").f,p=n("d714"),h=n("0fd9").set,m=n("68e0"),v=d.MutationObserver||d.WebKitMutationObserver,b=d.process,y=d.Promise,g="process"==p(b),_=f(d,"queueMicrotask"),S=_&&_.value;S||(r=function(){var e,t;g&&(e=b.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(n){throw i?s():o=void 0,n}}o=void 0,e&&e.enter()},g?s=function(){b.nextTick(r)}:v&&!m?(a=!0,c=document.createTextNode(""),new v(r).observe(c,{characterData:!0}),s=function(){c.data=a=!a}):y&&y.resolve?(u=y.resolve(void 0),l=u.then,s=function(){l.call(u,r)}):s=function(){h.call(d,r)}),e.exports=S||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},"59c2":function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5dc8":function(e,t,n){var r=n("199f"),i=n("51d2");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},"5f2f":function(e,t,n){var r=n("0ee6");e.exports=r("navigator","userAgent")||""},"5f5b":function(e,t,n){"use strict";var r=n("2b0e"),i=r["default"],o=function(){return Array.from.apply(Array,arguments)},s=function(e){return Array.isArray(e)},a=function(e,t){return-1!==e.indexOf(t)},c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply([],t)};function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}var p=function(){return Object.assign.apply(Object,arguments)},h=function(e,t){return Object.create(e,t)},m=function(e,t){return Object.defineProperties(e,t)},v=function(e,t,n){return Object.defineProperty(e,t,n)},b=function(e){return Object.freeze(e)},y=function(e){return Object.getOwnPropertyNames(e)},g=function(e){return Object.keys(e)},_=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},S=function(e){return Object.prototype.toString.call(e)},w=function(e){return null!==e&&"object"===f(e)},x=function(e){return"[object Object]"===Object.prototype.toString.call(e)},C=function(e){return l({},e)},O=function(e,t){return g(e).filter((function(e){return-1!==t.indexOf(e)})).reduce((function(t,n){return l(l({},t),{},d({},n,e[n]))}),{})},T=function(e,t){return g(e).filter((function(e){return-1===t.indexOf(e)})).reduce((function(t,n){return l(l({},t),{},d({},n,e[n]))}),{})},E=function(){return{enumerable:!0,configurable:!1,writable:!1}},I=function e(t){var n=g(t);return n.forEach((function(n){var r=t[n];t[n]=r&&(x(r)||s(r))?e(r):r})),b(t)};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e){return D(e)||N(e)||j(e)||A()}function A(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(e,t){if(e){if("string"===typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}function N(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function D(e){if(Array.isArray(e))return B(e)}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return s(t)?t.reduce((function(t,n){return[].concat(M(t),[e(n,n)])}),[]):x(t)?g(t).reduce((function(n,r){return R(R({},n),{},P({},r,e(t[r],t[r])))}),{}):n},F=L,V=function(e){return e},U=V,$=n("938d");function W(e){return W="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}function G(e){var t=X();return function(){var n,r=ee(e);if(t){var i=ee(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return q(this,n)}}function q(e,t){return!t||"object"!==W(t)&&"function"!==typeof t?K(e):t}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){var t="function"===typeof Map?new Map:void 0;return Y=function(e){if(null===e||!Z(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return J(e,arguments,ee(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Q(n,e)},Y(e)}function J(e,t,n){return J=X()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=Function.bind.apply(e,r),o=new i;return n&&Q(o,n.prototype),o},J.apply(null,arguments)}function X(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Z(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function Q(e,t){return Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Q(e,t)}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}var te=$["i"]?window:{},ne=$["i"]?te.Element:function(e){H(n,e);var t=G(n);function n(){return z(this,n),t.apply(this,arguments)}return n}(Y(Object)),re=$["i"]?te.HTMLElement:function(e){H(n,e);var t=G(n);function n(){return z(this,n),t.apply(this,arguments)}return n}(ne),ie=$["i"]?te.SVGElement:function(e){H(n,e);var t=G(n);function n(){return z(this,n),t.apply(this,arguments)}return n}(ne),oe=$["i"]?te.File:function(e){H(n,e);var t=G(n);function n(){return z(this,n),t.apply(this,arguments)}return n}(Y(Object));function se(e){return se="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}var ae=function(e){return se(e)},ce=function(e){return Object.prototype.toString.call(e).slice(8,-1)},ue=function(e){return void 0===e},le=function(e){return null===e},de=function(e){return ue(e)||le(e)},fe=function(e){return"function"===ae(e)},pe=function(e){return"boolean"===ae(e)},he=function(e){return"string"===ae(e)},me=function(e){return"number"===ae(e)},ve=function(e){return e instanceof Date},be=function(e){return e instanceof Event},ye=function(e){return e instanceof oe},ge=function(e){return"RegExp"===ce(e)},_e=function(e){return!de(e)&&fe(e.then)&&fe(e.catch)},Se=/\[(\d+)]/g,we=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(t=s(t)?t.join("."):t,!t||!w(e))return n;if(t in e)return e[t];t=String(t).replace(Se,".$1");var r=t.split(".").filter(U);return 0===r.length?n:r.every((function(t){return w(e)&&t in e&&!de(e=e[t])}))?e:le(e)?null:n},xe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=we(e,t);return de(r)?n:r},Ce=xe,Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object($["a"])()||console.warn("[BootstrapVue warn]: ".concat(t?"".concat(t," - "):"").concat(e))},Te=function(e){return!$["j"]&&(Oe("".concat(e,": Can not be called during SSR.")),!0)},Ee=function(e){return!$["g"]&&(Oe("".concat(e,": Requires Promise support.")),!0)},Ie=function(e){return!$["d"]&&(Oe("".concat(e,": Requires MutationObserver support.")),!0)},ke=I({breakpoints:["xs","sm","md","lg","xl"],formControls:{size:void 0},BAlert:{dismissLabel:"Close",variant:"info"},BAvatar:{variant:"secondary",badgeVariant:"primary"},BBadge:{variant:"secondary"},BButton:{size:void 0,variant:"secondary"},BButtonClose:{content:"&times;",textVariant:void 0,ariaLabel:"Close"},BCalendar:{labelPrevDecade:"Previous decade",labelPrevYear:"Previous year",labelPrevMonth:"Previous month",labelCurrentMonth:"Current month",labelNextMonth:"Next month",labelNextYear:"Next year",labelNextDecade:"Next decade",labelToday:"Today",labelSelected:"Selected date",labelNoDateSelected:"No date selected",labelCalendar:"Calendar",labelNav:"Calendar navigation",labelHelp:"Use cursor keys to navigate calendar dates"},BCardSubTitle:{subTitleTextVariant:"muted"},BCarousel:{labelPrev:"Previous Slide",labelNext:"Next Slide",labelGotoSlide:"Goto Slide",labelIndicators:"Select a slide to display"},BDropdown:{toggleText:"Toggle Dropdown",size:void 0,variant:"secondary",splitVariant:void 0},BFormDatepicker:{labelPrevDecade:void 0,labelPrevYear:void 0,labelPrevMonth:void 0,labelCurrentMonth:void 0,labelNextMonth:void 0,labelNextYear:void 0,labelNextDecade:void 0,labelToday:void 0,labelSelected:void 0,labelNoDateSelected:void 0,labelCalendar:void 0,labelNav:void 0,labelHelp:void 0,labelTodayButton:"Select today",labelResetButton:"Reset",labelCloseButton:"Close"},BFormFile:{browseText:"Browse",placeholder:"No file chosen",dropPlaceholder:"Drop files here"},BFormRating:{variant:null,color:null},BFormTag:{removeLabel:"Remove tag",variant:"secondary"},BFormTags:{addButtonText:"Add",addButtonVariant:"outline-secondary",duplicateTagText:"Duplicate tag(s)",invalidTagText:"Invalid tag(s)",placeholder:"Add tag...",tagRemoveLabel:"Remove tag",tagRemovedLabel:"Tag removed",tagVariant:"secondary"},BFormText:{textVariant:"muted"},BFormTimepicker:{labelNoTimeSelected:void 0,labelSelected:void 0,labelHours:void 0,labelMinutes:void 0,labelSeconds:void 0,labelAmpm:void 0,labelAm:void 0,labelPm:void 0,labelDecrement:void 0,labelIncrement:void 0,labelNowButton:"Select now",labelResetButton:"Reset",labelCloseButton:"Close"},BFormSpinbutton:{labelDecrement:"Decrement",labelIncrement:"Increment"},BImg:{blankColor:"transparent"},BImgLazy:{blankColor:"transparent"},BInputGroup:{size:void 0},BJumbotron:{bgVariant:void 0,borderVariant:void 0,textVariant:void 0},BLink:{routerComponentName:void 0},BListGroupItem:{variant:void 0},BModal:{titleTag:"h5",size:"md",headerBgVariant:void 0,headerBorderVariant:void 0,headerTextVariant:void 0,headerCloseVariant:void 0,bodyBgVariant:void 0,bodyTextVariant:void 0,footerBgVariant:void 0,footerBorderVariant:void 0,footerTextVariant:void 0,cancelTitle:"Cancel",cancelVariant:"secondary",okTitle:"OK",okVariant:"primary",headerCloseContent:"&times;",headerCloseLabel:"Close"},BNavbar:{variant:null},BNavbarToggle:{label:"Toggle navigation"},BPagination:{size:void 0},BPaginationNav:{size:void 0},BPopover:{boundary:"scrollParent",boundaryPadding:5,customClass:void 0,delay:50,variant:void 0},BProgress:{variant:void 0},BProgressBar:{variant:void 0},BSpinner:{variant:void 0},BSidebar:{bgVariant:"light",textVariant:"dark",shadow:!1,width:void 0,tag:"div",backdropVariant:"dark"},BTable:{selectedVariant:"active",headVariant:void 0,footVariant:void 0},BTime:{labelNoTimeSelected:"No time selected",labelSelected:"Selected time",labelHours:"Hours",labelMinutes:"Minutes",labelSeconds:"Seconds",labelAmpm:"AM/PM",labelAm:"AM",labelPm:"PM",labelIncrement:void 0,labelDecrement:void 0},BToast:{toaster:"b-toaster-top-right",autoHideDelay:5e3,variant:void 0,toastClass:void 0,headerClass:void 0,bodyClass:void 0},BToaster:{ariaLive:void 0,ariaAtomic:void 0,role:void 0},BTooltip:{boundary:"scrollParent",boundaryPadding:5,customClass:void 0,delay:50,variant:void 0}});function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t,n){return t&&Pe(e.prototype,t),n&&Pe(e,n),e}var Ae="BvConfig",je="$bvConfig",Ne=function(){function e(){Re(this,e),this.$_config={},this.$_cachedBreakpoints=null}return Me(e,[{key:"getDefaults",value:function(){return this.defaults}},{key:"setConfig",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(x(t)){var n=y(t);n.forEach((function(n){if(_(ke,n)){var r=t[n];if("breakpoints"===n){var i=t.breakpoints;!s(i)||i.length<2||i.some((function(e){return!he(e)||0===e.length}))?Oe('"breakpoints" must be an array of at least 2 breakpoint names',Ae):e.$_config.breakpoints=F(i)}else if(x(r)){var o=y(r);o.forEach((function(t){_(ke[n],t)?(e.$_config[n]=e.$_config[n]||{},ue(r[t])||(e.$_config[n][t]=F(r[t]))):Oe('Unknown config property "'.concat(n,".").concat(t,'"'),Ae)}))}}else Oe('Unknown config property "'.concat(n,'"'),Ae)}))}}},{key:"resetConfig",value:function(){this.$_config={}}},{key:"getConfig",value:function(){return F(this.$_config)}},{key:"getConfigValue",value:function(e){return F(we(this.$_config,e,we(ke,e)))}},{key:"defaults",get:function(){return ke}}],[{key:"Defaults",get:function(){return ke}}]),e}(),De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;t.prototype[je]=i.prototype[je]=t.prototype[je]||i.prototype[je]||new Ne,t.prototype[je].setConfig(e)};function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve=function(){var e=!1,t=["Multiple instances of Vue detected!","You may need to set up an alias for Vue in your bundler config.","See: https://bootstrap-vue.org/docs#using-module-bundlers"].join("\n");return function(n){e||i===n||$["k"]||Oe(t),e=!0}}(),Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,n=e.directives,r=e.plugins,i=function e(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.installed||(e.installed=!0,Ve(i),De(o,i),He(i,t),qe(i,n),We(i,r))};return i.installed=!1,i},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Le(Le({},t),{},{install:Ue(e)})},We=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in t)n&&t[n]&&e.use(t[n])},ze=function(e,t,n){e&&t&&n&&e.component(t,n)},He=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in t)ze(e,n,t[n])},Ge=function(e,t,n){e&&t&&n&&e.directive(t.replace(/^VB/,"B"),n)},qe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in t)Ge(e,n,t[n])},Ke=function(e){var t=h(null);return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=JSON.stringify(r);return t[o]=t[o]||e.apply(null,r)}},Ye=Ke,Je="$bvConfig",Xe=i.prototype,Ze=function(e){return Xe[Je]?Xe[Je].getConfigValue(e):F(we(ke,e))},Qe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?Ze("".concat(e,".").concat(t)):Ze(e)||{}},et=function(){return Ze("breakpoints")},tt=Ye((function(){return et()})),nt=function(){return F(tt())},rt=Ye((function(){var e=nt();return e[0]="",e})),it=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN,n=parseInt(e,10);return isNaN(n)?t:n},ot=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN,n=parseFloat(e);return isNaN(n)?t:n},st=function(e,t){return ot(e).toFixed(it(t,0))},at=/^\s+/,ct=/[-/\\^$*+?.()|[\]{}]/g,ut=/-(\w)/g,lt=/\B([A-Z])/g,dt=function(e){return e.replace(lt,"-$1").toLowerCase()},ft=function(e){return e=dt(e).replace(ut,(function(e,t){return t?t.toUpperCase():""})),e.charAt(0).toUpperCase()+e.slice(1)},pt=function(e){return e=he(e)?e.trim():String(e),e.charAt(0).toLowerCase()+e.slice(1)},ht=function(e){return e=he(e)?e.trim():String(e),e.charAt(0).toUpperCase()+e.slice(1)},mt=function(e){return e.replace(ct,"\\$&")},vt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return de(e)?"":s(e)||x(e)&&e.toString===Object.prototype.toString?JSON.stringify(e,null,t):String(e)},bt=function(e){return vt(e).replace(at,"")},yt=function(e){return vt(e).trim()},gt=function(e){return vt(e).toLowerCase()},_t=["button","[href]:not(.disabled)","input","select","textarea","[tabindex]","[contenteditable]"].map((function(e){return"".concat(e,":not(:disabled):not([disabled])")})).join(", "),St=$["i"]?window:{},wt=$["b"]?document:{},xt="undefined"!==typeof Element?Element.prototype:{},Ct=xt.matches||xt.msMatchesSelector||xt.webkitMatchesSelector,Ot=xt.closest||function(e){var t=this;do{if(Lt(t,e))return t;t=t.parentElement||t.parentNode}while(!le(t)&&t.nodeType===Node.ELEMENT_NODE);return null},Tt=St.requestAnimationFrame||St.webkitRequestAnimationFrame||St.mozRequestAnimationFrame||St.msRequestAnimationFrame||St.oRequestAnimationFrame||function(e){return setTimeout(e,16)},Et=St.MutationObserver||St.WebKitMutationObserver||St.MozMutationObserver||null,It=function(e){return e&&e.parentNode&&e.parentNode.removeChild(e)},kt=function(e){return!(!e||e.nodeType!==Node.ELEMENT_NODE)},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=wt.activeElement;return t&&!e.some((function(e){return e===t}))?t:null},Pt=function(e,t){return vt(e).toLowerCase()===vt(t).toLowerCase()},Mt=function(e){return kt(e)&&e===Rt()},At=function(e){if(!kt(e)||!e.parentNode||!Vt(wt.body,e))return!1;if("none"===e.style.display)return!1;var t=Yt(e);return!!(t&&t.height>0&&t.width>0)},jt=function(e){return!kt(e)||e.disabled||Kt(e,"disabled")||zt(e,"disabled")},Nt=function(e){return kt(e)&&e.offsetHeight},Dt=function(e,t){return o((kt(t)?t:wt).querySelectorAll(e))},Bt=function(e,t){return(kt(t)?t:wt).querySelector(e)||null},Lt=function(e,t){return!!kt(e)&&Ct.call(e,t)},Ft=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!kt(t))return null;var r=Ot.call(t,e);return n?r:r===t?null:r},Vt=function(e,t){return!(!e||!fe(e.contains))&&e.contains(t)},Ut=function(e){return wt.getElementById(/^#/.test(e)?e.slice(1):e)||null},$t=function(e,t){t&&kt(e)&&e.classList&&e.classList.add(t)},Wt=function(e,t){t&&kt(e)&&e.classList&&e.classList.remove(t)},zt=function(e,t){return!!(t&&kt(e)&&e.classList)&&e.classList.contains(t)},Ht=function(e,t,n){t&&kt(e)&&e.setAttribute(t,n)},Gt=function(e,t){t&&kt(e)&&e.removeAttribute(t)},qt=function(e,t){return t&&kt(e)?e.getAttribute(t):null},Kt=function(e,t){return t&&kt(e)?e.hasAttribute(t):null},Yt=function(e){return kt(e)?e.getBoundingClientRect():null},Jt=function(e){return $["i"]&&kt(e)?St.getComputedStyle(e):{}},Xt=function(){return $["i"]&&St.getSelection?St.getSelection():null},Zt=function(e){var t={top:0,left:0};if(!kt(e)||0===e.getClientRects().length)return t;var n=Yt(e);if(n){var r=e.ownerDocument.defaultView;t.top=n.top+r.pageYOffset,t.left=n.left+r.pageXOffset}return t},Qt=function(e){var t={top:0,left:0};if(!kt(e))return t;var n={top:0,left:0},r=Jt(e);if("fixed"===r.position)t=Yt(e)||t;else{t=Zt(e);var i=e.ownerDocument,o=e.offsetParent||i.documentElement;while(o&&(o===i.body||o===i.documentElement)&&"static"===Jt(o).position)o=o.parentNode;if(o&&o!==e&&o.nodeType===Node.ELEMENT_NODE){n=Zt(o);var s=Jt(o);n.top+=ot(s.borderTopWidth,0),n.left+=ot(s.borderLeftWidth,0)}}return{top:t.top-n.top-ot(r.marginTop,0),left:t.left-n.left-ot(r.marginLeft,0)}},en=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return Dt(_t,e).filter(At).filter((function(e){return e.tabIndex>-1&&!e.disabled}))},tn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{e.focus(t)}catch(n){}return Mt(e)},nn=function(e){try{e.blur()}catch(t){}return!Mt(e)},rn=function(){return(rn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},on={kebab:/-(\w)/g,styleProp:/:(.*)/,styleList:/;(?![^(]*\))/g};function sn(e,t){return t?t.toUpperCase():""}function an(e){for(var t,n={},r=0,i=e.split(on.styleList);r<i.length;r++){var o=i[r].split(on.styleProp),s=o[0],a=o[1];(s=s.trim())&&("string"==typeof a&&(a=a.trim()),n[(t=s,t.replace(on.kebab,sn))]=a)}return n}function cn(){for(var e,t,n={},r=arguments.length;r--;)for(var i=0,o=Object.keys(arguments[r]);i<o.length;i++)switch(e=o[i]){case"class":case"style":case"directives":if(Array.isArray(n[e])||(n[e]=[]),"style"===e){var s=void 0;s=Array.isArray(arguments[r].style)?arguments[r].style:[arguments[r].style];for(var a=0;a<s.length;a++){var c=s[a];"string"==typeof c&&(s[a]=an(c))}arguments[r].style=s}n[e]=n[e].concat(arguments[r][e]);break;case"staticClass":if(!arguments[r][e])break;void 0===n[e]&&(n[e]=""),n[e]&&(n[e]+=" "),n[e]+=arguments[r][e].trim();break;case"on":case"nativeOn":n[e]||(n[e]={});for(var u=0,l=Object.keys(arguments[r][e]||{});u<l.length;u++)t=l[u],n[e][t]?n[e][t]=[].concat(n[e][t],arguments[r][e][t]):n[e][t]=arguments[r][e][t];break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":n[e]||(n[e]={}),n[e]=rn({},arguments[r][e],n[e]);break;case"slot":case"key":case"ref":case"tag":case"show":case"keepAlive":default:n[e]||(n[e]=arguments[r][e])}return n}function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fn={name:"",enterClass:"",enterActiveClass:"",enterToClass:"show",leaveClass:"show",leaveActiveClass:"",leaveToClass:""},pn=ln(ln({},fn),{},{enterActiveClass:"fade",leaveActiveClass:"fade"}),hn=i.extend({name:"BVTransition",functional:!0,props:{noFade:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},mode:{type:String},transProps:{type:Object,default:null}},render:function(e,t){var n=t.children,r=t.data,i=t.props,o=i.transProps;return x(o)||(o=i.noFade?fn:pn,i.appear&&(o=ln(ln({},o),{},{appear:!0,appearClass:o.enterClass,appearActiveClass:o.enterActiveClass,appearToClass:o.enterToClass}))),o=ln(ln({mode:i.mode},o),{},{css:!0}),e("transition",cn(r,{props:o}),n)}}),mn=hn,vn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=c(e).filter(U),e.some((function(e){return t[e]||n[e]}))},bn=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=c(e).filter(U);for(var o=0;o<e.length&&!t;o++){var s=e[o];t=r[s]||i[s]}return fe(t)?t(n):t},yn={methods:{hasNormalizedSlot:function(e){return vn(e,this.$scopedSlots,this.$slots)},normalizeSlot:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=bn(e,t,this.$scopedSlots,this.$slots);return n?c(n):n}}};function gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _n="BButtonClose",Sn={content:{type:String,default:function(){return Qe(_n,"content")}},disabled:{type:Boolean,default:!1},ariaLabel:{type:String,default:function(){return Qe(_n,"ariaLabel")}},textVariant:{type:String,default:function(){return Qe(_n,"textVariant")}}},wn=i.extend({name:_n,functional:!0,props:Sn,render:function(e,t){var n=t.props,r=t.data,i=t.slots,o=t.scopedSlots,s=i(),a=o||{},c={staticClass:"close",class:gn({},"text-".concat(n.textVariant),n.textVariant),attrs:{type:"button",disabled:n.disabled,"aria-label":n.ariaLabel?String(n.ariaLabel):null},on:{click:function(e){n.disabled&&be(e)&&(e.stopPropagation(),e.preventDefault())}}};return vn("default",a,s)||(c.domProps={innerHTML:n.content}),e("button",cn(r,c),bn("default",{},a,s))}});function xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cn="BAlert",On=function(e){return""===e||pe(e)?0:(e=it(e,0),e>0?e:0)},Tn=function(e){return""===e||!0===e||!(it(e,0)<1)&&!!e},En=function(e){return!isNaN(it(e))},In=i.extend({name:Cn,mixins:[yn],model:{prop:"show",event:"input"},props:{variant:{type:String,default:function(){return Qe(Cn,"variant")}},dismissible:{type:Boolean,default:!1},dismissLabel:{type:String,default:function(){return Qe(Cn,"dismissLabel")}},show:{type:[Boolean,Number,String],default:!1},fade:{type:Boolean,default:!1}},data:function(){return{countDown:0,countDownTimeout:null,localShow:Tn(this.show)}},watch:{show:function(e){this.countDown=On(e),this.localShow=Tn(e)},countDown:function(e){var t=this;this.clearCountDownInterval(),En(this.show)&&(this.$emit("dismiss-count-down",e),this.show!==e&&this.$emit("input",e),e>0?(this.localShow=!0,this.countDownTimeout=setTimeout((function(){t.countDown--}),1e3)):this.$nextTick((function(){Tt((function(){t.localShow=!1}))})))},localShow:function(e){e||!this.dismissible&&!En(this.show)||this.$emit("dismissed"),En(this.show)||this.show===e||this.$emit("input",e)}},created:function(){this.countDown=On(this.show),this.localShow=Tn(this.show)},mounted:function(){this.countDown=On(this.show),this.localShow=Tn(this.show)},beforeDestroy:function(){this.clearCountDownInterval()},methods:{dismiss:function(){this.clearCountDownInterval(),this.countDown=0,this.localShow=!1},clearCountDownInterval:function(){this.countDownTimeout&&(clearTimeout(this.countDownTimeout),this.countDownTimeout=null)}},render:function(e){var t;if(this.localShow){var n=e();this.dismissible&&(n=e(wn,{attrs:{"aria-label":this.dismissLabel},on:{click:this.dismiss}},[this.normalizeSlot("dismiss")])),t=e("div",{key:this._uid,staticClass:"alert",class:xn({"alert-dismissible":this.dismissible},"alert-".concat(this.variant),this.variant),attrs:{role:"alert","aria-live":"polite","aria-atomic":!0}},[n,this.normalizeSlot("default")]),t=[t]}return e(mn,{props:{noFade:!this.fade}},t)}}),kn=$e({components:{BAlert:In}}),Rn=Math.min,Pn=Math.max,Mn=Math.abs,An=Math.ceil,jn=Math.floor,Nn=Math.pow,Dn=Math.round;function Bn(e,t){return $n(e)||Un(e,t)||Fn(e,t)||Ln()}function Ln(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Fn(e,t){if(e){if("string"===typeof e)return Vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vn(e,t):void 0}}function Vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Un(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)if(n.push(s.value),t&&n.length===t)break}catch(c){i=!0,o=c}finally{try{r||null==a["return"]||a["return"]()}finally{if(i)throw o}}return n}}function $n(e){if(Array.isArray(e))return e}var Wn="BAspect",zn="b-aspect",Hn=/^\d+(\.\d*)?[/:]\d+(\.\d*)?$/,Gn=/[/:]/,qn=i.extend({name:Wn,mixins:[yn],props:{aspect:{type:[Number,String],default:"1:1"},tag:{type:String,default:"div"}},computed:{padding:function(){var e=this.aspect,t=1;if(Hn.test(e)){var n=e.split(Gn).map((function(e){return ot(e)||1})),r=Bn(n,2),i=r[0],o=r[1];t=i/o}else t=ot(e)||1;return"".concat(100/Mn(t),"%")}},render:function(e){var t=e("div",{staticClass:"".concat(zn,"-sizer flex-grow-1"),style:{paddingBottom:this.padding,height:0}}),n=e("div",{staticClass:"".concat(zn,"-content flex-grow-1 w-100 mw-100"),style:{marginLeft:"-100%"}},[this.normalizeSlot("default")]);return e(this.tag,{staticClass:"".concat(zn," d-flex")},[t,n])}}),Kn=$e({components:{BAspect:qn}}),Yn=function(e,t){return e+ht(t)},Jn=function(e,t){return pt(t.replace(e,""))},Xn=function(e,t){return t+(e?ht(e):"")},Zn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U;if(s(e))return e.map(t);var n={};for(var r in e)_(e,r)&&(n[t(r)]=w(e[r])?C(e[r]):e[r]);return n},Qn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U;return(s(e)?e.slice():g(e)).reduce((function(e,r){return e[n(r)]=t[r],e}),{})},er="a",tr=/%2C/g,nr=/[!'()*]/g,rr=/\+/g,ir=/^(\?|#|&)/,or=function(e){return"%"+e.charCodeAt(0).toString(16)},sr=function(e){return encodeURIComponent(vt(e)).replace(nr,or).replace(tr,",")},ar=decodeURIComponent,cr=function(e){if(!x(e))return"";var t=g(e).map((function(t){var n=e[t];return ue(n)?"":le(n)?sr(t):s(n)?n.reduce((function(e,n){return le(n)?e.push(sr(t)):ue(n)||e.push(sr(t)+"="+sr(n)),e}),[]).join("&"):sr(t)+"="+sr(n)})).filter((function(e){return e.length>0})).join("&");return t?"?".concat(t):""},ur=function(e){var t={};return e=vt(e).trim().replace(ir,""),e?(e.split("&").forEach((function(e){var n=e.replace(rr," ").split("="),r=ar(n.shift()),i=n.length>0?ar(n.join("=")):null;ue(t[r])?t[r]=i:s(t[r])?t[r].push(i):t[r]=[t[r],i]})),t):t},lr=function(e){return!(!e.href&&!e.to)},dr=function(e){return!Pt(e,er)},fr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.to,n=e.disabled,r=e.routerComponentName,i=arguments.length>1?arguments[1]:void 0,o=i.$router;return!o||o&&n||o&&!t?er:r||(i.$nuxt?"nuxt-link":"router-link")},pr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=e.rel;return"_blank"===t&&le(n)?"noopener":n||null},hr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.href,n=e.to,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:er,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/";if(dr(r))return null;if(t)return t;if(n){if(he(n))return n||o;if(x(n)&&(n.path||n.query||n.hash)){var s=vt(n.path),a=cr(n.query),c=vt(n.hash);return c=c&&"#"!==c.charAt(0)?"#".concat(c):c,"".concat(s).concat(a).concat(c)||o}}return i},mr=b({SPACE:32,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,PAGEUP:33,PAGEDOWN:34,HOME:36,END:35,TAB:9,SHIFT:16,CTRL:17,BACKSPACE:8,ALT:18,PAUSE:19,BREAK:19,INSERT:45,INS:45,DELETE:46}),vr=mr;function br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?br(Object(n),!0).forEach((function(t){gr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _r=function(e){return{handler:function(t,n){for(var r in n)_(t,r)||this.$delete(this.$data[e],r);for(var i in t)this.$set(this.$data[e],i,t[i])}}},Sr=function(e,t){return{data:function(){return gr({},t,{})},watch:gr({},e,_r(t)),created:function(){this[t]=yr({},this[e])}}},wr=Sr("$attrs","bvAttrs"),xr=Sr("$listeners","bvListeners");function Cr(e){return Ir(e)||Er(e)||Tr(e)||Or()}function Or(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Tr(e,t){if(e){if("string"===typeof e)return kr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kr(e,t):void 0}}function Er(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Ir(e){if(Array.isArray(e))return kr(e)}function kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(n),!0).forEach((function(t){Mr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ar="BLink",jr={to:{type:[String,Object],default:null},append:{type:Boolean,default:!1},replace:{type:Boolean,default:!1},event:{type:[String,Array],default:"click"},activeClass:{type:String},exact:{type:Boolean,default:!1},exactActiveClass:{type:String},routerTag:{type:String,default:"a"}},Nr={prefetch:{type:Boolean,default:null},noPrefetch:{type:Boolean,default:!1}},Dr=Pr(Pr(Pr({href:{type:String,default:null},rel:{type:String,default:null},target:{type:String,default:"_self"},active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},jr),Nr),{},{routerComponentName:{type:String,default:function(){return Qe(Ar,"routerComponentName")}}}),Br=i.extend({name:"BLink",mixins:[wr,xr,yn],inheritAttrs:!1,props:Dr,computed:{computedTag:function(){var e=this.to,t=this.disabled,n=this.routerComponentName;return fr({to:e,disabled:t,routerComponentName:n},this)},isRouterLink:function(){return dr(this.computedTag)},computedRel:function(){return pr({target:this.target,rel:this.rel})},computedHref:function(){return hr({to:this.to,href:this.href},this.computedTag)},computedProps:function(){var e=this.prefetch;return this.isRouterLink?Pr(Pr({},Qn(Pr(Pr({},jr),Nr),this)),{},{prefetch:pe(e)?e:void 0,tag:this.routerTag}):{}},computedAttrs:function(){var e=this.bvAttrs,t=this.computedHref,n=this.computedRel,r=this.disabled,i=this.target,o=this.routerTag,s=this.isRouterLink;return Pr(Pr(Pr(Pr({},e),t?{href:t}:{}),s&&"a"!==o&&"area"!==o?{}:{rel:n,target:i}),{},{tabindex:r?"-1":ue(e.tabindex)?null:e.tabindex,"aria-disabled":r?"true":null})},computedListeners:function(){return Pr(Pr({},this.bvListeners),{},{click:this.onClick})}},methods:{onClick:function(e){var t=arguments,n=be(e),r=this.isRouterLink,i=this.bvListeners.click;n&&this.disabled?(e.stopPropagation(),e.stopImmediatePropagation()):(r&&e.currentTarget.__vue__&&e.currentTarget.__vue__.$emit("click",e),c(i).filter((function(e){return fe(e)})).forEach((function(e){e.apply(void 0,Cr(t))})),this.$root.$emit("clicked::link",e)),n&&(this.disabled||!r&&"#"===this.computedHref)&&e.preventDefault()},focus:function(){tn(this.$el)},blur:function(){nn(this.$el)}},render:function(e){var t=this.active,n=this.disabled;return e(this.computedTag,Mr({class:{active:t,disabled:n},attrs:this.computedAttrs,props:this.computedProps},this.isRouterLink?"nativeOn":"on",this.computedListeners),this.normalizeSlot("default"))}});function Lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(n),!0).forEach((function(t){Vr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ur="BButton",$r=T(Dr,["event","routerTag"]);delete $r.href.default,delete $r.to.default;var Wr={block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:String,default:function(){return Qe(Ur,"size")}},variant:{type:String,default:function(){return Qe(Ur,"variant")}},type:{type:String,default:"button"},tag:{type:String,default:"button"},pill:{type:Boolean,default:!1},squared:{type:Boolean,default:!1},pressed:{type:Boolean,default:null}},zr=Fr(Fr({},Wr),$r),Hr=function(e){"focusin"===e.type?$t(e.target,"focus"):"focusout"===e.type&&Wt(e.target,"focus")},Gr=function(e){return lr(e)||Pt(e.tag,"a")},qr=function(e){return pe(e.pressed)},Kr=function(e){return!(Gr(e)||e.tag&&!Pt(e.tag,"button"))},Yr=function(e){return!Gr(e)&&!Kr(e)},Jr=function(e){var t;return["btn-".concat(e.variant||Qe(Ur,"variant")),(t={},Vr(t,"btn-".concat(e.size),e.size),Vr(t,"btn-block",e.block),Vr(t,"rounded-pill",e.pill),Vr(t,"rounded-0",e.squared&&!e.pill),Vr(t,"disabled",e.disabled),Vr(t,"active",e.pressed),t)]},Xr=function(e){return Gr(e)?Qn($r,e):{}},Zr=function(e,t){var n=Kr(e),r=Gr(e),i=qr(e),o=Yr(e),s=r&&"#"===e.href,a=t.attrs&&t.attrs.role?t.attrs.role:null,c=t.attrs?t.attrs.tabindex:null;return(o||s)&&(c="0"),{type:n&&!r?e.type:null,disabled:n?e.disabled:null,role:o||s?"button":a,"aria-disabled":o?String(e.disabled):null,"aria-pressed":i?String(e.pressed):null,autocomplete:i?"off":null,tabindex:e.disabled&&!n?"-1":c}},Qr=i.extend({name:Ur,functional:!0,props:zr,render:function(e,t){var n=t.props,r=t.data,i=t.listeners,o=t.children,s=qr(n),a=Gr(n),u=Yr(n),l=a&&"#"===n.href,d={keydown:function(e){if(!n.disabled&&(u||l)){var t=e.keyCode;if(t===vr.SPACE||t===vr.ENTER&&u){var r=e.currentTarget||e.target;e.preventDefault(),r.click()}}},click:function(e){n.disabled&&be(e)?(e.stopPropagation(),e.preventDefault()):s&&i&&i["update:pressed"]&&c(i["update:pressed"]).forEach((function(e){fe(e)&&e(!n.pressed)}))}};s&&(d.focusin=Hr,d.focusout=Hr);var f={staticClass:"btn",class:Jr(n),props:Xr(n),attrs:Zr(n,r),on:d};return e(a?Br:n.tag,cn(r,f),o)}});function ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(n),!0).forEach((function(t){ni(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ni(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ri={variant:{type:String,default:null},fontScale:{type:[Number,String],default:1},scale:{type:[Number,String],default:1},rotate:{type:[Number,String],default:0},flipH:{type:Boolean,default:!1},flipV:{type:Boolean,default:!1},shiftH:{type:[Number,String],default:0},shiftV:{type:[Number,String],default:0},animation:{type:String,default:null}},ii={viewBox:"0 0 16 16",width:"1em",height:"1em",focusable:"false",role:"img",alt:"icon"},oi={width:null,height:null,focusable:null,role:null,alt:null},si=i.extend({name:"BVIconBase",functional:!0,props:ti({content:{type:String},stacked:{type:Boolean,default:!1}},ri),render:function(e,t){var n,r=t.data,i=t.props,o=t.children,s=Pn(ot(i.fontScale,1),0)||1,a=Pn(ot(i.scale,1),0)||1,c=ot(i.rotate,0),u=ot(i.shiftH,0),l=ot(i.shiftV,0),d=i.flipH,f=i.flipV,p=i.animation,h=d||f||1!==a,m=h||c,v=u||l,b=[m?"translate(8 8)":null,h?"scale(".concat((d?-1:1)*a," ").concat((f?-1:1)*a,")"):null,c?"rotate(".concat(c,")"):null,m?"translate(-8 -8)":null].filter(U),y=i.stacked,g=!de(i.content),_=e("g",{attrs:{transform:b.join(" ")||null},domProps:g?{innerHTML:i.content||""}:{}},o);return v&&(_=e("g",{attrs:{transform:"translate(".concat(16*u/16," ").concat(-16*l/16,")")}},[_])),y&&(_=e("g",{},[_])),e("svg",cn({staticClass:"b-icon bi",class:(n={},ni(n,"text-".concat(i.variant),!!i.variant),ni(n,"b-icon-animation-".concat(p),!!p),n),attrs:ii,style:y?{}:{fontSize:1===s?null:"".concat(100*s,"%")}},r,y?{attrs:oi}:{},{attrs:{xmlns:y?null:"http://www.w3.org/2000/svg",fill:"currentColor"}}),[_])}});function ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ai(Object(n),!0).forEach((function(t){ui(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ai(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var li=function(e,t){var n="BIcon".concat(ft(e)),r="bi-".concat(dt(e)),o=yt(t||"");return i.extend({name:n,functional:!0,props:ci(ci({},ri),{},{stacked:{type:Boolean,default:!1}}),render:function(e,t){var n=t.data,i=t.props;return e(si,cn(n,{staticClass:r,props:ci(ci({},i),{},{content:o})}))}})},di=li("Blank",""),fi=li("Calendar",'<path fill-rule="evenodd" d="M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1zm1-3a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H2z"/><path fill-rule="evenodd" d="M3.5 0a.5.5 0 0 1 .5.5V1a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 .5-.5zm9 0a.5.5 0 0 1 .5.5V1a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 .5-.5z"/>'),pi=li("CalendarFill",'<path fill-rule="evenodd" d="M3.5 0a.5.5 0 0 1 .5.5V1a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 .5-.5zm9 0a.5.5 0 0 1 .5.5V1a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 .5-.5z"/><path d="M2 1a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2H2zm14 4H0v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V5z"/>'),hi=li("ChevronBarLeft",'<path fill-rule="evenodd" d="M11.854 3.646a.5.5 0 0 1 0 .708L8.207 8l3.647 3.646a.5.5 0 0 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 0 1 .708 0zM4.5 1a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 1 0v-13a.5.5 0 0 0-.5-.5z"/>'),mi=li("ChevronDoubleLeft",'<path fill-rule="evenodd" d="M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/><path fill-rule="evenodd" d="M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>'),vi=li("ChevronDown",'<path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>'),bi=li("ChevronLeft",'<path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>'),yi=li("ChevronUp",'<path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"/>'),gi=li("CircleFill",'<circle cx="8" cy="8" r="8"/>'),_i=li("Clock",'<path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm8-7A8 8 0 1 1 0 8a8 8 0 0 1 16 0z"/><path fill-rule="evenodd" d="M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5z"/>'),Si=li("ClockFill",'<path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/>'),wi=li("Dash",'<path fill-rule="evenodd" d="M3.5 8a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.5-.5z"/>'),xi=li("PersonFill",'<path fill-rule="evenodd" d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>'),Ci=li("Plus",'<path fill-rule="evenodd" d="M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z"/><path fill-rule="evenodd" d="M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z"/>'),Oi=li("Star",'<path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>'),Ti=li("StarFill",'<path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>'),Ei=li("StarHalf",'<path fill-rule="evenodd" d="M5.354 5.119L7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.55.55 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.519.519 0 0 1-.146.05c-.341.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.171-.403.59.59 0 0 1 .084-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027c.08 0 .16.018.232.056l3.686 1.894-.694-3.957a.564.564 0 0 1 .163-.505l2.906-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.002 2.223 8 2.226v9.8z"/>'),Ii=li("X",'<path fill-rule="evenodd" d="M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"/><path fill-rule="evenodd" d="M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z"/>');
/*!
 * BootstrapVue Icons, generated from Bootstrap Icons 1.0.0-alpha4
 *
 * @link https://icons.getbootstrap.com/
 * @license MIT
 * https://github.com/twbs/icons/blob/master/LICENSE.md
 */function ki(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ki(Object(n),!0).forEach((function(t){Pi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ki(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mi=/^BIcon/,Ai=i.extend({name:"BIcon",functional:!0,props:Ri(Ri({icon:{type:String,default:null}},ri),{},{stacked:{type:Boolean,default:!1}}),render:function(e,t){var n=t.data,r=t.props,i=t.parent,o=ft(yt(r.icon||"")).replace(Mi,""),s="BIcon".concat(o),a=((i||{}).$options||{}).components,c=o&&a?a[s]||di:o?s:di;return e(c,cn(n,{props:Ri(Ri({},r),{},{icon:null})}))}});function ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ji(Object(n),!0).forEach((function(t){Di(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Di(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bi="BAvatar",Li="b-avatar",Fi=/^[0-9]*\.?[0-9]+$/,Vi=.4,Ui=.7*Vi,$i={sm:"1.5em",md:"2.5em",lg:"3.5em"},Wi=T(Dr,["active","event","routerTag"]),zi=Ni(Ni({src:{type:String},text:{type:String},icon:{type:String},alt:{type:String,default:"avatar"},variant:{type:String,default:function(){return Qe(Bi,"variant")}},size:{type:[Number,String],default:null},square:{type:Boolean,default:!1},rounded:{type:[Boolean,String],default:!1},button:{type:Boolean,default:!1},buttonType:{type:String,default:"button"},badge:{type:[Boolean,String],default:!1},badgeVariant:{type:String,default:function(){return Qe(Bi,"badgeVariant")}},badgeTop:{type:Boolean,default:!1},badgeLeft:{type:Boolean,default:!1},badgeOffset:{type:String,default:"0px"}},Wi),{},{ariaLabel:{type:String}}),Hi=function(e){return e=de(e)||""===e?"md":he(e)&&Fi.test(e)?ot(e,0):e,me(e)?"".concat(e,"px"):$i[e]||e},Gi=i.extend({name:Bi,mixins:[yn],inject:{bvAvatarGroup:{default:null}},props:zi,data:function(){return{localSrc:this.src||null}},computed:{computedSize:function(){return Hi(this.bvAvatarGroup?this.bvAvatarGroup.size:this.size)},computedVariant:function(){var e=this.bvAvatarGroup;return e&&e.variant?e.variant:this.variant},computedRounded:function(){var e=this.bvAvatarGroup,t=!(!e||!e.square)||this.square,n=e&&e.rounded?e.rounded:this.rounded;return t?"0":""===n||(n||"circle")},fontStyle:function(){var e=this.computedSize;return e=e?"calc(".concat(e," * ").concat(Vi,")"):null,e?{fontSize:e}:{}},marginStyle:function(){var e=this.bvAvatarGroup,t=e?e.overlapScale:0,n=this.computedSize,r=n&&t?"calc(".concat(n," * -").concat(t,")"):null;return r?{marginLeft:r,marginRight:r}:{}},badgeStyle:function(){var e=this.computedSize,t=this.badgeTop,n=this.badgeLeft,r=this.badgeOffset,i=r||"0px";return{fontSize:e?"calc(".concat(e," * ").concat(Ui," )"):null,top:t?i:null,bottom:t?null:i,left:n?i:null,right:n?null:i}}},watch:{src:function(e,t){e!==t&&(this.localSrc=e||null)}},methods:{onImgError:function(e){this.localSrc=null,this.$emit("img-error",e)},onClick:function(e){this.$emit("click",e)}},render:function(e){var t,n=this.computedVariant,r=this.disabled,i=this.computedRounded,o=this.icon,s=this.localSrc,a=this.text,c=this.fontStyle,u=this.marginStyle,l=this.computedSize,d=this.button,f=this.buttonType,p=this.badge,h=this.badgeVariant,m=this.badgeStyle,v=!d&&lr(this),b=d?Qr:v?Br:"span",y=this.alt||null,g=this.ariaLabel||null,_=null;this.hasNormalizedSlot("default")?_=e("span",{staticClass:"b-avatar-custom"},[this.normalizeSlot("default")]):s?(_=e("img",{style:n?{}:{width:"100%",height:"100%"},attrs:{src:s,alt:y},on:{error:this.onImgError}}),_=e("span",{staticClass:"b-avatar-img"},[_])):_=o?e(Ai,{props:{icon:o},attrs:{"aria-hidden":"true",alt:y}}):a?e("span",{staticClass:"b-avatar-text",style:c},[e("span",a)]):e(xi,{attrs:{"aria-hidden":"true",alt:y}});var S=e(),w=this.hasNormalizedSlot("badge");if(p||""===p||w){var x=!0===p?"":p;S=e("span",{staticClass:"b-avatar-badge",class:Di({},"badge-".concat(h),!!h),style:m},[w?this.normalizeSlot("badge"):x])}var C={staticClass:Li,class:(t={},Di(t,"badge-".concat(n),!d&&n),Di(t,"rounded",!0===i),Di(t,"rounded-".concat(i),i&&!0!==i),Di(t,"disabled",r),t),style:Ni({width:l,height:l},u),attrs:{"aria-label":g||null},props:d?{variant:n,disabled:r,type:f}:v?Qn(Wi,this):{},on:d||v?{click:this.onClick}:{}};return e(b,C,[_,S])}}),qi="BAvatarGroup",Ki=i.extend({name:qi,mixins:[yn],provide:function(){return{bvAvatarGroup:this}},props:{variant:{type:String,default:null},size:{type:String,default:null},overlap:{type:[Number,String],default:.3},square:{type:Boolean,default:!1},rounded:{type:[Boolean,String],default:!1},tag:{type:String,default:"div"}},computed:{computedSize:function(){return Hi(this.size)},overlapScale:function(){return Rn(Pn(ot(this.overlap,0),0),1)/2},paddingStyle:function(){var e=this.computedSize;return e=e?"calc(".concat(e," * ").concat(this.overlapScale,")"):null,e?{paddingLeft:e,paddingRight:e}:{}}},render:function(e){var t=e("div",{staticClass:"b-avatar-group-inner",style:this.paddingStyle},[this.normalizeSlot("default")]);return e(this.tag,{staticClass:"b-avatar-group",attrs:{role:"group"}},[t])}}),Yi=$e({components:{BAvatar:Gi,BAvatarGroup:Ki}});function Ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(n),!0).forEach((function(t){Zi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qi="BBadge",eo=T(Dr,["event","routerTag"]);delete eo.href.default,delete eo.to.default;var to=Xi({tag:{type:String,default:"span"},variant:{type:String,default:function(){return Qe(Qi,"variant")}},pill:{type:Boolean,default:!1}},eo),no=i.extend({name:Qi,functional:!0,props:to,render:function(e,t){var n=t.props,r=t.data,i=t.children,o=lr(n),s=o?Br:n.tag,a={staticClass:"badge",class:[n.variant?"badge-".concat(n.variant):"badge-secondary",{"badge-pill":n.pill,active:n.active,disabled:n.disabled}],props:o?Qn(eo,n):{}};return e(s,cn(r,a),i)}}),ro=$e({components:{BBadge:no}}),io=/(<([^>]+)>)/gi,oo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(e).replace(io,"")},so=function(e,t){return e?{innerHTML:e}:t?{textContent:t}:{}};function ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ao(Object(n),!0).forEach((function(t){uo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lo=co({text:{type:String,default:null},html:{type:String,default:null},ariaCurrent:{type:String,default:"location"}},T(Dr,["event","routerTag"])),fo=i.extend({name:"BBreadcrumbLink",functional:!0,props:lo,render:function(e,t){var n=t.props,r=t.data,i=t.children,o=n.active,s=o?"span":Br,a={attrs:{"aria-current":o?n.ariaCurrent:null},props:Qn(lo,n)};return i||(a.domProps=so(n.html,n.text)),e(s,cn(r,a),i)}}),po=i.extend({name:"BBreadcrumbItem",functional:!0,props:lo,render:function(e,t){var n=t.props,r=t.data,i=t.children;return e("li",cn(r,{staticClass:"breadcrumb-item",class:{active:n.active}}),[e(fo,{props:n},i)])}});function ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ho(Object(n),!0).forEach((function(t){vo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ho(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bo={items:{type:Array,default:null}},yo=i.extend({name:"BBreadcrumb",functional:!0,props:bo,render:function(e,t){var n=t.props,r=t.data,i=t.children,o=i;if(s(n.items)){var a=!1;o=n.items.map((function(t,r){w(t)||(t={text:vt(t)});var i=t.active;return i&&(a=!0),i||a||(i=r+1===n.items.length),e(po,{props:mo(mo({},t),{},{active:i})})}))}return e("ol",cn(r,{staticClass:"breadcrumb"}),o)}}),go=$e({components:{BBreadcrumb:yo,BBreadcrumbItem:po,BBreadcrumbLink:fo}}),_o=$e({components:{BButton:Qr,BBtn:Qr,BButtonClose:wn,BBtnClose:wn}});function So(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wo="BButtonGroup",xo={vertical:{type:Boolean,default:!1},size:{type:String,default:function(){return Qe("BButton","size")}},tag:{type:String,default:"div"},ariaRole:{type:String,default:"group"}},Co=i.extend({name:wo,functional:!0,props:xo,render:function(e,t){var n=t.props,r=t.data,i=t.children;return e(n.tag,cn(r,{class:So({"btn-group":!n.vertical,"btn-group-vertical":n.vertical},"btn-group-".concat(n.size),n.size),attrs:{role:n.ariaRole}}),i)}}),Oo=$e({components:{BButtonGroup:Co,BBtnGroup:Co}}),To=[".btn:not(.disabled):not([disabled]):not(.dropdown-item)",".form-control:not(.disabled):not([disabled])","select:not(.disabled):not([disabled])",'input[type="checkbox"]:not(.disabled)','input[type="radio"]:not(.disabled)'].join(","),Eo=i.extend({name:"BButtonToolbar",mixins:[yn],props:{justify:{type:Boolean,default:!1},keyNav:{type:Boolean,default:!1}},mounted:function(){this.keyNav&&this.getItems()},methods:{onFocusin:function(e){e.target===this.$el&&(e.preventDefault(),e.stopPropagation(),this.focusFirst(e))},stop:function(e){e.preventDefault(),e.stopPropagation()},onKeydown:function(e){if(this.keyNav){var t=e.keyCode,n=e.shiftKey;t===vr.UP||t===vr.LEFT?(this.stop(e),n?this.focusFirst(e):this.focusPrev(e)):t!==vr.DOWN&&t!==vr.RIGHT||(this.stop(e),n?this.focusLast(e):this.focusNext(e))}},focusFirst:function(){var e=this.getItems();tn(e[0])},focusPrev:function(e){var t=this.getItems(),n=t.indexOf(e.target);n>-1&&(t=t.slice(0,n).reverse(),tn(t[0]))},focusNext:function(e){var t=this.getItems(),n=t.indexOf(e.target);n>-1&&(t=t.slice(n+1),tn(t[0]))},focusLast:function(){var e=this.getItems().reverse();tn(e[0])},getItems:function(){var e=Dt(To,this.$el);return e.forEach((function(e){e.tabIndex=-1})),e.filter((function(e){return At(e)}))}},render:function(e){return e("div",{staticClass:"btn-toolbar",class:{"justify-content-between":this.justify},attrs:{role:"toolbar",tabindex:this.keyNav?"0":null},on:this.keyNav?{focusin:this.onFocusin,keydown:this.onKeydown}:{}},[this.normalizeSlot("default")])}}),Io=$e({components:{BButtonToolbar:Eo,BBtnToolbar:Eo}}),ko=function(e,t){if(e.length!==t.length)return!1;for(var n=!0,r=0;n&&r<e.length;r++)n=Ro(e[r],t[r]);return n},Ro=function e(t,n){if(t===n)return!0;var r=ve(t),i=ve(n);if(r||i)return!(!r||!i)&&t.getTime()===n.getTime();if(r=s(t),i=s(n),r||i)return!(!r||!i)&&ko(t,n);if(r=w(t),i=w(n),r||i){if(!r||!i)return!1;var o=g(t).length,a=g(n).length;if(o!==a)return!1;for(var c in t){var u=t.hasOwnProperty(c),l=n.hasOwnProperty(c);if(u&&!l||!u&&l||!e(t[c],n[c]))return!1}}return String(t)===String(n)},Po=Ro;function Mo(e,t){return Bo(e)||Do(e,t)||jo(e,t)||Ao()}function Ao(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function jo(e,t){if(e){if("string"===typeof e)return No(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?No(e,t):void 0}}function No(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Do(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)if(n.push(s.value),t&&n.length===t)break}catch(c){i=!0,o=c}finally{try{r||null==a["return"]||a["return"]()}finally{if(i)throw o}}return n}}function Bo(e){if(Array.isArray(e))return e}function Lo(e,t,n){return Lo=Fo()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=Function.bind.apply(e,r),o=new i;return n&&Vo(o,n.prototype),o},Lo.apply(null,arguments)}function Fo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Vo(e,t){return Vo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vo(e,t)}var Uo=/^\d+-\d\d?-\d\d?(?:\s|T|$)/,$o=/-|\s|T/,Wo=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Lo(Date,t)},zo=function(e){if(he(e)&&Uo.test(e.trim())){var t=e.split($o).map((function(e){return it(e,1)})),n=Mo(t,3),r=n[0],i=n[1],o=n[2];return Wo(r,i-1,o)}return ve(e)?Wo(e.getFullYear(),e.getMonth(),e.getDate()):null},Ho=function(e){if(e=zo(e),!e)return null;var t=e.getFullYear(),n="0".concat(e.getMonth()+1).slice(-2),r="0".concat(e.getDate()).slice(-2);return"".concat(t,"-").concat(n,"-").concat(r)},Go=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"gregory";e=c(e).filter(U);var n=new Intl.DateTimeFormat(e,{calendar:t});return n.resolvedOptions().locale},qo=function(e,t){var n=new Intl.DateTimeFormat(e,t);return n.format},Ko=function(e,t){return Ho(e)===Ho(t)},Yo=function(e){return e=Wo(e),e.setDate(1),e},Jo=function(e){return e=Wo(e),e.setMonth(e.getMonth()+1),e.setDate(0),e},Xo=function(e,t){e=Wo(e);var n=e.getMonth();return e.setFullYear(e.getFullYear()+t),e.getMonth()!==n&&e.setDate(0),e},Zo=function(e){e=Wo(e);var t=e.getMonth();return e.setMonth(t-1),e.getMonth()===t&&e.setDate(0),e},Qo=function(e){e=Wo(e);var t=e.getMonth();return e.setMonth(t+1),e.getMonth()===(t+2)%12&&e.setDate(0),e},es=function(e){return Xo(e,-1)},ts=function(e){return Xo(e,1)},ns=function(e){return Xo(e,-10)},rs=function(e){return Xo(e,10)},is=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e=zo(e),t=zo(t)||e,n=zo(n)||e,e?e<t?t:e>n?n:e:null},os=["ar","az","ckb","fa","he","ks","lrc","mzn","ps","sd","te","ug","ur","yi"].map((function(e){return e.toLowerCase()})),ss=/-u-.+/,as=function(e){var t=vt(e).toLowerCase().replace(ss,"").split("-"),n=t.slice(0,2).join("-"),r=t[0];return a(os,n)||a(os,r)},cs={props:{id:{type:String}},data:function(){return{localId_:null}},computed:{safeId:function(){var e=this.id||this.localId_,t=function(t){return e?(t=String(t||"").replace(/\s+/g,"_"),t?e+"_"+t:e):null};return t}},mounted:function(){var e=this;this.$nextTick((function(){e.localId_="__BVID__".concat(e._uid)}))}};function us(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ls(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?us(Object(n),!0).forEach((function(t){ds(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):us(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fs="BCalendar",ps=vr.UP,hs=vr.DOWN,ms=vr.LEFT,vs=vr.RIGHT,bs=vr.PAGEUP,ys=vr.PAGEDOWN,gs=vr.HOME,_s=vr.END,Ss=vr.ENTER,ws=vr.SPACE,xs="gregory",Cs="numeric",Os="2-digit",Ts="long",Es="short",Is="narrow",ks=i.extend({name:fs,mixins:[wr,cs,yn],model:{prop:"value",event:"input"},props:{value:{type:[String,Date]},valueAsDate:{type:Boolean,default:!1},initialDate:{type:[String,Date]},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},min:{type:[String,Date]},max:{type:[String,Date]},dateDisabledFn:{type:Function},startWeekday:{type:[Number,String],default:0},locale:{type:[String,Array]},direction:{type:String},selectedVariant:{type:String,default:"primary"},todayVariant:{type:String},noHighlightToday:{type:Boolean,default:!1},dateInfoFn:{type:Function},width:{type:String,default:"270px"},block:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},showDecadeNav:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1},ariaControls:{type:String},roleDescription:{type:String},labelPrevDecade:{type:String,default:function(){return Qe(fs,"labelPrevDecade")}},labelPrevYear:{type:String,default:function(){return Qe(fs,"labelPrevYear")}},labelPrevMonth:{type:String,default:function(){return Qe(fs,"labelPrevMonth")}},labelCurrentMonth:{type:String,default:function(){return Qe(fs,"labelCurrentMonth")}},labelNextMonth:{type:String,default:function(){return Qe(fs,"labelNextMonth")}},labelNextYear:{type:String,default:function(){return Qe(fs,"labelNextYear")}},labelNextDecade:{type:String,default:function(){return Qe(fs,"labelNextDecade")}},labelToday:{type:String,default:function(){return Qe(fs,"labelToday")}},labelSelected:{type:String,default:function(){return Qe(fs,"labelSelected")}},labelNoDateSelected:{type:String,default:function(){return Qe(fs,"labelNoDateSelected")}},labelCalendar:{type:String,default:function(){return Qe(fs,"labelCalendar")}},labelNav:{type:String,default:function(){return Qe(fs,"labelNav")}},labelHelp:{type:String,default:function(){return Qe(fs,"labelHelp")}},dateFormatOptions:{type:Object,default:function(){return{year:Cs,month:Ts,day:Cs,weekday:Ts}}},weekdayHeaderFormat:{type:String,default:Es,validator:function(e){return a([Ts,Es,Is],e)}}},data:function(){var e=Ho(this.value)||"";return{selectedYMD:e,activeYMD:e||Ho(is(this.initialDate||this.getToday()),this.min,this.max),gridHasFocus:!1,isLive:!1}},computed:{valueId:function(){return this.safeId()},widgetId:function(){return this.safeId("_calendar-wrapper_")},navId:function(){return this.safeId("_calendar-nav_")},gridId:function(){return this.safeId("_calendar-grid_")},gridCaptionId:function(){return this.safeId("_calendar-grid-caption_")},gridHelpId:function(){return this.safeId("_calendar-grid-help_")},activeId:function(){return this.activeYMD?this.safeId("_cell-".concat(this.activeYMD,"_")):null},selectedDate:function(){return zo(this.selectedYMD)},activeDate:function(){return zo(this.activeYMD)},computedMin:function(){return zo(this.min)},computedMax:function(){return zo(this.max)},computedWeekStarts:function(){return Pn(it(this.startWeekday,0),0)%7},computedLocale:function(){return Go(c(this.locale).filter(U),xs)},calendarLocale:function(){var e=new Intl.DateTimeFormat(this.computedLocale,{calendar:xs}),t=e.resolvedOptions().calendar,n=e.resolvedOptions().locale;return t!==xs&&(n=n.replace(/-u-.+$/i,"").concat("-u-ca-gregory")),n},calendarYear:function(){return this.activeDate.getFullYear()},calendarMonth:function(){return this.activeDate.getMonth()},calendarFirstDay:function(){return Wo(this.calendarYear,this.calendarMonth,1)},calendarDaysInMonth:function(){var e=Wo(this.calendarFirstDay);return e.setMonth(e.getMonth()+1,0),e.getDate()},computedVariant:function(){return"btn-".concat(this.selectedVariant||"primary")},computedTodayVariant:function(){return"btn-outline-".concat(this.todayVariant||this.selectedVariant||"primary")},isRTL:function(){var e=vt(this.direction).toLowerCase();return"rtl"===e||"ltr"!==e&&as(this.computedLocale)},context:function(){var e=this.selectedYMD,t=zo(e),n=this.activeYMD,r=zo(n);return{selectedYMD:e,selectedDate:t,selectedFormatted:t?this.formatDateString(t):this.labelNoDateSelected,activeYMD:n,activeDate:r,activeFormatted:r?this.formatDateString(r):"",disabled:this.dateDisabled(r),locale:this.computedLocale,calendarLocale:this.calendarLocale,rtl:this.isRTL}},dateOutOfRange:function(){var e=this.computedMin,t=this.computedMax;return function(n){return n=zo(n),e&&n<e||t&&n>t}},dateDisabled:function(){var e=this.dateOutOfRange,t=fe(this.dateDisabledFn)?this.dateDisabledFn:function(){return!1};return function(n){n=zo(n);var r=Ho(n);return!(!e(n)&&!t(r,n))}},formatDateString:function(){return qo(this.calendarLocale,ls(ls({year:Cs,month:Os,day:Os},this.dateFormatOptions),{},{hour:void 0,minute:void 0,second:void 0,calendar:xs}))},formatYearMonth:function(){return qo(this.calendarLocale,{year:Cs,month:Ts,calendar:xs})},formatWeekdayName:function(){return qo(this.calendarLocale,{weekday:Ts,calendar:xs})},formatWeekdayNameShort:function(){return qo(this.calendarLocale,{weekday:this.weekdayHeaderFormat||Es,calendar:xs})},formatDay:function(){var e=new Intl.NumberFormat([this.computedLocale],{style:"decimal",minimumIntegerDigits:1,minimumFractionDigits:0,maximumFractionDigits:0,notation:"standard"});return function(t){return e.format(t.getDate())}},prevDecadeDisabled:function(){var e=this.computedMin;return this.disabled||e&&Jo(ns(this.activeDate))<e},prevYearDisabled:function(){var e=this.computedMin;return this.disabled||e&&Jo(es(this.activeDate))<e},prevMonthDisabled:function(){var e=this.computedMin;return this.disabled||e&&Jo(Zo(this.activeDate))<e},thisMonthDisabled:function(){return this.disabled},nextMonthDisabled:function(){var e=this.computedMax;return this.disabled||e&&Yo(Qo(this.activeDate))>e},nextYearDisabled:function(){var e=this.computedMax;return this.disabled||e&&Yo(ts(this.activeDate))>e},nextDecadeDisabled:function(){var e=this.computedMax;return this.disabled||e&&Yo(rs(this.activeDate))>e},calendar:function(){for(var e=[],t=this.calendarFirstDay,n=t.getFullYear(),r=t.getMonth(),i=this.calendarDaysInMonth,o=t.getDay(),a=(this.computedWeekStarts>o?7:0)-this.computedWeekStarts,c=fe(this.dateInfoFn)?this.dateInfoFn:function(){return{}},u=0-a-o,l=0;l<6&&u<i;l++){e[l]=[];for(var d=0;d<7;d++){u++;var f=Wo(n,r,u),p=f.getMonth(),h=Ho(f),m=this.dateDisabled(f),v=c(h,zo(h));v=he(v)||s(v)?{class:v}:x(v)?ls({class:""},v):{class:""},e[l].push({ymd:h,day:this.formatDay(f),label:this.formatDateString(f),isThisMonth:p===r,isDisabled:m,info:v})}}return e},calendarHeadings:function(){var e=this;return this.calendar[0].map((function(t){return{text:e.formatWeekdayNameShort(zo(t.ymd)),label:e.formatWeekdayName(zo(t.ymd))}}))}},watch:{value:function(e,t){var n=Ho(e)||"",r=Ho(t)||"";Ko(n,r)||(this.activeYMD=n||this.activeYMD,this.selectedYMD=n)},selectedYMD:function(e,t){e!==t&&this.$emit("input",this.valueAsDate?zo(e)||null:e||"")},context:function(e,t){Po(e,t)||this.$emit("context",e)},hidden:function(e){this.activeYMD=this.selectedYMD||Ho(this.value||this.constrainDate(this.initialDate||this.getToday())),this.setLive(!e)}},created:function(){var e=this;this.$nextTick((function(){e.$emit("context",e.context)}))},mounted:function(){this.setLive(!0)},activated:function(){this.setLive(!0)},deactivated:function(){this.setLive(!1)},beforeDestroy:function(){this.setLive(!1)},methods:{focus:function(){this.disabled||tn(this.$refs.grid)},blur:function(){this.disabled||nn(this.$refs.grid)},setLive:function(e){var t=this;e?this.$nextTick((function(){Tt((function(){t.isLive=!0}))})):this.isLive=!1},getToday:function(){return zo(Wo())},constrainDate:function(e){return is(e,this.computedMin,this.computedMax)},emitSelected:function(e){var t=this;this.$nextTick((function(){t.$emit("selected",Ho(e)||"",zo(e)||null)}))},setGridFocusFlag:function(e){this.gridHasFocus=!this.disabled&&"focus"===e.type},onKeydownWrapper:function(e){var t=e.altKey,n=e.ctrlKey,r=e.keyCode;if(a([bs,ys,_s,gs,ms,ps,vs,hs],r)){e.preventDefault(),e.stopPropagation();var i=Wo(this.activeDate),o=Wo(this.activeDate),s=i.getDate(),c=this.constrainDate(this.getToday()),u=this.isRTL;r===bs?(i=(t?n?ns:es:Zo)(i),o=Wo(i),o.setDate(1)):r===ys?(i=(t?n?rs:ts:Qo)(i),o=Wo(i),o.setMonth(o.getMonth()+1),o.setDate(0)):r===ms?(i.setDate(s+(u?1:-1)),i=this.constrainDate(i),o=i):r===vs?(i.setDate(s+(u?-1:1)),i=this.constrainDate(i),o=i):r===ps?(i.setDate(s-7),i=this.constrainDate(i),o=i):r===hs?(i.setDate(s+7),i=this.constrainDate(i),o=i):r===gs?(i=c,o=i):r===_s&&(i=zo(this.selectedDate)||c,o=i),this.dateOutOfRange(o)||Ko(i,this.activeDate)||(this.activeYMD=Ho(i)),this.focus()}},onKeydownGrid:function(e){var t=e.keyCode,n=this.activeDate;t!==Ss&&t!==ws||(e.preventDefault(),e.stopPropagation(),this.disabled||this.readonly||this.dateDisabled(n)||(this.selectedYMD=Ho(n),this.emitSelected(n)),this.focus())},onClickDay:function(e){var t=this.selectedDate,n=this.activeDate,r=zo(e.ymd);this.disabled||e.isDisabled||this.dateDisabled(r)||(this.readonly||(this.selectedYMD=Ho(Ko(r,t)?t:r),this.emitSelected(r)),this.activeYMD=Ho(Ko(r,n)?n:Wo(r)),this.focus())},gotoPrevDecade:function(){this.activeYMD=Ho(this.constrainDate(ns(this.activeDate)))},gotoPrevYear:function(){this.activeYMD=Ho(this.constrainDate(es(this.activeDate)))},gotoPrevMonth:function(){this.activeYMD=Ho(this.constrainDate(Zo(this.activeDate)))},gotoCurrentMonth:function(){this.activeYMD=Ho(this.constrainDate(this.getToday()))},gotoNextMonth:function(){this.activeYMD=Ho(this.constrainDate(Qo(this.activeDate)))},gotoNextYear:function(){this.activeYMD=Ho(this.constrainDate(ts(this.activeDate)))},gotoNextDecade:function(){this.activeYMD=Ho(this.constrainDate(rs(this.activeDate)))},onHeaderClick:function(){this.disabled||(this.activeYMD=this.selectedYMD||Ho(this.getToday()),this.focus())}},render:function(e){var t=this;if(this.hidden)return e();var n=this.valueId,r=this.widgetId,i=this.navId,o=this.gridId,s=this.gridCaptionId,a=this.gridHelpId,c=this.activeId,u=this.isLive,l=this.isRTL,d=this.activeYMD,f=this.selectedYMD,p=this.safeId,h=!this.showDecadeNav,m=Ho(this.getToday()),v=!this.noHighlightToday,b=e("output",{staticClass:"form-control form-control-sm text-center",class:{"text-muted":this.disabled,readonly:this.readonly||this.disabled},attrs:{id:n,for:o,role:"status",tabindex:this.disabled?null:"-1","data-selected":vt(f),"aria-live":u?"polite":"off","aria-atomic":u?"true":null},on:{click:this.onHeaderClick,focus:this.onHeaderClick}},this.selectedDate?[e("bdi",{staticClass:"sr-only"}," (".concat(vt(this.labelSelected),") ")),e("bdi",this.formatDateString(this.selectedDate))]:this.labelNoDateSelected||"Â ");b=e("header",{staticClass:"b-calendar-header",class:{"sr-only":this.hideHeader},attrs:{title:this.selectedDate&&this.labelSelectedDate||null}},[b]);var y={isRTL:l},g={shiftV:.5},_=ls(ls({},g),{},{flipH:l}),S=ls(ls({},g),{},{flipH:!l}),w=this.normalizeSlot("nav-prev-decade",y)||e(hi,{props:_}),x=this.normalizeSlot("nav-prev-year",y)||e(mi,{props:_}),C=this.normalizeSlot("nav-prev-month",y)||e(bi,{props:_}),O=this.normalizeSlot("nav-this-month",y)||e(gi,{props:g}),T=this.normalizeSlot("nav-next-month",y)||e(bi,{props:S}),E=this.normalizeSlot("nav-next-year",y)||e(mi,{props:S}),I=this.normalizeSlot("nav-next-decade",y)||e(hi,{props:S}),k=function(t,n,r,i,o){return e("button",{staticClass:"btn btn-sm btn-outline-secondary border-0 flex-fill",class:{disabled:i},attrs:{title:n||null,type:"button","aria-label":n||null,"aria-disabled":i?"true":null,"aria-keyshortcuts":o||null},on:i?{}:{click:r}},[e("div",{attrs:{"aria-hidden":"true"}},[t])])},R=e("div",{staticClass:"b-calendar-nav d-flex",attrs:{id:i,role:"group","aria-hidden":this.disabled?"true":null,"aria-label":this.labelNav||null,"aria-controls":o}},[h?e():k(w,this.labelPrevDecade,this.gotoPrevDecade,this.prevDecadeDisabled,"Ctrl+Alt+PageDown"),k(x,this.labelPrevYear,this.gotoPrevYear,this.prevYearDisabled,"Alt+PageDown"),k(C,this.labelPrevMonth,this.gotoPrevMonth,this.prevMonthDisabled,"PageDown"),k(O,this.labelCurrentMonth,this.gotoCurrentMonth,this.thisMonthDisabled,"Home"),k(T,this.labelNextMonth,this.gotoNextMonth,this.nextMonthDisabled,"PageUp"),k(E,this.labelNextYear,this.gotoNextYear,this.nextYearDisabled,"Alt+PageUp"),h?e():k(I,this.labelNextDecade,this.gotoNextDecade,this.nextDecadeDisabled,"Ctrl+Alt+PageUp")]),P=e("header",{key:"grid-caption",staticClass:"b-calendar-grid-caption text-center font-weight-bold",class:{"text-muted":this.disabled},attrs:{id:s,"aria-live":u?"polite":null,"aria-atomic":u?"true":null}},this.formatYearMonth(this.calendarFirstDay)),M=e("div",{staticClass:"b-calendar-grid-weekdays row no-gutters border-bottom",attrs:{"aria-hidden":"true"}},this.calendarHeadings.map((function(n,r){return e("small",{key:r,staticClass:"col text-truncate",class:{"text-muted":t.disabled},attrs:{title:n.label===n.text?null:n.label,"aria-label":n.label}},n.text)}))),A=this.calendar.map((function(n){var r=n.map((function(n,r){var i,o=n.ymd===f,s=n.ymd===d,a=n.ymd===m,c=p("_cell-".concat(n.ymd,"_")),u=e("span",{staticClass:"btn border-0 rounded-circle text-nowrap",class:(i={focus:s&&t.gridHasFocus,disabled:n.isDisabled||t.disabled,active:o},ds(i,t.computedVariant,o),ds(i,t.computedTodayVariant,a&&v&&!o&&n.isThisMonth),ds(i,"btn-outline-light",!(a&&v)&&!o&&!s),ds(i,"btn-light",!(a&&v)&&!o&&s),ds(i,"text-muted",!n.isThisMonth&&!o),ds(i,"text-dark",!(a&&v)&&!o&&!s&&n.isThisMonth),ds(i,"font-weight-bold",(o||n.isThisMonth)&&!n.isDisabled),i),on:{click:function(){return t.onClickDay(n)}}},n.day);return e("div",{key:r,staticClass:"col p-0",class:n.isDisabled?"bg-light":n.info.class||"",attrs:{id:c,role:"button","data-date":n.ymd,"aria-hidden":n.isThisMonth?null:"true","aria-disabled":n.isDisabled||t.disabled?"true":null,"aria-label":[n.label,o?"(".concat(t.labelSelected,")"):null,a?"(".concat(t.labelToday,")"):null].filter(U).join(" "),"aria-selected":o?"true":null,"aria-current":o?"date":null}},[u])}));return e("div",{key:n[0].ymd,staticClass:"row no-gutters"},r)}));A=e("div",{staticClass:"b-calendar-grid-body",style:this.disabled?{pointerEvents:"none"}:{}},A);var j=e("footer",{staticClass:"b-calendar-grid-help border-top small text-muted text-center bg-light",attrs:{id:a}},[e("div",{staticClass:"small"},this.labelHelp)]),N=e("div",{ref:"grid",staticClass:"b-calendar-grid form-control h-auto text-center",attrs:{id:o,role:"application",tabindex:this.disabled?null:"0","data-month":d.slice(0,-3),"aria-roledescription":this.labelCalendar||null,"aria-labelledby":s,"aria-describedby":a,"aria-disabled":this.disabled?"true":null,"aria-activedescendant":c},on:{keydown:this.onKeydownGrid,focus:this.setGridFocusFlag,blur:this.setGridFocusFlag}},[P,M,A,j]),D=this.normalizeSlot("default");D=D?e("footer",{staticClass:"b-calendar-footer"},D):e();var B=e("div",{staticClass:"b-calendar-inner",style:this.block?{}:{width:this.width},attrs:{id:r,dir:l?"rtl":"ltr",lang:this.computedLocale||null,role:"group","aria-disabled":this.disabled?"true":null,"aria-controls":this.ariaControls||null,"aria-roledescription":this.roleDescription||null,"aria-describedby":[this.bvAttrs["aria-describedby"],n,a].filter(U).join(" ")},on:{keydown:this.onKeydownWrapper}},[b,R,N,D]);return e("div",{staticClass:"b-calendar",class:{"d-block":this.block}},[B])}}),Rs=$e({components:{BCalendar:ks}}),Ps={props:{tag:{type:String,default:"div"},bgVariant:{type:String},borderVariant:{type:String},textVariant:{type:String}}},Ms={title:{type:String},titleTag:{type:String,default:"h4"}},As=i.extend({name:"BCardTitle",functional:!0,props:Ms,render:function(e,t){var n=t.props,r=t.data,i=t.children;return e(n.titleTag,cn(r,{staticClass:"card-title"}),i||vt(n.title))}}),js="BCardSubTitle",Ns={subTitle:{type:String},subTitleTag:{type:String,default:"h6"},subTitleTextVariant:{type:String,default:function(){return Qe(js,"subTitleTextVariant")}}},Ds=i.extend({name:js,functional:!0,props:Ns,render:function(e,t){var n=t.props,r=t.data,i=t.children;return e(n.subTitleTag,cn(r,{staticClass:"card-subtitle",class:[n.subTitleTextVariant?"text-".concat(n.subTitleTextVariant):null]}),i||vt(n.subTitle))}});function Bs(e){return Us(e)||Vs(e)||Fs(e)||Ls()}function Ls(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Fs(e,t){if(e){if("string"===typeof e)return $s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$s(e,t):void 0}}function Vs(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Us(e){if(Array.isArray(e))return $s(e)}function $s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ws(Object(n),!0).forEach((function(t){Hs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ws(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gs=zs(zs(zs(zs({},Zn(Ps.props,Yn.bind(null,"body"))),{},{bodyClass:{type:[String,Object,Array]}},Ms),Ns),{},{overlay:{type:Boolean,default:!1}}),qs=i.extend({name:"BCardBody",functional:!0,props:Gs,render:function(e,t){var n,r=t.props,i=t.data,o=t.children,s=e(),a=e(),c=o||[e()];return r.title&&(s=e(As,{props:Qn(Ms,r)})),r.subTitle&&(a=e(Ds,{props:Qn(Ns,r),class:["mb-2"]})),e(r.bodyTag,cn(i,{staticClass:"card-body",class:[(n={"card-img-overlay":r.overlay},Hs(n,"bg-".concat(r.bodyBgVariant),r.bodyBgVariant),Hs(n,"border-".concat(r.bodyBorderVariant),r.bodyBorderVariant),Hs(n,"text-".concat(r.bodyTextVariant),r.bodyTextVariant),n),r.bodyClass||{}]}),[s,a].concat(Bs(c)))}});function Ks(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ys(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ks(Object(n),!0).forEach((function(t){Js(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ks(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Js(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xs=Ys(Ys({},Zn(Ps.props,Yn.bind(null,"header"))),{},{header:{type:String},headerHtml:{type:String},headerClass:{type:[String,Object,Array]}}),Zs=i.extend({name:"BCardHeader",functional:!0,props:Xs,render:function(e,t){var n,r=t.props,i=t.data,o=t.children,s=r.headerBgVariant,a=r.headerBorderVariant,c=r.headerTextVariant;return e(r.headerTag,cn(i,{staticClass:"card-header",class:[r.headerClass,(n={},Js(n,"bg-".concat(s),s),Js(n,"border-".concat(a),a),Js(n,"text-".concat(c),c),n)],domProps:o?{}:so(r.headerHtml,r.header)}),o)}});function Qs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qs(Object(n),!0).forEach((function(t){ta(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var na=ea(ea({},Zn(Ps.props,Yn.bind(null,"footer"))),{},{footer:{type:String},footerHtml:{type:String},footerClass:{type:[String,Object,Array]}}),ra=i.extend({name:"BCardFooter",functional:!0,props:na,render:function(e,t){var n,r=t.props,i=t.data,o=t.children,s=r.footerBgVariant,a=r.footerBorderVariant,c=r.footerTextVariant;return e(r.footerTag,cn(i,{staticClass:"card-footer",class:[r.footerClass,(n={},ta(n,"bg-".concat(s),s),ta(n,"border-".concat(a),a),ta(n,"text-".concat(c),c),n)],domProps:o?{}:so(r.footerHtml,r.footer)}),o)}}),ia={src:{type:String,required:!0},alt:{type:String},top:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},start:{type:Boolean,default:!1},left:{type:Boolean,default:!1},end:{type:Boolean,default:!1},right:{type:Boolean,default:!1},height:{type:[Number,String]},width:{type:[Number,String]}},oa=i.extend({name:"BCardImg",functional:!0,props:ia,render:function(e,t){var n=t.props,r=t.data,i="card-img";return n.top?i+="-top":n.right||n.end?i+="-right":n.bottom?i+="-bottom":(n.left||n.start)&&(i+="-left"),e("img",cn(r,{class:[i],attrs:{src:n.src||null,alt:n.alt||null,height:n.height||null,width:n.width||null}}))}});function sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sa(Object(n),!0).forEach((function(t){ca(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ca(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ua=Zn(ia,Yn.bind(null,"img"));ua.imgSrc.required=!1;var la=aa(aa(aa(aa(aa(aa({},Gs),Xs),na),ua),Zn(Ps.props)),{},{align:{type:String},noBody:{type:Boolean,default:!1}}),da=i.extend({name:"BCard",functional:!0,props:la,render:function(e,t){var n,r=t.props,i=t.data,o=t.slots,s=t.scopedSlots,a=r.imgLeft,c=r.imgRight,u=r.imgStart,l=r.imgEnd,d=r.header,f=r.headerHtml,p=r.footer,h=r.footerHtml,m=r.align,v=r.textVariant,b=r.bgVariant,y=r.borderVariant,g=s||{},_=o(),S={},w=e(),x=e();if(r.imgSrc){var C=e(oa,{props:Qn(ua,r,Jn.bind(null,"img"))});r.imgBottom?x=C:w=C}var O=e(),T=vn("header",g,_);(T||d||f)&&(O=e(Zs,{props:Qn(Xs,r),domProps:T?{}:so(f,d)},bn("header",S,g,_)));var E=bn("default",S,g,_);r.noBody||(E=e(qs,{props:Qn(Gs,r)},E));var I=e(),k=vn("footer",g,_);return(k||p||h)&&(I=e(ra,{props:Qn(na,r),domProps:T?{}:so(h,p)},bn("footer",S,g,_))),e(r.tag,cn(i,{staticClass:"card",class:(n={"flex-row":a||u,"flex-row-reverse":(c||l)&&!(a||u)},ca(n,"text-".concat(m),m),ca(n,"bg-".concat(b),b),ca(n,"border-".concat(y),y),ca(n,"text-".concat(v),v),n)}),[w,O,E,I,x])}});function fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ha(e,t,n){return t&&pa(e.prototype,t),n&&pa(e,n),e}var ma="__bv__visibility_observer",va=/^\d+$/,ba=function(){function e(t,n,r){fa(this,e),this.el=t,this.callback=n.callback,this.margin=n.margin||0,this.once=n.once||!1,this.observer=null,this.visible=void 0,this.doneOnce=!1,this.createObserver(r)}return ha(e,[{key:"createObserver",value:function(e){var t=this;if(this.observer&&this.stop(),!this.doneOnce&&fe(this.callback)){try{this.observer=new IntersectionObserver(this.handler.bind(this),{root:null,rootMargin:this.margin,threshold:0})}catch(n){return this.doneOnce=!0,this.observer=void 0,void this.callback(null)}e.context.$nextTick((function(){Tt((function(){t.observer&&t.observer.observe(t.el)}))}))}}},{key:"handler",value:function(e){var t=e?e[0]:{},n=Boolean(t.isIntersecting||t.intersectionRatio>0);n!==this.visible&&(this.visible=n,this.callback(n),this.once&&this.visible&&(this.doneOnce=!0,this.stop()))}},{key:"stop",value:function(){this.observer&&this.observer.disconnect(),this.observer=null}}]),e}(),ya=function(e){var t=e[ma];t&&t.stop&&t.stop(),delete e[ma]},ga=function(e,t,n){var r=t.value,i=t.modifiers,o={margin:"0px",once:!1,callback:r};g(i).forEach((function(e){va.test(e)?o.margin="".concat(e,"px"):"once"===e.toLowerCase()&&(o.once=!0)})),ya(e),e[ma]=new ba(e,o,n),e[ma]._prevModifiers=C(i)},_a=function(e,t,n){var r=t.value,i=t.oldValue,o=t.modifiers;o=C(o),!e||r===i&&e[ma]&&Po(o,e[ma]._prevModifiers)||ga(e,{value:r,modifiers:o},n)},Sa=function(e){ya(e)},wa={bind:ga,componentUpdated:_a,unbind:Sa};function xa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ca="BImg",Oa='<svg width="%{w}" height="%{h}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 %{w} %{h}" preserveAspectRatio="none"><rect width="100%" height="100%" style="fill:%{f};"></rect></svg>',Ta={src:{type:String},srcset:{type:[String,Array]},sizes:{type:[String,Array]},alt:{type:String},width:{type:[Number,String]},height:{type:[Number,String]},block:{type:Boolean,default:!1},fluid:{type:Boolean,default:!1},fluidGrow:{type:Boolean,default:!1},rounded:{type:[Boolean,String],default:!1},thumbnail:{type:Boolean,default:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1},center:{type:Boolean,default:!1},blank:{type:Boolean,default:!1},blankColor:{type:String,default:function(){return Qe(Ca,"blankColor")}}},Ea=function(e,t,n){var r=encodeURIComponent(Oa.replace("%{w}",vt(e)).replace("%{h}",vt(t)).replace("%{f}",n));return"data:image/svg+xml;charset=UTF-8,".concat(r)},Ia=i.extend({name:Ca,functional:!0,props:Ta,render:function(e,t){var n,r=t.props,i=t.data,o=r.src,s=it(r.width)||null,a=it(r.height)||null,u=null,l=r.block,d=c(r.srcset).filter(U).join(","),f=c(r.sizes).filter(U).join(",");return r.blank&&(!a&&s?a=s:!s&&a&&(s=a),s||a||(s=1,a=1),o=Ea(s,a,r.blankColor||"transparent"),d=null,f=null),r.left?u="float-left":r.right?u="float-right":r.center&&(u="mx-auto",l=!0),e("img",cn(i,{attrs:{src:o,alt:r.alt||null,width:s?vt(s):null,height:a?vt(a):null,srcset:d||null,sizes:f||null},class:(n={"img-thumbnail":r.thumbnail,"img-fluid":r.fluid||r.fluidGrow,"w-100":r.fluidGrow,rounded:""===r.rounded||!0===r.rounded},xa(n,"rounded-".concat(r.rounded),he(r.rounded)&&""!==r.rounded),xa(n,u,u),xa(n,"d-block",l),n)}))}});function ka(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ra="BImgLazy",Pa={src:{type:String,required:!0},srcset:{type:[String,Array]},sizes:{type:[String,Array]},alt:{type:String},width:{type:[Number,String]},height:{type:[Number,String]},blankSrc:{type:String,default:null},blankColor:{type:String,default:function(){return Qe(Ra,"blankColor")}},blankWidth:{type:[Number,String]},blankHeight:{type:[Number,String]},show:{type:Boolean,default:!1},fluid:{type:Boolean,default:!1},fluidGrow:{type:Boolean,default:!1},block:{type:Boolean,default:!1},thumbnail:{type:Boolean,default:!1},rounded:{type:[Boolean,String],default:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1},center:{type:Boolean,default:!1},offset:{type:[Number,String],default:360}},Ma=i.extend({name:Ra,directives:{bVisible:wa},props:Pa,data:function(){return{isShown:this.show}},computed:{computedSrc:function(){return!this.blankSrc||this.isShown?this.src:this.blankSrc},computedBlank:function(){return!(this.isShown||this.blankSrc)},computedWidth:function(){return this.isShown?this.width:this.blankWidth||this.width},computedHeight:function(){return this.isShown?this.height:this.blankHeight||this.height},computedSrcset:function(){var e=c(this.srcset).filter(U).join(",");return!this.blankSrc||this.isShown?e:null},computedSizes:function(){var e=c(this.sizes).filter(U).join(",");return!this.blankSrc||this.isShown?e:null}},watch:{show:function(e,t){if(e!==t){var n=!$["c"]||e;this.isShown=n,n!==e&&this.$nextTick(this.updateShowProp)}},isShown:function(e,t){e!==t&&this.updateShowProp()}},mounted:function(){this.isShown=!$["c"]||this.show},methods:{updateShowProp:function(){this.$emit("update:show",this.isShown)},doShow:function(e){!e&&null!==e||this.isShown||(this.isShown=!0)}},render:function(e){var t,n=[];this.isShown||n.push({name:"b-visible",value:this.doShow,modifiers:(t={},ka(t,"".concat(it(this.offset,0)),!0),ka(t,"once",!0),t)});return e(Ia,{directives:n,props:{src:this.computedSrc,blank:this.computedBlank,width:this.computedWidth,height:this.computedHeight,srcset:this.computedSrcset||null,sizes:this.computedSizes||null,alt:this.alt,blankColor:this.blankColor,fluid:this.fluid,fluidGrow:this.fluidGrow,block:this.block,thumbnail:this.thumbnail,rounded:this.rounded,left:this.left,right:this.right,center:this.center}})}});function Aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aa(Object(n),!0).forEach((function(t){Na(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Na(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Da=T(Pa,["left","right","center","block","rounded","thumbnail","fluid","fluidGrow"]),Ba=ja(ja({},Da),{},{top:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},start:{type:Boolean,default:!1},left:{type:Boolean,default:!1},end:{type:Boolean,default:!1},right:{type:Boolean,default:!1}}),La=i.extend({name:"BCardImgLazy",functional:!0,props:Ba,render:function(e,t){var n=t.props,r=t.data,i="card-img";n.top?i+="-top":n.right||n.end?i+="-right":n.bottom?i+="-bottom":(n.left||n.start)&&(i+="-left");var o=ja(ja({},n),{},{left:!1,right:!1,center:!1});return e(Ma,cn(r,{class:[i],props:o}))}}),Fa={textTag:{type:String,default:"p"}},Va=i.extend({name:"BCardText",functional:!0,props:Fa,render:function(e,t){var n=t.props,r=t.data,i=t.children;return e(n.textTag,cn(r,{staticClass:"card-text"}),i)}}),Ua={tag:{type:String,default:"div"},deck:{type:Boolean,default:!1},columns:{type:Boolean,default:!1}},$a=i.extend({name:"BCardGroup",functional:!0,props:Ua,render:function(e,t){var n=t.props,r=t.data,i=t.children;return e(n.tag,cn(r,{class:n.deck?"card-deck":n.columns?"card-columns":"card-group"}),i)}}),Wa=$e({components:{BCard:da,BCardHeader:Zs,BCardBody:qs,BCardTitle:As,BCardSubTitle:Ds,BCardFooter:ra,BCardImg:oa,BCardImgLazy:La,BCardText:Va,BCardGroup:$a}}),za=function(){},Ha=za;function Ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(n),!0).forEach((function(t){Ka(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ka(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ya=function(e,t,n){if(e=e?e.$el||e:null,!kt(e))return null;if(Ie("observeDom"))return null;var r=new Et((function(e){for(var n=!1,r=0;r<e.length&&!n;r++){var i=e[r],o=i.type,s=i.target;("characterData"===o&&s.nodeType===Node.TEXT_NODE||"attributes"===o||"childList"===o&&(i.addedNodes.length>0||i.removedNodes.length>0))&&(n=!0)}n&&t()}));return r.observe(e,qa({childList:!0,subtree:!0},n)),r},Ja=Ya,Xa={passive:!0},Za={passive:!0,capture:!1},Qa=function(e){return $["e"]?w(e)?e:{capture:!!e||!1}:!!(w(e)?e.capture:e)},ec=function(e,t,n,r){e&&e.addEventListener&&e.addEventListener(t,n,Qa(r))},tc=function(e,t,n,r){e&&e.removeEventListener&&e.removeEventListener(t,n,Qa(r))},nc=function(e){for(var t=e?ec:tc,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.apply(void 0,r)},rc="BCarousel",ic={next:{dirClass:"carousel-item-left",overlayClass:"carousel-item-next"},prev:{dirClass:"carousel-item-right",overlayClass:"carousel-item-prev"}},oc=650,sc=500,ac=40,cc={TOUCH:"touch",PEN:"pen"},uc={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend oTransitionEnd",transition:"transitionend"},lc=function(e){for(var t in uc)if(!ue(e.style[t]))return uc[t];return null},dc=i.extend({name:rc,mixins:[cs,yn],provide:function(){return{bvCarousel:this}},model:{prop:"value",event:"input"},props:{labelPrev:{type:String,default:function(){return Qe(rc,"labelPrev")}},labelNext:{type:String,default:function(){return Qe(rc,"labelNext")}},labelGotoSlide:{type:String,default:function(){return Qe(rc,"labelGotoSlide")}},labelIndicators:{type:String,default:function(){return Qe(rc,"labelIndicators")}},interval:{type:Number,default:5e3},indicators:{type:Boolean,default:!1},controls:{type:Boolean,default:!1},noAnimation:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},noWrap:{type:Boolean,default:!1},noTouch:{type:Boolean,default:!1},noHoverPause:{type:Boolean,default:!1},imgWidth:{type:[Number,String]},imgHeight:{type:[Number,String]},background:{type:String},value:{type:Number,default:0}},data:function(){return{index:this.value||0,isSliding:!1,transitionEndEvent:null,slides:[],direction:null,isPaused:!(it(this.interval,0)>0),touchStartX:0,touchDeltaX:0}},computed:{numSlides:function(){return this.slides.length}},watch:{value:function(e,t){e!==t&&this.setSlide(it(e,0))},interval:function(e,t){e!==t&&(e?(this.pause(!0),this.start(!1)):this.pause(!1))},isPaused:function(e,t){e!==t&&this.$emit(e?"paused":"unpaused")},index:function(e,t){e===t||this.isSliding||this.doSlide(e,t)}},created:function(){this.$_interval=null,this.$_animationTimeout=null,this.$_touchTimeout=null,this.$_observer=null,this.isPaused=!(it(this.interval,0)>0)},mounted:function(){this.transitionEndEvent=lc(this.$el)||null,this.updateSlides(),this.setObserver(!0)},beforeDestroy:function(){this.clearInterval(),this.clearAnimationTimeout(),this.clearTouchTimeout(),this.setObserver(!1)},methods:{clearInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){clearInterval(this.$_interval),this.$_interval=null})),clearAnimationTimeout:function(){clearTimeout(this.$_animationTimeout),this.$_animationTimeout=null},clearTouchTimeout:function(){clearTimeout(this.$_touchTimeout),this.$_touchTimeout=null},setObserver:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$_observer&&this.$_observer.disconnect(),this.$_observer=null,e&&(this.$_observer=Ja(this.$refs.inner,this.updateSlides.bind(this),{subtree:!1,childList:!0,attributes:!0,attributeFilter:["id"]}))},setSlide:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!($["j"]&&document.visibilityState&&document.hidden)){var r=this.noWrap,i=this.numSlides;e=jn(e),0!==i&&(this.isSliding?this.$once("sliding-end",(function(){return t.setSlide(e,n)})):(this.direction=n,this.index=e>=i?r?i-1:0:e<0?r?0:i-1:e,r&&this.index!==e&&this.index!==this.value&&this.$emit("input",this.index)))}},prev:function(){this.setSlide(this.index-1,"prev")},next:function(){this.setSlide(this.index+1,"next")},pause:function(e){e||(this.isPaused=!0),this.clearInterval()},start:function(e){e||(this.isPaused=!1),this.clearInterval(),this.interval&&this.numSlides>1&&(this.$_interval=setInterval(this.next,Pn(1e3,this.interval)))},restart:function(){this.$el.contains(Rt())||this.start()},doSlide:function(e,t){var n=this,r=Boolean(this.interval),i=this.calcDirection(this.direction,t,e),o=i.overlayClass,s=i.dirClass,a=this.slides[t],c=this.slides[e];if(a&&c){if(this.isSliding=!0,r&&this.pause(!1),this.$emit("sliding-start",e),this.$emit("input",this.index),this.noAnimation)$t(c,"active"),Wt(a,"active"),this.isSliding=!1,this.$nextTick((function(){return n.$emit("sliding-end",e)}));else{$t(c,o),Nt(c),$t(a,s),$t(c,s);var u=!1,l=function t(){if(!u){if(u=!0,n.transitionEndEvent){var r=n.transitionEndEvent.split(/\s+/);r.forEach((function(e){return tc(a,e,t,Za)}))}n.clearAnimationTimeout(),Wt(c,s),Wt(c,o),$t(c,"active"),Wt(a,"active"),Wt(a,s),Wt(a,o),Ht(a,"aria-current","false"),Ht(c,"aria-current","true"),Ht(a,"aria-hidden","true"),Ht(c,"aria-hidden","false"),n.isSliding=!1,n.direction=null,n.$nextTick((function(){return n.$emit("sliding-end",e)}))}};if(this.transitionEndEvent){var d=this.transitionEndEvent.split(/\s+/);d.forEach((function(e){return ec(a,e,l,Za)}))}this.$_animationTimeout=setTimeout(l,oc)}r&&this.start(!1)}},updateSlides:function(){this.pause(!0),this.slides=Dt(".carousel-item",this.$refs.inner);var e=this.slides.length,t=Pn(0,Rn(jn(this.index),e-1));this.slides.forEach((function(n,r){var i=r+1;r===t?($t(n,"active"),Ht(n,"aria-current","true")):(Wt(n,"active"),Ht(n,"aria-current","false")),Ht(n,"aria-posinset",String(i)),Ht(n,"aria-setsize",String(e))})),this.setSlide(t),this.start(this.isPaused)},calcDirection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e?ic[e]:n>t?ic.next:ic.prev},handleClick:function(e,t){var n=e.keyCode;"click"!==e.type&&n!==vr.SPACE&&n!==vr.ENTER||(e.preventDefault(),e.stopPropagation(),t())},handleSwipe:function(){var e=Mn(this.touchDeltaX);if(!(e<=ac)){var t=e/this.touchDeltaX;this.touchDeltaX=0,t>0?this.prev():t<0&&this.next()}},touchStart:function(e){$["f"]&&cc[e.pointerType.toUpperCase()]?this.touchStartX=e.clientX:$["f"]||(this.touchStartX=e.touches[0].clientX)},touchMove:function(e){e.touches&&e.touches.length>1?this.touchDeltaX=0:this.touchDeltaX=e.touches[0].clientX-this.touchStartX},touchEnd:function(e){$["f"]&&cc[e.pointerType.toUpperCase()]&&(this.touchDeltaX=e.clientX-this.touchStartX),this.handleSwipe(),this.pause(!1),this.clearTouchTimeout(),this.$_touchTimeout=setTimeout(this.start,sc+Pn(1e3,this.interval))}},render:function(e){var t=this,n=e("div",{ref:"inner",class:["carousel-inner"],attrs:{id:this.safeId("__BV_inner_"),role:"list"}},[this.normalizeSlot("default")]),r=e();if(this.controls){var i=function(e){t.isSliding?e.preventDefault():t.handleClick(e,t.prev)},o=function(e){t.isSliding?e.preventDefault():t.handleClick(e,t.next)};r=[e("a",{class:["carousel-control-prev"],attrs:{href:"#",role:"button","aria-controls":this.safeId("__BV_inner_"),"aria-disabled":this.isSliding?"true":null},on:{click:i,keydown:i}},[e("span",{class:["carousel-control-prev-icon"],attrs:{"aria-hidden":"true"}}),e("span",{class:["sr-only"]},[this.labelPrev])]),e("a",{class:["carousel-control-next"],attrs:{href:"#",role:"button","aria-controls":this.safeId("__BV_inner_"),"aria-disabled":this.isSliding?"true":null},on:{click:o,keydown:o}},[e("span",{class:["carousel-control-next-icon"],attrs:{"aria-hidden":"true"}}),e("span",{class:["sr-only"]},[this.labelNext])])]}var s=e("ol",{class:["carousel-indicators"],directives:[{name:"show",rawName:"v-show",value:this.indicators,expression:"indicators"}],attrs:{id:this.safeId("__BV_indicators_"),"aria-hidden":this.indicators?"false":"true","aria-label":this.labelIndicators,"aria-owns":this.safeId("__BV_inner_")}},this.slides.map((function(n,r){return e("li",{key:"slide_".concat(r),class:{active:r===t.index},attrs:{role:"button",id:t.safeId("__BV_indicator_".concat(r+1,"_")),tabindex:t.indicators?"0":"-1","aria-current":r===t.index?"true":"false","aria-label":"".concat(t.labelGotoSlide," ").concat(r+1),"aria-describedby":t.slides[r].id||null,"aria-controls":t.safeId("__BV_inner_")},on:{click:function(e){t.handleClick(e,(function(){t.setSlide(r)}))},keydown:function(e){t.handleClick(e,(function(){t.setSlide(r)}))}}})}))),a={mouseenter:this.noHoverPause?Ha:this.pause,mouseleave:this.noHoverPause?Ha:this.restart,focusin:this.pause,focusout:this.restart,keydown:function(e){if(!/input|textarea/i.test(e.target.tagName)){var n=e.keyCode;n!==vr.LEFT&&n!==vr.RIGHT||(e.preventDefault(),e.stopPropagation(),t[n===vr.LEFT?"prev":"next"]())}}};return!this.noTouch&&$["h"]&&($["f"]?(a["&pointerdown"]=this.touchStart,a["&pointerup"]=this.touchEnd):(a["&touchstart"]=this.touchStart,a["&touchmove"]=this.touchMove,a["&touchend"]=this.touchEnd)),e("div",{staticClass:"carousel",class:{slide:!this.noAnimation,"carousel-fade":!this.noAnimation&&this.fade,"pointer-event":!this.noTouch&&$["h"]&&$["f"]},style:{background:this.background},attrs:{role:"region",id:this.safeId(),"aria-busy":this.isSliding?"true":"false"},on:a},[n,r,s])}});function fc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fc(Object(n),!0).forEach((function(t){hc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mc={imgSrc:{type:String},imgAlt:{type:String},imgWidth:{type:[Number,String]},imgHeight:{type:[Number,String]},imgBlank:{type:Boolean,default:!1},imgBlankColor:{type:String,default:"transparent"}},vc=pc(pc({},mc),{},{contentVisibleUp:{type:String},contentTag:{type:String,default:"div"},caption:{type:String},captionHtml:{type:String},captionTag:{type:String,default:"h3"},text:{type:String},textHtml:{type:String},textTag:{type:String,default:"p"},background:{type:String}}),bc=i.extend({name:"BCarouselSlide",mixins:[cs,yn],inject:{bvCarousel:{default:function(){return{noTouch:!0}}}},props:vc,computed:{contentClasses:function(){return[this.contentVisibleUp?"d-none":"",this.contentVisibleUp?"d-".concat(this.contentVisibleUp,"-block"):""]},computedWidth:function(){return this.imgWidth||this.bvCarousel.imgWidth||null},computedHeight:function(){return this.imgHeight||this.bvCarousel.imgHeight||null}},render:function(e){var t=this.normalizeSlot("img");if(!t&&(this.imgSrc||this.imgBlank)){var n={};!this.bvCarousel.noTouch&&$["h"]&&(n.dragstart=function(e){e.preventDefault()}),t=e(Ia,{props:pc(pc({},Qn(mc,this.$props,Jn.bind(null,"img"))),{},{width:this.computedWidth,height:this.computedHeight,fluidGrow:!0,block:!0}),on:n})}var r=[!(!this.caption&&!this.captionHtml)&&e(this.captionTag,{domProps:so(this.captionHtml,this.caption)}),!(!this.text&&!this.textHtml)&&e(this.textTag,{domProps:so(this.textHtml,this.text)}),this.normalizeSlot("default")||!1],i=e();return r.some(Boolean)&&(i=e(this.contentTag,{staticClass:"carousel-caption",class:this.contentClasses},r.map((function(t){return t||e()})))),e("div",{staticClass:"carousel-item",style:{background:this.background||this.bvCarousel.background||null},attrs:{id:this.safeId(),role:"listitem"}},[t,i])}}),yc=$e({components:{BCarousel:dc,BCarouselSlide:bc}}),gc=function(e){e.style.height=0,Tt((function(){Nt(e),e.style.height="".concat(e.scrollHeight,"px")}))},_c=function(e){e.style.height=null},Sc=function(e){e.style.height="auto",e.style.display="block",e.style.height="".concat(Yt(e).height,"px"),Nt(e),e.style.height=0},wc=function(e){e.style.height=null},xc={css:!0,enterClass:"",enterActiveClass:"collapsing",enterToClass:"collapse show",leaveClass:"collapse show",leaveActiveClass:"collapsing",leaveToClass:"collapse"},Cc={enter:gc,afterEnter:_c,leave:Sc,afterLeave:wc},Oc=i.extend({name:"BVCollapse",functional:!0,props:{appear:{type:Boolean,default:!1}},render:function(e,t){var n=t.props,r=t.data,i=t.children;return e("transition",cn(r,{props:xc,on:Cc},{props:n}),i)}}),Tc={methods:{listenOnRoot:function(e,t){var n=this;this.$root.$on(e,t),this.$on("hook:beforeDestroy",(function(){n.$root.$off(e,t)}))},listenOnRootOnce:function(e,t){var n=this;this.$root.$once(e,t),this.$on("hook:beforeDestroy",(function(){n.$root.$off(e,t)}))},emitOnRoot:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.$root).$emit.apply(t,[e].concat(r))}}},Ec=vr.ENTER,Ic=vr.SPACE,kc="collapsed",Rc="not-collapsed",Pc="__BV_toggle",Mc="".concat(Pc,"_HANDLER__"),Ac="".concat(Pc,"_CLICK__"),jc="".concat(Pc,"_STATE__"),Nc="".concat(Pc,"_TARGETS__"),Dc="false",Bc="true",Lc="aria-controls",Fc="aria-expanded",Vc="role",Uc="tabindex",$c="bv::toggle::collapse",Wc="bv::collapse::state",zc="bv::collapse::sync::state",Hc="bv::request::collapse::state",Gc=[Ec,Ic],qc=/^#/,Kc=/^#[A-Za-z]+[\w\-:.]*$/,Yc=/\s+/,Jc=function(e){return!a(["button","a"],e.tagName.toLowerCase())},Xc=function(e,t){var n=e.modifiers,r=e.arg,i=e.value,o=g(n||{});if(i=he(i)?i.split(Yc):i,Pt(t.tagName,"a")){var s=qt(t,"href")||"";Kc.test(s)&&o.push(s.replace(qc,""))}return c(r,i).forEach((function(e){return he(e)&&o.push(e)})),o.filter((function(e,t,n){return e&&n.indexOf(e)===t}))},Zc=function(e){var t=e[Ac];t&&(tc(e,"click",t),tc(e,"keydown",t)),e[Ac]=null},Qc=function(e,t){if(Zc(e),t.context){var n=function(n){if(("keydown"!==n.type||a(Gc,n.keyCode))&&!jt(e)){var r=e[Nc]||[];r.forEach((function(e){t.context.$root.$emit($c,e)}))}};e[Ac]=n,ec(e,"click",n),Jc(e)&&ec(e,"keydown",n)}},eu=function(e,t){e[Mc]&&t.context&&t.context.$root.$off([Wc,zc],e[Mc]),e[Mc]=null},tu=function(e,t){if(eu(e,t),t.context){var n=function(t,n){a(e[Nc]||[],t)&&(e[jc]=n,nu(e,n))};e[Mc]=n,t.context.$root.$on([Wc,zc],n)}},nu=function(e,t){t?(Wt(e,kc),$t(e,Rc),Ht(e,Fc,Bc)):(Wt(e,Rc),$t(e,kc),Ht(e,Fc,Dc))},ru=function(e,t){e[t]=null,delete e[t]},iu=function(e,t,n){if($["j"]&&n.context){Jc(e)&&(Kt(e,Vc)||Ht(e,Vc,"button"),Kt(e,Uc)||Ht(e,Uc,"0")),nu(e,e[jc]);var r=Xc(t,e);r.length?Ht(e,Lc,r.join(" ")):Gt(e,Lc),Qc(e,n),Po(r,e[Nc])||(e[Nc]=r,r.forEach((function(e){n.context.$root.$emit(Hc,e)})))}},ou={bind:function(e,t,n){e[jc]=!1,e[Nc]=[],tu(e,n),iu(e,t,n)},componentUpdated:iu,updated:iu,unbind:function(e,t,n){Zc(e),eu(e,n),ru(e,Mc),ru(e,Ac),ru(e,jc),ru(e,Nc),Wt(e,kc),Wt(e,Rc),Gt(e,Fc),Gt(e,Lc),Gt(e,Vc)}},su="bv::collapse::accordion",au=i.extend({name:"BCollapse",mixins:[cs,Tc,yn],model:{prop:"visible",event:"input"},props:{isNav:{type:Boolean,default:!1},accordion:{type:String},visible:{type:Boolean,default:!1},tag:{type:String,default:"div"},appear:{type:Boolean,default:!1}},data:function(){return{show:this.visible,transitioning:!1}},computed:{classObject:function(){return{"navbar-collapse":this.isNav,collapse:!this.transitioning,show:this.show&&!this.transitioning}}},watch:{visible:function(e){e!==this.show&&(this.show=e)},show:function(e,t){e!==t&&this.emitState()}},created:function(){this.show=this.visible},mounted:function(){var e=this;this.show=this.visible,this.listenOnRoot($c,this.handleToggleEvt),this.listenOnRoot(su,this.handleAccordionEvt),this.isNav&&(this.setWindowEvents(!0),this.handleResize()),this.$nextTick((function(){e.emitState()})),this.listenOnRoot(Hc,(function(t){t===e.safeId()&&e.$nextTick(e.emitSync)}))},updated:function(){this.emitSync()},deactivated:function(){this.isNav&&this.setWindowEvents(!1)},activated:function(){this.isNav&&this.setWindowEvents(!0),this.emitSync()},beforeDestroy:function(){this.show=!1,this.isNav&&$["j"]&&this.setWindowEvents(!1)},methods:{setWindowEvents:function(e){nc(e,window,"resize",this.handleResize,Za),nc(e,window,"orientationchange",this.handleResize,Za)},toggle:function(){this.show=!this.show},onEnter:function(){this.transitioning=!0,this.$emit("show")},onAfterEnter:function(){this.transitioning=!1,this.$emit("shown")},onLeave:function(){this.transitioning=!0,this.$emit("hide")},onAfterLeave:function(){this.transitioning=!1,this.$emit("hidden")},emitState:function(){this.$emit("input",this.show),this.emitOnRoot(Wc,this.safeId(),this.show),this.accordion&&this.show&&this.emitOnRoot(su,this.safeId(),this.accordion)},emitSync:function(){this.emitOnRoot(zc,this.safeId(),this.show)},checkDisplayBlock:function(){var e=zt(this.$el,"show");Wt(this.$el,"show");var t="block"===Jt(this.$el).display;return e&&$t(this.$el,"show"),t},clickHandler:function(e){var t=e.target;this.isNav&&t&&"block"===Jt(this.$el).display&&(Lt(t,".nav-link,.dropdown-item")||Ft(".nav-link,.dropdown-item",t))&&(this.checkDisplayBlock()||(this.show=!1))},handleToggleEvt:function(e){e===this.safeId()&&this.toggle()},handleAccordionEvt:function(e,t){this.accordion&&t===this.accordion&&(e===this.safeId()?this.show||this.toggle():this.show&&this.toggle())},handleResize:function(){this.show="block"===Jt(this.$el).display}},render:function(e){var t=this,n={visible:this.show,close:function(){return t.show=!1}},r=e(this.tag,{class:this.classObject,directives:[{name:"show",value:this.show}],attrs:{id:this.safeId()},on:{click:this.clickHandler}},[this.normalizeSlot("default",n)]);return e(Oc,{props:{appear:this.appear},on:{enter:this.onEnter,afterEnter:this.onAfterEnter,leave:this.onLeave,afterLeave:this.onAfterLeave}},[r])}}),cu=$e({directives:{VBToggle:ou}}),uu=$e({components:{BCollapse:au},plugins:{VBTogglePlugin:cu}}),lu=n("f0bd");function du(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pu(e,t,n){return t&&fu(e.prototype,t),n&&fu(e,n),e}var hu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(du(this,e),!t)throw new TypeError("Failed to construct '".concat(this.constructor.name,"'. 1 argument required, ").concat(arguments.length," given."));p(this,e.Defaults,this.constructor.Defaults,n,{type:t}),m(this,{type:E(),cancelable:E(),nativeEvent:E(),target:E(),relatedTarget:E(),vueTarget:E(),componentId:E()});var r=!1;this.preventDefault=function(){this.cancelable&&(r=!0)},v(this,"defaultPrevented",{enumerable:!0,get:function(){return r}})}return pu(e,null,[{key:"Defaults",get:function(){return{type:"",cancelable:!0,nativeEvent:null,target:null,relatedTarget:null,vueTarget:null,componentId:null}}}]),e}(),mu={data:function(){return{listenForClickOut:!1}},watch:{listenForClickOut:function(e,t){e!==t&&(tc(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,Za),e&&ec(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,Za))}},beforeCreate:function(){this.clickOutElement=null,this.clickOutEventName=null},mounted:function(){this.clickOutElement||(this.clickOutElement=document),this.clickOutEventName||(this.clickOutEventName="click"),this.listenForClickOut&&ec(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,Za)},beforeDestroy:function(){tc(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,Za)},methods:{isClickOut:function(e){return!Vt(this.$el,e.target)},_clickOutHandler:function(e){this.clickOutHandler&&this.isClickOut(e)&&this.clickOutHandler(e)}}},vu={data:function(){return{listenForFocusIn:!1}},watch:{listenForFocusIn:function(e,t){e!==t&&(tc(this.focusInElement,"focusin",this._focusInHandler,Za),e&&ec(this.focusInElement,"focusin",this._focusInHandler,Za))}},beforeCreate:function(){this.focusInElement=null},mounted:function(){this.focusInElement||(this.focusInElement=document),this.listenForFocusIn&&ec(this.focusInElement,"focusin",this._focusInHandler,Za)},beforeDestroy:function(){tc(this.focusInElement,"focusin",this._focusInHandler,Za)},methods:{_focusInHandler:function(e){this.focusInHandler&&this.focusInHandler(e)}}};function bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bu(Object(n),!0).forEach((function(t){gu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _u=function(e){return(e||[]).filter(At)},Su="bv::dropdown::",wu="".concat(Su,"shown"),xu="".concat(Su,"hidden"),Cu={FORM_CHILD:".dropdown form",ITEM_SELECTOR:[".dropdown-item",".b-dropdown-form"].map((function(e){return"".concat(e,":not(.disabled):not([disabled])")})).join(", ")},Ou={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},Tu={dropup:{type:Boolean,default:!1},dropright:{type:Boolean,default:!1},dropleft:{type:Boolean,default:!1},right:{type:Boolean,default:!1},offset:{type:[Number,String],default:0},noFlip:{type:Boolean,default:!1},popperOpts:{default:function(){}},boundary:{type:[String,re],default:"scrollParent"}},Eu={mixins:[cs,mu,vu],provide:function(){return{bvDropdown:this}},inject:{bvNavbar:{default:null}},props:yu({disabled:{type:Boolean,default:!1}},Tu),data:function(){return{visible:!1,visibleChangePrevented:!1}},computed:{inNavbar:function(){return!le(this.bvNavbar)},toggler:function(){var e=this.$refs.toggle;return e?e.$el||e:null},directionClass:function(){return this.dropup?"dropup":this.dropright?"dropright":this.dropleft?"dropleft":""}},watch:{visible:function(e,t){if(this.visibleChangePrevented)this.visibleChangePrevented=!1;else if(e!==t){var n=e?"show":"hide",r=new hu(n,{cancelable:!0,vueTarget:this,target:this.$refs.menu,relatedTarget:null,componentId:this.safeId?this.safeId():this.id||null});if(this.emitEvent(r),r.defaultPrevented)return this.visibleChangePrevented=!0,this.visible=t,void this.$off("hidden",this.focusToggler);"show"===n?this.showMenu():this.hideMenu()}},disabled:function(e,t){e!==t&&e&&this.visible&&(this.visible=!1)}},created:function(){this.$_popper=null},deactivated:function(){this.visible=!1,this.whileOpenListen(!1),this.destroyPopper()},beforeDestroy:function(){this.visible=!1,this.whileOpenListen(!1),this.destroyPopper()},methods:{emitEvent:function(e){var t=e.type;this.$emit(t,e),this.$root.$emit("".concat(Su).concat(t),e)},showMenu:function(){var e=this;if(!this.disabled){if(!this.inNavbar)if("undefined"===typeof lu["a"])Oe("Popper.js not found. Falling back to CSS positioning","BDropdown");else{var t=this.dropup&&this.right||this.split?this.$el:this.$refs.toggle;t=t.$el||t,this.createPopper(t)}this.$root.$emit(wu,this),this.whileOpenListen(!0),this.$nextTick((function(){e.focusMenu(),e.$emit("shown")}))}},hideMenu:function(){this.whileOpenListen(!1),this.$root.$emit(xu,this),this.$emit("hidden"),this.destroyPopper()},createPopper:function(e){this.destroyPopper(),this.$_popper=new lu["a"](e,this.$refs.menu,this.getPopperConfig())},destroyPopper:function(){this.$_popper&&this.$_popper.destroy(),this.$_popper=null},updatePopper:function(){try{this.$_popper.scheduleUpdate()}catch(e){}},getPopperConfig:function(){var e=Ou.BOTTOM;this.dropup?e=this.right?Ou.TOPEND:Ou.TOP:this.dropright?e=Ou.RIGHT:this.dropleft?e=Ou.LEFT:this.right&&(e=Ou.BOTTOMEND);var t={placement:e,modifiers:{offset:{offset:this.offset||0},flip:{enabled:!this.noFlip}}};return this.boundary&&(t.modifiers.preventOverflow={boundariesElement:this.boundary}),yu(yu({},t),this.popperOpts||{})},whileOpenListen:function(e){this.listenForClickOut=e,this.listenForFocusIn=e;var t=e?"$on":"$off";this.$root[t](wu,this.rootCloseListener)},rootCloseListener:function(e){e!==this&&(this.visible=!1)},show:function(){var e=this;this.disabled||Tt((function(){e.visible=!0}))},hide:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.disabled||(this.visible=!1,e&&this.$once("hidden",this.focusToggler))},toggle:function(e){e=e||{};var t=e,n=t.type,r=t.keyCode;("click"===n||"keydown"===n&&-1!==[vr.ENTER,vr.SPACE,vr.DOWN].indexOf(r))&&(this.disabled?this.visible=!1:(this.$emit("toggle",e),e.preventDefault(),e.stopPropagation(),this.visible?this.hide(!0):this.show()))},onMousedown:function(e){e.preventDefault()},onKeydown:function(e){var t=e.keyCode;t===vr.ESC?this.onEsc(e):t===vr.DOWN?this.focusNext(e,!1):t===vr.UP&&this.focusNext(e,!0)},onEsc:function(e){this.visible&&(this.visible=!1,e.preventDefault(),e.stopPropagation(),this.$once("hidden",this.focusToggler))},onSplitClick:function(e){this.disabled?this.visible=!1:this.$emit("click",e)},hideHandler:function(e){var t=e.target;!this.visible||Vt(this.$refs.menu,t)||Vt(this.toggler,t)||this.hide()},clickOutHandler:function(e){this.hideHandler(e)},focusInHandler:function(e){this.hideHandler(e)},focusNext:function(e,t){var n=this,r=e.target;!this.visible||e&&Ft(Cu.FORM_CHILD,r)||(e.preventDefault(),e.stopPropagation(),this.$nextTick((function(){var e=n.getItems();if(!(e.length<1)){var i=e.indexOf(r);t&&i>0?i--:!t&&i<e.length-1&&i++,i<0&&(i=0),n.focusItem(i,e)}})))},focusItem:function(e,t){var n=t.find((function(t,n){return n===e}));tn(n)},getItems:function(){return _u(Dt(Cu.ITEM_SELECTOR,this.$refs.menu))},focusMenu:function(){tn(this.$refs.menu)},focusToggler:function(){var e=this;this.$nextTick((function(){tn(e.toggler)}))}}};function Iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ku(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iu(Object(n),!0).forEach((function(t){Ru(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ru(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pu="BDropdown",Mu={text:{type:String,default:""},html:{type:String},variant:{type:String,default:function(){return Qe(Pu,"variant")}},size:{type:String,default:function(){return Qe(Pu,"size")}},block:{type:Boolean,default:!1},menuClass:{type:[String,Array,Object]},toggleTag:{type:String,default:"button"},toggleText:{type:String,default:function(){return Qe(Pu,"toggleText")}},toggleClass:{type:[String,Array,Object]},noCaret:{type:Boolean,default:!1},split:{type:Boolean,default:!1},splitHref:{type:String},splitTo:{type:[String,Object]},splitVariant:{type:String,default:function(){return Qe(Pu,"splitVariant")}},splitClass:{type:[String,Array,Object]},splitButtonType:{type:String,default:"button",validator:function(e){return a(["button","submit","reset"],e)}},lazy:{type:Boolean,default:!1},role:{type:String,default:"menu"}},Au=i.extend({name:Pu,mixins:[cs,Eu,yn],props:Mu,computed:{dropdownClasses:function(){var e=this.block,t=this.split,n=this.boundary;return[this.directionClass,{show:this.visible,"btn-group":t||!e,"d-flex":e&&t,"position-static":"scrollParent"!==n||!n}]},menuClasses:function(){return[this.menuClass,{"dropdown-menu-right":this.right,show:this.visible}]},toggleClasses:function(){var e=this.split;return[this.toggleClass,{"dropdown-toggle-split":e,"dropdown-toggle-no-caret":this.noCaret&&!e}]}},render:function(e){var t=this.variant,n=this.size,r=this.block,i=this.disabled,o=this.split,s=this.role,a={variant:t,size:n,block:r,disabled:i},c=this.normalizeSlot("button-content"),u=this.hasNormalizedSlot("button-content")?{}:so(this.html,this.text),l=e();if(o){var d=this.splitTo,f=this.splitHref,p=this.splitButtonType,h=ku(ku({},a),{},{variant:this.splitVariant||this.variant});d?h.to=d:f?h.href=f:p&&(h.type=p),l=e(Qr,{class:this.splitClass,attrs:{id:this.safeId("_BV_button_")},props:h,domProps:u,on:{click:this.onSplitClick},ref:"button"},[c])}var m=e(Qr,{staticClass:"dropdown-toggle",class:this.toggleClasses,attrs:{id:this.safeId("_BV_toggle_"),"aria-haspopup":"true","aria-expanded":this.visible?"true":"false"},props:ku(ku({},a),{},{tag:this.toggleTag,block:r&&!o}),domProps:o?{}:u,on:{mousedown:this.onMousedown,click:this.toggle,keydown:this.toggle},ref:"toggle"},[o?e("span",{class:["sr-only"]},[this.toggleText]):c]),v=e("ul",{staticClass:"dropdown-menu",class:this.menuClasses,attrs:{role:s,tabindex:"-1","aria-labelledby":this.safeId(o?"_BV_button_":"_BV_toggle_")},on:{keydown:this.onKeydown},ref:"menu"},!this.lazy||this.visible?this.normalizeSlot("default",{hide:this.hide}):[e()]);return e("div",{staticClass:"dropdown b-dropdown",class:this.dropdownClasses,attrs:{id:this.safeId()}},[l,m,v])}});function ju(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ju(Object(n),!0).forEach((function(t){Du(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ju(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Du(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bu=T(Dr,["event","routerTag"]),Lu=i.extend({name:"BDropdownItem",mixins:[wr,yn],inheritAttrs:!1,inject:{bvDropdown:{default:null}},props:Nu(Nu({},Bu),{},{linkClass:{type:[String,Array,Object],default:null},variant:{type:String,default:null}}),computed:{computedAttrs:function(){return Nu(Nu({},this.bvAttrs),{},{role:"menuitem"})}},methods:{closeDropdown:function(){var e=this;Tt((function(){e.bvDropdown&&e.bvDropdown.hide(!0)}))},onClick:function(e){this.$emit("click",e),this.closeDropdown()}},render:function(e){return e("li",{attrs:{role:"presentation"}},[e(Br,{props:this.$props,staticClass:"dropdown-item",class:[this.linkClass,Du({},"text-".concat(this.variant),this.variant&&!(this.active||this.disabled))],attrs:this.computedAttrs,on:{click:this.onClick},ref:"item"},this.normalizeSlot("default"))])}});function Fu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fu(Object(n),!0).forEach((function(t){Uu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $u={active:{type:Boolean,default:!1},activeClass:{type:String,default:"active"},buttonClass:{type:[String,Array,Object]},disabled:{type:Boolean,default:!1},variant:{type:String}},Wu=i.extend({name:"BDropdownItemButton",mixins:[wr,yn],inheritAttrs:!1,inject:{bvDropdown:{default:null}},props:$u,computed:{computedAttrs:function(){return Vu(Vu({},this.bvAttrs),{},{role:"menuitem",type:"button",disabled:this.disabled})}},methods:{closeDropdown:function(){this.bvDropdown&&this.bvDropdown.hide(!0)},onClick:function(e){this.$emit("click",e),this.closeDropdown()}},render:function(e){var t;return e("li",{attrs:{role:"presentation"}},[e("button",{staticClass:"dropdown-item",class:[this.buttonClass,(t={},Uu(t,this.activeClass,this.active),Uu(t,"text-".concat(this.variant),this.variant&&!(this.active||this.disabled)),t)],attrs:this.computedAttrs,on:{click:this.onClick},ref:"button"},this.normalizeSlot("default"))])}});function zu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zu(Object(n),!0).forEach((function(t){Gu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qu={id:{type:String},tag:{type:String,default:"header"},variant:{type:String}},Ku=i.extend({name:"BDropdownHeader",functional:!0,props:qu,render:function(e,t){var n=t.props,r=t.data,i=t.children,o=r.attrs||{};return r.attrs={},e("li",cn(r,{attrs:{role:"presentation"}}),[e(n.tag,{staticClass:"dropdown-header",class:Gu({},"text-".concat(n.variant),n.variant),attrs:Hu(Hu({},o),{},{id:n.id||null,role:"heading"}),ref:"header"},i)])}});function Yu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ju(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yu(Object(n),!0).forEach((function(t){Xu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zu={tag:{type:String,default:"hr"}},Qu=i.extend({name:"BDropdownDivider",functional:!0,props:Zu,render:function(e,t){var n=t.props,r=t.data,i=r.attrs||{};return r.attrs={},e("li",cn(r,{attrs:{role:"presentation"}}),[e(n.tag,{staticClass:"dropdown-divider",attrs:Ju(Ju({},i),{},{role:"separator","aria-orientation":"horizontal"}),ref:"divider"})])}}),el={id:{type:String},inline:{type:Boolean,default:!1},novalidate:{type:Boolean,default:!1},validated:{type:Boolean,default:!1}},tl=i.extend({name:"BForm",functional:!0,props:el,render:function(e,t){var n=t.props,r=t.data,i=t.children;return e("form",cn(r,{class:{"form-inline":n.inline,"was-validated":n.validated},attrs:{id:n.id,novalidate:n.novalidate}}),i)}});function nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nl(Object(n),!0).forEach((function(t){il(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function il(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ol=i.extend({name:"BDropdownForm",functional:!0,props:rl(rl({},el),{},{disabled:{type:Boolean,default:!1},formClass:{type:[String,Object,Array]}}),render:function(e,t){var n=t.props,r=t.data,i=t.children,o=r.attrs||{},s=r.on||{};return r.attrs={},r.on={},e("li",cn(r,{attrs:{role:"presentation"}}),[e(tl,{ref:"form",staticClass:"b-dropdown-form",class:[n.formClass,{disabled:n.disabled}],props:n,attrs:rl(rl({},o),{},{disabled:n.disabled,tabindex:n.disabled?null:"-1"}),on:s},i)])}});function sl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var al=i.extend({name:"BDropdownText",functional:!0,props:{tag:{type:String,default:"p"},variant:{type:String}},render:function(e,t){var n=t.props,r=t.data,i=t.children,o=r.attrs||{};return r.attrs={},e("li",cn(r,{attrs:{role:"presentation"}}),[e(n.tag,{staticClass:"b-dropdown-text",class:sl({},"text-".concat(n.variant),n.variant),props:n,attrs:o,ref:"text"},i)])}});function cl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ul(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cl(Object(n),!0).forEach((function(t){ll(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ll(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dl={id:{type:String},header:{type:String},headerTag:{type:String,default:"header"},headerVariant:{type:String},headerClasses:{type:[String,Array,Object]},ariaDescribedby:{type:String}},fl=i.extend({name:"BDropdownGroup",functional:!0,props:dl,render:function(e,t){var n,r=t.props,i=t.data,o=t.slots,s=t.scopedSlots,a=o(),c=s||{},u=i.attrs||{};i.attrs={};var l=null;(vn("header",c,a)||r.header)&&(l=r.id?"_bv_".concat(r.id,"_group_dd_header"):null,n=e(r.headerTag,{staticClass:"dropdown-header",class:[r.headerClasses,ll({},"text-".concat(r.variant),r.variant)],attrs:{id:l,role:"heading"}},bn("header",{},c,a)||r.header));var d=[l,r.ariaDescribedBy].filter(U).join(" ").trim();return e("li",cn(i,{attrs:{role:"presentation"}}),[n||e(),e("ul",{staticClass:"list-unstyled",attrs:ul(ul({},u),{},{id:r.id||null,role:"group","aria-describedby":d||null})},bn("default",{},c,a))])}}),pl=$e({components:{BDropdown:Au,BDd:Au,BDropdownItem:Lu,BDdItem:Lu,BDropdownItemButton:Wu,BDropdownItemBtn:Wu,BDdItemButton:Wu,BDdItemBtn:Wu,BDropdownHeader:Ku,BDdHeader:Ku,BDropdownDivider:Qu,BDdDivider:Qu,BDropdownForm:ol,BDdForm:ol,BDropdownText:al,BDdText:al,BDropdownGroup:fl,BDdGroup:fl}});function hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ml={type:{type:String,default:"iframe",validator:function(e){return a(["iframe","embed","video","object","img","b-img","b-img-lazy"],e)}},tag:{type:String,default:"div"},aspect:{type:String,default:"16by9"}},vl=i.extend({name:"BEmbed",functional:!0,props:ml,render:function(e,t){var n=t.props,r=t.data,i=t.children;return e(n.tag,{ref:r.ref,staticClass:"embed-responsive",class:hl({},"embed-responsive-".concat(n.aspect),n.aspect)},[e(n.type,cn(r,{ref:"",staticClass:"embed-responsive-item"}),i)])}}),bl=$e({components:{BEmbed:vl}}),yl='Setting prop "options" to an object is deprecated. Use the array format instead.',gl={props:{options:{type:[Array,Object],default:function(){return[]}},valueField:{type:String,default:"value"},textField:{type:String,default:"text"},htmlField:{type:String,default:"html"},disabledField:{type:String,default:"disabled"}},computed:{formOptions:function(){return this.normalizeOptions(this.options)}},methods:{normalizeOption:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(x(e)){var n=Ce(e,this.valueField),r=Ce(e,this.textField);return{value:ue(n)?t||r:n,text:oo(String(ue(r)?t:r)),html:Ce(e,this.htmlField),disabled:Boolean(Ce(e,this.disabledField))}}return{value:t||e,text:oo(String(e)),disabled:!1}},normalizeOptions:function(e){var t=this;return s(e)?e.map((function(e){return t.normalizeOption(e)})):x(e)?(Oe(yl,this.$options.name),g(e).map((function(n){return t.normalizeOption(e[n]||{},n)}))):[]}}},_l=i.extend({name:"BFormDatalist",mixins:[gl,yn],props:{id:{type:String,required:!0}},render:function(e){var t=this.formOptions.map((function(t,n){var r=t.value,i=t.text,o=t.html,s=t.disabled;return e("option",{attrs:{value:r,disabled:s},domProps:so(o,i),key:"option_".concat(n)})}));return e("datalist",{attrs:{id:this.id}},[t,this.normalizeSlot("default")])}});function Sl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wl="BFormText",xl={id:{type:String},tag:{type:String,default:"small"},textVariant:{type:String,default:function(){return Qe(wl,"textVariant")}},inline:{type:Boolean,default:!1}},Cl=i.extend({name:wl,functional:!0,props:xl,render:function(e,t){var n=t.props,r=t.data,i=t.children;return e(n.tag,cn(r,{class:Sl({"form-text":!n.inline},"text-".concat(n.textVariant),n.textVariant),attrs:{id:n.id}}),i)}}),Ol={id:{type:String},tag:{type:String,default:"div"},tooltip:{type:Boolean,default:!1},forceShow:{type:Boolean,default:!1},state:{type:Boolean,default:null},ariaLive:{type:String},role:{type:String}},Tl=i.extend({name:"BFormInvalidFeedback",functional:!0,props:Ol,render:function(e,t){var n=t.props,r=t.data,i=t.children,o=!0===n.forceShow||!1===n.state;return e(n.tag,cn(r,{class:{"invalid-feedback":!n.tooltip,"invalid-tooltip":n.tooltip,"d-block":o},attrs:{id:n.id||null,role:n.role||null,"aria-live":n.ariaLive||null,"aria-atomic":n.ariaLive?"true":null}}),i)}}),El={id:{type:String},tag:{type:String,default:"div"},tooltip:{type:Boolean,default:!1},forceShow:{type:Boolean,default:!1},state:{type:Boolean,default:null},ariaLive:{type:String},role:{type:String}},Il=i.extend({name:"BFormValidFeedback",functional:!0,props:El,render:function(e,t){var n=t.props,r=t.data,i=t.children,o=!0===n.forceShow||!0===n.state;return e(n.tag,cn(r,{class:{"valid-feedback":!n.tooltip,"valid-tooltip":n.tooltip,"d-block":o},attrs:{id:n.id||null,role:n.role||null,"aria-live":n.ariaLive||null,"aria-atomic":n.ariaLive?"true":null}}),i)}}),kl={tag:{type:String,default:"div"}},Rl=i.extend({name:"BFormRow",functional:!0,props:kl,render:function(e,t){var n=t.props,r=t.data,i=t.children;return e(n.tag,cn(r,{staticClass:"form-row"}),i)}}),Pl=$e({components:{BForm:tl,BFormDatalist:_l,BDatalist:_l,BFormText:Cl,BFormInvalidFeedback:Tl,BFormFeedback:Tl,BFormValidFeedback:Il,BFormRow:Rl}}),Ml=function(e,t){for(var n=0;n<e.length;n++)if(Po(e[n],t))return n;return-1},Al=Ml,jl="input, textarea, select",Nl={props:{name:{type:String},id:{type:String},disabled:{type:Boolean},required:{type:Boolean,default:!1},form:{type:String},autofocus:{type:Boolean,default:!1}},mounted:function(){this.handleAutofocus()},activated:function(){this.handleAutofocus()},methods:{handleAutofocus:function(){var e=this;this.$nextTick((function(){Tt((function(){var t=e.$el;e.autofocus&&At(t)&&(Lt(t,jl)||(t=Bt(jl,t)),tn(t))}))}))}}};function Dl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dl(Object(n),!0).forEach((function(t){Ll(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ll(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fl={mixins:[wr,yn],inheritAttrs:!1,model:{prop:"checked",event:"input"},props:{value:{},checked:{},inline:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},button:{type:Boolean,default:!1},buttonVariant:{type:String},ariaLabel:{type:String},ariaLabelledby:{type:String}},data:function(){return{localChecked:this.isGroup?this.bvGroup.checked:this.checked,hasFocus:!1}},computed:{computedLocalChecked:{get:function(){return this.isGroup?this.bvGroup.localChecked:this.localChecked},set:function(e){this.isGroup?this.bvGroup.localChecked=e:this.localChecked=e}},isGroup:function(){return Boolean(this.bvGroup)},isBtnMode:function(){return this.isGroup?this.bvGroup.buttons:this.button},isPlain:function(){return!this.isBtnMode&&(this.isGroup?this.bvGroup.plain:this.plain)},isCustom:function(){return!this.isBtnMode&&!this.isPlain},isSwitch:function(){return!(this.isBtnMode||this.isRadio||this.isPlain)&&(this.isGroup?this.bvGroup.switches:this.switch)},isInline:function(){return this.isGroup?this.bvGroup.inline:this.inline},isDisabled:function(){return this.isGroup&&this.bvGroup.disabled||this.disabled},isRequired:function(){return this.getName&&(this.isGroup?this.bvGroup.required:this.required)},getName:function(){return(this.isGroup?this.bvGroup.groupName:this.name)||null},getForm:function(){return(this.isGroup?this.bvGroup.form:this.form)||null},getSize:function(){return(this.isGroup?this.bvGroup.size:this.size)||""},getState:function(){return this.isGroup?this.bvGroup.computedState:this.computedState},getButtonVariant:function(){return this.buttonVariant?this.buttonVariant:this.isGroup&&this.bvGroup.buttonVariant?this.bvGroup.buttonVariant:"secondary"},buttonClasses:function(){var e;return["btn","btn-".concat(this.getButtonVariant),(e={},Ll(e,"btn-".concat(this.getSize),this.getSize),Ll(e,"disabled",this.isDisabled),Ll(e,"active",this.isChecked),Ll(e,"focus",this.hasFocus),e)]},computedAttrs:function(){return Bl(Bl({},this.bvAttrs),{},{id:this.safeId(),type:this.isRadio?"radio":"checkbox",name:this.getName,form:this.getForm,disabled:this.isDisabled,required:this.isRequired,autocomplete:"off","aria-required":this.isRequired||null,"aria-label":this.ariaLabel||null,"aria-labelledby":this.ariaLabelledby||null})}},watch:{checked:function(e){this.computedLocalChecked=e}},methods:{handleFocus:function(e){e.target&&("focus"===e.type?this.hasFocus=!0:"blur"===e.type&&(this.hasFocus=!1))},focus:function(){this.isDisabled||tn(this.$refs.input)},blur:function(){this.isDisabled||nn(this.$refs.input)}},render:function(e){var t=this.normalizeSlot("default"),n={change:this.handleChange};this.isBtnMode&&(n.focus=n.blur=this.handleFocus);var r=e("input",{ref:"input",key:"input",on:n,class:{"form-check-input":this.isPlain,"custom-control-input":this.isCustom,"is-valid":!0===this.getState&&!this.isBtnMode,"is-invalid":!1===this.getState&&!this.isBtnMode,"position-static":this.isPlain&&!t},directives:[{name:"model",rawName:"v-model",value:this.computedLocalChecked,expression:"computedLocalChecked"}],attrs:this.computedAttrs,domProps:{value:this.value,checked:this.isChecked}});if(this.isBtnMode){var i=e("label",{class:this.buttonClasses},[r,t]);return this.isGroup||(i=e("div",{class:["btn-group-toggle","d-inline-block"]},[i])),i}var o=e();return this.isPlain&&!t||(o=e("label",{class:{"form-check-label":this.isPlain,"custom-control-label":this.isCustom},attrs:{for:this.safeId()}},t)),e("div",{class:Ll({"form-check":this.isPlain,"form-check-inline":this.isPlain&&this.isInline,"custom-control":this.isCustom,"custom-control-inline":this.isCustom&&this.isInline,"custom-checkbox":this.isCustom&&this.isCheck&&!this.isSwitch,"custom-switch":this.isSwitch,"custom-radio":this.isCustom&&this.isRadio},"b-custom-control-".concat(this.getSize),Boolean(this.getSize&&!this.isBtnMode))},[r,o])}},Vl={props:{size:{type:String,default:function(){return Qe("formControls","size")}}},computed:{sizeFormClass:function(){return[this.size?"form-control-".concat(this.size):null]},sizeBtnClass:function(){return[this.size?"btn-".concat(this.size):null]}}},Ul={props:{state:{type:Boolean,default:null}},computed:{computedState:function(){return pe(this.state)?this.state:null},stateClass:function(){var e=this.computedState;return!0===e?"is-valid":!1===e?"is-invalid":null}}},$l=i.extend({name:"BFormCheckbox",mixins:[Fl,cs,Nl,Vl,Ul],inject:{bvGroup:{from:"bvCheckGroup",default:!1}},props:{value:{default:!0},uncheckedValue:{default:!1},indeterminate:{type:Boolean,default:!1},switch:{type:Boolean,default:!1},checked:{default:null}},computed:{isChecked:function(){var e=this.computedLocalChecked,t=this.value;return s(e)?Al(e,t)>-1:Po(e,t)},isRadio:function(){return!1},isCheck:function(){return!0}},watch:{computedLocalChecked:function(e){this.$emit("input",e),this.$refs&&this.$refs.input&&this.$emit("update:indeterminate",this.$refs.input.indeterminate)},indeterminate:function(e){this.setIndeterminate(e)}},mounted:function(){this.setIndeterminate(this.indeterminate)},methods:{handleChange:function(e){var t=e.target,n=t.checked,r=t.indeterminate,i=this.computedLocalChecked,o=this.value,a=s(i),c=a?null:this.uncheckedValue;if(a){var u=Al(i,o);n&&u<0?i=i.concat(o):!n&&u>-1&&(i=i.slice(0,u).concat(i.slice(u+1)))}else i=n?o:c;this.computedLocalChecked=i,this.$emit("change",n?o:c),this.isGroup&&this.bvGroup.$emit("change",i),this.$emit("update:indeterminate",r)},setIndeterminate:function(e){s(this.computedLocalChecked)&&(e=!1),this.$refs&&this.$refs.input&&(this.$refs.input.indeterminate=e,this.$emit("update:indeterminate",e))}}}),Wl=i.extend({name:"BFormRadio",mixins:[cs,Fl,Nl,Vl,Ul],inject:{bvGroup:{from:"bvRadioGroup",default:!1}},props:{checked:{default:null}},computed:{isChecked:function(){return Po(this.value,this.computedLocalChecked)},isRadio:function(){return!0},isCheck:function(){return!1}},watch:{computedLocalChecked:function(){this.$emit("input",this.computedLocalChecked)}},methods:{handleChange:function(e){var t=e.target.checked,n=this.value;this.computedLocalChecked=n,this.$emit("change",t?n:null),this.isGroup&&this.bvGroup.$emit("change",t?n:null)}}}),zl={mixins:[yn],model:{prop:"checked",event:"input"},props:{validated:{type:Boolean,default:!1},ariaInvalid:{type:[Boolean,String],default:!1},stacked:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},buttons:{type:Boolean,default:!1},buttonVariant:{type:String,default:"secondary"}},computed:{inline:function(){return!this.stacked},groupName:function(){return this.name||this.safeId()},groupClasses:function(){return this.buttons?["btn-group-toggle",this.inline?"btn-group":"btn-group-vertical",this.size?"btn-group-".concat(this.size):"",this.validated?"was-validated":""]:[this.validated?"was-validated":""]},computedAriaInvalid:function(){var e=this.ariaInvalid;return!0===e||"true"===e||""===e||!1===this.computedState?"true":null}},watch:{checked:function(e){this.localChecked=e},localChecked:function(e){this.$emit("input",e)}},render:function(e){var t=this,n=this.formOptions.map((function(n,r){var i="BV_option_".concat(r);return e(t.isRadioGroup?Wl:$l,{props:{id:t.safeId(i),value:n.value,disabled:n.disabled||!1},key:i},[e("span",{domProps:so(n.html,n.text)})])}));return e("div",{class:[this.groupClasses,"bv-no-focus-ring"],attrs:{id:this.safeId(),role:this.isRadioGroup?"radiogroup":"group",tabindex:"-1","aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid}},[this.normalizeSlot("first"),n,this.normalizeSlot("default")])}},Hl={switches:{type:Boolean,default:!1},checked:{type:Array,default:null}},Gl=i.extend({name:"BFormCheckboxGroup",mixins:[cs,Nl,zl,gl,Vl,Ul],provide:function(){return{bvCheckGroup:this}},props:Hl,data:function(){return{localChecked:this.checked||[]}},computed:{isRadioGroup:function(){return!1}}}),ql=$e({components:{BFormCheckbox:$l,BCheckbox:$l,BCheck:$l,BFormCheckboxGroup:Gl,BCheckboxGroup:Gl,BCheckGroup:Gl}}),Kl="__BV_hover_handler__",Yl="mouseenter",Jl="mouseleave",Xl=function(e){var t=function(t){e(t.type===Yl,t)};return t.fn=e,t},Zl=function(e,t,n){nc(e,t,Yl,n,Za),nc(e,t,Jl,n,Za)},Ql=function(e,t){var n=t.value,r=void 0===n?null:n;if($["j"]){var i=e[Kl],o=fe(i),s=!(o&&i.fn===r);o&&s&&(Zl(!1,e,i),delete e[Kl]),fe(r)&&s&&(e[Kl]=Xl(r),Zl(!0,e,e[Kl]))}},ed={bind:Ql,componentUpdated:Ql,unbind:function(e){Ql(e,{value:null})}};function td(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nd=Tu,rd=i.extend({name:"BVFormBtnLabelControl",directives:{BHover:ed},mixins:[cs,yn,Eu],props:{value:{type:String,default:""},formattedValue:{type:String},placeholder:{type:String},labelSelected:{type:String},state:{type:Boolean,default:null},size:{type:String},name:{type:String},form:{type:String},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},lang:{type:String},rtl:{type:Boolean,default:null},buttonOnly:{type:Boolean,default:!1},buttonVariant:{type:String,default:"secondary"},menuClass:{type:[String,Array,Object]}},data:function(){return{isHovered:!1,hasFocus:!1}},computed:{idButton:function(){return this.safeId()},idLabel:function(){return this.safeId("_value_")},idMenu:function(){return this.safeId("_dialog_")},idWrapper:function(){return this.safeId("_outer_")},computedDir:function(){return!0===this.rtl?"rtl":!1===this.rtl?"ltr":null}},methods:{focus:function(){this.disabled||tn(this.$refs.toggle)},blur:function(){this.disabled||nn(this.$refs.toggle)},setFocus:function(e){this.hasFocus="focus"===e.type},handleHover:function(e){this.isHovered=e},stopEvent:function(e){e.stopPropagation()}},render:function(e){var t,n,r,i=this.idButton,o=this.idLabel,s=this.idMenu,a=this.idWrapper,c=this.disabled,u=this.readonly,l=this.required,d=this.isHovered,f=this.hasFocus,p=this.state,h=this.visible,m=this.size,v=vt(this.value)||"",b=this.labelSelected,y=!!this.buttonOnly,g=this.buttonVariant,_={isHovered:d,hasFocus:f,state:p,opened:h},S=e("button",{ref:"toggle",staticClass:"btn",class:(t={},td(t,"btn-".concat(g),y),td(t,"btn-".concat(m),!!m),td(t,"h-auto",!y),td(t,"dropdown-toggle",y),td(t,"dropdown-toggle-no-caret",y),t),attrs:{id:i,type:"button",disabled:c,"aria-haspopup":"dialog","aria-expanded":h?"true":"false","aria-invalid":!1===p||l&&!v?"true":null,"aria-required":l?"true":null},directives:[{name:"b-hover",value:this.handleHover}],on:{mousedown:this.onMousedown,click:this.toggle,keydown:this.toggle,"!focus":this.setFocus,"!blur":this.setFocus}},[this.hasNormalizedSlot("button-content")?this.normalizeSlot("button-content",_):e(vi,{props:{scale:1.25}})]),w=e();this.name&&!c&&(w=e("input",{attrs:{type:"hidden",name:this.name||null,form:this.form||null,value:v}}));var x=e("div",{ref:"menu",staticClass:"dropdown-menu",class:[this.menuClass,{show:h,"dropdown-menu-right":this.right}],attrs:{id:s,role:"dialog",tabindex:"-1","aria-modal":"false","aria-labelledby":o},on:{keydown:this.onKeydown}},[this.normalizeSlot("default",{opened:h})]),C=e("label",{staticClass:"form-control text-break text-wrap bg-transparent h-auto",class:(n={"sr-only":y,"text-muted":!v},td(n,"form-control-".concat(m),!!m),td(n,"is-invalid",!1===p),td(n,"is-valid",!0===p),n),attrs:{id:o,for:i,"aria-invalid":!1===p||l&&!v?"true":null,"aria-required":l?"true":null},directives:[{name:"b-hover",value:this.handleHover}],on:{"!click":this.stopEvent}},[v?this.formattedValue||v:this.placeholder||"",v&&b?e("bdi",{staticClass:"sr-only"},b):""]);return e("div",{staticClass:"b-form-btn-label-control dropdown",class:[this.directionClass,(r={"btn-group":y,"form-control":!y},td(r,"form-control-".concat(m),!!m&&!y),td(r,"d-flex",!y),td(r,"h-auto",!y),td(r,"align-items-stretch",!y),td(r,"focus",f&&!y),td(r,"show",h),td(r,"is-valid",!0===p),td(r,"is-invalid",!1===p),r)],attrs:{id:a,role:y?null:"group",lang:this.lang||null,dir:this.computedDir,"aria-disabled":c,"aria-readonly":u&&!c,"aria-labelledby":o,"aria-invalid":!1===p||l&&!v?"true":null,"aria-required":l?"true":null}},[S,w,x,C])}});function id(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function od(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?id(Object(n),!0).forEach((function(t){sd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):id(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ad="BFormDatepicker",cd=function(e){return Qe(ad,e)||Qe("BCalendar",e)},ud={props:od({value:{type:[String,Date],default:null},valueAsDate:{type:Boolean,default:!1},resetValue:{type:[String,Date]},initialDate:{type:[String,Date]},placeholder:{type:String},size:{type:String},min:{type:[String,Date]},max:{type:[String,Date]},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},name:{type:String},form:{type:String},state:{type:Boolean,default:null},dateDisabledFn:{type:Function},noCloseOnSelect:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},showDecadeNav:{type:Boolean,default:!1},locale:{type:[String,Array]},startWeekday:{type:[Number,String],default:0},direction:{type:String},buttonOnly:{type:Boolean,default:!1},buttonVariant:{type:String,default:"secondary"},calendarWidth:{type:String,default:"270px"},selectedVariant:{type:String,default:"primary"},todayVariant:{type:String},noHighlightToday:{type:Boolean,default:!1},todayButton:{type:Boolean,default:!1},labelTodayButton:{type:String,default:function(){return Qe(ad,"labelTodayButton")}},todayButtonVariant:{type:String,default:"outline-primary"},resetButton:{type:Boolean,default:!1},labelResetButton:{type:String,default:function(){return Qe(ad,"labelResetButton")}},resetButtonVariant:{type:String,default:"outline-danger"},closeButton:{type:Boolean,default:!1},labelCloseButton:{type:String,default:function(){return Qe(ad,"labelCloseButton")}},closeButtonVariant:{type:String,default:"outline-secondary"},dateInfoFn:{type:Function},labelPrevDecade:{type:String,default:function(){return cd("labelPrevDecade")}},labelPrevYear:{type:String,default:function(){return cd("labelPrevYear")}},labelPrevMonth:{type:String,default:function(){return cd("labelPrevMonth")}},labelCurrentMonth:{type:String,default:function(){return cd("labelCurrentMonth")}},labelNextMonth:{type:String,default:function(){return cd("labelNextMonth")}},labelNextYear:{type:String,default:function(){return cd("labelNextYear")}},labelNextDecade:{type:String,default:function(){return cd("labelNextDecade")}},labelToday:{type:String,default:function(){return cd("labelToday")}},labelSelected:{type:String,default:function(){return cd("labelSelected")}},labelNoDateSelected:{type:String,default:function(){return cd("labelNoDateSelected")}},labelCalendar:{type:String,default:function(){return cd("labelCalendar")}},labelNav:{type:String,default:function(){return cd("labelNav")}},labelHelp:{type:String,default:function(){return cd("labelHelp")}},dateFormatOptions:{type:Object,default:function(){return{year:Cs,month:Ts,day:Cs,weekday:Ts}}},weekdayHeaderFormat:{type:String,default:Es,validator:function(e){return a([Ts,Es,Is],e)}},dark:{type:Boolean,default:!1},menuClass:{type:[String,Array,Object]}},nd)},ld=i.extend({name:ad,mixins:[cs,ud],model:{prop:"value",event:"input"},data:function(){return{localYMD:Ho(this.value)||"",isVisible:!1,localLocale:null,isRTL:!1,formattedValue:"",activeYMD:""}},computed:{calendarYM:function(){return this.activeYMD.slice(0,-3)},calendarProps:function(){var e=this;return{hidden:!e.isVisible,value:e.localYMD,min:e.min,max:e.max,initialDate:e.initialDate,readonly:e.readonly,disabled:e.disabled,locale:e.locale,startWeekday:e.startWeekday,direction:e.direction,width:e.calendarWidth,dateDisabledFn:e.dateDisabledFn,selectedVariant:e.selectedVariant,todayVariant:e.todayVariant,dateInfoFn:e.dateInfoFn,hideHeader:e.hideHeader,showDecadeNav:e.showDecadeNav,noHighlightToday:e.noHighlightToday,labelPrevDecade:e.labelPrevDecade,labelPrevYear:e.labelPrevYear,labelPrevMonth:e.labelPrevMonth,labelCurrentMonth:e.labelCurrentMonth,labelNextMonth:e.labelNextMonth,labelNextYear:e.labelNextYear,labelNextDecade:e.labelNextDecade,labelToday:e.labelToday,labelSelected:e.labelSelected,labelNoDateSelected:e.labelNoDateSelected,labelCalendar:e.labelCalendar,labelNav:e.labelNav,labelHelp:e.labelHelp,dateFormatOptions:e.dateFormatOptions,weekdayHeaderFormat:e.weekdayHeaderFormat}},computedLang:function(){return(this.localLocale||"").replace(/-u-.*$/i,"")||null},computedResetValue:function(){return Ho(is(this.resetValue))||""}},watch:{value:function(e){this.localYMD=Ho(e)||""},localYMD:function(e){this.isVisible&&this.$emit("input",this.valueAsDate?zo(e)||null:e||"")},calendarYM:function(e,t){if(e!==t&&t)try{this.$refs.control.updatePopper()}catch(n){}}},methods:{focus:function(){this.disabled||tn(this.$refs.control)},blur:function(){this.disabled||nn(this.$refs.control)},setAndClose:function(e){var t=this;this.localYMD=e,this.noCloseOnSelect||this.$nextTick((function(){t.$refs.control.hide(!0)}))},onSelected:function(e){var t=this;this.$nextTick((function(){t.setAndClose(e)}))},onInput:function(e){this.localYMD!==e&&(this.localYMD=e)},onContext:function(e){var t=e.activeYMD,n=e.isRTL,r=e.locale,i=e.selectedYMD,o=e.selectedFormatted;this.isRTL=n,this.localLocale=r,this.formattedValue=o,this.localYMD=i,this.activeYMD=t,this.$emit("context",e)},onTodayButton:function(){this.setAndClose(Ho(is(Wo(),this.min,this.max)))},onResetButton:function(){this.setAndClose(this.computedResetValue)},onCloseButton:function(){this.$refs.control.hide(!0)},onShow:function(){this.isVisible=!0},onShown:function(){var e=this;this.$nextTick((function(){tn(e.$refs.calendar),e.$emit("shown")}))},onHidden:function(){this.isVisible=!1,this.$emit("hidden")},defaultButtonFn:function(e){var t=e.isHovered,n=e.hasFocus;return this.$createElement(t||n?pi:fi,{attrs:{"aria-hidden":"true"}})}},render:function(e){var t=this.$scopedSlots,n=this.localYMD,r=this.disabled,i=this.readonly,o=de(this.placeholder)?this.labelNoDateSelected:this.placeholder,s=[];if(this.todayButton){var a=this.labelTodayButton;s.push(e(Qr,{props:{size:"sm",disabled:r||i,variant:this.todayButtonVariant},attrs:{"aria-label":a||null},on:{click:this.onTodayButton}},a))}if(this.resetButton){var c=this.labelResetButton;s.push(e(Qr,{props:{size:"sm",disabled:r||i,variant:this.resetButtonVariant},attrs:{"aria-label":c||null},on:{click:this.onResetButton}},c))}if(this.closeButton){var u=this.labelCloseButton;s.push(e(Qr,{props:{size:"sm",disabled:r,variant:this.closeButtonVariant},attrs:{"aria-label":u||null},on:{click:this.onCloseButton}},u))}s.length>0&&(s=[e("div",{staticClass:"b-form-date-controls d-flex flex-wrap",class:{"justify-content-between":s.length>1,"justify-content-end":s.length<2}},s)]);var l=e(ks,{key:"calendar",ref:"calendar",staticClass:"b-form-date-calendar w-100",props:this.calendarProps,on:{selected:this.onSelected,input:this.onInput,context:this.onContext},scopedSlots:O(t,["nav-prev-decade","nav-prev-year","nav-prev-month","nav-this-month","nav-next-month","nav-next-year","nav-next-decade"])},s);return e(rd,{ref:"control",staticClass:"b-form-datepicker",props:od(od({},this.$props),{},{id:this.safeId(),rtl:this.isRTL,lang:this.computedLang,value:n||"",formattedValue:n?this.formattedValue:"",placeholder:o||"",menuClass:[{"bg-dark":!!this.dark,"text-light":!!this.dark},this.menuClass]}),on:{show:this.onShow,shown:this.onShown,hidden:this.onHidden},scopedSlots:{"button-content":t["button-content"]||this.defaultButtonFn}},[l])}}),dd=$e({components:{BFormDatepicker:ld,BDatepicker:ld}}),fd={props:{plain:{type:Boolean,default:!1}},computed:{custom:function(){return!this.plain}}};function pd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pd(Object(n),!0).forEach((function(t){md(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function md(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vd="BFormFile",bd='Setting "value"/"v-model" to an empty string for reset is deprecated. Set to "null" instead.',yd=function e(t){return ye(t)||s(t)&&t.every((function(t){return e(t)}))},gd=i.extend({name:vd,mixins:[wr,cs,Nl,Ul,fd,yn],inheritAttrs:!1,model:{prop:"value",event:"input"},props:{size:{type:String,default:function(){return Qe("BFormControl","size")}},value:{type:[oe,Array],default:null,validator:function(e){return""===e?(Oe(bd,vd),!0):de(e)||yd(e)}},accept:{type:String,default:""},capture:{type:Boolean,default:!1},placeholder:{type:String,default:function(){return Qe(vd,"placeholder")}},browseText:{type:String,default:function(){return Qe(vd,"browseText")}},dropPlaceholder:{type:String,default:function(){return Qe(vd,"dropPlaceholder")}},multiple:{type:Boolean,default:!1},directory:{type:Boolean,default:!1},noTraverse:{type:Boolean,default:!1},noDrop:{type:Boolean,default:!1},fileNameFormatter:{type:Function,default:null}},data:function(){return{selectedFile:null,dragging:!1,hasFocus:!1}},computed:{selectLabel:function(){if(this.dragging&&this.dropPlaceholder)return this.dropPlaceholder;if(!this.selectedFile||0===this.selectedFile.length)return this.placeholder;var e=c(this.selectedFile).filter(U);return this.hasNormalizedSlot("file-name")?[this.normalizeSlot("file-name",{files:e,names:e.map((function(e){return e.name}))})]:fe(this.fileNameFormatter)?vt(this.fileNameFormatter(e)):e.map((function(e){return e.name})).join(", ")},computedAttrs:function(){return hd(hd({},this.bvAttrs),{},{type:"file",id:this.safeId(),name:this.name,disabled:this.disabled,required:this.required,form:this.form||null,capture:this.capture||null,accept:this.accept||null,multiple:this.multiple,webkitdirectory:this.directory,"aria-required":this.required?"true":null})}},watch:{selectedFile:function(e,t){e===t||s(e)&&s(t)&&e.length===t.length&&e.every((function(e,n){return e===t[n]}))||(!e&&this.multiple?this.$emit("input",[]):this.$emit("input",e))},value:function(e){(!e||s(e)&&0===e.length)&&this.reset()}},methods:{focusHandler:function(e){this.plain||"focusout"===e.type?this.hasFocus=!1:this.hasFocus=!0},reset:function(){try{var e=this.$refs.input;e.value="",e.type="",e.type="file"}catch(t){}this.selectedFile=this.multiple?[]:null},onFileChange:function(e){var t=this;this.$emit("change",e);var n=e.dataTransfer&&e.dataTransfer.items;if(!n||this.noTraverse)this.setFiles(e.target.files||e.dataTransfer.files);else{for(var r=[],i=0;i<n.length;i++){var s=n[i].webkitGetAsEntry();s&&r.push(this.traverseFileTree(s))}Promise.all(r).then((function(e){t.setFiles(o(e))}))}},setFiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e)if(this.multiple){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);this.selectedFile=t}else this.selectedFile=e[0]||null;else this.selectedFile=null},onReset:function(){this.selectedFile=this.multiple?[]:null},onDragover:function(e){if(e.preventDefault(),e.stopPropagation(),!this.noDrop&&this.custom){this.dragging=!0;try{e.dataTransfer.dropEffect="copy"}catch(t){}}},onDragleave:function(e){e.preventDefault(),e.stopPropagation(),this.dragging=!1},onDrop:function(e){e.preventDefault(),e.stopPropagation(),this.noDrop||(this.dragging=!1,e.dataTransfer.files&&e.dataTransfer.files.length>0&&this.onFileChange(e))},traverseFileTree:function(e,t){var n=this;return new Promise((function(r){t=t||"",e.isFile?e.file((function(e){e.$path=t,r(e)})):e.isDirectory&&e.createReader().readEntries((function(i){for(var s=[],a=0;a<i.length;a++)s.push(n.traverseFileTree(i[a],t+e.name+"/"));Promise.all(s).then((function(e){r(o(e))}))}))}))}},render:function(e){var t=e("input",{ref:"input",class:[{"form-control-file":this.plain,"custom-file-input":this.custom,focus:this.custom&&this.hasFocus},this.stateClass],attrs:this.computedAttrs,on:{change:this.onFileChange,focusin:this.focusHandler,focusout:this.focusHandler,reset:this.onReset}});if(this.plain)return t;var n=e("label",{staticClass:"custom-file-label",class:[this.dragging?"dragging":null],attrs:{for:this.safeId(),"data-browse":this.browseText||null}},this.selectLabel);return e("div",{staticClass:"custom-file b-form-file",class:[this.stateClass,md({},"b-custom-control-".concat(this.size),this.size)],attrs:{id:this.safeId("_BV_file_outer_")},on:{dragover:this.onDragover,dragleave:this.onDragleave,drop:this.onDrop}},[t,n])}}),_d=$e({components:{BFormFile:gd,BFile:gd}});function Sd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sd(Object(n),!0).forEach((function(t){xd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cd=/^col-/,Od=function(){return{type:[Boolean,String,Number],default:!1}},Td=function(){return{type:[String,Number],default:null}},Ed=function(e,t,n){var r=e;if(!de(n)&&!1!==n)return t&&(r+="-".concat(t)),"col"!==e||""!==n&&!0!==n?(r+="-".concat(n),gt(r)):gt(r)},Id=Ye(Ed),kd=h(null),Rd=function(){var e=rt().filter(U),t=e.reduce((function(e,t){return t&&(e[t]=Od()),e}),h(null)),n=e.reduce((function(e,t){return e[Xn(t,"offset")]=Td(),e}),h(null)),r=e.reduce((function(e,t){return e[Xn(t,"order")]=Td(),e}),h(null));return kd=p(h(null),{col:g(t),offset:g(n),order:g(r)}),wd(wd(wd(wd({col:{type:Boolean,default:!1},cols:Td()},t),{},{offset:Td()},n),{},{order:Td()},r),{},{alignSelf:{type:String,default:null,validator:function(e){return a(["auto","start","end","center","baseline","stretch"],e)}},tag:{type:String,default:"div"}})},Pd={name:"BCol",functional:!0,get props(){return delete this.props,this.props=Rd()},render:function(e,t){var n,r=t.props,i=t.data,o=t.children,s=[];for(var a in kd)for(var c=kd[a],u=0;u<c.length;u++){var l=Id(a,c[u].replace(a,""),r[c[u]]);l&&s.push(l)}var d=s.some((function(e){return Cd.test(e)}));return s.push((n={col:r.col||!d&&!r.cols},xd(n,"col-".concat(r.cols),r.cols),xd(n,"offset-".concat(r.offset),r.offset),xd(n,"order-".concat(r.order),r.order),xd(n,"align-self-".concat(r.alignSelf),r.alignSelf),n)),e(r.tag,cn(i,{class:s}),o)}};function Md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ad(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Md(Object(n),!0).forEach((function(t){jd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Md(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nd="BFormGroup",Dd="input:not([disabled]),textarea:not([disabled]),select:not([disabled])",Bd=function(e,t){var n=t.normalizeSlot("invalid-feedback")||t.invalidFeedback,r=e();return n&&(r=e(Tl,{props:{id:t.invalidFeedbackId,state:t.computedState,tooltip:t.tooltip,ariaLive:t.feedbackAriaLive,role:t.feedbackAriaLive?"alert":null},attrs:{tabindex:n?"-1":null}},[n])),r},Ld=function(e,t){var n=t.normalizeSlot("valid-feedback")||t.validFeedback,r=e();return n&&(r=e(Il,{props:{id:t.validFeedbackId,state:t.computedState,tooltip:t.tooltip,ariaLive:t.feedbackAriaLive,role:t.feedbackAriaLive?"alert":null},attrs:{tabindex:n?"-1":null}},[n])),r},Fd=function(e,t){var n=t.normalizeSlot("description")||t.description,r=e();return n&&(r=e(Cl,{attrs:{id:t.descriptionId,tabindex:n?"-1":null}},[n])),r},Vd=function(e,t){var n=t.normalizeSlot("label")||t.label,r=t.labelFor,i=!r,o=t.isHorizontal,s=i?"legend":"label";if(n||o){if(t.labelSrOnly){var a=e();return n&&(a=e(s,{class:"sr-only",attrs:{id:t.labelId,for:r||null}},[n])),e(o?Pd:"div",{props:o?t.labelColProps:{}},[a])}return e(o?Pd:s,{on:i?{click:t.legendClick}:{},props:o?Ad({tag:s},t.labelColProps):{},attrs:{id:t.labelId,for:r||null,tabindex:i?"-1":null},class:[i?"bv-no-focus-ring":"",o||i?"col-form-label":"",!o&&i?"pt-0":"",o||i?"":"d-block",t.labelSize?"col-form-label-".concat(t.labelSize):"",t.labelAlignClasses,t.labelClass]},[n])}return e()},Ud=Ye((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"".concat(t).concat(ht(e))})),$d=function(){var e=rt(),t=e.reduce((function(e,t){return e[Ud(t,"labelCols")]={type:[Number,String,Boolean],default:!t&&null},e}),h(null)),n=e.reduce((function(e,t){return e[Ud(t,"labelAlign")]={type:String},e}),h(null));return Ad(Ad(Ad({label:{type:String},labelFor:{type:String},labelSize:{type:String},labelSrOnly:{type:Boolean,default:!1}},t),n),{},{labelClass:{type:[String,Array,Object]},description:{type:String},invalidFeedback:{type:String},validFeedback:{type:String},tooltip:{type:Boolean,default:!1},feedbackAriaLive:{type:String,default:"assertive"},validated:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}})},Wd={name:Nd,mixins:[cs,Ul,yn],get props(){return delete this.props,this.props=$d()},computed:{labelColProps:function(){var e=this,t={};return rt().forEach((function(n){var r=e[Ud(n,"labelCols")];if(r=""===r||(r||!1),pe(r)||"auto"===r||(r=it(r,0),r=r>0&&r),r){var i=n||(pe(r)?"col":"cols");t[i]=r}})),t},labelAlignClasses:function(){var e=this,t=[];return rt().forEach((function(n){var r=e[Ud(n,"labelAlign")]||null;if(r){var i=n?"text-".concat(n,"-").concat(r):"text-".concat(r);t.push(i)}})),t},isHorizontal:function(){return g(this.labelColProps).length>0},labelId:function(){return this.hasNormalizedSlot("label")||this.label?this.safeId("_BV_label_"):null},descriptionId:function(){return this.hasNormalizedSlot("description")||this.description?this.safeId("_BV_description_"):null},hasInvalidFeedback:function(){return!1===this.computedState&&(this.hasNormalizedSlot("invalid-feedback")||this.invalidFeedback)},invalidFeedbackId:function(){return this.hasInvalidFeedback?this.safeId("_BV_feedback_invalid_"):null},hasValidFeedback:function(){return!0===this.computedState&&(this.hasNormalizedSlot("valid-feedback")||this.validFeedback)},validFeedbackId:function(){return this.hasValidFeedback?this.safeId("_BV_feedback_valid_"):null},describedByIds:function(){return[this.descriptionId,this.invalidFeedbackId,this.validFeedbackId].filter(Boolean).join(" ")||null}},watch:{describedByIds:function(e,t){e!==t&&this.setInputDescribedBy(e,t)}},mounted:function(){var e=this;this.$nextTick((function(){e.setInputDescribedBy(e.describedByIds)}))},methods:{legendClick:function(e){if(!this.labelFor){var t=e.target?e.target.tagName:"";if(!/^(input|select|textarea|label|button|a)$/i.test(t)){var n=Dt(Dd,this.$refs.content).filter(At);n&&1===n.length&&tn(n[0])}}},setInputDescribedBy:function(e,t){if(this.labelFor&&$["j"]){var n=Bt("#".concat(this.labelFor),this.$refs.content);if(n){var r="aria-describedby",i=(qt(n,r)||"").split(/\s+/);e=(e||"").split(/\s+/),t=(t||"").split(/\s+/),i=i.filter((function(e){return!a(t,e)})).concat(e).filter(Boolean),i=g(i.reduce((function(e,t){return Ad(Ad({},e),{},jd({},t,!0))}),{})).join(" ").trim(),i?Ht(n,r,i):Gt(n,r)}}}},render:function(e){var t=!this.labelFor,n=this.isHorizontal,r=Vd(e,this),i=e(n?Pd:"div",{ref:"content",staticClass:"bv-no-focus-ring",attrs:{tabindex:t?"-1":null,role:t?"group":null}},[this.normalizeSlot("default")||e(),Bd(e,this),Ld(e,this),Fd(e,this)]),o={staticClass:"form-group",class:[this.validated?"was-validated":null,this.stateClass],attrs:{id:this.safeId(),disabled:t?this.disabled:null,role:t?null:"group","aria-invalid":!1===this.computedState?"true":null,"aria-labelledby":t&&n?this.labelId:null,"aria-describedby":t?this.describedByIds:null}};return e(t?"fieldset":n?Rl:"div",o,n&&t?[e(Rl,[r,i])]:[r,i])}},zd=$e({components:{BFormGroup:Wd,BFormFieldset:Wd}}),Hd={computed:{selectionStart:{cache:!1,get:function(){return this.$refs.input.selectionStart},set:function(e){this.$refs.input.selectionStart=e}},selectionEnd:{cache:!1,get:function(){return this.$refs.input.selectionEnd},set:function(e){this.$refs.input.selectionEnd=e}},selectionDirection:{cache:!1,get:function(){return this.$refs.input.selectionDirection},set:function(e){this.$refs.input.selectionDirection=e}}},methods:{select:function(){var e;(e=this.$refs.input).select.apply(e,arguments)},setSelectionRange:function(){var e;(e=this.$refs.input).setSelectionRange.apply(e,arguments)},setRangeText:function(){var e;(e=this.$refs.input).setRangeText.apply(e,arguments)}}},Gd={model:{prop:"value",event:"update"},props:{value:{type:[String,Number],default:""},ariaInvalid:{type:[Boolean,String],default:!1},readonly:{type:Boolean,default:!1},plaintext:{type:Boolean,default:!1},autocomplete:{type:String},placeholder:{type:String},formatter:{type:Function},lazyFormatter:{type:Boolean,default:!1},trim:{type:Boolean,default:!1},number:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},debounce:{type:[Number,String],default:0}},data:function(){return{localValue:vt(this.value),vModelValue:this.value}},computed:{computedClass:function(){return[{"custom-range":"range"===this.type,"form-control-plaintext":this.plaintext&&"range"!==this.type&&"color"!==this.type,"form-control":!this.plaintext&&"range"!==this.type||"color"===this.type},this.sizeFormClass,this.stateClass]},computedAriaInvalid:function(){return this.ariaInvalid&&"false"!==this.ariaInvalid?!0===this.ariaInvalid?"true":this.ariaInvalid:!1===this.computedState?"true":null},computedDebounce:function(){return Pn(it(this.debounce,0),0)},hasFormatter:function(){return fe(this.formatter)}},watch:{value:function(e){var t=vt(e);t!==this.localValue&&e!==this.vModelValue&&(this.clearDebounce(),this.localValue=t,this.vModelValue=e)}},created:function(){this.$_inputDebounceTimer=null},mounted:function(){this.$on("hook:beforeDestroy",this.clearDebounce);var e=this.value,t=vt(e);t!==this.localValue&&e!==this.vModelValue&&(this.localValue=t,this.vModelValue=e)},methods:{clearDebounce:function(){clearTimeout(this.$_inputDebounceTimer),this.$_inputDebounceTimer=null},formatValue:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e=vt(e),!this.hasFormatter||this.lazyFormatter&&!n||(e=this.formatter(e,t)),e},modifyValue:function(e){return this.trim&&(e=e.trim()),this.number&&(e=ot(e,e)),e},updateValue:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.lazy;if(!r||n)if(e=this.modifyValue(e),e!==this.vModelValue){this.clearDebounce();var i=function(){t.vModelValue=e,t.$emit("update",e)},o=this.computedDebounce;o>0&&!r&&!n?this.$_inputDebounceTimer=setTimeout(i,o):i()}else if(this.hasFormatter){var s=this.$refs.input;s&&e!==s.value&&(s.value=e)}},onInput:function(e){if(!e.target.composing){var t=e.target.value,n=this.formatValue(t,e);!1===n||e.defaultPrevented?e.preventDefault():(this.localValue=n,this.updateValue(n),this.$emit("input",n))}},onChange:function(e){var t=e.target.value,n=this.formatValue(t,e);!1===n||e.defaultPrevented?e.preventDefault():(this.localValue=n,this.updateValue(n,!0),this.$emit("change",n))},onBlur:function(e){var t=e.target.value,n=this.formatValue(t,e,!0);!1!==n&&(this.localValue=vt(this.modifyValue(n)),this.updateValue(n,!0)),this.$emit("blur",e)},focus:function(){this.disabled||tn(this.$el)},blur:function(){this.disabled||nn(this.$el)}}},qd={computed:{validity:{cache:!1,get:function(){return this.$refs.input.validity}},validationMessage:{cache:!1,get:function(){return this.$refs.input.validationMessage}},willValidate:{cache:!1,get:function(){return this.$refs.input.willValidate}}},methods:{setCustomValidity:function(){var e;return(e=this.$refs.input).setCustomValidity.apply(e,arguments)},checkValidity:function(){var e;return(e=this.$refs.input).checkValidity.apply(e,arguments)},reportValidity:function(){var e;return(e=this.$refs.input).reportValidity.apply(e,arguments)}}};function Kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kd(Object(n),!0).forEach((function(t){Jd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xd=["text","password","email","number","url","tel","search","range","color","date","time","datetime","datetime-local","month","week"],Zd=i.extend({name:"BFormInput",mixins:[xr,cs,Nl,Vl,Ul,Gd,Hd,qd],props:{type:{type:String,default:"text",validator:function(e){return a(Xd,e)}},noWheel:{type:Boolean,default:!1},min:{type:[String,Number]},max:{type:[String,Number]},step:{type:[String,Number]},list:{type:String}},computed:{localType:function(){return a(Xd,this.type)?this.type:"text"},computedAttrs:function(){var e=this.localType,t=this.disabled,n=this.placeholder,r=this.required,i=this.min,o=this.max,s=this.step;return{id:this.safeId(),name:this.name||null,form:this.form||null,type:e,disabled:t,placeholder:n,required:r,autocomplete:this.autocomplete||null,readonly:this.readonly||this.plaintext,min:i,max:o,step:s,list:"password"!==e?this.list:null,"aria-required":r?"true":null,"aria-invalid":this.computedAriaInvalid}},computedListeners:function(){return Yd(Yd({},this.bvListeners),{},{input:this.onInput,change:this.onChange,blur:this.onBlur})}},watch:{noWheel:function(e){this.setWheelStopper(e)}},mounted:function(){this.setWheelStopper(this.noWheel)},deactivated:function(){this.setWheelStopper(!1)},activated:function(){this.setWheelStopper(this.noWheel)},beforeDestroy:function(){this.setWheelStopper(!1)},methods:{setWheelStopper:function(e){var t=this.$el;nc(e,t,"focus",this.onWheelFocus),nc(e,t,"blur",this.onWheelBlur),e||tc(document,"wheel",this.stopWheel)},onWheelFocus:function(){ec(document,"wheel",this.stopWheel)},onWheelBlur:function(){tc(document,"wheel",this.stopWheel)},stopWheel:function(e){e.preventDefault(),nn(this.$el)}},render:function(e){return e("input",{ref:"input",class:this.computedClass,attrs:this.computedAttrs,domProps:{value:this.localValue},on:this.computedListeners})}}),Qd=$e({components:{BFormInput:Zd,BInput:Zd}}),ef={checked:{default:null}},tf=i.extend({name:"BFormRadioGroup",mixins:[cs,Nl,zl,gl,Vl,Ul],provide:function(){return{bvRadioGroup:this}},props:ef,data:function(){return{localChecked:this.checked}},computed:{isRadioGroup:function(){return!0}}}),nf=$e({components:{BFormRadio:Wl,BRadio:Wl,BFormRadioGroup:tf,BRadioGroup:tf}});function rf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var of="BFormRating",sf=3,af=5,cf=vr.LEFT,uf=vr.RIGHT,lf=vr.UP,df=vr.DOWN,ff=i.extend({name:"BVFormRatingStar",mixins:[yn],props:{rating:{type:Number,default:0},star:{type:Number,default:0},focused:{type:Boolean,default:!1},variant:{type:String},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hasClear:{type:Boolean,default:!1}},methods:{onClick:function(e){this.disabled||this.readonly||(e.preventDefault(),this.$emit("selected",this.star))}},render:function(e){var t=this.rating,n=this.star,r=this.focused,i=this.hasClear,o=this.variant,s=this.disabled,a=this.readonly,c=i?0:1,u=t>=n?"full":t>=n-.5?"half":"empty",l={variant:o,disabled:s,readonly:a};return e("span",{staticClass:"b-rating-star",class:{focused:r&&t===n||!it(t)&&n===c,"b-rating-star-empty":"empty"===u,"b-rating-star-half":"half"===u,"b-rating-star-full":"full"===u},attrs:{tabindex:s||a?null:"-1"},on:{click:this.onClick}},[e("span",{staticClass:"b-rating-icon"},[this.normalizeSlot(u,l)])])}}),pf=function(e){return Pn(sf,it(e,af))},hf=function(e,t,n){return Pn(Rn(e,n),t)},mf=i.extend({name:of,components:{BIconStar:Oi,BIconStarHalf:Ei,BIconStarFill:Ti,BIconX:Ii},mixins:[cs],model:{prop:"value",event:"change"},props:{value:{type:[Number,String],default:null},stars:{type:[Number,String],default:af,validator:function(e){return it(e)>=sf}},variant:{type:String,default:function(){return Qe(of,"variant")}},color:{type:String,default:function(){return Qe(of,"color")}},showValue:{type:Boolean,default:!1},showValueMax:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},size:{type:String},name:{type:String},form:{type:String},noBorder:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},precision:{type:[Number,String],default:null},iconEmpty:{type:String,default:"star"},iconHalf:{type:String,default:"star-half"},iconFull:{type:String,default:"star-fill"},iconClear:{type:String,default:"x"},locale:{type:[String,Array]},showClear:{type:Boolean,default:!1}},data:function(){var e=ot(this.value,null),t=pf(this.stars);return{localValue:le(e)?null:hf(e,0,t),hasFocus:!1}},computed:{computedStars:function(){return pf(this.stars)},computedRating:function(){var e=ot(this.localValue,0),t=it(this.precision,3);return hf(ot(e.toFixed(t)),0,this.computedStars)},computedLocale:function(){var e=c(this.locale).filter(U),t=new Intl.NumberFormat(e);return t.resolvedOptions().locale},isInteractive:function(){return!this.disabled&&!this.readonly},isRTL:function(){return as(this.computedLocale)},formattedRating:function(){var e=it(this.precision),t=this.showValueMax,n=this.computedLocale,r={notation:"standard",minimumFractionDigits:isNaN(e)?0:e,maximumFractionDigits:isNaN(e)?3:e},i=this.computedStars.toLocaleString(n),o=this.localValue;return o=le(o)?t?"-":"":o.toLocaleString(n,r),t?"".concat(o,"/").concat(i):o}},watch:{value:function(e,t){if(e!==t){var n=ot(e,null);this.localValue=le(n)?null:hf(n,0,this.computedStars)}},localValue:function(e,t){e!==t&&e!==(this.value||0)&&this.$emit("change",e||null)},disabled:function(e){e&&(this.hasFocus=!1,this.blur())}},methods:{focus:function(){this.disabled||tn(this.$el)},blur:function(){this.disabled||nn(this.$el)},onKeydown:function(e){var t=e.keyCode;if(this.isInteractive&&a([cf,df,uf,lf],t)){e.preventDefault();var n=it(this.localValue,0),r=this.showClear?0:1,i=this.computedStars,o=this.isRTL?-1:1;t===cf?this.localValue=hf(n-o,r,i)||null:t===uf?this.localValue=hf(n+o,r,i):t===df?this.localValue=hf(n-1,r,i)||null:t===lf&&(this.localValue=hf(n+1,r,i))}},onSelected:function(e){this.isInteractive&&(this.localValue=e)},onFocus:function(e){this.hasFocus=!!this.isInteractive&&"focus"===e.type},renderIcon:function(e){return this.$createElement(Ai,{props:{icon:e,variant:this.disabled||this.color?null:this.variant||null}})},iconEmptyFn:function(){return this.renderIcon(this.iconEmpty)},iconHalfFn:function(){return this.renderIcon(this.iconHalf)},iconFullFn:function(){return this.renderIcon(this.iconFull)},iconClearFn:function(){return this.$createElement(Ai,{props:{icon:this.iconClear}})}},render:function(e){var t,n=this,r=this.disabled,i=this.readonly,o=this.size,s=this.name,a=this.form,c=this.inline,u=this.variant,l=this.color,d=this.noBorder,f=this.hasFocus,p=this.computedRating,h=this.computedStars,m=this.formattedRating,v=this.showClear,b=this.isRTL,y=this.isInteractive,g=this.$scopedSlots,_=[];if(v&&!r&&!i){var S=e("span",{staticClass:"b-rating-icon"},[(g["icon-clear"]||this.iconClearFn)()]);_.push(e("span",{staticClass:"b-rating-star b-rating-star-clear flex-grow-1",class:{focused:f&&0===p},attrs:{tabindex:y?"-1":null},on:{click:function(){return n.onSelected(null)}},key:"clear"},[S]))}for(var w=0;w<h;w++){var x=w+1;_.push(e(ff,{staticClass:"flex-grow-1",style:l&&!r?{color:l}:{},props:{rating:p,star:x,variant:r?null:u||null,disabled:r,readonly:i,focused:f,hasClear:v},on:{selected:this.onSelected},scopedSlots:{empty:g["icon-empty"]||this.iconEmptyFn,half:g["icon-half"]||this.iconHalfFn,full:g["icon-full"]||this.iconFullFn},key:w}))}return s&&_.push(e("input",{attrs:{type:"hidden",value:le(this.localValue)?"":p,name:s,form:a||null},key:"hidden"})),this.showValue&&_.push(e("b",{staticClass:"b-rating-value flex-grow-1",attrs:{"aria-hidden":"true"},key:"value"},vt(m))),e("output",{staticClass:"b-rating form-control align-items-center",class:(t={},rf(t,"form-control-".concat(o),!!o),rf(t,"d-inline-flex",c),rf(t,"d-flex",!c),rf(t,"border-0",d),rf(t,"disabled",r),rf(t,"readonly",!r&&i),t),attrs:{id:this.safeId(),dir:b?"rtl":"ltr",tabindex:r?null:"0",disabled:r,role:"slider","aria-disabled":r?"true":null,"aria-readonly":!r&&i?"true":null,"aria-live":"off","aria-valuemin":v?"0":"1","aria-valuemax":vt(h),"aria-valuenow":p?vt(p):null},on:{keydown:this.onKeydown,focus:this.onFocus,blur:this.onFocus}},_)}}),vf=$e({components:{BFormRating:mf,BRating:mf}}),bf={mixins:[gl],props:{labelField:{type:String,default:"label"},optionsField:{type:String,default:"options"}},methods:{normalizeOption:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(x(e)){var n=Ce(e,this.valueField),r=Ce(e,this.textField),i=Ce(e,this.optionsField,null);return le(i)?{value:ue(n)?t||r:n,text:String(ue(r)?t:r),html:Ce(e,this.htmlField),disabled:Boolean(Ce(e,this.disabledField))}:{label:String(Ce(e,this.labelField)||r),options:this.normalizeOptions(i)}}return{value:t||e,text:String(e),disabled:!1}}}},yf="BFormSelectOption",gf={value:{required:!0},disabled:{type:Boolean,default:!1}},_f=i.extend({name:yf,functional:!0,props:gf,render:function(e,t){var n=t.props,r=t.data,i=t.children,o=n.value,s=n.disabled;return e("option",cn(r,{attrs:{disabled:s},domProps:{value:o}}),i)}}),Sf=i.extend({name:"BFormSelectOptionGroup",mixins:[yn,gl],props:{label:{type:String,required:!0}},render:function(e){var t=this.formOptions.map((function(t,n){var r=t.value,i=t.text,o=t.html,s=t.disabled;return e(_f,{attrs:{value:r,disabled:s},domProps:so(o,i),key:"option_".concat(n)})}));return e("optgroup",{attrs:{label:this.label}},[this.normalizeSlot("first"),t,this.normalizeSlot("default")])}}),wf=i.extend({name:"BFormSelect",mixins:[cs,yn,Nl,Vl,Ul,fd,bf],model:{prop:"value",event:"input"},props:{value:{},multiple:{type:Boolean,default:!1},selectSize:{type:Number,default:0},ariaInvalid:{type:[Boolean,String],default:!1}},data:function(){return{localValue:this.value}},computed:{computedSelectSize:function(){return this.plain||0!==this.selectSize?this.selectSize:null},inputClass:function(){return[this.plain?"form-control":"custom-select",this.size&&this.plain?"form-control-".concat(this.size):null,this.size&&!this.plain?"custom-select-".concat(this.size):null,this.stateClass]},computedAriaInvalid:function(){return!0===this.ariaInvalid||"true"===this.ariaInvalid||"is-invalid"===this.stateClass?"true":null}},watch:{value:function(e){this.localValue=e},localValue:function(){this.$emit("input",this.localValue)}},methods:{focus:function(){tn(this.$refs.input)},blur:function(){nn(this.$refs.input)},onChange:function(e){var t=this,n=e.target,r=o(n.options).filter((function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));this.localValue=n.multiple?r:r[0],this.$nextTick((function(){t.$emit("change",t.localValue)}))}},render:function(e){var t=this.name,n=this.disabled,r=this.required,i=this.computedSelectSize,o=this.localValue,a=this.formOptions.map((function(t,n){var r=t.value,i=t.label,o=t.options,a=t.disabled,c="option_".concat(n);return s(o)?e(Sf,{props:{label:i,options:o},key:c}):e(_f,{props:{value:r,disabled:a},domProps:so(t.html,t.text),key:c})}));return e("select",{class:this.inputClass,attrs:{id:this.safeId(),name:t,form:this.form||null,multiple:this.multiple||null,size:i,disabled:n,required:r,"aria-required":r?"true":null,"aria-invalid":this.computedAriaInvalid},on:{change:this.onChange},directives:[{name:"model",value:o}],ref:"input"},[this.normalizeSlot("first"),a,this.normalizeSlot("default")])}}),xf=$e({components:{BFormSelect:wf,BFormSelectOption:_f,BFormSelectOptionGroup:Sf,BSelect:wf,BSelectOption:_f,BSelectOptionGroup:Sf}});function Cf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Of(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cf(Object(n),!0).forEach((function(t){Tf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ef="BFormSpinbutton",If=vr.UP,kf=vr.DOWN,Rf=vr.HOME,Pf=vr.END,Mf=vr.PAGEUP,Af=vr.PAGEDOWN,jf=1,Nf=100,Df=1,Bf=500,Lf=100,Ff=10,Vf=4,Uf=i.extend({name:Ef,mixins:[wr,cs,yn],inheritAttrs:!1,props:{value:{type:Number,default:null},min:{type:[Number,String],default:jf},max:{type:[Number,String],default:Nf},step:{type:[Number,String],default:Df},wrap:{type:Boolean,default:!1},formatterFn:{type:Function},size:{type:String},placeholder:{type:String},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},name:{type:String},form:{type:String},state:{type:Boolean,default:null},inline:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},ariaLabel:{type:String},ariaControls:{type:String},labelDecrement:{type:String,default:function(){return Qe(Ef,"labelDecrement")}},labelIncrement:{type:String,default:function(){return Qe(Ef,"labelIncrement")}},locale:{type:[String,Array]},repeatDelay:{type:[Number,String],default:Bf},repeatInterval:{type:[Number,String],default:Lf},repeatThreshold:{type:[Number,String],default:Ff},repeatStepMultiplier:{type:[Number,String],default:Vf}},data:function(){return{localValue:ot(this.value,null),hasFocus:!1}},computed:{spinId:function(){return this.safeId()},computedInline:function(){return this.inline&&!this.vertical},computedReadonly:function(){return this.readonly&&!this.disabled},computedRequired:function(){return this.required&&!this.computedReadonly&&!this.disabled},computedStep:function(){return ot(this.step,Df)},computedMin:function(){return ot(this.min,jf)},computedMax:function(){var e=ot(this.max,Nf),t=this.computedStep,n=this.computedMin;return jn((e-n)/t)*t+n},computedDelay:function(){var e=it(this.repeatDelay,0);return e>0?e:Bf},computedInterval:function(){var e=it(this.repeatInterval,0);return e>0?e:Lf},computedThreshold:function(){return Pn(it(this.repeatThreshold,Ff),1)},computedStepMultiplier:function(){return Pn(it(this.repeatStepMultiplier,Vf),1)},computedPrecision:function(){var e=this.computedStep;return jn(e)===e?0:(e.toString().split(".")[1]||"").length},computedMultiplier:function(){return Nn(10,this.computedPrecision||0)},valueAsFixed:function(){var e=this.localValue;return le(e)?"":e.toFixed(this.computedPrecision)},computedLocale:function(){var e=c(this.locale).filter(U),t=new Intl.NumberFormat(e);return t.resolvedOptions().locale},computedRTL:function(){return as(this.computedLocale)},defaultFormatter:function(){var e=this.computedPrecision,t=new Intl.NumberFormat(this.computedLocale,{style:"decimal",useGrouping:!1,minimumIntegerDigits:1,minimumFractionDigits:e,maximumFractionDigits:e,notation:"standard"});return t.format},computedFormatter:function(){return fe(this.formatterFn)?this.formatterFn:this.defaultFormatter},computedAttrs:function(){return Of(Of({},this.bvAttrs),{},{role:"group",lang:this.computedLocale,tabindex:this.disabled?null:"-1",title:this.ariaLabel})},computedSpinAttrs:function(){var e=this.spinId,t=this.localValue,n=this.computedRequired,r=this.disabled,i=this.state,o=this.computedFormatter,s=!le(t);return Of(Of({dir:this.computedRTL?"rtl":"ltr"},this.bvAttrs),{},{id:e,role:"spinbutton",tabindex:r?null:"0","aria-live":"off","aria-label":this.ariaLabel||null,"aria-controls":this.ariaControls||null,"aria-invalid":!1===i||!s&&n?"true":null,"aria-required":n?"true":null,"aria-valuemin":vt(this.computedMin),"aria-valuemax":vt(this.computedMax),"aria-valuenow":s?t:null,"aria-valuetext":s?o(t):null})}},watch:{value:function(e){this.localValue=ot(e,null)},localValue:function(e){this.$emit("input",e)},disabled:function(e){e&&this.clearRepeat()},readonly:function(e){e&&this.clearRepeat()}},created:function(){this.$_autoDelayTimer=null,this.$_autoRepeatTimer=null,this.$_keyIsDown=!1},beforeDestroy:function(){this.clearRepeat()},deactivated:function(){this.clearRepeat()},methods:{focus:function(){this.disabled||tn(this.$refs.spinner)},blur:function(){this.disabled||nn(this.$refs.spinner)},emitChange:function(){this.$emit("change",this.localValue)},stepValue:function(e){var t=this.localValue;if(!this.disabled&&!le(t)){var n=this.computedStep*e,r=this.computedMin,i=this.computedMax,o=this.computedMultiplier,s=this.wrap;t=Dn((t-r)/n)*n+r+n,t=Dn(t*o)/o,this.localValue=t>i?s?r:i:t<r?s?i:r:t}},onFocusBlur:function(e){this.disabled?this.hasFocus=!1:this.hasFocus="focus"===e.type},stepUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.localValue;le(t)?this.localValue=this.computedMin:this.stepValue(1*e)},stepDown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.localValue;le(t)?this.localValue=this.wrap?this.computedMax:this.computedMin:this.stepValue(-1*e)},onKeydown:function(e){var t=e.keyCode,n=e.altKey,r=e.ctrlKey,i=e.metaKey;if(!(this.disabled||this.readonly||n||r||i)&&a([If,kf,Rf,Pf,Mf,Af],t)){if(e.preventDefault(),this.$_keyIsDown)return;this.resetTimers(),a([If,kf],t)?(this.$_keyIsDown=!0,t===If?this.handleStepRepeat(e,this.stepUp):t===kf&&this.handleStepRepeat(e,this.stepDown)):t===Mf?this.stepUp(this.computedStepMultiplier):t===Af?this.stepDown(this.computedStepMultiplier):t===Rf?this.localValue=this.computedMin:t===Pf&&(this.localValue=this.computedMax)}},onKeyup:function(e){var t=e.keyCode,n=e.altKey,r=e.ctrlKey,i=e.metaKey;this.disabled||this.readonly||n||r||i||a([If,kf,Rf,Pf,Mf,Af],t)&&(this.resetTimers(),this.$_keyIsDown=!1,e.preventDefault(),this.emitChange())},handleStepRepeat:function(e,t){var n=this,r=e||{},i=r.type,o=r.button;if(!this.disabled&&!this.readonly){if("mousedown"===i&&o)return;this.resetTimers(),t(1);var s=this.computedThreshold,a=this.computedStepMultiplier,c=this.computedDelay,u=this.computedInterval;this.$_autoDelayTimer=setTimeout((function(){var e=0;n.$_autoRepeatTimer=setInterval((function(){t(e<s?1:a),e++}),u)}),c)}},onMouseup:function(e){var t=e||{},n=t.type,r=t.button;"mouseup"===n&&r||(e.preventDefault(),this.resetTimers(),this.setMouseup(!1),this.emitChange())},setMouseup:function(e){try{nc(e,document.body,"mouseup",this.onMouseup,!1),nc(e,document.body,"touchend",this.onMouseup,!1)}catch(t){}},resetTimers:function(){clearTimeout(this.$_autoDelayTimer),clearInterval(this.$_autoRepeatTimer),this.$_autoDelayTimer=null,this.$_autoRepeatTimer=null},clearRepeat:function(){this.resetTimers(),this.setMouseup(!1),this.$_keyIsDown=!1}},render:function(e){var t,n=this,r=this.spinId,i=this.localValue,o=this.computedInline,s=this.computedReadonly,a=this.vertical,c=this.disabled,u=this.state,l=this.size,d=this.computedFormatter,f=!le(i),p=function(t,i,o,u,l,d,f){var p=e(o,{props:{scale:n.hasFocus?1.5:1.25},attrs:{"aria-hidden":"true"}}),h={hasFocus:n.hasFocus},m=function(e){c||s||(e.preventDefault(),n.setMouseup(!0),tn(e.currentTarget),n.handleStepRepeat(e,t))};return e("button",{key:u||null,ref:u,staticClass:"btn btn-sm border-0 rounded-0",class:{"py-0":!a},attrs:{tabindex:"-1",type:"button",disabled:c||s||d,"aria-disabled":c||s||d?"true":null,"aria-controls":r,"aria-label":i||null,"aria-keyshortcuts":l||null},on:{mousedown:m,touchstart:m}},[e("div",[n.normalizeSlot(f,h)||p])])},h=p(this.stepUp,this.labelIncrement,Ci,"inc","ArrowUp",!1,"increment"),m=p(this.stepDown,this.labelDecrement,wi,"dec","ArrowDown",!1,"decrement"),v=e();this.name&&!c&&(v=e("input",{key:"hidden",attrs:{type:"hidden",name:this.name,form:this.form||null,value:this.valueAsFixed}}));var b=e("output",{ref:"spinner",key:"output",staticClass:"flex-grow-1",class:{"d-flex":a,"align-self-center":!a,"align-items-center":a,"border-top":a,"border-bottom":a,"border-left":!a,"border-right":!a},attrs:this.computedSpinAttrs},[e("bdi",f?d(i):this.placeholder||"")]);return e("div",{staticClass:"b-form-spinbutton form-control",class:(t={disabled:c,readonly:s,focus:this.hasFocus},Tf(t,"form-control-".concat(l),!!l),Tf(t,"d-inline-flex",o||a),Tf(t,"d-flex",!o&&!a),Tf(t,"align-items-stretch",!a),Tf(t,"flex-column",a),Tf(t,"is-valid",!0===u),Tf(t,"is-invalid",!1===u),t),attrs:this.computedAttrs,on:{keydown:this.onKeydown,keyup:this.onKeyup,"!focus":this.onFocusBlur,"!blur":this.onFocusBlur}},a?[h,v,b,m]:[m,v,b,h])}}),$f=$e({components:{BFormSpinbutton:Uf,BSpinbutton:Uf}}),Wf="BFormTag",zf=i.extend({name:Wf,mixins:[cs,yn],props:{variant:{type:String,default:function(){return Qe(Wf,"variant")}},disabled:{type:Boolean,default:!1},title:{type:String},pill:{type:Boolean,default:!1},removeLabel:{type:String,default:function(){return Qe(Wf,"removeLabel")}},tag:{type:String,default:"span"}},methods:{onDelete:function(e){var t=e.type,n=e.keyCode;this.disabled||"click"!==t&&("keydown"!==t||n!==vr.DELETE)||this.$emit("remove")}},render:function(e){var t=this.safeId(),n=this.safeId("_taglabel_"),r=e();this.disabled||(r=e(wn,{staticClass:"b-form-tag-remove ml-1",props:{ariaLabel:this.removeLabel},attrs:{"aria-controls":t,"aria-describedby":n,"aria-keyshortcuts":"Delete"},on:{click:this.onDelete,keydown:this.onDelete}}));var i=e("span",{staticClass:"b-form-tag-content flex-grow-1 text-truncate",attrs:{id:n}},this.normalizeSlot("default")||this.title||[e()]);return e(no,{staticClass:"b-form-tag d-inline-flex align-items-baseline mw-100",class:{disabled:this.disabled},attrs:{id:t,title:this.title||null,"aria-labelledby":n},props:{tag:this.tag,variant:this.variant,pill:this.pill}},[i,r])}});function Hf(e){return Yf(e)||Kf(e)||qf(e)||Gf()}function Gf(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function qf(e,t){if(e){if("string"===typeof e)return Jf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jf(e,t):void 0}}function Kf(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Yf(e){if(Array.isArray(e))return Jf(e)}function Jf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xf(Object(n),!0).forEach((function(t){Qf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ep="BFormTags",tp=["text","email","tel","url","number"],np=/[\s\uFEFF\xA0]+/g,rp=vr.ENTER,ip=vr.BACKSPACE,op=vr.DELETE,sp=function(e){return mt(e).replace(np,"\\s")},ap=function(e){return c(e).map((function(e){return yt(vt(e))})).filter((function(e,t,n){return e.length>0&&n.indexOf(e)===t}))},cp=function(e){return he(e)?e:be(e)&&e.target.value||""},up=function(){return{all:[],valid:[],invalid:[],duplicate:[]}},lp=i.extend({name:ep,mixins:[cs,yn],model:{prop:"value",event:"input"},props:{inputId:{type:String},placeholder:{type:String,default:function(){return Qe(ep,"placeholder")}},disabled:{type:Boolean,default:!1},name:{type:String},form:{type:String},autofocus:{type:Boolean,default:!1},state:{type:Boolean,default:null},size:{type:String},inputType:{type:String,default:"text",validator:function(e){return a(tp,e)}},inputClass:{type:[String,Array,Object]},inputAttrs:{type:Object,default:function(){return{}}},addButtonText:{type:String,default:function(){return Qe(ep,"addButtonText")}},addButtonVariant:{type:String,default:function(){return Qe(ep,"addButtonVariant")}},tagVariant:{type:String,default:function(){return Qe(ep,"tagVariant")}},tagClass:{type:[String,Array,Object]},tagPills:{type:Boolean,default:!1},tagRemoveLabel:{type:String,default:function(){return Qe(ep,"tagRemoveLabel")}},tagRemovedLabel:{type:String,default:function(){return Qe(ep,"tagRemovedLabel")}},tagValidator:{type:Function},duplicateTagText:{type:String,default:function(){return Qe(ep,"duplicateTagText")}},invalidTagText:{type:String,default:function(){return Qe(ep,"invalidTagText")}},separator:{type:[String,Array]},removeOnDelete:{type:Boolean,default:!1},addOnChange:{type:Boolean,default:!1},noAddOnEnter:{type:Boolean,default:!1},noOuterFocus:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}}},data:function(){return{hasFocus:!1,newTag:"",tags:[],removedTags:[],tagsState:up()}},computed:{computedInputId:function(){return this.inputId||this.safeId("__input__")},computedInputType:function(){return a(tp,this.inputType)?this.inputType:"text"},computedInputAttrs:function(){return Zf(Zf({},this.inputAttrs),{},{id:this.computedInputId,value:this.newTag,disabled:this.disabled||null,form:this.form||null})},computedInputHandlers:function(){return{input:this.onInputInput,change:this.onInputChange,keydown:this.onInputKeydown}},computedSeparator:function(){return c(this.separator).filter(he).filter(U).join("")},computedSeparatorRegExp:function(){var e=this.computedSeparator;return e?new RegExp("[".concat(sp(e),"]+")):null},computedJoiner:function(){var e=this.computedSeparator.charAt(0);return" "!==e?"".concat(e," "):e},disableAddButton:function(){var e=this,t=yt(this.newTag);return""===t||!this.splitTags(t).some((function(t){return!a(e.tags,t)&&e.validateTag(t)}))},duplicateTags:function(){return this.tagsState.duplicate},hasDuplicateTags:function(){return this.duplicateTags.length>0},invalidTags:function(){return this.tagsState.invalid},hasInvalidTags:function(){return this.invalidTags.length>0}},watch:{value:function(e){this.tags=ap(e)},tags:function(e,t){Po(e,this.value)||this.$emit("input",e),Po(e,t)||(e=c(e).filter(U),t=c(t).filter(U),this.removedTags=t.filter((function(t){return!a(e,t)})))},tagsState:function(e,t){Po(e,t)||this.$emit("tag-state",e.valid,e.invalid,e.duplicate)}},created:function(){this.tags=ap(this.value)},mounted:function(){this.handleAutofocus()},activated:function(){this.handleAutofocus()},methods:{addTag:function(e){if(e=he(e)?e:this.newTag,!this.disabled&&""!==yt(e)){var t=this.parseTags(e);if(t.valid.length>0||0===t.all.length)if(Lt(this.getInput(),"select"))this.newTag="";else{var n=[].concat(Hf(t.invalid),Hf(t.duplicate));this.newTag=t.all.filter((function(e){return a(n,e)})).join(this.computedJoiner).concat(n.length>0?this.computedJoiner.charAt(0):"")}t.valid.length>0&&(this.tags=c(this.tags,t.valid)),this.tagsState=t,this.focus()}},removeTag:function(e){var t=this;this.disabled||(this.tags=this.tags.filter((function(t){return t!==e})),this.$nextTick((function(){t.focus()})))},onInputInput:function(e){if(!(this.disabled||be(e)&&e.target.composing)){var t=cp(e),n=this.computedSeparatorRegExp;this.newTag!==t&&(this.newTag=t),t=bt(t),n&&n.test(t.slice(-1))?this.addTag():this.tagsState=""===t?up():this.parseTags(t)}},onInputChange:function(e){if(!this.disabled&&this.addOnChange){var t=cp(e);this.newTag!==t&&(this.newTag=t),this.addTag()}},onInputKeydown:function(e){if(!this.disabled&&be(e)){var t=e.keyCode,n=e.target.value||"";this.noAddOnEnter||t!==rp?!this.removeOnDelete||t!==ip&&t!==op||""!==n||(e.preventDefault(),this.tags=this.tags.slice(0,-1)):(e.preventDefault(),this.addTag())}},onClick:function(e){var t=this;!this.disabled&&be(e)&&e.target===e.currentTarget&&this.$nextTick((function(){t.focus()}))},onFocusin:function(){this.hasFocus=!0},onFocusout:function(){this.hasFocus=!1},handleAutofocus:function(){var e=this;this.$nextTick((function(){Tt((function(){e.autofocus&&!e.disabled&&e.focus()}))}))},focus:function(){this.disabled||tn(this.getInput())},blur:function(){this.disabled||nn(this.getInput())},splitTags:function(e){e=vt(e);var t=this.computedSeparatorRegExp;return(t?e.split(t):[e]).map(yt).filter(U)},parseTags:function(e){var t=this,n=this.splitTags(e),r={all:n,valid:[],invalid:[],duplicate:[]};return n.forEach((function(e){a(t.tags,e)||a(r.valid,e)?a(r.duplicate,e)||r.duplicate.push(e):t.validateTag(e)?r.valid.push(e):a(r.invalid,e)||r.invalid.push(e)})),r},validateTag:function(e){var t=this.tagValidator;return!fe(t)||t(e)},getInput:function(){return Bt("#".concat(this.computedInputId),this.$el)},defaultRender:function(e){var t=e.tags,n=e.addTag,r=e.removeTag,i=e.inputType,o=e.inputAttrs,s=e.inputHandlers,a=e.inputClass,u=e.tagClass,l=e.tagVariant,d=e.tagPills,f=e.tagRemoveLabel,p=e.invalidTagText,h=e.duplicateTagText,m=e.isInvalid,v=e.isDuplicate,b=e.disabled,y=e.placeholder,g=e.addButtonText,_=e.addButtonVariant,S=e.disableAddButton,w=this.$createElement,x=t.map((function(e){return e=vt(e),w(zf,{key:"li-tag__".concat(e),staticClass:"mt-1 mr-1",class:u,props:{tag:"li",title:e,disabled:b,variant:l,pill:d,removeLabel:f},on:{remove:function(){return r(e)}}},e)})),C=p&&m?this.safeId("__invalid_feedback__"):null,O=h&&v?this.safeId("__duplicate_feedback__"):null,T=[o["aria-describedby"],C,O].filter(U).join(" "),E=w("input",{ref:"input",directives:[{name:"model",value:o.value}],staticClass:"b-form-tags-input w-100 flex-grow-1 p-0 m-0 bg-transparent border-0",class:a,style:{outline:0,minWidth:"5rem"},attrs:Zf(Zf({},o),{},{"aria-describedby":T||null,type:i,placeholder:y||null}),domProps:{value:o.value},on:s}),I=w(Qr,{ref:"button",staticClass:"b-form-tags-button py-0",class:{invisible:S},style:{fontSize:"90%"},props:{variant:_,disabled:S},on:{click:function(){return n()}}},[this.normalizeSlot("add-button-text")||g]),k=this.safeId("__TAG__LIST__"),R=w("li",{key:"__li-input__",staticClass:"flex-grow-1 mt-1",attrs:{role:"none","aria-live":"off","aria-controls":k}},[w("div",{staticClass:"d-flex",attrs:{role:"group"}},[E,I])]),P=w("ul",{key:"_tags_list_",staticClass:"list-unstyled mt-n1 mb-0 d-flex flex-wrap align-items-center",attrs:{id:k}},c(x,R)),M=w();if(p||h){var A=this.computedJoiner,j=w();C&&(j=w(Tl,{key:"_tags_invalid_feedback_",props:{id:C,forceShow:!0}},[this.invalidTagText,": ",this.invalidTags.join(A)]));var N=w();O&&(N=w(Cl,{key:"_tags_duplicate_feedback_",props:{id:O}},[this.duplicateTagText,": ",this.duplicateTags.join(A)])),M=w("div",{key:"_tags_feedback_",attrs:{"aria-live":"polite","aria-atomic":"true"}},[j,N])}return[P,M]}},render:function(e){var t=this,n={tags:this.tags.slice(),removeTag:this.removeTag,addTag:this.addTag,inputType:this.computedInputType,inputAttrs:this.computedInputAttrs,inputHandlers:this.computedInputHandlers,inputId:this.computedInputId,invalidTags:this.invalidTags.slice(),isInvalid:this.hasInvalidTags,duplicateTags:this.duplicateTags.slice(),isDuplicate:this.hasDuplicateTags,disableAddButton:this.disableAddButton,state:this.state,separator:this.separator,disabled:this.disabled,size:this.size,placeholder:this.placeholder,inputClass:this.inputClass,tagRemoveLabel:this.tagRemoveLabel,tagVariant:this.tagVariant,tagPills:this.tagPills,tagClass:this.tagClass,addButtonText:this.addButtonText,addButtonVariant:this.addButtonVariant,invalidTagText:this.invalidTagText,duplicateTagText:this.duplicateTagText},r=this.normalizeSlot("default",n)||this.defaultRender(n),i=e("output",{staticClass:"sr-only",attrs:{id:this.safeId("_selected-tags_"),role:"status",for:this.computedInputId,"aria-live":this.hasFocus?"polite":"off","aria-atomic":"true","aria-relevant":"additions text"}},this.tags.join(", ")),o=e("div",{staticClass:"sr-only",attrs:{id:this.safeId("_removed-tags_"),role:"status","aria-live":this.hasFocus?"assertive":"off","aria-atomic":"true"}},this.removedTags.length>0?"(".concat(this.tagRemovedLabel,") ").concat(this.removedTags.join(", ")):""),s=e();return this.name&&!this.disabled&&(s=this.tags.map((function(n){return e("input",{key:n,attrs:{type:"hidden",value:n,name:t.name,form:t.form||null}})}))),e("div",{staticClass:"b-form-tags form-control h-auto",class:Qf({focus:this.hasFocus&&!this.noOuterFocus&&!this.disabled,disabled:this.disabled,"is-valid":!0===this.state,"is-invalid":!1===this.state},"form-control-".concat(this.size),this.size),attrs:{id:this.safeId(),role:"group",tabindex:this.disabled||this.noOuterFocus?null:"-1","aria-describedby":this.safeId("_selected_")},on:{focusin:this.onFocusin,focusout:this.onFocusout,click:this.onClick}},c(i,o,r,s))}}),dp=$e({components:{BFormTags:lp,BTags:lp,BFormTag:zf,BTag:zf}});function fp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fp(Object(n),!0).forEach((function(t){hp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mp=i.extend({name:"BFormTextarea",directives:{"b-visible":wa},mixins:[xr,cs,Tc,Nl,Vl,Ul,Gd,Hd,qd],props:{rows:{type:[Number,String],default:2},maxRows:{type:[Number,String]},wrap:{type:String,default:"soft"},noResize:{type:Boolean,default:!1},noAutoShrink:{type:Boolean,default:!1}},data:function(){return{heightInPx:null}},computed:{computedStyle:function(){var e={resize:!this.computedRows||this.noResize?"none":null};return this.computedRows||(e.height=this.heightInPx,e.overflowY="scroll"),e},computedMinRows:function(){return Pn(it(this.rows,2),2)},computedMaxRows:function(){return Pn(this.computedMinRows,it(this.maxRows,0))},computedRows:function(){return this.computedMinRows===this.computedMaxRows?this.computedMinRows:null},computedAttrs:function(){var e=this.disabled,t=this.required;return{id:this.safeId(),name:this.name||null,form:this.form||null,disabled:e,placeholder:this.placeholder||null,required:t,autocomplete:this.autocomplete||null,readonly:this.readonly||this.plaintext,rows:this.computedRows,wrap:this.wrap||null,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid}},computedListeners:function(){return pp(pp({},this.bvListeners),{},{input:this.onInput,change:this.onChange,blur:this.onBlur})}},watch:{localValue:function(){this.setHeight()}},mounted:function(){this.setHeight()},methods:{visibleCallback:function(e){e&&this.$nextTick(this.setHeight)},setHeight:function(){var e=this;this.$nextTick((function(){Tt((function(){e.heightInPx=e.computeHeight()}))}))},computeHeight:function(){if(this.$isServer||!le(this.computedRows))return null;var e=this.$el;if(!At(e))return null;var t=Jt(e),n=ot(t.lineHeight,1),r=ot(t.borderTopWidth,0)+ot(t.borderBottomWidth,0),i=ot(t.paddingTop,0)+ot(t.paddingBottom,0),o=r+i,s=n*this.computedMinRows+o,a=e.style.height||t.height;e.style.height="auto";var c=e.scrollHeight;e.style.height=a;var u=Pn((c-i)/n,2),l=Rn(Pn(u,this.computedMinRows),this.computedMaxRows),d=Pn(An(l*n+o),s);return this.noAutoShrink&&ot(a,0)>d?a:"".concat(d,"px")}},render:function(e){return e("textarea",{ref:"input",class:this.computedClass,style:this.computedStyle,directives:[{name:"b-visible",value:this.visibleCallback,modifiers:{640:!0}}],attrs:this.computedAttrs,domProps:{value:this.localValue},on:this.computedListeners})}}),vp=$e({components:{BFormTextarea:mp,BTextarea:mp}});function bp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bp(Object(n),!0).forEach((function(t){gp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _p(e,t){return Op(e)||Cp(e,t)||wp(e,t)||Sp()}function Sp(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function wp(e,t){if(e){if("string"===typeof e)return xp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xp(e,t):void 0}}function xp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cp(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)if(n.push(s.value),t&&n.length===t)break}catch(c){i=!0,o=c}finally{try{r||null==a["return"]||a["return"]()}finally{if(i)throw o}}return n}}function Op(e){if(Array.isArray(e))return e}var Tp="BTime",Ep="numeric",Ip=vr.LEFT,kp=vr.RIGHT,Rp=/^([0-1]?[0-9]|2[0-3]):[0-5]?[0-9](:[0-5]?[0-9])?$/,Pp=function(e){return Qe(Tp,e)||Qe("BFormSpinbutton",e)},Mp=function(e){return"00".concat(e||"").slice(-2)},Ap=function(e){e=vt(e);var t=null,n=null,r=null;if(Rp.test(e)){var i=e.split(":").map((function(e){return it(e,null)})),o=_p(i,3);t=o[0],n=o[1],r=o[2]}return{hours:de(t)?null:t,minutes:de(n)?null:n,seconds:de(r)?null:r,ampm:de(t)||t<12?0:1}},jp=function(e){var t=e.hours,n=e.minutes,r=e.seconds,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(le(t)||le(n)||i&&le(r))return"";var o=[t,n,i?r:0];return o.map(Mp).join(":")},Np=i.extend({name:Tp,mixins:[cs,yn],model:{prop:"value",event:"input"},props:{value:{type:String,default:""},showSeconds:{type:Boolean,default:!1},hour12:{type:Boolean,default:null},locale:{type:[String,Array]},ariaLabelledby:{type:String},secondsStep:{type:[Number,String],default:1},minutesStep:{type:[Number,String],default:1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},labelNoTimeSelected:{type:String,default:function(){return Qe(Tp,"labelNoTimeSelected")}},labelSelected:{type:String,default:function(){return Qe(Tp,"labelSelected")}},labelHours:{type:String,default:function(){return Qe(Tp,"labelHours")}},labelMinutes:{type:String,default:function(){return Qe(Tp,"labelMinutes")}},labelSeconds:{type:String,default:function(){return Qe(Tp,"labelSeconds")}},labelAmpm:{type:String,default:function(){return Qe(Tp,"labelAmpm")}},labelAm:{type:String,default:function(){return Qe(Tp,"labelAm")}},labelPm:{type:String,default:function(){return Qe(Tp,"labelPm")}},labelIncrement:{type:String,default:function(){return Pp("labelIncrement")}},labelDecrement:{type:String,default:function(){return Pp("labelDecrement")}},hidden:{type:Boolean,default:!1}},data:function(){var e=Ap(this.value||"");return{modelHours:e.hours,modelMinutes:e.minutes,modelSeconds:e.seconds,modelAmpm:e.ampm,isLive:!1}},computed:{computedHMS:function(){var e=this.modelHours,t=this.modelMinutes,n=this.modelSeconds;return jp({hours:e,minutes:t,seconds:n},this.showSeconds)},resolvedOptions:function(){var e=c(this.locale).filter(U),t={hour:Ep,minute:Ep,second:Ep};de(this.hour12)||(t.hour12=!!this.hour12);var n=new Intl.DateTimeFormat(e,t),r=n.resolvedOptions(),i=r.hour12||!1,o=r.hourCycle||(i?"h12":"h23");return{locale:r.locale,hour12:i,hourCycle:o}},computedLocale:function(){return this.resolvedOptions.locale},computedLang:function(){return(this.computedLocale||"").replace(/-u-.*$/,"")},computedRTL:function(){return as(this.computedLang)},computedHourCycle:function(){return this.resolvedOptions.hourCycle},is12Hour:function(){return!!this.resolvedOptions.hour12},context:function(){return{locale:this.computedLocale,isRTL:this.computedRTL,hourCycle:this.computedHourCycle,hour12:this.is12Hour,hours:this.modelHours,minutes:this.modelMinutes,seconds:this.showSeconds?this.modelSeconds:0,value:this.computedHMS,formatted:this.formattedTimeString}},valueId:function(){return this.safeId()||null},computedAriaLabelledby:function(){return[this.ariaLabelledby,this.valueId].filter(U).join(" ")||null},timeFormatter:function(){var e={hour12:this.is12Hour,hourCycle:this.computedHourCycle,hour:Ep,minute:Ep,timeZone:"UTC"};return this.showSeconds&&(e.second=Ep),qo(this.computedLocale,e)},numberFormatter:function(){var e=new Intl.NumberFormat(this.computedLocale,{style:"decimal",minimumIntegerDigits:2,minimumFractionDigits:0,maximumFractionDigits:0,notation:"standard"});return e.format},formattedTimeString:function(){var e=this.modelHours,t=this.modelMinutes,n=this.showSeconds&&this.modelSeconds||0;return this.computedHMS?this.timeFormatter(Wo(Date.UTC(0,0,1,e,t,n))):this.labelNoTimeSelected||" "},spinScopedSlots:function(){var e=this.$createElement;return{increment:function(t){var n=t.hasFocus;return e(yi,{props:{scale:n?1.5:1.25},attrs:{"aria-hidden":"true"}})},decrement:function(t){var n=t.hasFocus;return e(yi,{props:{flipV:!0,scale:n?1.5:1.25},attrs:{"aria-hidden":"true"}})}}}},watch:{value:function(e,t){if(e!==t&&!Po(Ap(e),Ap(this.computedHMS))){var n=Ap(e),r=n.hours,i=n.minutes,o=n.seconds,s=n.ampm;this.modelHours=r,this.modelMinutes=i,this.modelSeconds=o,this.modelAmpm=s}},computedHMS:function(e,t){e!==t&&this.$emit("input",e)},context:function(e,t){Po(e,t)||this.$emit("context",e)},modelAmpm:function(e,t){var n=this;if(e!==t){var r=le(this.modelHours)?0:this.modelHours;this.$nextTick((function(){0===e&&r>11?n.modelHours=r-12:1===e&&r<12&&(n.modelHours=r+12)}))}},modelHours:function(e,t){e!==t&&(this.modelAmpm=e>11?1:0)}},created:function(){var e=this;this.$nextTick((function(){e.$emit("context",e.context)}))},mounted:function(){this.setLive(!0)},activated:function(){this.setLive(!0)},deactivated:function(){this.setLive(!1)},beforeDestroy:function(){this.setLive(!1)},methods:{focus:function(){this.disabled||tn(this.$refs.spinners[0])},blur:function(){if(!this.disabled){var e=Rt();Vt(this.$el,e)&&nn(e)}},formatHours:function(e){var t=this.computedHourCycle;return e=this.is12Hour&&e>12?e-12:e,e=0===e&&"h12"===t?12:0===e&&"h24"===t?24:12===e&&"h11"===t?0:e,this.numberFormatter(e)},formatMinutes:function(e){return this.numberFormatter(e)},formatSeconds:function(e){return this.numberFormatter(e)},formatAmpm:function(e){return 0===e?this.labelAm:1===e?this.labelPm:""},setHours:function(e){this.modelHours=e},setMinutes:function(e){this.modelMinutes=e},setSeconds:function(e){this.modelSeconds=e},setAmpm:function(e){this.modelAmpm=e},onSpinLeftRight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.keyCode;if(!this.disabled&&"keydown"===t&&(n===Ip||n===kp)){e.preventDefault(),e.stopPropagation();var r=this.$refs.spinners||[],i=r.map((function(e){return!!e.hasFocus})).indexOf(!0);i+=n===Ip?-1:1,i=i>=r.length?0:i<0?r.length-1:i,tn(r[i])}},setLive:function(e){var t=this;e?this.$nextTick((function(){Tt((function(){t.isLive=!0}))})):this.isLive=!1}},render:function(e){var t=this;if(this.hidden)return e();var n=this.valueId,r=this.computedAriaLabelledby,i=[],o=function(r,o,s){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=t.safeId("_spinbutton_".concat(o,"_"))||null;return i.push(c),e(Uf,{key:o,ref:"spinners",refInFor:!0,class:s,props:yp({id:c,placeholder:"--",vertical:!0,required:!0,disabled:t.disabled,readonly:t.readonly,locale:t.computedLocale,labelIncrement:t.labelIncrement,labelDecrement:t.labelDecrement,wrap:!0,ariaControls:n,min:0},a),scopedSlots:t.spinScopedSlots,on:{change:r}})},s=function(){return e("div",{staticClass:"d-flex flex-column",class:{"text-muted":t.disabled||t.readonly},attrs:{"aria-hidden":"true"}},[e(gi,{props:{shiftV:4,scale:.5}}),e(gi,{props:{shiftV:-4,scale:.5}})])},a=[];a.push(o(this.setHours,"hours","b-time-hours",{value:this.modelHours,max:23,step:1,formatterFn:this.formatHours,ariaLabel:this.labelHours})),a.push(s()),a.push(o(this.setMinutes,"minutes","b-time-minutes",{value:this.modelMinutes,max:59,step:this.minutesStep||1,formatterFn:this.formatMinutes,ariaLabel:this.labelMinutes})),this.showSeconds&&(a.push(s()),a.push(o(this.setSeconds,"seconds","b-time-seconds",{value:this.modelSeconds,max:59,step:this.secondsStep||1,formatterFn:this.formatSeconds,ariaLabel:this.labelSeconds}))),this.is12Hour&&a.push(o(this.setAmpm,"ampm","b-time-ampm",{value:this.modelAmpm,max:1,formatterFn:this.formatAmpm,ariaLabel:this.labelAmpm,required:!1})),a=e("div",{staticClass:"d-flex align-items-center justify-content-center mx-auto",attrs:{role:"group",tabindex:this.disabled||this.readonly?null:"-1","aria-labelledby":r},on:{keydown:this.onSpinLeftRight,click:function(e){e.target===e.currentTarget&&t.focus()}}},a);var c=e("output",{staticClass:"form-control form-control-sm text-center",class:{disabled:this.disabled||this.readonly},attrs:{id:n,role:"status",for:i.filter(U).join(" ")||null,tabindex:this.disabled?null:"-1","aria-live":this.isLive?"polite":"off","aria-atomic":"true"},on:{click:this.focus,focus:this.focus}},[e("bdi",this.formattedTimeString),this.computedHMS?e("span",{staticClass:"sr-only"}," (".concat(this.labelSelected,") ")):""]),u=e("header",{staticClass:"b-time-header",class:{"sr-only":this.hideHeader}},[c]),l=this.normalizeSlot("default");return l=l?e("footer",{staticClass:"b-time-footer"},l):e(),e("div",{staticClass:"b-time d-inline-flex flex-column text-center",attrs:{role:"group",lang:this.computedLang||null,"aria-labelledby":r||null,"aria-disabled":this.disabled?"true":null,"aria-readonly":this.readonly&&!this.disabled?"true":null}},[u,a,l])}});function Dp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dp(Object(n),!0).forEach((function(t){Lp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fp="BFormTimepicker",Vp=function(e){return Qe(Fp,e)||Qe("BTime",e)||Qe("BFormSpinbutton",e)},Up={props:Bp({value:{type:String,default:""},resetValue:{type:String,default:""},placeholder:{type:String},size:{type:String},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},name:{type:String},form:{type:String},state:{type:Boolean,default:null},hour12:{type:Boolean,default:null},locale:{type:[String,Array]},showSeconds:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},secondsStep:{type:[Number,String],default:1},minutesStep:{type:[Number,String],default:1},buttonOnly:{type:Boolean,default:!1},buttonVariant:{type:String,default:"secondary"},nowButton:{type:Boolean,default:!1},labelNowButton:{type:String,default:function(){return Qe(Fp,"labelNowButton")}},nowButtonVariant:{type:String,default:"outline-primary"},resetButton:{type:Boolean,default:!1},labelResetButton:{type:String,default:function(){return Qe(Fp,"labelResetButton")}},resetButtonVariant:{type:String,default:"outline-danger"},noCloseButton:{type:Boolean,default:!1},labelCloseButton:{type:String,default:function(){return Qe(Fp,"labelCloseButton")}},closeButtonVariant:{type:String,default:"outline-secondary"},labelSelected:{type:String,default:function(){return Vp("labelSelected")}},labelNoTimeSelected:{type:String,default:function(){return Vp("labelNoTimeSelected")}},labelHours:{type:String,default:function(){return Vp("labelHours")}},labelMinutes:{type:String,default:function(){return Vp("labelMinutes")}},labelSeconds:{type:String,default:function(){return Vp("labelSeconds")}},labelAmpm:{type:String,default:function(){return Vp("labelAmpm")}},labelAm:{type:String,default:function(){return Vp("labelAm")}},labelPm:{type:String,default:function(){return Vp("labelPm")}},labelIncrement:{type:String,default:function(){return Vp("labelIncrement")}},labelDecrement:{type:String,default:function(){return Vp("labelDecrement")}},menuClass:{type:[String,Array,Object]}},nd)},$p=i.extend({name:Fp,mixins:[cs,Up],model:{prop:"value",event:"input"},data:function(){return{localHMS:this.value||"",localLocale:null,isRTL:!1,formattedValue:"",isVisible:!1}},computed:{computedLang:function(){return(this.localLocale||"").replace(/-u-.*$/i,"")||null},timeProps:function(){var e=this;return{hidden:!e.isVisible,value:e.localHMS,readonly:e.readonly,disabled:e.disabled,locale:e.locale,hour12:e.hour12,hideHeader:e.hideHeader,showSeconds:e.showSeconds,secondsStep:e.secondsStep,minutesStep:e.minutesStep,labelNoTimeSelected:e.labelNoTimeSelected,labelSelected:e.labelSelected,labelHours:e.labelHours,labelMinutes:e.labelMinutes,labelSeconds:e.labelSeconds,labelAmpm:e.labelAmpm,labelAm:e.labelAm,labelPm:e.labelPm,labelIncrement:e.labelIncrement,labelDecrement:e.labelDecrement}}},watch:{value:function(e){this.localHMS=e||""},localHMS:function(e){this.isVisible&&this.$emit("input",e||"")}},methods:{focus:function(){this.disabled||tn(this.$refs.control)},blur:function(){this.disabled||nn(this.$refs.control)},setAndClose:function(e){var t=this;this.localHMS=e,this.$nextTick((function(){t.$refs.control.hide(!0)}))},onInput:function(e){this.localHMS!==e&&(this.localHMS=e)},onContext:function(e){var t=e.isRTL,n=e.locale,r=e.value,i=e.formatted;this.isRTL=t,this.localLocale=n,this.formattedValue=i,this.localHMS=r||"",this.$emit("context",e)},onNowButton:function(){var e=new Date,t=e.getHours(),n=e.getMinutes(),r=this.showSeconds?e.getSeconds():0,i=[t,n,r].map((function(e){return"00".concat(e||"").slice(-2)})).join(":");this.setAndClose(i)},onResetButton:function(){this.setAndClose(this.resetValue)},onCloseButton:function(){this.$refs.control.hide(!0)},onShow:function(){this.isVisible=!0},onShown:function(){var e=this;this.$nextTick((function(){tn(e.$refs.time),e.$emit("shown")}))},onHidden:function(){this.isVisible=!1,this.$emit("hidden")},defaultButtonFn:function(e){var t=e.isHovered,n=e.hasFocus;return this.$createElement(t||n?Si:_i,{attrs:{"aria-hidden":"true"}})}},render:function(e){var t=this.localHMS,n=this.disabled,r=this.readonly,i=de(this.placeholder)?this.labelNoTimeSelected:this.placeholder,o=[];if(this.nowButton){var s=this.labelNowButton;o.push(e(Qr,{key:"now-btn",props:{size:"sm",disabled:n||r,variant:this.nowButtonVariant},attrs:{"aria-label":s||null},on:{click:this.onNowButton}},s))}if(this.resetButton){o.length>0&&o.push(e("span","Â "));var a=this.labelResetButton;o.push(e(Qr,{key:"reset-btn",props:{size:"sm",disabled:n||r,variant:this.resetButtonVariant},attrs:{"aria-label":a||null},on:{click:this.onResetButton}},a))}if(!this.noCloseButton){o.length>0&&o.push(e("span","Â "));var c=this.labelCloseButton;o.push(e(Qr,{key:"close-btn",props:{size:"sm",disabled:n,variant:this.closeButtonVariant},attrs:{"aria-label":c||null},on:{click:this.onCloseButton}},c))}o.length>0&&(o=[e("div",{staticClass:"b-form-date-controls d-flex flex-wrap",class:{"justify-content-between":o.length>1,"justify-content-end":o.length<2}},o)]);var u=e(Np,{ref:"time",staticClass:"b-form-time-control",props:this.timeProps,on:{input:this.onInput,context:this.onContext}},o);return e(rd,{ref:"control",staticClass:"b-form-timepicker",props:Bp(Bp({},this.$props),{},{id:this.safeId(),rtl:this.isRTL,lang:this.computedLang,value:t||"",formattedValue:t?this.formattedValue:"",placeholder:i||""}),on:{show:this.onShow,shown:this.onShown,hidden:this.onHidden},scopedSlots:{"button-content":this.$scopedSlots["button-content"]||this.defaultButtonFn}},[u])}}),Wp=$e({components:{BFormTimepicker:$p,BTimepicker:$p}}),zp=$e({components:{BImg:Ia,BImgLazy:Ma}}),Hp={tag:{type:String,default:"div"}},Gp=i.extend({name:"BInputGroupText",functional:!0,props:Hp,render:function(e,t){var n=t.props,r=t.data,i=t.children;return e(n.tag,cn(r,{staticClass:"input-group-text"}),i)}});function qp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qp(Object(n),!0).forEach((function(t){Yp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jp={id:{type:String,default:null},tag:{type:String,default:"div"},isText:{type:Boolean,default:!1}},Xp=i.extend({name:"BInputGroupAddon",functional:!0,props:Kp(Kp({},Jp),{},{append:{type:Boolean,default:!1}}),render:function(e,t){var n=t.props,r=t.data,i=t.children;return e(n.tag,cn(r,{class:{"input-group-append":n.append,"input-group-prepend":!n.append},attrs:{id:n.id}}),n.isText?[e(Gp,i)]:i)}});function Zp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zp(Object(n),!0).forEach((function(t){eh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var th=i.extend({name:"BInputGroupAppend",functional:!0,props:Jp,render:function(e,t){var n=t.props,r=t.data,i=t.children;return e(Xp,cn(r,{props:Qp(Qp({},n),{},{append:!0})}),i)}});function nh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nh(Object(n),!0).forEach((function(t){ih(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ih(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oh=i.extend({name:"BInputGroupPrepend",functional:!0,props:Jp,render:function(e,t){var n=t.props,r=t.data,i=t.children;return e(Xp,cn(r,{props:rh(rh({},n),{},{append:!1})}),i)}});function sh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ah="BInputGroup",ch={id:{type:String},size:{type:String,default:function(){return Qe(ah,"size")}},prepend:{type:String},prependHtml:{type:String},append:{type:String},appendHtml:{type:String},tag:{type:String,default:"div"}},uh=i.extend({name:ah,functional:!0,props:ch,render:function(e,t){var n=t.props,r=t.data,i=t.slots,o=t.scopedSlots,s=n.prepend,a=n.prependHtml,c=n.append,u=n.appendHtml,l=n.size,d=o||{},f=i(),p={},h=e(),m=vn("prepend",d,f);(m||s||a)&&(h=e(oh,[m?bn("prepend",p,d,f):e(Gp,{domProps:so(a,s)})]));var v=e(),b=vn("append",d,f);return(b||c||u)&&(v=e(th,[b?bn("append",p,d,f):e(Gp,{domProps:so(u,c)})])),e(n.tag,cn(r,{staticClass:"input-group",class:sh({},"input-group-".concat(l),l),attrs:{id:n.id||null,role:"group"}}),[h,bn("default",p,d,f),v])}}),lh=$e({components:{BInputGroup:uh,BInputGroupAddon:Xp,BInputGroupPrepend:oh,BInputGroupAppend:th,BInputGroupText:Gp}});function dh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fh={tag:{type:String,default:"div"},fluid:{type:[Boolean,String],default:!1}},ph=i.extend({name:"BContainer",functional:!0,props:fh,render:function(e,t){var n=t.props,r=t.data,i=t.children;return e(n.tag,cn(r,{class:dh({container:!(n.fluid||""===n.fluid),"container-fluid":!0===n.fluid||""===n.fluid},"container-".concat(n.fluid),n.fluid&&!0!==n.fluid)}),i)}});function hh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mh="BJumbotron",vh={fluid:{type:Boolean,default:!1},containerFluid:{type:[Boolean,String],default:!1},header:{type:String},headerHtml:{type:String},headerTag:{type:String,default:"h1"},headerLevel:{type:[Number,String],default:"3"},lead:{type:String},leadHtml:{type:String},leadTag:{type:String,default:"p"},tag:{type:String,default:"div"},bgVariant:{type:String,default:function(){return Qe(mh,"bgVariant")}},borderVariant:{type:String,default:function(){return Qe(mh,"borderVariant")}},textVariant:{type:String,default:function(){return Qe(mh,"textVariant")}}},bh=i.extend({name:mh,functional:!0,props:vh,render:function(e,t){var n,r=t.props,i=t.data,o=t.slots,s=t.scopedSlots,a=r.header,c=r.headerHtml,u=r.lead,l=r.leadHtml,d=r.textVariant,f=r.bgVariant,p=r.borderVariant,h=s||{},m=o(),v={},b=e(),y=vn("header",h,m);if(y||a||c){var g=r.headerLevel;b=e(r.headerTag,{class:hh({},"display-".concat(g),g),domProps:y?{}:so(c,a)},bn("header",v,h,m))}var _=e(),S=vn("lead",h,m);(S||u||l)&&(_=e(r.leadTag,{staticClass:"lead",domProps:S?{}:so(l,u)},bn("lead",v,h,m)));var w=[b,_,bn("default",v,h,m)];return r.fluid&&(w=[e(ph,{props:{fluid:r.containerFluid}},w)]),e(r.tag,cn(i,{staticClass:"jumbotron",class:(n={"jumbotron-fluid":r.fluid},hh(n,"text-".concat(d),d),hh(n,"bg-".concat(f),f),hh(n,"border-".concat(p),p),hh(n,"border",p),n)}),w)}}),yh=$e({components:{BJumbotron:bh}});function gh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gh(Object(n),!0).forEach((function(t){Sh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wh=["start","end","center"],xh=function(){return{type:[String,Number],default:null}},Ch=Ye((function(e,t){return t=yt(vt(t)),t?gt(["row-cols",e,t].filter(U).join("-")):null})),Oh=Ye((function(e){return gt(e.replace("cols",""))})),Th=[],Eh=function(){var e=rt(),t=e.reduce((function(e,t){return e[Xn(t,"cols")]=xh(),e}),h(null));return Th=g(t),_h({tag:{type:String,default:"div"},noGutters:{type:Boolean,default:!1},alignV:{type:String,default:null,validator:function(e){return a(c(wh,"baseline","stretch"),e)}},alignH:{type:String,default:null,validator:function(e){return a(c(wh,"between","around"),e)}},alignContent:{type:String,default:null,validator:function(e){return a(c(wh,"between","around","stretch"),e)}}},t)},Ih={name:"BRow",functional:!0,get props(){return delete this.props,this.props=Eh(),this.props},render:function(e,t){var n,r=t.props,i=t.data,o=t.children,s=[];return Th.forEach((function(e){var t=Ch(Oh(e),r[e]);t&&s.push(t)})),s.push((n={"no-gutters":r.noGutters},Sh(n,"align-items-".concat(r.alignV),r.alignV),Sh(n,"justify-content-".concat(r.alignH),r.alignH),Sh(n,"align-content-".concat(r.alignContent),r.alignContent),n)),e(r.tag,cn(i,{staticClass:"row",class:s}),o)}},kh=$e({components:{BContainer:ph,BRow:Ih,BCol:Pd,BFormRow:Rl}}),Rh=$e({components:{BLink:Br}});function Ph(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mh={tag:{type:String,default:"div"},flush:{type:Boolean,default:!1},horizontal:{type:[Boolean,String],default:!1}},Ah=i.extend({name:"BListGroup",functional:!0,props:Mh,render:function(e,t){var n=t.props,r=t.data,i=t.children,o=""===n.horizontal||n.horizontal;o=!n.flush&&o;var s={staticClass:"list-group",class:Ph({"list-group-flush":n.flush,"list-group-horizontal":!0===o},"list-group-horizontal-".concat(o),he(o))};return e(n.tag,cn(r,s),i)}});function jh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jh(Object(n),!0).forEach((function(t){Dh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bh="BListGroupItem",Lh=["a","router-link","button","b-link"],Fh=T(Dr,["event","routerTag"]);delete Fh.href.default,delete Fh.to.default;var Vh=Nh({tag:{type:String,default:"div"},action:{type:Boolean,default:null},button:{type:Boolean,default:null},variant:{type:String,default:function(){return Qe(Bh,"variant")}}},Fh),Uh=i.extend({name:Bh,functional:!0,props:Vh,render:function(e,t){var n,r=t.props,i=t.data,o=t.children,s=r.button,c=r.variant,u=r.active,l=r.disabled,d=lr(r),f=s?"button":d?Br:r.tag,p=!!(r.action||d||s||a(Lh,r.tag)),h={},m={};return Pt(f,"button")?(i.attrs&&i.attrs.type||(h.type="button"),r.disabled&&(h.disabled=!0)):m=Qn(Fh,r),e(f,cn(i,{attrs:h,props:m,staticClass:"list-group-item",class:(n={},Dh(n,"list-group-item-".concat(c),c),Dh(n,"list-group-item-action",p),Dh(n,"active",u),Dh(n,"disabled",l),n)}),o)}}),$h=$e({components:{BListGroup:Ah,BListGroupItem:Uh}}),Wh={tag:{type:String,default:"div"}},zh=i.extend({name:"BMediaBody",functional:!0,props:Wh,render:function(e,t){var n=t.props,r=t.data,i=t.children;return e(n.tag,cn(r,{staticClass:"media-body"}),i)}});function Hh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gh={tag:{type:String,default:"div"},verticalAlign:{type:String,default:"top"}},qh=i.extend({name:"BMediaAside",functional:!0,props:Gh,render:function(e,t){var n=t.props,r=t.data,i=t.children,o="top"===n.verticalAlign?"start":"bottom"===n.verticalAlign?"end":n.verticalAlign;return e(n.tag,cn(r,{staticClass:"d-flex",class:Hh({},"align-self-".concat(o),o)}),i)}}),Kh={tag:{type:String,default:"div"},rightAlign:{type:Boolean,default:!1},verticalAlign:{type:String,default:"top"},noBody:{type:Boolean,default:!1}},Yh=i.extend({name:"BMedia",functional:!0,props:Kh,render:function(e,t){var n=t.props,r=t.data,i=t.slots,o=t.scopedSlots,s=t.children,a=n.noBody?s:[];if(!n.noBody){var c=i(),u=o||{},l=bn("aside",{},u,c),d=bn("default",{},u,c);l&&!n.rightAlign&&a.push(e(qh,{staticClass:"mr-3",props:{verticalAlign:n.verticalAlign}},l)),a.push(e(zh,d)),l&&n.rightAlign&&a.push(e(qh,{staticClass:"ml-3",props:{verticalAlign:n.verticalAlign}},l))}return e(n.tag,cn(r,{staticClass:"media"}),a)}}),Jh=$e({components:{BMedia:Yh,BMediaAside:qh,BMediaBody:zh}}),Xh=i.extend({abstract:!0,name:"BTransporterTargetSingle",props:{nodes:{type:[Array,Function]}},data:function(e){return{updatedNodes:e.nodes}},destroyed:function(){It(this.$el)},render:function(e){var t=fe(this.updatedNodes)?this.updatedNodes({}):this.updatedNodes;return t=c(t).filter(Boolean),t&&t.length>0&&!t[0].text?t[0]:e()}}),Zh=i.extend({name:"BTransporterSingle",mixins:[yn],props:{disabled:{type:Boolean,default:!1},container:{type:[String,re],default:"body"},tag:{type:String,default:"div"}},watch:{disabled:{immediate:!0,handler:function(e){e?this.unmountTarget():this.$nextTick(this.mountTarget)}}},created:function(){this.$_defaultFn=null,this.$_target=null},beforeMount:function(){this.mountTarget()},updated:function(){this.updateTarget()},beforeDestroy:function(){this.unmountTarget(),this.$_defaultFn=null},methods:{getContainer:function(){if($["j"]){var e=this.container;return he(e)?Bt(e):e}return null},mountTarget:function(){if(!this.$_target){var e=this.getContainer();if(e){var t=document.createElement("div");e.appendChild(t),this.$_target=new Xh({el:t,parent:this,propsData:{nodes:c(this.normalizeSlot("default"))}})}}},updateTarget:function(){if($["j"]&&this.$_target){var e=this.$scopedSlots.default;this.disabled||(e&&this.$_defaultFn!==e?this.$_target.updatedNodes=e:e||(this.$_target.updatedNodes=this.$slots.default)),this.$_defaultFn=e}},unmountTarget:function(){this.$_target&&this.$_target.$destroy(),this.$_target=null}},render:function(e){if(this.disabled){var t=c(this.normalizeSlot("default")).filter(U);if(t.length>0&&!t[0].text)return t[0]}return e()}}),Qh="$_bv_documentHandlers_",em={created:function(){var e=this;$["j"]&&(this[Qh]={},this.$once("hook:beforeDestroy",(function(){var t=e[Qh]||{};delete e[Qh],g(t).forEach((function(e){var n=t[e]||[];n.forEach((function(t){return tc(document,e,t,Za)}))}))})))},methods:{listenDocument:function(e,t,n){e?this.listenOnDocument(t,n):this.listenOffDocument(t,n)},listenOnDocument:function(e,t){this[Qh]&&he(e)&&fe(t)&&(this[Qh][e]=this[Qh][e]||[],a(this[Qh][e],t)||(this[Qh][e].push(t),ec(document,e,t,Za)))},listenOffDocument:function(e,t){this[Qh]&&he(e)&&fe(t)&&(tc(document,e,t,Za),this[Qh][e]=(this[Qh][e]||[]).filter((function(e){return e!==t})))}}},tm="$_bv_windowHandlers_",nm={beforeCreate:function(){this[tm]={}},beforeDestroy:function(){if($["j"]){var e=this[tm];delete this[tm],g(e).forEach((function(t){var n=e[t]||[];n.forEach((function(e){return tc(window,t,e,Za)}))}))}},methods:{listenWindow:function(e,t,n){e?this.listenOnWindow(t,n):this.listenOffWindow(t,n)},listenOnWindow:function(e,t){$["j"]&&this[tm]&&he(e)&&fe(t)&&(this[tm][e]=this[tm][e]||[],a(this[tm][e],t)||(this[tm][e].push(t),ec(window,e,t,Za)))},listenOffWindow:function(e,t){$["j"]&&this[tm]&&he(e)&&fe(t)&&(tc(window,e,t,Za),this[tm][e]=(this[tm][e]||[]).filter((function(e){return e!==t})))}}},rm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e&&e.$options._scopeId||t},im=rm;function om(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sm={computed:{scopedStyleAttrs:function(){var e=im(this.$parent);return e?om({},e,""):{}}}},am=1040,cm={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},um=i.extend({data:function(){return{modals:[],baseZIndex:null,scrollbarWidth:null,isBodyOverflowing:!1}},computed:{modalCount:function(){return this.modals.length},modalsAreOpen:function(){return this.modalCount>0}},watch:{modalCount:function(e,t){$["j"]&&(this.getScrollbarWidth(),e>0&&0===t?(this.checkScrollbar(),this.setScrollbar(),$t(document.body,"modal-open")):0===e&&t>0&&(this.resetScrollbar(),Wt(document.body,"modal-open")),Ht(document.body,"data-modal-open-count",String(e)))},modals:function(e){var t=this;this.checkScrollbar(),Tt((function(){t.updateModals(e||[])}))}},methods:{registerModal:function(e){var t=this;e&&-1===this.modals.indexOf(e)&&(this.modals.push(e),e.$once("hook:beforeDestroy",(function(){t.unregisterModal(e)})))},unregisterModal:function(e){var t=this.modals.indexOf(e);t>-1&&(this.modals.splice(t,1),e._isBeingDestroyed||e._isDestroyed||this.resetModal(e))},getBaseZIndex:function(){if(le(this.baseZIndex)&&$["j"]){var e=document.createElement("div");e.className="modal-backdrop d-none",e.style.display="none",document.body.appendChild(e),this.baseZIndex=it(Jt(e).zIndex,am),document.body.removeChild(e)}return this.baseZIndex||am},getScrollbarWidth:function(){if(le(this.scrollbarWidth)&&$["j"]){var e=document.createElement("div");e.className="modal-scrollbar-measure",document.body.appendChild(e),this.scrollbarWidth=Yt(e).width-e.clientWidth,document.body.removeChild(e)}return this.scrollbarWidth||0},updateModals:function(e){var t=this,n=this.getBaseZIndex(),r=this.getScrollbarWidth();e.forEach((function(e,i){e.zIndex=n+i,e.scrollbarWidth=r,e.isTop=i===t.modals.length-1,e.isBodyOverflowing=t.isBodyOverflowing}))},resetModal:function(e){e&&(e.zIndex=this.getBaseZIndex(),e.isTop=!0,e.isBodyOverflowing=!1)},checkScrollbar:function(){var e=Yt(document.body),t=e.left,n=e.right;this.isBodyOverflowing=t+n<window.innerWidth},setScrollbar:function(){var e=document.body;if(e._paddingChangedForModal=e._paddingChangedForModal||[],e._marginChangedForModal=e._marginChangedForModal||[],this.isBodyOverflowing){var t=this.scrollbarWidth;Dt(cm.FIXED_CONTENT).forEach((function(n){var r=n.style.paddingRight;Ht(n,"data-padding-right",r),n.style.paddingRight="".concat(ot(Jt(n).paddingRight,0)+t,"px"),e._paddingChangedForModal.push(n)})),Dt(cm.STICKY_CONTENT).forEach((function(n){var r=n.style.marginRight;Ht(n,"data-margin-right",r),n.style.marginRight="".concat(ot(Jt(n).marginRight,0)-t,"px"),e._marginChangedForModal.push(n)})),Dt(cm.NAVBAR_TOGGLER).forEach((function(n){var r=n.style.marginRight;Ht(n,"data-margin-right",r),n.style.marginRight="".concat(ot(Jt(n).marginRight,0)+t,"px"),e._marginChangedForModal.push(n)}));var n=e.style.paddingRight;Ht(e,"data-padding-right",n),e.style.paddingRight="".concat(ot(Jt(e).paddingRight,0)+t,"px")}},resetScrollbar:function(){var e=document.body;e._paddingChangedForModal&&e._paddingChangedForModal.forEach((function(e){Kt(e,"data-padding-right")&&(e.style.paddingRight=qt(e,"data-padding-right")||"",Gt(e,"data-padding-right"))})),e._marginChangedForModal&&e._marginChangedForModal.forEach((function(e){Kt(e,"data-margin-right")&&(e.style.marginRight=qt(e,"data-margin-right")||"",Gt(e,"data-margin-right"))})),e._paddingChangedForModal=null,e._marginChangedForModal=null,Kt(e,"data-padding-right")&&(e.style.paddingRight=qt(e,"data-padding-right")||"",Gt(e,"data-padding-right"))}}}),lm=new um;function dm(e){return dm="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(e)}function fm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fm(Object(n),!0).forEach((function(t){hm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bm(e,t,n){return t&&vm(e.prototype,t),n&&vm(e,n),e}function ym(e,t,n){return ym="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=gm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},ym(e,t,n||e)}function gm(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=Tm(e),null===e)break;return e}function _m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sm(e,t)}function Sm(e,t){return Sm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Sm(e,t)}function wm(e){var t=Om();return function(){var n,r=Tm(e);if(t){var i=Tm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xm(this,n)}}function xm(e,t){return!t||"object"!==dm(t)&&"function"!==typeof t?Cm(e):t}function Cm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Om(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Tm(e){return Tm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tm(e)}var Em=function(e){_m(n,e);var t=wm(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return mm(this,n),r=t.call(this,e,i),m(Cm(r),{trigger:E()}),r}return bm(n,null,[{key:"Defaults",get:function(){return pm(pm({},ym(Tm(n),"Defaults",this)),{},{trigger:null})}}]),n}(hu);function Im(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function km(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Im(Object(n),!0).forEach((function(t){Rm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Im(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pm="BModal",Mm={subtree:!0,childList:!0,characterData:!0,attributes:!0,attributeFilter:["style","class"]},Am={size:{type:String,default:function(){return Qe(Pm,"size")}},centered:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},buttonSize:{type:String},noStacking:{type:Boolean,default:!1},noFade:{type:Boolean,default:!1},noCloseOnBackdrop:{type:Boolean,default:!1},noCloseOnEsc:{type:Boolean,default:!1},noEnforceFocus:{type:Boolean,default:!1},ignoreEnforceFocusSelector:{type:[Array,String],default:""},title:{type:String,default:""},titleHtml:{type:String},titleTag:{type:String,default:function(){return Qe(Pm,"titleTag")}},titleClass:{type:[String,Array,Object]},titleSrOnly:{type:Boolean,default:!1},ariaLabel:{type:String},headerBgVariant:{type:String,default:function(){return Qe(Pm,"headerBgVariant")}},headerBorderVariant:{type:String,default:function(){return Qe(Pm,"headerBorderVariant")}},headerTextVariant:{type:String,default:function(){return Qe(Pm,"headerTextVariant")}},headerCloseVariant:{type:String,default:function(){return Qe(Pm,"headerCloseVariant")}},headerClass:{type:[String,Array,Object]},bodyBgVariant:{type:String,default:function(){return Qe(Pm,"bodyBgVariant")}},bodyTextVariant:{type:String,default:function(){return Qe(Pm,"bodyTextVariant")}},modalClass:{type:[String,Array,Object]},dialogClass:{type:[String,Array,Object]},contentClass:{type:[String,Array,Object]},bodyClass:{type:[String,Array,Object]},footerBgVariant:{type:String,default:function(){return Qe(Pm,"footerBgVariant")}},footerBorderVariant:{type:String,default:function(){return Qe(Pm,"footerBorderVariant")}},footerTextVariant:{type:String,default:function(){return Qe(Pm,"footerTextVariant")}},footerClass:{type:[String,Array,Object]},hideHeader:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},hideHeaderClose:{type:Boolean,default:!1},hideBackdrop:{type:Boolean,default:!1},okOnly:{type:Boolean,default:!1},okDisabled:{type:Boolean,default:!1},cancelDisabled:{type:Boolean,default:!1},visible:{type:Boolean,default:!1},returnFocus:{type:[re,String,Object],default:null},headerCloseContent:{type:String,default:function(){return Qe(Pm,"headerCloseContent")}},headerCloseLabel:{type:String,default:function(){return Qe(Pm,"headerCloseLabel")}},cancelTitle:{type:String,default:function(){return Qe(Pm,"cancelTitle")}},cancelTitleHtml:{type:String},okTitle:{type:String,default:function(){return Qe(Pm,"okTitle")}},okTitleHtml:{type:String},cancelVariant:{type:String,default:function(){return Qe(Pm,"cancelVariant")}},okVariant:{type:String,default:function(){return Qe(Pm,"okVariant")}},lazy:{type:Boolean,default:!1},busy:{type:Boolean,default:!1},static:{type:Boolean,default:!1},autoFocusButton:{type:String,default:null,validator:function(e){return de(e)||a(["ok","cancel","close"],e)}}},jm=i.extend({name:Pm,mixins:[wr,cs,em,Tc,nm,yn,sm],inheritAttrs:!1,model:{prop:"visible",event:"change"},props:Am,data:function(){return{isHidden:!0,isVisible:!1,isTransitioning:!1,isShow:!1,isBlock:!1,isOpening:!1,isClosing:!1,ignoreBackdropClick:!1,isModalOverflowing:!1,return_focus:this.returnFocus||null,scrollbarWidth:0,zIndex:lm.getBaseZIndex(),isTop:!0,isBodyOverflowing:!1}},computed:{modalId:function(){return this.safeId()},modalOuterId:function(){return this.safeId("__BV_modal_outer_")},modalHeaderId:function(){return this.safeId("__BV_modal_header_")},modalBodyId:function(){return this.safeId("__BV_modal_body_")},modalTitleId:function(){return this.safeId("__BV_modal_title_")},modalContentId:function(){return this.safeId("__BV_modal_content_")},modalFooterId:function(){return this.safeId("__BV_modal_footer_")},modalBackdropId:function(){return this.safeId("__BV_modal_backdrop_")},modalClasses:function(){return[{fade:!this.noFade,show:this.isShow},this.modalClass]},modalStyles:function(){var e="".concat(this.scrollbarWidth,"px");return{paddingLeft:!this.isBodyOverflowing&&this.isModalOverflowing?e:"",paddingRight:this.isBodyOverflowing&&!this.isModalOverflowing?e:"",display:this.isBlock?"block":"none"}},dialogClasses:function(){var e;return[(e={},Rm(e,"modal-".concat(this.size),this.size),Rm(e,"modal-dialog-centered",this.centered),Rm(e,"modal-dialog-scrollable",this.scrollable),e),this.dialogClass]},headerClasses:function(){var e;return[(e={},Rm(e,"bg-".concat(this.headerBgVariant),this.headerBgVariant),Rm(e,"text-".concat(this.headerTextVariant),this.headerTextVariant),Rm(e,"border-".concat(this.headerBorderVariant),this.headerBorderVariant),e),this.headerClass]},titleClasses:function(){return[{"sr-only":this.titleSrOnly},this.titleClass]},bodyClasses:function(){var e;return[(e={},Rm(e,"bg-".concat(this.bodyBgVariant),this.bodyBgVariant),Rm(e,"text-".concat(this.bodyTextVariant),this.bodyTextVariant),e),this.bodyClass]},footerClasses:function(){var e;return[(e={},Rm(e,"bg-".concat(this.footerBgVariant),this.footerBgVariant),Rm(e,"text-".concat(this.footerTextVariant),this.footerTextVariant),Rm(e,"border-".concat(this.footerBorderVariant),this.footerBorderVariant),e),this.footerClass]},modalOuterStyle:function(){return{position:"absolute",zIndex:this.zIndex}},slotScope:function(){return{ok:this.onOk,cancel:this.onCancel,close:this.onClose,hide:this.hide,visible:this.isVisible}},computeIgnoreEnforceFocusSelector:function(){return c(this.ignoreEnforceFocusSelector).filter(U).join(",").trim()},computedAttrs:function(){var e=this.static?{}:this.scopedStyleAttrs;return km(km(km({},e),this.bvAttrs),{},{id:this.modalOuterId})},computedModalAttrs:function(){var e=this.isVisible,t=this.ariaLabel;return{id:this.modalId,role:"dialog","aria-hidden":e?null:"true","aria-modal":e?"true":null,"aria-label":t,"aria-labelledby":this.hideHeader||t||!(this.hasNormalizedSlot("modal-title")||this.titleHtml||this.title)?null:this.modalTitleId,"aria-describedby":this.modalBodyId}}},watch:{visible:function(e,t){e!==t&&this[e?"show":"hide"]()}},created:function(){this.$_observer=null},mounted:function(){this.zIndex=lm.getBaseZIndex(),this.listenOnRoot("bv::show::modal",this.showHandler),this.listenOnRoot("bv::hide::modal",this.hideHandler),this.listenOnRoot("bv::toggle::modal",this.toggleHandler),this.listenOnRoot("bv::modal::show",this.modalListener),!0===this.visible&&this.$nextTick(this.show)},beforeDestroy:function(){this.setObserver(!1),this.isVisible&&(this.isVisible=!1,this.isShow=!1,this.isTransitioning=!1)},methods:{setObserver:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$_observer&&this.$_observer.disconnect(),this.$_observer=null,e&&(this.$_observer=Ja(this.$refs.content,this.checkModalOverflow.bind(this),Mm))},updateModel:function(e){e!==this.visible&&this.$emit("change",e)},buildEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Em(e,km(km({cancelable:!1,target:this.$refs.modal||this.$el||null,relatedTarget:null,trigger:null},t),{},{vueTarget:this,componentId:this.modalId}))},show:function(){if(!this.isVisible&&!this.isOpening)if(this.isClosing)this.$once("hidden",this.show);else{this.isOpening=!0,this.return_focus=this.return_focus||this.getActiveElement();var e=this.buildEvent("show",{cancelable:!0});if(this.emitEvent(e),e.defaultPrevented||this.isVisible)return this.isOpening=!1,void this.updateModel(!1);this.doShow()}},hide:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.isVisible&&!this.isClosing){this.isClosing=!0;var t=this.buildEvent("hide",{cancelable:"FORCE"!==e,trigger:e||null});if("ok"===e?this.$emit("ok",t):"cancel"===e?this.$emit("cancel",t):"headerclose"===e&&this.$emit("close",t),this.emitEvent(t),t.defaultPrevented||!this.isVisible)return this.isClosing=!1,void this.updateModel(!0);this.setObserver(!1),this.isVisible=!1,this.updateModel(!1)}},toggle:function(e){e&&(this.return_focus=e),this.isVisible?this.hide("toggle"):this.show()},getActiveElement:function(){var e=Rt($["j"]?[document.body]:[]);return e&&e.focus?e:null},doShow:function(){var e=this;lm.modalsAreOpen&&this.noStacking?this.listenOnRootOnce("bv::modal::hidden",this.doShow):(lm.registerModal(this),this.isHidden=!1,this.$nextTick((function(){e.isVisible=!0,e.isOpening=!1,e.updateModel(!0),e.$nextTick((function(){e.setObserver(!0)}))})))},onBeforeEnter:function(){this.isTransitioning=!0,this.setResizeEvent(!0)},onEnter:function(){var e=this;this.isBlock=!0,Tt((function(){Tt((function(){e.isShow=!0}))}))},onAfterEnter:function(){var e=this;this.checkModalOverflow(),this.isTransitioning=!1,Tt((function(){e.emitEvent(e.buildEvent("shown")),e.setEnforceFocus(!0),e.$nextTick((function(){e.focusFirst()}))}))},onBeforeLeave:function(){this.isTransitioning=!0,this.setResizeEvent(!1),this.setEnforceFocus(!1)},onLeave:function(){this.isShow=!1},onAfterLeave:function(){var e=this;this.isBlock=!1,this.isTransitioning=!1,this.isModalOverflowing=!1,this.isHidden=!0,this.$nextTick((function(){e.isClosing=!1,lm.unregisterModal(e),e.returnFocusTo(),e.emitEvent(e.buildEvent("hidden"))}))},emitEvent:function(e){var t=e.type;this.emitOnRoot("bv::modal::".concat(t),e,e.componentId),this.$emit(t,e)},onDialogMousedown:function(){var e=this,t=this.$refs.modal,n=function n(r){tc(t,"mouseup",n,Za),r.target===t&&(e.ignoreBackdropClick=!0)};ec(t,"mouseup",n,Za)},onClickOut:function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:this.isVisible&&!this.noCloseOnBackdrop&&Vt(document.body,e.target)&&(Vt(this.$refs.content,e.target)||this.hide("backdrop"))},onOk:function(){this.hide("ok")},onCancel:function(){this.hide("cancel")},onClose:function(){this.hide("headerclose")},onEsc:function(e){e.keyCode===vr.ESC&&this.isVisible&&!this.noCloseOnEsc&&this.hide("esc")},focusHandler:function(e){var t=this.$refs.content,n=e.target;if(!(this.noEnforceFocus||!this.isTop||!this.isVisible||!t||document===n||Vt(t,n)||this.computeIgnoreEnforceFocusSelector&&Ft(this.computeIgnoreEnforceFocusSelector,n,!0))){var r=en(this.$refs.content),i=this.$refs,o=i.bottomTrap,s=i.topTrap;if(o&&n===o){if(tn(r[0]))return}else if(s&&n===s&&tn(r[r.length-1]))return;tn(t,{preventScroll:!0})}},setEnforceFocus:function(e){this.listenDocument(e,"focusin",this.focusHandler)},setResizeEvent:function(e){this.listenWindow(e,"resize",this.checkModalOverflow),this.listenWindow(e,"orientationchange",this.checkModalOverflow)},showHandler:function(e,t){e===this.modalId&&(this.return_focus=t||this.getActiveElement(),this.show())},hideHandler:function(e){e===this.modalId&&this.hide("event")},toggleHandler:function(e,t){e===this.modalId&&this.toggle(t)},modalListener:function(e){this.noStacking&&e.vueTarget!==this&&this.hide()},focusFirst:function(){var e=this;$["j"]&&Tt((function(){var t=e.$refs.modal,n=e.$refs.content,r=e.getActiveElement();if(t&&n&&(!r||!Vt(n,r))){var i=e.$refs["ok-button"],o=e.$refs["cancel-button"],s=e.$refs["close-button"],a=e.autoFocusButton,c="ok"===a&&i?i.$el||i:"cancel"===a&&o?o.$el||o:"close"===a&&s?s.$el||s:n;tn(c),c===n&&e.$nextTick((function(){t.scrollTop=0}))}}))},returnFocusTo:function(){var e=this.returnFocus||this.return_focus||null;this.return_focus=null,this.$nextTick((function(){e=he(e)?Bt(e):e,e&&(e=e.$el||e,tn(e))}))},checkModalOverflow:function(){if(this.isVisible){var e=this.$refs.modal;this.isModalOverflowing=e.scrollHeight>document.documentElement.clientHeight}},makeModal:function(e){var t=e();if(!this.hideHeader){var n=this.normalizeSlot("modal-header",this.slotScope);if(!n){var r=e();this.hideHeaderClose||(r=e(wn,{props:{content:this.headerCloseContent,disabled:this.isTransitioning,ariaLabel:this.headerCloseLabel,textVariant:this.headerCloseVariant||this.headerTextVariant},on:{click:this.onClose},ref:"close-button"},[this.normalizeSlot("modal-header-close")])),n=[e(this.titleTag,{staticClass:"modal-title",class:this.titleClasses,attrs:{id:this.modalTitleId},domProps:this.hasNormalizedSlot("modal-title")?{}:so(this.titleHtml,this.title)},[this.normalizeSlot("modal-title",this.slotScope)]),r]}t=e("header",{staticClass:"modal-header",class:this.headerClasses,attrs:{id:this.modalHeaderId},ref:"header"},[n])}var i=e("div",{staticClass:"modal-body",class:this.bodyClasses,attrs:{id:this.modalBodyId},ref:"body"},this.normalizeSlot("default",this.slotScope)),o=e();if(!this.hideFooter){var s=this.normalizeSlot("modal-footer",this.slotScope);if(!s){var a=e();this.okOnly||(a=e(Qr,{props:{variant:this.cancelVariant,size:this.buttonSize,disabled:this.cancelDisabled||this.busy||this.isTransitioning},domProps:this.hasNormalizedSlot("modal-cancel")?{}:so(this.cancelTitleHtml,this.cancelTitle),on:{click:this.onCancel},ref:"cancel-button"},this.normalizeSlot("modal-cancel")));var c=e(Qr,{props:{variant:this.okVariant,size:this.buttonSize,disabled:this.okDisabled||this.busy||this.isTransitioning},domProps:this.hasNormalizedSlot("modal-ok")?{}:so(this.okTitleHtml,this.okTitle),on:{click:this.onOk},ref:"ok-button"},this.normalizeSlot("modal-ok"));s=[a,c]}o=e("footer",{staticClass:"modal-footer",class:this.footerClasses,attrs:{id:this.modalFooterId},ref:"footer"},[s])}var u=e("div",{staticClass:"modal-content",class:this.contentClass,attrs:{id:this.modalContentId,tabindex:"-1"},ref:"content"},[t,i,o]),l=e(),d=e();this.isVisible&&!this.noEnforceFocus&&(l=e("span",{ref:"topTrap",attrs:{tabindex:"0"}}),d=e("span",{ref:"bottomTrap",attrs:{tabindex:"0"}}));var f=e("div",{staticClass:"modal-dialog",class:this.dialogClasses,on:{mousedown:this.onDialogMousedown},ref:"dialog"},[l,u,d]),p=e("div",{staticClass:"modal",class:this.modalClasses,style:this.modalStyles,attrs:this.computedModalAttrs,on:{keydown:this.onEsc,click:this.onClickOut},directives:[{name:"show",value:this.isVisible}],ref:"modal"},[f]);p=e("transition",{props:{enterClass:"",enterToClass:"",enterActiveClass:"",leaveClass:"",leaveActiveClass:"",leaveToClass:""},on:{beforeEnter:this.onBeforeEnter,enter:this.onEnter,afterEnter:this.onAfterEnter,beforeLeave:this.onBeforeLeave,leave:this.onLeave,afterLeave:this.onAfterLeave}},[p]);var h=e();return!this.hideBackdrop&&this.isVisible&&(h=e("div",{staticClass:"modal-backdrop",attrs:{id:this.modalBackdropId}},this.normalizeSlot("modal-backdrop"))),h=e(mn,{props:{noFade:this.noFade}},[h]),e("div",{style:this.modalOuterStyle,attrs:this.computedAttrs,key:"modal-outer-".concat(this._uid)},[p,h])}},render:function(e){return this.static?this.lazy&&this.isHidden?e():this.makeModal(e):this.isHidden?e():e(Zh,[this.makeModal(e)])}}),Nm="bv::show::modal",Dm="__bv_modal_directive__",Bm=function(e){var t=e.modifiers,n=void 0===t?{}:t,r=e.arg,i=e.value;return he(i)?i:he(r)?r:g(n).reverse()[0]},Lm=function(e){return e&&Lt(e,".dropdown-menu > li, li.nav-item")&&Bt("a, button",e)||e},Fm=function(e){e&&"BUTTON"!==e.tagName&&(Kt(e,"role")||Ht(e,"role","button"),"A"===e.tagName||Kt(e,"tabindex")||Ht(e,"tabindex","0"))},Vm=function(e,t,n){var r=Bm(t),i=Lm(e);if(r&&i){var o=function(e){var t=e.currentTarget;if(!jt(t)){var i=e.type,o=e.keyCode;"click"!==i&&("keydown"!==i||o!==vr.ENTER&&o!==vr.SPACE)||n.context.$root.$emit(Nm,r,t)}};e[Dm]={handler:o,target:r,trigger:i},Fm(i),ec(i,"click",o,Xa),"BUTTON"!==i.tagName&&"button"===qt(i,"role")&&ec(i,"keydown",o,Xa)}},Um=function(e){var t=e[Dm]||{},n=t.trigger,r=t.handler;n&&r&&(tc(n,"click",r,Xa),tc(n,"keydown",r,Xa),tc(e,"click",r,Xa),tc(e,"keydown",r,Xa)),delete e[Dm]},$m=function(e,t,n){var r=e[Dm]||{},i=Bm(t),o=Lm(e);i===r.target&&o===r.trigger||(Um(e,t,n),Vm(e,t,n)),Fm(o)},Wm=function(){},zm={inserted:$m,updated:Wm,componentUpdated:$m,unbind:Um};function Hm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qm(e,t,n){return t&&Gm(e.prototype,t),n&&Gm(e,n),e}function Km(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ym(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Km(Object(n),!0).forEach((function(t){Jm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Km(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xm(e){return tv(e)||ev(e)||Qm(e)||Zm()}function Zm(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Qm(e,t){if(e){if("string"===typeof e)return nv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nv(e,t):void 0}}function ev(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function tv(e){if(Array.isArray(e))return nv(e)}function nv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rv="$bvModal",iv="_bv__modal",ov=["id"].concat(Xm(g(T(Am,["busy","lazy","noStacking","static","visible"])))),sv=function(){},av={msgBoxContent:"default",title:"modal-title",okTitle:"modal-ok",cancelTitle:"modal-cancel"},cv=function(e){return ov.reduce((function(t,n){return ue(e[n])||(t[n]=e[n]),t}),{})},uv=function(e){var t=e.extend({name:"BMsgBox",extends:jm,destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},mounted:function(){var e=this,t=function(){var t=e;e.$nextTick((function(){setTimeout((function(){return t.$destroy()}),0)}))};this.$parent.$once("hook:destroyed",t),this.$once("hidden",t),this.$router&&this.$route&&this.$once("hook:beforeDestroy",this.$watch("$router",t)),this.show()}}),n=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sv;if(!Te(rv)&&!Ee(rv)){var i=new t({parent:e,propsData:Ym(Ym(Ym({},cv(Qe("BModal")||{})),{},{hideHeaderClose:!0,hideHeader:!(n.title||n.titleHtml)},T(n,g(av))),{},{lazy:!1,busy:!1,visible:!1,noStacking:!1,noEnforceFocus:!1})});return g(av).forEach((function(e){ue(n[e])||(i.$slots[av[e]]=c(n[e]))})),new Promise((function(e,t){var n=!1;i.$once("hook:destroyed",(function(){n||t(new Error("BootstrapVue MsgBox destroyed before resolve"))})),i.$on("hide",(function(t){if(!t.defaultPrevented){var i=r(t);t.defaultPrevented||(n=!0,e(i))}}));var o=document.createElement("div");document.body.appendChild(o),i.$mount(o)}))}},r=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(t&&!Ee(rv)&&!Te(rv)&&fe(i))return n(e,Ym(Ym({},cv(r)),{},{msgBoxContent:t}),i)},i=function(){function e(t){Hm(this,e),p(this,{_vm:t,_root:t.$root}),m(this,{_vm:E(),_root:E()})}return qm(e,[{key:"show",value:function(e){if(e&&this._root){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this._root).$emit.apply(t,["bv::show::modal",e].concat(r))}}},{key:"hide",value:function(e){if(e&&this._root){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this._root).$emit.apply(t,["bv::hide::modal",e].concat(r))}}},{key:"msgBoxOk",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ym(Ym({},t),{},{okOnly:!0,okDisabled:!1,hideFooter:!1,msgBoxContent:e});return r(this._vm,e,n,(function(){return!0}))}},{key:"msgBoxConfirm",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ym(Ym({},t),{},{okOnly:!1,okDisabled:!1,cancelDisabled:!1,hideFooter:!1});return r(this._vm,e,n,(function(e){var t=e.trigger;return"ok"===t||"cancel"!==t&&null}))}}]),e}();e.mixin({beforeCreate:function(){this[iv]=new i(this)}}),_(e.prototype,rv)||v(e.prototype,rv,{get:function(){return this&&this[iv]||Oe('"'.concat(rv,'" must be accessed from a Vue instance "this" context.'),"BModal"),this[iv]}})},lv=$e({plugins:{plugin:uv}}),dv=$e({components:{BModal:jm},directives:{VBModal:zm},plugins:{BVModalPlugin:lv}});function fv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pv={tag:{type:String,default:"ul"},fill:{type:Boolean,default:!1},justified:{type:Boolean,default:!1},align:{type:String},tabs:{type:Boolean,default:!1},pills:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},small:{type:Boolean,default:!1},cardHeader:{type:Boolean,default:!1}},hv=function(e){return e="left"===e?"start":"right"===e?"end":e,"justify-content-".concat(e)},mv=i.extend({name:"BNav",functional:!0,props:pv,render:function(e,t){var n,r=t.props,i=t.data,o=t.children;return e(r.tag,cn(i,{staticClass:"nav",class:(n={"nav-tabs":r.tabs,"nav-pills":r.pills&&!r.tabs,"card-header-tabs":!r.vertical&&r.cardHeader&&r.tabs,"card-header-pills":!r.vertical&&r.cardHeader&&r.pills&&!r.tabs,"flex-column":r.vertical,"nav-fill":!r.vertical&&r.fill,"nav-justified":!r.vertical&&r.justified},fv(n,hv(r.align),!r.vertical&&r.align),fv(n,"small",r.small),n)}),o)}});function vv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vv(Object(n),!0).forEach((function(t){yv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gv=T(Dr,["event","routerTag"]),_v=i.extend({name:"BNavItem",functional:!0,props:bv(bv({},gv),{},{linkAttrs:{type:Object,default:function(){}},linkClasses:{type:[String,Object,Array],default:null}}),render:function(e,t){var n=t.props,r=t.data,i=t.listeners,o=t.children;return delete r.on,e("li",cn(r,{staticClass:"nav-item"}),[e(Br,{staticClass:"nav-link",class:n.linkClasses,attrs:n.linkAttrs,props:n,on:i},o)])}}),Sv={},wv=i.extend({name:"BNavText",functional:!0,props:Sv,render:function(e,t){var n=t.data,r=t.children;return e("li",cn(n,{staticClass:"navbar-text"}),r)}});function xv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xv(Object(n),!0).forEach((function(t){Ov(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ov(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tv=Cv(Cv({},T(el,["inline"])),{},{formClass:{type:[String,Array,Object]}}),Ev=i.extend({name:"BNavForm",functional:!0,props:Tv,render:function(e,t){var n=t.props,r=t.data,i=t.children,o=t.listeners,s=void 0===o?{}:o,a=r.attrs;r.attrs={},r.on={};var c=e(tl,{class:n.formClass,props:Cv(Cv({},n),{},{inline:!0}),attrs:a,on:s},i);return e("li",cn(r,{staticClass:"form-inline"}),[c])}}),Iv=Qn(["text","html","menuClass","toggleClass","noCaret","role","lazy"],Mu),kv=i.extend({name:"BNavItemDropdown",mixins:[cs,Eu,yn],props:Iv,computed:{toggleId:function(){return this.safeId("_BV_toggle_")},isNav:function(){return!0},dropdownClasses:function(){return[this.directionClass,{show:this.visible}]},menuClasses:function(){return[this.menuClass,{"dropdown-menu-right":this.right,show:this.visible}]},toggleClasses:function(){return[this.toggleClass,{"dropdown-toggle-no-caret":this.noCaret}]}},render:function(e){var t=this.toggleId,n=this.visible,r=e(Br,{staticClass:"nav-link dropdown-toggle",class:this.toggleClasses,props:{href:"#".concat(this.id||""),disabled:this.disabled},attrs:{id:t,role:"button","aria-haspopup":"true","aria-expanded":n?"true":"false"},on:{mousedown:this.onMousedown,click:this.toggle,keydown:this.toggle},ref:"toggle"},[this.normalizeSlot(["button-content","text"])||e("span",{domProps:so(this.html,this.text)})]),i=e("ul",{staticClass:"dropdown-menu",class:this.menuClasses,attrs:{tabindex:"-1","aria-labelledby":t},on:{keydown:this.onKeydown},ref:"menu"},!this.lazy||n?this.normalizeSlot("default",{hide:this.hide}):[e()]);return e("li",{staticClass:"nav-item b-nav-dropdown dropdown",class:this.dropdownClasses,attrs:{id:this.safeId()}},[r,i])}}),Rv=$e({components:{BNav:mv,BNavItem:_v,BNavText:wv,BNavForm:Ev,BNavItemDropdown:kv,BNavItemDd:kv,BNavDropdown:kv,BNavDd:kv},plugins:{DropdownPlugin:pl}});function Pv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mv="BNavbar",Av={tag:{type:String,default:"nav"},type:{type:String,default:"light"},variant:{type:String,default:function(){return Qe(Mv,"variant")}},toggleable:{type:[Boolean,String],default:!1},fixed:{type:String},sticky:{type:Boolean,default:!1},print:{type:Boolean,default:!1}},jv=i.extend({name:Mv,mixins:[yn],props:Av,provide:function(){return{bvNavbar:this}},computed:{breakpointClass:function(){var e=null,t=et()[0],n=this.toggleable;return n&&he(n)&&n!==t?e="navbar-expand-".concat(n):!1===n&&(e="navbar-expand"),e}},render:function(e){var t;return e(this.tag,{staticClass:"navbar",class:[(t={"d-print":this.print,"sticky-top":this.sticky},Pv(t,"navbar-".concat(this.type),this.type),Pv(t,"bg-".concat(this.variant),this.variant),Pv(t,"fixed-".concat(this.fixed),this.fixed),t),this.breakpointClass],attrs:{role:Pt(this.tag,"nav")?null:"navigation"}},[this.normalizeSlot("default")])}});function Nv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dv=Qn(["tag","fill","justified","align","small"],pv),Bv=function(e){return e="left"===e?"start":"right"===e?"end":e,"justify-content-".concat(e)},Lv=i.extend({name:"BNavbarNav",functional:!0,props:Dv,render:function(e,t){var n,r=t.props,i=t.data,o=t.children;return e(r.tag,cn(i,{staticClass:"navbar-nav",class:(n={"nav-fill":r.fill,"nav-justified":r.justified},Nv(n,Bv(r.align),r.align),Nv(n,"small",r.small),n)}),o)}});function Fv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fv(Object(n),!0).forEach((function(t){Uv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $v=T(Dr,["event","routerTag"]);$v.href.default=void 0,$v.to.default=void 0;var Wv=Vv({tag:{type:String,default:"div"}},$v),zv=i.extend({name:"BNavbarBrand",functional:!0,props:Wv,render:function(e,t){var n=t.props,r=t.data,i=t.children,o=n.to||n.href,s=o?Br:n.tag;return e(s,cn(r,{staticClass:"navbar-brand",props:o?Qn($v,n):{}}),i)}}),Hv="BNavbarToggle",Gv="navbar-toggler",qv=i.extend({name:Hv,directives:{BToggle:ou},mixins:[Tc,yn],props:{label:{type:String,default:function(){return Qe(Hv,"label")}},target:{type:String,required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{toggleState:!1}},created:function(){this.listenOnRoot(Wc,this.handleStateEvt),this.listenOnRoot(zc,this.handleStateEvt)},methods:{onClick:function(e){this.disabled||this.$emit("click",e)},handleStateEvt:function(e,t){e===this.target&&(this.toggleState=t)}},render:function(e){var t=this.disabled;return e("button",{staticClass:Gv,class:{disabled:t},directives:[{name:"BToggle",value:this.target}],attrs:{type:"button",disabled:t,"aria-label":this.label},on:{click:this.onClick}},[this.normalizeSlot("default",{expanded:this.toggleState})||e("span",{staticClass:"".concat(Gv,"-icon")})])}}),Kv=$e({components:{BNavbar:jv,BNavbarNav:Lv,BNavbarBrand:zv,BNavbarToggle:qv,BNavToggle:qv},plugins:{NavPlugin:Rv,CollapsePlugin:uu,DropdownPlugin:pl}});function Yv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jv="BSpinner",Xv=i.extend({name:Jv,functional:!0,props:{type:{type:String,default:"border"},label:{type:String},variant:{type:String,default:function(){return Qe(Jv,"variant")}},small:{type:Boolean,default:!1},role:{type:String,default:"status"},tag:{type:String,default:"span"}},render:function(e,t){var n,r=t.props,i=t.data,o=t.slots,s=t.scopedSlots,a=o(),c=s||{},u=bn("label",{},c,a)||r.label;return u&&(u=e("span",{staticClass:"sr-only"},u)),e(r.tag,cn(i,{attrs:{role:u?r.role||"status":null,"aria-hidden":u?null:"true"},class:(n={},Yv(n,"spinner-".concat(r.type),r.type),Yv(n,"spinner-".concat(r.type,"-sm"),r.small),Yv(n,"text-".concat(r.variant),r.variant),n)}),[u||e()])}});function Zv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zv(Object(n),!0).forEach((function(t){eb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tb={top:0,left:0,bottom:0,right:0},nb=i.extend({name:"BOverlay",mixins:[yn],props:{show:{type:Boolean,default:!1},variant:{type:String,default:"light"},bgColor:{type:String},opacity:{type:[Number,String],default:.85,validator:function(e){var t=ot(e,0);return t>=0&&t<=1}},blur:{type:String,default:"2px"},rounded:{type:[Boolean,String],default:!1},noCenter:{type:Boolean,default:!1},noFade:{type:Boolean,default:!1},spinnerType:{type:String,default:"border"},spinnerVariant:{type:String},spinnerSmall:{type:Boolean,default:!1},overlayTag:{type:String,default:"div"},wrapTag:{type:String,default:"div"},noWrap:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:10}},computed:{computedRounded:function(){var e=this.rounded;return!0===e||""===e?"rounded":e?"rounded-".concat(e):""},computedVariant:function(){return this.variant&&!this.bgColor?"bg-".concat(this.variant):""},overlayScope:function(){return{spinnerType:this.spinnerType||null,spinnerVariant:this.spinnerVariant||null,spinnerSmall:this.spinnerSmall}}},methods:{defaultOverlayFn:function(e){var t=e.spinnerType,n=e.spinnerVariant,r=e.spinnerSmall;return this.$createElement(Xv,{props:{type:t,variant:n,small:r}})}},render:function(e){var t=this,n=e();if(this.show){var r=this.overlayScope,i=e("div",{staticClass:"position-absolute",class:[this.computedVariant,this.computedRounded],style:Qv(Qv({},tb),{},{opacity:this.opacity,backgroundColor:this.bgColor||null,backdropFilter:this.blur?"blur(".concat(this.blur,")"):null})}),o=e("div",{staticClass:"position-absolute",style:this.noCenter?Qv({},tb):{top:"50%",left:"50%",transform:"translateX(-50%) translateY(-50%)"}},[this.normalizeSlot("overlay",r)||this.defaultOverlayFn(r)]);n=e(this.overlayTag,{key:"overlay",staticClass:"b-overlay",class:{"position-absolute":!this.noWrap||this.noWrap&&!this.fixed,"position-fixed":this.noWrap&&this.fixed},style:Qv(Qv({},tb),{},{zIndex:this.zIndex||10}),on:{click:function(e){return t.$emit("click",e)}}},[i,o])}return n=e(hn,{props:{noFade:this.noFade,appear:!0},on:{"after-enter":function(){return t.$emit("shown")},"after-leave":function(){return t.$emit("hidden")}}},[n]),this.noWrap?n:e(this.wrapTag,{staticClass:"b-overlay-wrap position-relative",attrs:{"aria-busy":this.show?"true":null}},this.noWrap?[n]:[this.normalizeSlot("default"),n])}}),rb=$e({components:{BOverlay:nb}}),ib=function(e){return Array.apply(null,{length:e})},ob=ib,sb=3,ab=5,cb=function(e,t){return ob(t).map((function(t,n){return{number:e+n,classes:null}}))},ub=function(e){var t=it(e)||1;return t<1?ab:t},lb=function(e,t){var n=it(e)||1;return n>t?t:n<1?1:n},db=function(e){if(e.keyCode===vr.SPACE)return e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),e.currentTarget.click(),!1},fb={disabled:{type:Boolean,default:!1},value:{type:[Number,String],default:null,validator:function(e){return!(!le(e)&&it(e,0)<1)||(Oe('"v-model" value must be a number greater than "0"',"BPagination"),!1)}},limit:{type:[Number,String],default:ab,validator:function(e){return!(it(e,0)<1)||(Oe('Prop "limit" must be a number greater than "0"',"BPagination"),!1)}},align:{type:String,default:"left"},pills:{type:Boolean,default:!1},hideGotoEndButtons:{type:Boolean,default:!1},ariaLabel:{type:String,default:"Pagination"},labelFirstPage:{type:String,default:"Go to first page"},firstText:{type:String,default:"Â«"},firstNumber:{type:Boolean,default:!1},firstClass:{type:[String,Array,Object],default:null},labelPrevPage:{type:String,default:"Go to previous page"},prevText:{type:String,default:"â¹"},prevClass:{type:[String,Array,Object],default:null},labelNextPage:{type:String,default:"Go to next page"},nextText:{type:String,default:"âº"},nextClass:{type:[String,Array,Object]},labelLastPage:{type:String,default:"Go to last page"},lastText:{type:String,default:"Â»"},lastNumber:{type:Boolean,default:!1},lastClass:{type:[String,Array,Object]},labelPage:{type:[String,Function],default:"Go to page"},pageClass:{type:[String,Array,Object]},hideEllipsis:{type:Boolean,default:!1},ellipsisText:{type:String,default:"â¦"},ellipsisClass:{type:[String,Array,Object]}},pb={mixins:[yn],model:{prop:"value",event:"input"},props:fb,data:function(){var e=it(this.value,0);return e=e>0?e:-1,{currentPage:e,localNumberOfPages:1,localLimit:ab}},computed:{btnSize:function(){return this.size?"pagination-".concat(this.size):""},alignment:function(){var e=this.align;return"center"===e?"justify-content-center":"end"===e||"right"===e?"justify-content-end":"fill"===e?"text-center":""},styleClass:function(){return this.pills?"b-pagination-pills":""},computedCurrentPage:function(){return lb(this.currentPage,this.localNumberOfPages)},paginationParams:function(){var e=this.localLimit,t=this.localNumberOfPages,n=this.computedCurrentPage,r=this.hideEllipsis,i=this.firstNumber,o=this.lastNumber,s=!1,a=!1,c=e,u=1;t<=e?c=t:n<e-1&&e>sb?(r&&!o||(a=!0,c=e-(i?0:1)),c=Rn(c,e)):t-n+2<e&&e>sb?(r&&!i||(s=!0,c=e-(o?0:1)),u=t-c+1):(e>sb&&(c=e-2,s=!(r&&!i),a=!(r&&!o)),u=n-jn(c/2)),u<1?(u=1,s=!1):u>t-c&&(u=t-c+1,a=!1),s&&i&&u<4&&(c+=2,u=1,s=!1);var l=u+c-1;return a&&o&&l>t-3&&(c+=l===t-2?2:3,a=!1),e<=sb&&(i&&1===u?c=Rn(c+1,t,e+1):o&&t===u+c-1&&(u=Pn(u-1,1),c=Rn(t-u+1,t,e+1))),c=Rn(c,t-u+1),{showFirstDots:s,showLastDots:a,numberOfLinks:c,startNumber:u}},pageList:function(){var e=this.paginationParams,t=e.numberOfLinks,n=e.startNumber,r=this.computedCurrentPage,i=cb(n,t);if(i.length>3){var o=r-n,s="bv-d-xs-down-none";if(0===o)for(var a=3;a<i.length;a++)i[a].classes=s;else if(o===i.length-1)for(var c=0;c<i.length-3;c++)i[c].classes=s;else{for(var u=0;u<o-1;u++)i[u].classes=s;for(var l=i.length-1;l>o+1;l--)i[l].classes=s}}return i}},watch:{value:function(e,t){e!==t&&(this.currentPage=lb(e,this.localNumberOfPages))},currentPage:function(e,t){e!==t&&this.$emit("input",e>0?e:null)},limit:function(e,t){e!==t&&(this.localLimit=ub(e))}},created:function(){var e=this;this.localLimit=ub(this.limit),this.$nextTick((function(){e.currentPage=e.currentPage>e.localNumberOfPages?e.localNumberOfPages:e.currentPage}))},methods:{handleKeyNav:function(e){var t=e.keyCode,n=e.shiftKey;this.isNav||(t===vr.LEFT||t===vr.UP?(e.preventDefault(),n?this.focusFirst():this.focusPrev()):t!==vr.RIGHT&&t!==vr.DOWN||(e.preventDefault(),n?this.focusLast():this.focusNext()))},getButtons:function(){return Dt("button.page-link, a.page-link",this.$el).filter((function(e){return At(e)}))},focusCurrent:function(){var e=this;this.$nextTick((function(){var t=e.getButtons().find((function(t){return it(qt(t,"aria-posinset"),0)===e.computedCurrentPage}));tn(t)||e.focusFirst()}))},focusFirst:function(){var e=this;this.$nextTick((function(){var t=e.getButtons().find((function(e){return!jt(e)}));tn(t)}))},focusLast:function(){var e=this;this.$nextTick((function(){var t=e.getButtons().reverse().find((function(e){return!jt(e)}));tn(t)}))},focusPrev:function(){var e=this;this.$nextTick((function(){var t=e.getButtons(),n=t.indexOf(Rt());n>0&&!jt(t[n-1])&&tn(t[n-1])}))},focusNext:function(){var e=this;this.$nextTick((function(){var t=e.getButtons(),n=t.indexOf(Rt());n<t.length-1&&!jt(t[n+1])&&tn(t[n+1])}))}},render:function(e){var t=this,n=[],r=this.localNumberOfPages,i=this.pageList.map((function(e){return e.number})),o=this.disabled,s=this.paginationParams,a=s.showFirstDots,c=s.showLastDots,u=this.computedCurrentPage,l="fill"===this.align,d=this.isNav,f=function(e){return e===u},p=this.currentPage<1,h=function(n,i,s,a,c,u,h){var m=o||f(u)||p||n<1||n>r,v=n<1?1:n>r?r:n,b={disabled:m,page:v,index:v-1},y=t.normalizeSlot(s,b)||vt(a)||e(),g=e(m?"span":d?Br:"button",{staticClass:"page-link",class:{"flex-grow-1":!d&&!m&&l},props:m||!d?{}:t.linkProps(n),attrs:{role:d?null:"menuitem",type:d||m?null:"button",tabindex:m||d?null:"-1","aria-label":i,"aria-controls":t.ariaControls||null,"aria-disabled":m?"true":null},on:m?{}:{"!click":function(e){t.onClick(n,e)},keydown:db}},[y]);return e("li",{key:h,staticClass:"page-item",class:[{disabled:m,"flex-fill":l,"d-flex":l&&!d&&!m},c],attrs:{role:d?null:"presentation","aria-hidden":m?"true":null}},[g])},m=function(n){return e("li",{key:"ellipsis-".concat(n?"last":"first"),staticClass:"page-item",class:["disabled","bv-d-xs-down-none",l?"flex-fill":"",t.ellipsisClass],attrs:{role:"separator"}},[e("span",{staticClass:"page-link"},[t.normalizeSlot("ellipsis-text")||vt(t.ellipsisText)||e()])])},v=function(n,i){var s=f(n.number)&&!p,a=o?null:s||p&&0===i?"0":"-1",c={role:d?null:"menuitemradio",type:d||o?null:"button","aria-disabled":o?"true":null,"aria-controls":t.ariaControls||null,"aria-label":fe(t.labelPage)?t.labelPage(n.number):"".concat(t.labelPage," ").concat(n.number),"aria-checked":d?null:s?"true":"false","aria-current":d&&s?"page":null,"aria-posinset":n.number,"aria-setsize":r,tabindex:d?null:a},u=vt(t.makePage(n.number)),h={page:n.number,index:n.number-1,content:u,active:s,disabled:o},m=e(o?"span":d?Br:"button",{props:o||!d?{}:t.linkProps(n.number),staticClass:"page-link",class:{"flex-grow-1":!d&&!o&&l},attrs:c,on:o?{}:{"!click":function(e){t.onClick(n.number,e)},keydown:db}},[t.normalizeSlot("page",h)||u]);return e("li",{key:"page-".concat(n.number),staticClass:"page-item",class:[{disabled:o,active:s,"flex-fill":l,"d-flex":l&&!d&&!o},n.classes,t.pageClass],attrs:{role:d?null:"presentation"}},[m])},b=e();this.firstNumber||this.hideGotoEndButtons||(b=h(1,this.labelFirstPage,"first-text",this.firstText,this.firstClass,1,"pagination-goto-first")),n.push(b),n.push(h(u-1,this.labelPrevPage,"prev-text",this.prevText,this.prevClass,1,"pagination-goto-prev")),n.push(this.firstNumber&&1!==i[0]?v({number:1},0):e()),n.push(a?m(!1):e()),this.pageList.forEach((function(e,r){var o=a&&t.firstNumber&&1!==i[0]?1:0;n.push(v(e,r+o))})),n.push(c?m(!0):e()),n.push(this.lastNumber&&i[i.length-1]!==r?v({number:r},-1):e()),n.push(h(u+1,this.labelNextPage,"next-text",this.nextText,this.nextClass,r,"pagination-goto-next"));var y=e();this.lastNumber||this.hideGotoEndButtons||(y=h(r,this.labelLastPage,"last-text",this.lastText,this.lastClass,r,"pagination-goto-last")),n.push(y);var g=e("ul",{ref:"ul",staticClass:"pagination",class:["b-pagination",this.btnSize,this.alignment,this.styleClass],attrs:{role:d?null:"menubar","aria-disabled":o?"true":"false","aria-label":d?null:this.ariaLabel||null},on:d?{}:{keydown:this.handleKeyNav}},n);return d?e("nav",{attrs:{"aria-disabled":o?"true":null,"aria-hidden":o?"true":"false","aria-label":d&&this.ariaLabel||null}},[g]):g}},hb="BPagination",mb=20,vb=0,bb={size:{type:String,default:function(){return Qe(hb,"size")}},perPage:{type:[Number,String],default:mb},totalRows:{type:[Number,String],default:vb},ariaControls:{type:String}},yb=function(e){return Pn(it(e)||mb,1)},gb=function(e){return Pn(it(e)||vb,0)},_b=i.extend({name:hb,mixins:[pb],props:bb,computed:{numberOfPages:function(){var e=An(gb(this.totalRows)/yb(this.perPage));return e<1?1:e},pageSizeNumberOfPages:function(){return{perPage:yb(this.perPage),totalRows:gb(this.totalRows),numberOfPages:this.numberOfPages}}},watch:{pageSizeNumberOfPages:function(e,t){de(t)||(e.perPage!==t.perPage&&e.totalRows===t.totalRows||e.numberOfPages!==t.numberOfPages&&this.currentPage>e.numberOfPages)&&(this.currentPage=1),this.localNumberOfPages=e.numberOfPages}},created:function(){var e=this;this.localNumberOfPages=this.numberOfPages;var t=it(this.value,0);t>0?this.currentPage=t:this.$nextTick((function(){e.currentPage=0}))},mounted:function(){this.localNumberOfPages=this.numberOfPages},methods:{onClick:function(e,t){var n=this;e>this.numberOfPages?e=this.numberOfPages:e<1&&(e=1),this.currentPage=e,this.$emit("change",this.currentPage),this.$nextTick((function(){var e=t.target;At(e)&&n.$el.contains(e)?tn(e):n.focusCurrent()}))},makePage:function(e){return e},linkProps:function(){return{}}}}),Sb=$e({components:{BPagination:_b}});function wb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wb(Object(n),!0).forEach((function(t){Cb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ob="BPaginationNav",Tb=T(Dr,["event","routerTag"]),Eb=xb({size:{type:String,default:function(){return Qe(Ob,"size")}},numberOfPages:{type:[Number,String],default:1,validator:function(e){var t=it(e,0);return!(t<1)||(Oe('Prop "number-of-pages" must be a number greater than "0"',Ob),!1)}},baseUrl:{type:String,default:"/"},useRouter:{type:Boolean,default:!1},linkGen:{type:Function},pageGen:{type:Function},pages:{type:Array},noPageDetect:{type:Boolean,default:!1}},Tb),Ib=function(e){return Pn(it(e,0),1)},kb=i.extend({name:Ob,mixins:[pb],props:Eb,computed:{isNav:function(){return!0},computedValue:function(){var e=it(this.value,0);return e<1?null:e}},watch:{numberOfPages:function(){var e=this;this.$nextTick((function(){e.setNumberOfPages()}))},pages:function(){var e=this;this.$nextTick((function(){e.setNumberOfPages()}))}},created:function(){this.setNumberOfPages()},mounted:function(){var e=this;this.$router&&this.$watch("$route",(function(){e.$nextTick((function(){Tt((function(){e.guessCurrentPage()}))}))}))},methods:{setNumberOfPages:function(){var e=this;s(this.pages)&&this.pages.length>0?this.localNumberOfPages=this.pages.length:this.localNumberOfPages=Ib(this.numberOfPages),this.$nextTick((function(){e.guessCurrentPage()}))},onClick:function(e,t){var n=this;e!==this.currentPage&&(Tt((function(){n.currentPage=e,n.$emit("change",e)})),this.$nextTick((function(){var e=t.currentTarget||t.target;nn(e)})))},getPageInfo:function(e){if(!s(this.pages)||0===this.pages.length||ue(this.pages[e-1])){var t="".concat(this.baseUrl).concat(e);return{link:this.useRouter?{path:t}:t,text:vt(e)}}var n=this.pages[e-1];if(w(n)){var r=n.link;return{link:w(r)?r:this.useRouter?{path:r}:r,text:vt(n.text||e)}}return{link:vt(n),text:vt(e)}},makePage:function(e){var t=this.getPageInfo(e);return this.pageGen&&fe(this.pageGen)?this.pageGen(e,t):t.text},makeLink:function(e){var t=this.getPageInfo(e);return this.linkGen&&fe(this.linkGen)?this.linkGen(e,t):t.link},linkProps:function(e){var t=Qn(Tb,this),n=this.makeLink(e);return this.useRouter||w(n)?t.to=n:t.href=n,t},resolveLink:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{e=document.createElement("a"),e.href=hr({to:t},"a","/","/"),document.body.appendChild(e);var n=e,r=n.pathname,i=n.hash,o=n.search;return document.body.removeChild(e),{path:r,hash:i,query:ur(o)}}catch(s){try{e&&e.parentNode&&e.parentNode.removeChild(e)}catch(s){}return{}}},resolveRoute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{var t=this.$router.resolve(e,this.$route).route;return{path:t.path,hash:t.hash,query:t.query}}catch(n){return{}}},guessCurrentPage:function(){var e=this.computedValue,t=this.$router,n=this.$route;if(!this.noPageDetect&&!e&&($["j"]||!$["j"]&&t))for(var r=t&&n?{path:n.path,hash:n.hash,query:n.query}:{},i=$["j"]?window.location||document.location:null,o=i?{path:i.pathname,hash:i.hash,query:ur(i.search)}:{},s=1;!e&&s<=this.localNumberOfPages;s++){var a=this.makeLink(s);e=t&&(w(a)||this.useRouter)?Po(this.resolveRoute(a),r)?s:null:$["j"]?Po(this.resolveLink(a),o)?s:null:-1}this.currentPage=e>0?e:0}}}),Rb=$e({components:{BPaginationNav:kb}}),Pb="BVPopper",Mb={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOPLEFT:"top",TOPRIGHT:"top",RIGHTTOP:"right",RIGHTBOTTOM:"right",BOTTOMLEFT:"bottom",BOTTOMRIGHT:"bottom",LEFTTOP:"left",LEFTBOTTOM:"left"},Ab={AUTO:0,TOPLEFT:-1,TOP:0,TOPRIGHT:1,RIGHTTOP:-1,RIGHT:0,RIGHTBOTTOM:1,BOTTOMLEFT:-1,BOTTOM:0,BOTTOMRIGHT:1,LEFTTOP:-1,LEFT:0,LEFTBOTTOM:1},jb=i.extend({name:Pb,props:{target:{type:[re,ie]},placement:{type:String,default:"top"},fallbackPlacement:{type:[String,Array],default:"flip"},offset:{type:Number,default:0},boundary:{type:[String,re],default:"scrollParent"},boundaryPadding:{type:Number,default:5},arrowPadding:{type:Number,default:6}},data:function(){return{noFade:!1,localShow:!0,attachment:this.getAttachment(this.placement)}},computed:{templateType:function(){return"unknown"},popperConfig:function(){var e=this,t=this.placement;return{placement:this.getAttachment(t),modifiers:{offset:{offset:this.getOffset(t)},flip:{behavior:this.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{padding:this.boundaryPadding,boundariesElement:this.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e.popperPlacementChange(t)},onUpdate:function(t){e.popperPlacementChange(t)}}}},created:function(){var e=this;this.$_popper=null,this.localShow=!0,this.$on("show",(function(t){e.popperCreate(t)})),this.$on("hidden",(function(){e.$nextTick(e.$destroy)})),this.$parent.$once("hook:destroyed",this.$destroy)},beforeMount:function(){this.attachment=this.getAttachment(this.placement)},mounted:function(){},updated:function(){this.updatePopper()},beforeDestroy:function(){this.destroyPopper()},destroyed:function(){var e=this.$el;e&&e.parentNode&&e.parentNode.removeChild(e)},methods:{hide:function(){this.localShow=!1},getAttachment:function(e){return Mb[String(e).toUpperCase()]||"auto"},getOffset:function(e){if(!this.offset){var t=this.$refs.arrow||Bt(".arrow",this.$el),n=ot(Jt(t).width,0)+ot(this.arrowPadding,0);switch(Ab[String(e).toUpperCase()]||0){case 1:return"+50%p - ".concat(n,"px");case-1:return"-50%p + ".concat(n,"px");default:return 0}}return this.offset},popperCreate:function(e){this.destroyPopper(),this.$_popper=new lu["a"](this.target,e,this.popperConfig)},destroyPopper:function(){this.$_popper&&this.$_popper.destroy(),this.$_popper=null},updatePopper:function(){this.$_popper&&this.$_popper.scheduleUpdate()},popperPlacementChange:function(e){this.attachment=this.getAttachment(e.placement)},renderTemplate:function(e){return e("div")}},render:function(e){var t=this;return e(hn,{props:{appear:!0,noFade:this.noFade},on:{beforeEnter:function(e){return t.$emit("show",e)},afterEnter:function(e){return t.$emit("shown",e)},beforeLeave:function(e){return t.$emit("hide",e)},afterLeave:function(e){return t.$emit("hidden",e)}}},[this.localShow?this.renderTemplate(e):e()])}});function Nb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Db(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nb(Object(n),!0).forEach((function(t){Bb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lb="BVTooltipTemplate",Fb=i.extend({name:Lb,extends:jb,mixins:[sm],props:{id:{type:String},html:{type:Boolean}},data:function(){return{title:"",content:"",variant:null,customClass:null,interactive:!0}},computed:{templateType:function(){return"tooltip"},templateClasses:function(){var e;return[(e={noninteractive:!this.interactive},Bb(e,"b-".concat(this.templateType,"-").concat(this.variant),this.variant),Bb(e,"bs-".concat(this.templateType,"-").concat(this.attachment),this.attachment),e),this.customClass]},templateAttributes:function(){return Db({id:this.id,role:"tooltip",tabindex:"-1"},this.scopedStyleAttrs)},templateListeners:function(){var e=this;return{mouseenter:function(t){e.$emit("mouseenter",t)},mouseleave:function(t){e.$emit("mouseleave",t)},focusin:function(t){e.$emit("focusin",t)},focusout:function(t){e.$emit("focusout",t)}}}},methods:{renderTemplate:function(e){var t=fe(this.title)?this.title({}):de(this.title)?e():this.title,n=this.html&&!fe(this.title)?{innerHTML:this.title}:{};return e("div",{staticClass:"tooltip b-tooltip",class:this.templateClasses,attrs:this.templateAttributes,on:this.templateListeners},[e("div",{ref:"arrow",staticClass:"arrow"}),e("div",{staticClass:"tooltip-inner",domProps:n},[t])])}}});function Vb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ub(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vb(Object(n),!0).forEach((function(t){$b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wb="BVTooltip",zb=".modal-content",Hb="bv::modal::hidden",Gb=".b-sidebar",qb=[zb,Gb].join(", "),Kb="dropdown",Yb=".dropdown-menu.show",Jb={title:"",content:"",variant:null,customClass:null,triggers:"",placement:"auto",fallbackPlacement:"flip",target:null,container:null,noFade:!1,boundary:"scrollParent",boundaryPadding:5,offset:0,delay:0,arrowPadding:6,interactive:!0,disabled:!1,id:null,html:!1},Xb=i.extend({name:Wb,props:{},data:function(){return Ub(Ub({},Jb),{},{activeTrigger:{hover:!1,click:!1,focus:!1},localShow:!1})},computed:{templateType:function(){return"tooltip"},computedId:function(){return this.id||"__bv_".concat(this.templateType,"_").concat(this._uid,"__")},computedDelay:function(){var e={show:0,hide:0};return x(this.delay)?(e.show=Pn(it(this.delay.show,0),0),e.hide=Pn(it(this.delay.hide,0),0)):(me(this.delay)||he(this.delay))&&(e.show=e.hide=Pn(it(this.delay,0),0)),e},computedTriggers:function(){return c(this.triggers).filter(Boolean).join(" ").trim().toLowerCase().split(/\s+/).sort()},isWithActiveTrigger:function(){for(var e in this.activeTrigger)if(this.activeTrigger[e])return!0;return!1},computedTemplateData:function(){return{title:this.title,content:this.content,variant:this.variant,customClass:this.customClass,noFade:this.noFade,interactive:this.interactive}}},watch:{computedTriggers:function(e,t){var n=this;Po(e,t)||this.$nextTick((function(){n.unListen(),t.forEach((function(t){a(e,t)||n.activeTrigger[t]&&(n.activeTrigger[t]=!1)})),n.listen()}))},computedTemplateData:function(){this.handleTemplateUpdate()},disabled:function(e){e?this.disable():this.enable()}},created:function(){var e=this;this.$_tip=null,this.$_hoverTimeout=null,this.$_hoverState="",this.$_visibleInterval=null,this.$_enabled=!this.disabled,this.$_noop=Ha.bind(this),this.$parent&&this.$parent.$once("hook:beforeDestroy",this.$destroy),this.$nextTick((function(){var t=e.getTarget();t&&Vt(document.body,t)?(e.scopeId=im(e.$parent),e.listen()):Oe("Unable to find target element in document.",e.templateType)}))},updated:function(){this.$nextTick(this.handleTemplateUpdate)},deactivated:function(){this.forceHide()},beforeDestroy:function(){this.unListen(),this.setWhileOpenListeners(!1),this.clearHoverTimeout(),this.clearVisibilityInterval(),this.destroyTemplate(),this.$_noop=null},methods:{getTemplate:function(){return Fb},updateData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!1;g(Jb).forEach((function(r){ue(t[r])||e[r]===t[r]||(e[r]=t[r],"title"===r&&(n=!0))})),n&&this.localShow&&this.fixTitle()},createTemplateAndShow:function(){var e=this.getContainer(),t=this.getTemplate(),n=this.$_tip=new t({parent:this,propsData:{id:this.computedId,html:this.html,placement:this.placement,fallbackPlacement:this.fallbackPlacement,target:this.getPlacementTarget(),boundary:this.getBoundary(),offset:it(this.offset,0),arrowPadding:it(this.arrowPadding,0),boundaryPadding:it(this.boundaryPadding,0)}});this.handleTemplateUpdate(),n.$once("show",this.onTemplateShow),n.$once("shown",this.onTemplateShown),n.$once("hide",this.onTemplateHide),n.$once("hidden",this.onTemplateHidden),n.$once("hook:destroyed",this.destroyTemplate),n.$on("focusin",this.handleEvent),n.$on("focusout",this.handleEvent),n.$on("mouseenter",this.handleEvent),n.$on("mouseleave",this.handleEvent),n.$mount(e.appendChild(document.createElement("div")))},hideTemplate:function(){this.$_tip&&this.$_tip.hide(),this.clearActiveTriggers(),this.$_hoverState=""},destroyTemplate:function(){this.setWhileOpenListeners(!1),this.clearHoverTimeout(),this.$_hoverState="",this.clearActiveTriggers(),this.localPlacementTarget=null;try{this.$_tip.$destroy()}catch(e){}this.$_tip=null,this.removeAriaDescribedby(),this.restoreTitle(),this.localShow=!1},getTemplateElement:function(){return this.$_tip?this.$_tip.$el:null},handleTemplateUpdate:function(){var e=this,t=this.$_tip;if(t){var n=["title","content","variant","customClass","noFade","interactive"];n.forEach((function(n){t[n]!==e[n]&&(t[n]=e[n])}))}},show:function(){var e=this.getTarget();if(e&&Vt(document.body,e)&&At(e)&&!this.dropdownOpen()&&(!de(this.title)&&""!==this.title||!de(this.content)&&""!==this.content)&&!this.$_tip&&!this.localShow){this.localShow=!0;var t=this.buildEvent("show",{cancelable:!0});this.emitEvent(t),t.defaultPrevented?this.destroyTemplate():(this.fixTitle(),this.addAriaDescribedby(),this.createTemplateAndShow())}},hide:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getTemplateElement();if(t&&this.localShow){var n=this.buildEvent("hide",{cancelable:!e});this.emitEvent(n),n.defaultPrevented||this.hideTemplate()}else this.restoreTitle()},forceHide:function(){var e=this.getTemplateElement();e&&this.localShow&&(this.setWhileOpenListeners(!1),this.clearHoverTimeout(),this.$_hoverState="",this.clearActiveTriggers(),this.$_tip&&(this.$_tip.noFade=!0),this.hide(!0))},enable:function(){this.$_enabled=!0,this.emitEvent(this.buildEvent("enabled"))},disable:function(){this.$_enabled=!1,this.emitEvent(this.buildEvent("disabled"))},onTemplateShow:function(){this.setWhileOpenListeners(!0)},onTemplateShown:function(){var e=this.$_hoverState;this.$_hoverState="","out"===e&&this.leave(null),this.emitEvent(this.buildEvent("shown"))},onTemplateHide:function(){this.setWhileOpenListeners(!1)},onTemplateHidden:function(){this.destroyTemplate(),this.emitEvent(this.buildEvent("hidden"))},getTarget:function(){var e=this.target?this.target.$el||this.target:null;return e=he(e)?Ut(e.replace(/^#/,"")):e,e=fe(e)?e():e,kt(e)?e:null},getPlacementTarget:function(){return this.getTarget()},getTargetId:function(){var e=this.getTarget();return e&&e.id?e.id:null},getContainer:function(){var e=!!this.container&&(this.container.$el||this.container),t=document.body,n=this.getTarget();return!1===e?Ft(qb,n)||t:he(e)&&Ut(e.replace(/^#/,""))||t},getBoundary:function(){return this.boundary?this.boundary.$el||this.boundary:"scrollParent"},isInModal:function(){var e=this.getTarget();return e&&Ft(zb,e)},isDropdown:function(){var e=this.getTarget();return e&&zt(e,Kb)},dropdownOpen:function(){var e=this.getTarget();return this.isDropdown()&&e&&Bt(Yb,e)},clearHoverTimeout:function(){clearTimeout(this.$_hoverTimeout),this.$_hoverTimeout=null},clearVisibilityInterval:function(){clearInterval(this.$_visibleInterval),this.$_visibleInterval=null},clearActiveTriggers:function(){for(var e in this.activeTrigger)this.activeTrigger[e]=!1},addAriaDescribedby:function(){var e=this.getTarget(),t=qt(e,"aria-describedby")||"";t=t.split(/\s+/).concat(this.computedId).join(" ").trim(),Ht(e,"aria-describedby",t)},removeAriaDescribedby:function(){var e=this,t=this.getTarget(),n=qt(t,"aria-describedby")||"";n=n.split(/\s+/).filter((function(t){return t!==e.computedId})).join(" ").trim(),n?Ht(t,"aria-describedby",n):Gt(t,"aria-describedby")},fixTitle:function(){var e=this.getTarget();e&&qt(e,"title")&&(Ht(e,"data-original-title",qt(e,"title")||""),Ht(e,"title",""))},restoreTitle:function(){var e=this.getTarget();e&&Kt(e,"data-original-title")&&(Ht(e,"title",qt(e,"data-original-title")||""),Gt(e,"data-original-title"))},buildEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new hu(e,Ub({cancelable:!1,target:this.getTarget(),relatedTarget:this.getTemplateElement()||null,componentId:this.computedId,vueTarget:this},t))},emitEvent:function(e){var t=e.type,n=this.$root;n&&n.$emit&&n.$emit("bv::".concat(this.templateType,"::").concat(t),e),this.$emit(t,e)},listen:function(){var e=this,t=this.getTarget();t&&(this.setRootListener(!0),this.computedTriggers.forEach((function(n){"click"===n?ec(t,"click",e.handleEvent,Za):"focus"===n?(ec(t,"focusin",e.handleEvent,Za),ec(t,"focusout",e.handleEvent,Za)):"blur"===n?ec(t,"focusout",e.handleEvent,Za):"hover"===n&&(ec(t,"mouseenter",e.handleEvent,Za),ec(t,"mouseleave",e.handleEvent,Za))}),this))},unListen:function(){var e=this,t=["click","focusin","focusout","mouseenter","mouseleave"],n=this.getTarget();this.setRootListener(!1),t.forEach((function(t){n&&tc(n,t,e.handleEvent,Za)}),this)},setRootListener:function(e){var t=this.$root;if(t){var n=e?"$on":"$off",r=this.templateType;t[n]("bv::hide::".concat(r),this.doHide),t[n]("bv::show::".concat(r),this.doShow),t[n]("bv::disable::".concat(r),this.doDisable),t[n]("bv::enable::".concat(r),this.doEnable)}},setWhileOpenListeners:function(e){this.setModalListener(e),this.setDropdownListener(e),this.visibleCheck(e),this.setOnTouchStartListener(e)},visibleCheck:function(e){var t=this;this.clearVisibilityInterval();var n=this.getTarget(),r=this.getTemplateElement();e&&(this.$_visibleInterval=setInterval((function(){!r||!t.localShow||n.parentNode&&At(n)||t.forceHide()}),100))},setModalListener:function(e){this.isInModal()&&this.$root[e?"$on":"$off"](Hb,this.forceHide)},setOnTouchStartListener:function(e){var t=this;"ontouchstart"in document.documentElement&&o(document.body.children).forEach((function(n){nc(e,n,"mouseover",t.$_noop)}))},setDropdownListener:function(e){var t=this.getTarget();t&&this.$root&&this.isDropdown&&t.__vue__&&t.__vue__[e?"$on":"$off"]("shown",this.forceHide)},handleEvent:function(e){var t=this.getTarget();if(t&&!jt(t)&&this.$_enabled&&!this.dropdownOpen()){var n=e.type,r=this.computedTriggers;if("click"===n&&a(r,"click"))this.click(e);else if("mouseenter"===n&&a(r,"hover"))this.enter(e);else if("focusin"===n&&a(r,"focus"))this.enter(e);else if("focusout"===n&&(a(r,"focus")||a(r,"blur"))||"mouseleave"===n&&a(r,"hover")){var i=this.getTemplateElement(),o=e.target,s=e.relatedTarget;if(i&&Vt(i,o)&&Vt(t,s)||i&&Vt(t,o)&&Vt(i,s)||i&&Vt(i,o)&&Vt(i,s)||Vt(t,o)&&Vt(t,s))return;this.leave(e)}}},doHide:function(e){e&&this.getTargetId()!==e&&this.computedId!==e||this.forceHide()},doShow:function(e){e&&this.getTargetId()!==e&&this.computedId!==e||this.show()},doDisable:function(e){e&&this.getTargetId()!==e&&this.computedId!==e||this.disable()},doEnable:function(e){e&&this.getTargetId()!==e&&this.computedId!==e||this.enable()},click:function(e){this.$_enabled&&!this.dropdownOpen()&&(tn(e.currentTarget),this.activeTrigger.click=!this.activeTrigger.click,this.isWithActiveTrigger?this.enter(null):this.leave(null))},toggle:function(){this.$_enabled&&!this.dropdownOpen()&&(this.localShow?this.leave(null):this.enter(null))},enter:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&(this.activeTrigger["focusin"===t.type?"focus":"hover"]=!0),this.localShow||"in"===this.$_hoverState?this.$_hoverState="in":(this.clearHoverTimeout(),this.$_hoverState="in",this.computedDelay.show?(this.fixTitle(),this.$_hoverTimeout=setTimeout((function(){"in"===e.$_hoverState?e.show():e.localShow||e.restoreTitle()}),this.computedDelay.show)):this.show())},leave:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&(this.activeTrigger["focusout"===t.type?"focus":"hover"]=!1,"focusout"===t.type&&a(this.computedTriggers,"blur")&&(this.activeTrigger.click=!1,this.activeTrigger.hover=!1)),this.isWithActiveTrigger||(this.clearHoverTimeout(),this.$_hoverState="out",this.computedDelay.hide?this.$_hoverTimeout=setTimeout((function(){"out"===e.$_hoverState&&e.hide()}),this.computedDelay.hide):this.hide())}}}),Zb="BTooltip",Qb=i.extend({name:Zb,props:{title:{type:String},target:{type:[String,re,ie,Function,Object],required:!0},triggers:{type:[String,Array],default:"hover focus"},placement:{type:String,default:"top"},fallbackPlacement:{type:[String,Array],default:"flip",validator:function(e){return s(e)&&e.every((function(e){return he(e)}))||a(["flip","clockwise","counterclockwise"],e)}},variant:{type:String,default:function(){return Qe(Zb,"variant")}},customClass:{type:String,default:function(){return Qe(Zb,"customClass")}},delay:{type:[Number,Object,String],default:function(){return Qe(Zb,"delay")}},boundary:{type:[String,re,Object],default:function(){return Qe(Zb,"boundary")}},boundaryPadding:{type:[Number,String],default:function(){return Qe(Zb,"boundaryPadding")}},offset:{type:[Number,String],default:0},noFade:{type:Boolean,default:!1},container:{type:[String,re,Object]},show:{type:Boolean,default:!1},noninteractive:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},id:{type:String}},data:function(){return{localShow:this.show,localTitle:"",localContent:""}},computed:{templateData:function(){return{title:this.localTitle,content:this.localContent,target:this.target,triggers:this.triggers,placement:this.placement,fallbackPlacement:this.fallbackPlacement,variant:this.variant,customClass:this.customClass,container:this.container,boundary:this.boundary,boundaryPadding:this.boundaryPadding,delay:this.delay,offset:this.offset,noFade:this.noFade,interactive:!this.noninteractive,disabled:this.disabled,id:this.id}},templateTitleContent:function(){return{title:this.title,content:this.content}}},watch:{show:function(e,t){e!==t&&e!==this.localShow&&this.$_toolpop&&(e?this.$_toolpop.show():this.$_toolpop.forceHide())},disabled:function(e){e?this.doDisable():this.doEnable()},localShow:function(e){this.$emit("update:show",e)},templateData:function(){var e=this;this.$nextTick((function(){e.$_toolpop&&e.$_toolpop.updateData(e.templateData)}))},templateTitleContent:function(){this.$nextTick(this.updateContent)}},created:function(){this.$_toolpop=null},updated:function(){this.$nextTick(this.updateContent)},beforeDestroy:function(){this.$off("open",this.doOpen),this.$off("close",this.doClose),this.$off("disable",this.doDisable),this.$off("enable",this.doEnable),this.$_toolpop&&(this.$_toolpop.$destroy(),this.$_toolpop=null)},mounted:function(){var e=this;this.$nextTick((function(){var t=e.getComponent();e.updateContent();var n=im(e)||im(e.$parent),r=e.$_toolpop=new t({parent:e,_scopeId:n||void 0});r.updateData(e.templateData),r.$on("show",e.onShow),r.$on("shown",e.onShown),r.$on("hide",e.onHide),r.$on("hidden",e.onHidden),r.$on("disabled",e.onDisabled),r.$on("enabled",e.onEnabled),e.disabled&&e.doDisable(),e.$on("open",e.doOpen),e.$on("close",e.doClose),e.$on("disable",e.doDisable),e.$on("enable",e.doEnable),e.localShow&&r.show()}))},methods:{getComponent:function(){return Xb},updateContent:function(){this.setTitle(this.$scopedSlots.default||this.title)},setTitle:function(e){e=de(e)?"":e,this.localTitle!==e&&(this.localTitle=e)},setContent:function(e){e=de(e)?"":e,this.localContent!==e&&(this.localContent=e)},onShow:function(e){this.$emit("show",e),e&&(this.localShow=!e.defaultPrevented)},onShown:function(e){this.localShow=!0,this.$emit("shown",e)},onHide:function(e){this.$emit("hide",e)},onHidden:function(e){this.$emit("hidden",e),this.localShow=!1},onDisabled:function(e){e&&"disabled"===e.type&&(this.$emit("update:disabled",!0),this.$emit("disabled",e))},onEnabled:function(e){e&&"enabled"===e.type&&(this.$emit("update:disabled",!1),this.$emit("enabled",e))},doOpen:function(){!this.localShow&&this.$_toolpop&&this.$_toolpop.show()},doClose:function(){this.localShow&&this.$_toolpop&&this.$_toolpop.hide()},doDisable:function(){this.$_toolpop&&this.$_toolpop.disable()},doEnable:function(){this.$_toolpop&&this.$_toolpop.enable()}},render:function(e){return e()}}),ey="BVPopoverTemplate",ty=i.extend({name:ey,extends:Fb,computed:{templateType:function(){return"popover"}},methods:{renderTemplate:function(e){var t=fe(this.title)?this.title({}):this.title,n=fe(this.content)?this.content({}):this.content,r=this.html&&!fe(this.title)?{innerHTML:this.title}:{},i=this.html&&!fe(this.content)?{innerHTML:this.content}:{};return e("div",{staticClass:"popover b-popover",class:this.templateClasses,attrs:this.templateAttributes,on:this.templateListeners},[e("div",{ref:"arrow",staticClass:"arrow"}),de(t)||""===t?e():e("h3",{staticClass:"popover-header",domProps:r},[t]),de(n)||""===n?e():e("div",{staticClass:"popover-body",domProps:i},[n])])}}}),ny="BVPopover",ry=i.extend({name:ny,extends:Xb,computed:{templateType:function(){return"popover"}},methods:{getTemplate:function(){return ty}}}),iy="BPopover",oy=i.extend({name:iy,extends:Qb,inheritAttrs:!1,props:{title:{type:String},content:{type:String},triggers:{type:[String,Array],default:"click"},placement:{type:String,default:"right"},variant:{type:String,default:function(){return Qe(iy,"variant")}},customClass:{type:String,default:function(){return Qe(iy,"customClass")}},delay:{type:[Number,Object,String],default:function(){return Qe(iy,"delay")}},boundary:{type:[String,re,Object],default:function(){return Qe(iy,"boundary")}},boundaryPadding:{type:[Number,String],default:function(){return Qe(iy,"boundaryPadding")}}},methods:{getComponent:function(){return ry},updateContent:function(){this.setContent(this.$scopedSlots.default||this.content),this.setTitle(this.$scopedSlots.title||this.title)}}});function sy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ay(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sy(Object(n),!0).forEach((function(t){cy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uy="__BV_Popover__",ly="click",dy={focus:!0,hover:!0,click:!0,blur:!0,manual:!0},fy=/^html$/i,py=/^nofade$/i,hy=/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/i,my=/^(window|viewport|scrollParent)$/i,vy=/^d\d+$/i,by=/^ds\d+$/i,yy=/^dh\d+$/i,gy=/^o-?\d+$/i,_y=/^v-.+$/i,Sy=/\s+/,wy=function(e,t){var n="BPopover",r={title:void 0,content:void 0,trigger:"",placement:"right",fallbackPlacement:"flip",container:!1,animation:!0,offset:0,disabled:!1,id:null,html:!1,delay:Qe(n,"delay"),boundary:String(Qe(n,"boundary")),boundaryPadding:it(Qe(n,"boundaryPadding"),0),variant:Qe(n,"variant"),customClass:Qe(n,"customClass")};if(he(e.value)||me(e.value)||fe(e.value)?r.content=e.value:x(e.value)&&(r=ay(ay({},r),e.value)),e.arg&&(r.container="#".concat(e.arg)),ue(r.title)){var i=t.data||{};r.title=i.attrs&&!de(i.attrs.title)?i.attrs.title:void 0}x(r.delay)||(r.delay={show:it(r.delay,0),hide:it(r.delay,0)}),g(e.modifiers).forEach((function(e){if(fy.test(e))r.html=!0;else if(py.test(e))r.animation=!1;else if(hy.test(e))r.placement=e;else if(my.test(e))e="scrollparent"===e?"scrollParent":e,r.boundary=e;else if(vy.test(e)){var t=it(e.slice(1),0);r.delay.show=t,r.delay.hide=t}else by.test(e)?r.delay.show=it(e.slice(2),0):yy.test(e)?r.delay.hide=it(e.slice(2),0):gy.test(e)?r.offset=it(e.slice(1),0):_y.test(e)&&(r.variant=e.slice(2)||null)}));var o={};return c(r.trigger||"").filter(U).join(" ").trim().toLowerCase().split(Sy).forEach((function(e){dy[e]&&(o[e]=!0)})),g(e.modifiers).forEach((function(e){e=e.toLowerCase(),dy[e]&&(o[e]=!0)})),r.trigger=g(o).join(" "),"blur"===r.trigger&&(r.trigger="focus"),r.trigger||(r.trigger=ly),r},xy=function(e,t,n){if($["j"]){var r=wy(t,n);if(!e[uy]){var i=n.context;e[uy]=new ry({parent:i,_scopeId:im(i,void 0)}),e[uy].__bv_prev_data__={},e[uy].$on("show",(function(){var t={};fe(r.title)&&(t.title=r.title(e)),fe(r.content)&&(t.content=r.content(e)),g(t).length>0&&e[uy].updateData(t)}))}var o={title:r.title,content:r.content,triggers:r.trigger,placement:r.placement,fallbackPlacement:r.fallbackPlacement,variant:r.variant,customClass:r.customClass,container:r.container,boundary:r.boundary,delay:r.delay,offset:r.offset,noFade:!r.animation,id:r.id,disabled:r.disabled,html:r.html},s=e[uy].__bv_prev_data__;if(e[uy].__bv_prev_data__=o,!Po(o,s)){var a={target:e};g(o).forEach((function(t){o[t]!==s[t]&&(a[t]="title"!==t&&"content"!==t||!fe(o[t])?o[t]:o[t](e))})),e[uy].updateData(a)}}},Cy=function(e){e[uy]&&(e[uy].$destroy(),e[uy]=null),delete e[uy]},Oy={bind:function(e,t,n){xy(e,t,n)},componentUpdated:function(e,t,n){n.context.$nextTick((function(){xy(e,t,n)}))},unbind:function(e){Cy(e)}},Ty=$e({directives:{VBPopover:Oy}}),Ey=$e({components:{BPopover:oy},plugins:{VBPopoverPlugin:Ty}}),Iy="BProgressBar",ky=i.extend({name:Iy,mixins:[yn],inject:{bvProgress:{default:function(){return{}}}},props:{value:{type:[Number,String],default:0},label:{type:String},labelHtml:{type:String},max:{type:[Number,String],default:null},precision:{type:[Number,String],default:null},variant:{type:String,default:function(){return Qe(Iy,"variant")}},striped:{type:Boolean,default:null},animated:{type:Boolean,default:null},showProgress:{type:Boolean,default:null},showValue:{type:Boolean,default:null}},computed:{progressBarClasses:function(){return[this.computedVariant?"bg-".concat(this.computedVariant):"",this.computedStriped||this.computedAnimated?"progress-bar-striped":"",this.computedAnimated?"progress-bar-animated":""]},progressBarStyles:function(){return{width:this.computedValue/this.computedMax*100+"%"}},computedValue:function(){return ot(this.value,0)},computedMax:function(){var e=ot(this.max)||ot(this.bvProgress.max,0);return e>0?e:100},computedPrecision:function(){return Pn(it(this.precision,it(this.bvProgress.precision,0)),0)},computedProgress:function(){var e=this.computedPrecision,t=Nn(10,e);return st(100*t*this.computedValue/this.computedMax/t,e)},computedVariant:function(){return this.variant||this.bvProgress.variant},computedStriped:function(){return pe(this.striped)?this.striped:this.bvProgress.striped||!1},computedAnimated:function(){return pe(this.animated)?this.animated:this.bvProgress.animated||!1},computedShowProgress:function(){return pe(this.showProgress)?this.showProgress:this.bvProgress.showProgress||!1},computedShowValue:function(){return pe(this.showValue)?this.showValue:this.bvProgress.showValue||!1}},render:function(e){var t=this.label,n=this.labelHtml,r=this.computedValue,i=this.computedPrecision,o=e(),s={};return this.hasNormalizedSlot("default")?o=this.normalizeSlot("default"):t||n?s=so(n,t):this.computedShowProgress?o=this.computedProgress:this.computedShowValue&&(o=st(r,i)),e("div",{staticClass:"progress-bar",class:this.progressBarClasses,style:this.progressBarStyles,attrs:{role:"progressbar","aria-valuemin":"0","aria-valuemax":vt(this.computedMax),"aria-valuenow":st(r,i)},domProps:s},[o])}}),Ry="BProgress",Py=i.extend({name:Ry,mixins:[yn],provide:function(){return{bvProgress:this}},props:{variant:{type:String,default:function(){return Qe(Ry,"variant")}},striped:{type:Boolean,default:!1},animated:{type:Boolean,default:!1},height:{type:String},precision:{type:[Number,String],default:0},showProgress:{type:Boolean,default:!1},showValue:{type:Boolean,default:!1},max:{type:[Number,String],default:100},value:{type:[Number,String],default:0}},computed:{progressHeight:function(){return{height:this.height||null}}},render:function(e){var t=this.normalizeSlot("default");return t||(t=e(ky,{props:{value:this.value,max:this.max,precision:this.precision,variant:this.variant,animated:this.animated,striped:this.striped,showProgress:this.showProgress,showValue:this.showValue}})),e("div",{class:["progress"],style:this.progressHeight},[t])}}),My=$e({components:{BProgress:Py,BProgressBar:ky}});function Ay(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ay(Object(n),!0).forEach((function(t){Ny(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ay(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ny(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dy="BSidebar",By="b-sidebar",Ly=function(e,t){var n=t.normalizeSlot("title",t.slotScope)||vt(t.title)||null;return n?e("strong",{attrs:{id:t.safeId("__title__")}},[n]):e("span")},Fy=function(e,t){if(t.noHeaderClose)return e();var n=t.closeLabel,r=t.textVariant,i=t.hide;return e(wn,{ref:"close-button",props:{ariaLabel:n,textVariant:r},on:{click:i}},[t.normalizeSlot("header-close")||e(Ii)])},Vy=function(e,t){if(t.noHeader)return e();var n=Ly(e,t),r=Fy(e,t);return e("header",{key:"header",staticClass:"".concat(By,"-header"),class:t.headerClass},t.right?[r,n]:[n,r])},Uy=function(e,t){return e("div",{key:"body",staticClass:"".concat(By,"-body"),class:t.bodyClass},[t.normalizeSlot("default",t.slotScope)])},$y=function(e,t){var n=t.normalizeSlot("footer",t.slotScope);return n?e("footer",{key:"footer",staticClass:"".concat(By,"-footer"),class:t.footerClass},[n]):e()},Wy=function(e,t){var n=Vy(e,t);return t.lazy&&!t.isOpen?n:[n,Uy(e,t),$y(e,t)]},zy=function(e,t){if(!t.backdrop)return e();var n=t.backdropVariant;return e("div",{directives:[{name:"show",value:t.localShow}],staticClass:"b-sidebar-backdrop",class:Ny({},"bg-".concat(n),!!n),on:{click:t.onBackdropClick}})},Hy=i.extend({name:Dy,mixins:[wr,cs,Tc,yn],inheritAttrs:!1,model:{prop:"visible",event:"change"},props:{title:{type:String},right:{type:Boolean,default:!1},bgVariant:{type:String,default:function(){return Qe(Dy,"bgVariant")}},textVariant:{type:String,default:function(){return Qe(Dy,"textVariant")}},shadow:{type:[Boolean,String],default:function(){return Qe(Dy,"shadow")}},width:{type:String,default:function(){return Qe(Dy,"width")}},zIndex:{type:[Number,String]},ariaLabel:{type:String},ariaLabelledby:{type:String},closeLabel:{type:String},tag:{type:String,default:function(){return Qe(Dy,"tag")}},sidebarClass:{type:[String,Array,Object]},headerClass:{type:[String,Array,Object]},bodyClass:{type:[String,Array,Object]},footerClass:{type:[String,Array,Object]},backdrop:{type:Boolean,default:!1},backdropVariant:{type:String,default:function(){return Qe(Dy,"backdropVariant")}},noSlide:{type:Boolean,default:!1},noHeader:{type:Boolean,default:!1},noHeaderClose:{type:Boolean,default:!1},noCloseOnEsc:{type:Boolean,default:!1},noCloseOnBackdrop:{type:Boolean,default:!1},noCloseOnRouteChange:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},visible:{type:Boolean,default:!1}},data:function(){return{localShow:!!this.visible,isOpen:!!this.visible}},computed:{transitionProps:function(){return this.noSlide?{css:!0}:{css:!0,enterClass:"",enterActiveClass:"slide",enterToClass:"show",leaveClass:"show",leaveActiveClass:"slide",leaveToClass:""}},slotScope:function(){return{visible:this.localShow,right:this.right,hide:this.hide}},computedTile:function(){return this.normalizeSlot("title",this.slotScope)||vt(this.title)||null},titleId:function(){return this.computedTile?this.safeId("__title__"):null},computedAttrs:function(){return jy(jy({},this.bvAttrs),{},{id:this.safeId(),tabindex:"-1",role:"dialog","aria-modal":this.backdrop?"true":"false","aria-hidden":this.localShow?null:"true","aria-label":this.ariaLabel||null,"aria-labelledby":this.ariaLabelledby||this.titleId||null})}},watch:{visible:function(e,t){e!==t&&(this.localShow=e)},localShow:function(e,t){e!==t&&(this.emitState(e),this.$emit("change",e))},$route:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.noCloseOnRouteChange||e.fullPath===t.fullPath||this.hide()}},created:function(){this.$_returnFocusEl=null},mounted:function(){var e=this;this.listenOnRoot($c,this.handleToggle),this.listenOnRoot(Hc,this.handleSync),this.$nextTick((function(){e.emitState(e.localShow)}))},activated:function(){this.emitSync()},beforeDestroy:function(){this.localShow=!1,this.$_returnFocusEl=null},methods:{hide:function(){this.localShow=!1},emitState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.localShow;this.emitOnRoot(Wc,this.safeId(),e)},emitSync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.localShow;this.emitOnRoot(zc,this.safeId(),e)},handleToggle:function(e){e&&e===this.safeId()&&(this.localShow=!this.localShow)},handleSync:function(e){var t=this;e&&e===this.safeId()&&this.$nextTick((function(){t.emitSync(t.localShow)}))},onKeydown:function(e){var t=e.keyCode;!this.noCloseOnEsc&&t===vr.ESC&&this.localShow&&this.hide()},onBackdropClick:function(){this.localShow&&!this.noCloseOnBackdrop&&this.hide()},onTopTrapFocus:function(){var e=en(this.$refs.content);tn(e.reverse()[0])},onBottomTrapFocus:function(){var e=en(this.$refs.content);tn(e[0])},onBeforeEnter:function(){this.$_returnFocusEl=Rt($["j"]?[document.body]:[]),this.isOpen=!0},onAfterEnter:function(e){Vt(e,Rt())||tn(e),this.$emit("shown")},onAfterLeave:function(){tn(this.$_returnFocusEl),this.$_returnFocusEl=null,this.isOpen=!1,this.$emit("hidden")}},render:function(e){var t,n=this.localShow,r=""===this.shadow||this.shadow,i=e(this.tag,{ref:"content",directives:[{name:"show",value:n}],staticClass:By,class:[(t={shadow:!0===r},Ny(t,"shadow-".concat(r),r&&!0!==r),Ny(t,"".concat(By,"-right"),this.right),Ny(t,"bg-".concat(this.bgVariant),!!this.bgVariant),Ny(t,"text-".concat(this.textVariant),!!this.textVariant),t),this.sidebarClass],attrs:this.computedAttrs,style:{width:this.width}},[Wy(e,this)]);i=e("transition",{props:this.transitionProps,on:{beforeEnter:this.onBeforeEnter,afterEnter:this.onAfterEnter,afterLeave:this.onAfterLeave}},[i]);var o=e(mn,{props:{noFade:this.noSlide}},[zy(e,this)]),s=e(),a=e();return this.backdrop&&this.localShow&&(s=e("div",{attrs:{tabindex:"0"},on:{focus:this.onTopTrapFocus}}),a=e("div",{attrs:{tabindex:"0"},on:{focus:this.onBottomTrapFocus}})),e("div",{staticClass:"b-sidebar-outer",style:{zIndex:this.zIndex},attrs:{tabindex:"-1"},on:{keydown:this.onKeydown}},[s,i,a,o])}}),Gy=$e({components:{BSidebar:Hy},plugins:{VBTogglePlugin:cu}}),qy=$e({components:{BSpinner:Xv}}),Ky={methods:{hasListener:function(e){var t=this.$listeners||{},n=this._events||{};return!ue(t[e])||s(n[e])&&n[e].length>0}}},Yy=/_/g,Jy=/([a-z])([A-Z])/g,Xy=/(\s|^)(\w)/g,Zy=function(e){return e.replace(Yy," ").replace(Jy,(function(e,t,n){return t+" "+n})).replace(Xy,(function(e,t,n){return t+n.toUpperCase()}))},Qy=Zy,eg={_rowVariant:!0,_cellVariants:!0,_showDetails:!0},tg=["a","a *","button","button *","input:not(.disabled):not([disabled])","select:not(.disabled):not([disabled])","textarea:not(.disabled):not([disabled])",'[role="link"]','[role="link"] *','[role="button"]','[role="button"] *',"[tabindex]:not(.disabled):not([disabled])"].join(","),ng=function(e,t){var n=null;return he(t)?n={key:e,label:t}:fe(t)?n={key:e,formatter:t}:w(t)?(n=C(t),n.key=n.key||e):!1!==t&&(n={key:e}),n},rg=function(e,t){var n=[];if(s(e)&&e.filter(U).forEach((function(e){if(he(e))n.push({key:e,label:Qy(e)});else if(w(e)&&e.key&&he(e.key))n.push(C(e));else if(w(e)&&1===g(e).length){var t=g(e)[0],r=ng(t,e[t]);r&&n.push(r)}})),0===n.length&&s(t)&&t.length>0){var r=t[0];g(r).forEach((function(e){eg[e]||n.push({key:e,label:Qy(e)})}))}var i={};return n.filter((function(e){return!i[e.key]&&(i[e.key]=!0,e.label=he(e.label)?e.label:Qy(e.key),!0)}))},ig=rg,og={props:{items:{type:Array,default:function(){return[]}},fields:{type:Array,default:null},primaryKey:{type:String},value:{type:Array,default:function(){return[]}}},data:function(){return{localItems:s(this.items)?this.items.slice():[]}},computed:{computedFields:function(){return ig(this.fields,this.localItems)},computedFieldsObj:function(){var e=this.$parent;return this.computedFields.reduce((function(t,n){if(t[n.key]=C(n),n.formatter){var r=n.formatter;he(r)&&fe(e[r])?r=e[r]:fe(r)||(r=void 0),t[n.key].formatter=r}return t}),{})},computedItems:function(){return(this.paginatedItems||this.sortedItems||this.filteredItems||this.localItems||[]).slice()},context:function(){return{filter:this.localFilter,sortBy:this.localSortBy,sortDesc:this.localSortDesc,perPage:Pn(it(this.perPage,0),0),currentPage:Pn(it(this.currentPage,0),1),apiUrl:this.apiUrl}}},watch:{items:function(e){s(e)?this.localItems=e.slice():de(e)&&(this.localItems=[])},computedItems:function(e){this.$emit("input",e)},context:function(e,t){Po(e,t)||this.$emit("context-changed",e)}},mounted:function(){this.$emit("input",this.computedItems)},methods:{getFieldFormatter:function(e){var t=this.computedFieldsObj[e];return t?t.formatter:void 0}}};function sg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ag={props:{stacked:{type:[Boolean,String],default:!1}},computed:{isStacked:function(){return""===this.stacked||this.stacked},isStackedAlways:function(){return!0===this.isStacked},stackedTableClasses:function(){return sg({"b-table-stacked":this.isStackedAlways},"b-table-stacked-".concat(this.stacked),!this.isStackedAlways&&this.isStacked)}}},cg=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return g(e).reduce((function(i,o){if(!eg[o]&&!(t&&t.length>0&&a(t,o))&&(!(n&&n.length>0)||a(n,o))){var s=r[o]||{},c=e[o],u=s.filterByFormatted,l=fe(u)?u:u?s.formatter:null;i[o]=fe(l)?l(c,o,e):c}return i}),{})},ug=cg,lg=function e(t){return de(t)?"":w(t)&&!ve(t)?g(t).sort().filter((function(e){return!de(e)})).map((function(n){return e(t[n])})).join(" "):vt(t)},dg=lg,fg=function(e,t,n,r){return w(e)?dg(ug(e,t,n,r)):""},pg=fg,hg='Prop "filter-debounce" is deprecated. Use the debounce feature of "<b-form-input>" instead.',mg=/[\s\uFEFF\xA0]+/g,vg={props:{filter:{type:[String,RegExp,Object,Array],default:null},filterFunction:{type:Function},filterIgnoredFields:{type:Array},filterIncludedFields:{type:Array},filterDebounce:{type:[Number,String],deprecated:hg,default:0,validator:function(e){return/^\d+/.test(String(e))}}},data:function(){return{isFiltered:!1,localFilter:this.filterSanitize(this.filter)}},computed:{computedFilterIgnored:function(){return this.filterIgnoredFields?c(this.filterIgnoredFields).filter(U):null},computedFilterIncluded:function(){return this.filterIncludedFields?c(this.filterIncludedFields).filter(U):null},computedFilterDebounce:function(){var e=it(this.filterDebounce,0);return e>0&&Oe(hg,"BTable"),e},localFiltering:function(){return!this.hasProvider||!!this.noProviderFiltering},filteredCheck:function(){return{filteredItems:this.filteredItems,localItems:this.localItems,localFilter:this.localFilter}},localFilterFn:function(){return fe(this.filterFunction)?this.filterFunction:null},filteredItems:function(){var e=this.localItems||[],t=this.localFilter,n=this.localFiltering?this.filterFnFactory(this.localFilterFn,t)||this.defaultFilterFnFactory(t):null;return n&&e.length>0?e.filter(n):e}},watch:{computedFilterDebounce:function(e){!e&&this.$_filterTimer&&(this.clearFilterTimer(),this.localFilter=this.filterSanitize(this.filter))},filter:{deep:!0,handler:function(e){var t=this,n=this.computedFilterDebounce;this.clearFilterTimer(),n&&n>0?this.$_filterTimer=setTimeout((function(){t.localFilter=t.filterSanitize(e)}),n):this.localFilter=this.filterSanitize(e)}},filteredCheck:function(e){var t=e.filteredItems,n=e.localFilter,r=!1;n?Po(n,[])||Po(n,{})?r=!1:n&&(r=!0):r=!1,r&&this.$emit("filtered",t,t.length),this.isFiltered=r},isFiltered:function(e,t){!1===e&&!0===t&&this.$emit("filtered",this.localItems,this.localItems.length)}},created:function(){var e=this;this.$_filterTimer=null,this.$nextTick((function(){e.isFiltered=Boolean(e.localFilter)}))},beforeDestroy:function(){this.clearFilterTimer()},methods:{clearFilterTimer:function(){clearTimeout(this.$_filterTimer),this.$_filterTimer=null},filterSanitize:function(e){return!this.localFiltering||this.localFilterFn||he(e)||ge(e)?F(e):""},filterFnFactory:function(e,t){if(!e||!fe(e)||!t||Po(t,[])||Po(t,{}))return null;var n=function(n){return e(n,t)};return n},defaultFilterFnFactory:function(e){var t=this;if(!e||!he(e)&&!ge(e))return null;var n=e;if(he(n)){var r=mt(e).replace(mg,"\\s+");n=new RegExp(".*".concat(r,".*"),"i")}var i=function(e){return n.lastIndex=0,n.test(pg(e,t.computedFilterIgnored,t.computedFilterIncluded,t.computedFieldsObj))};return i}}},bg=function(e,t){return e.map((function(e,t){return[t,e]})).sort(function(e,t){return this(e[1],t[1])||e[0]-t[0]}.bind(t)).map((function(e){return e[1]}))},yg=bg,gg=function(e,t,n,r,i,o,s,a){var c=Ce(e,n,null),u=Ce(t,n,null);return fe(i)&&(c=i(c,n,e),u=i(u,n,t)),c=de(c)?"":c,u=de(u)?"":u,ve(c)&&ve(u)||me(c)&&me(u)?c<u?-1:c>u?1:0:a&&""===c&&""!==u?1:a&&""!==c&&""===u?-1:dg(c).localeCompare(dg(u),s,o)},_g=gg;function Sg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sg(Object(n),!0).forEach((function(t){xg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cg={props:{sortBy:{type:String,default:""},sortDesc:{type:Boolean,default:!1},sortDirection:{type:String,default:"asc",validator:function(e){return a(["asc","desc","last"],e)}},sortCompare:{type:Function},sortCompareOptions:{type:Object,default:function(){return{numeric:!0}}},sortCompareLocale:{type:[String,Array]},sortNullLast:{type:Boolean,default:!1},noSortReset:{type:Boolean,default:!1},labelSortAsc:{type:String,default:"Click to sort Ascending"},labelSortDesc:{type:String,default:"Click to sort Descending"},labelSortClear:{type:String,default:"Click to clear sorting"},noLocalSorting:{type:Boolean,default:!1},noFooterSorting:{type:Boolean,default:!1},sortIconLeft:{type:Boolean,default:!1}},data:function(){return{localSortBy:this.sortBy||"",localSortDesc:this.sortDesc||!1}},computed:{localSorting:function(){return this.hasProvider?!!this.noProviderSorting:!this.noLocalSorting},isSortable:function(){return this.computedFields.some((function(e){return e.sortable}))},sortedItems:function(){var e=(this.filteredItems||this.localItems||[]).slice(),t=this.localSortBy,n=this.localSortDesc,r=this.sortCompare,i=this.localSorting,o=wg(wg({},this.sortCompareOptions),{},{usage:"sort"}),s=this.sortCompareLocale||void 0,a=this.sortNullLast;if(t&&i){var c=this.computedFieldsObj[t]||{},u=c.sortByFormatted,l=fe(u)?u:u?this.getFieldFormatter(t):void 0;return yg(e,(function(e,i){var c=null;return fe(r)&&(c=r(e,i,t,n,l,o,s)),(de(c)||!1===c)&&(c=_g(e,i,t,n,l,o,s,a)),(c||0)*(n?-1:1)}))}return e}},watch:{isSortable:function(e){e?this.isSortable&&this.$on("head-clicked",this.handleSort):this.$off("head-clicked",this.handleSort)},sortDesc:function(e){e!==this.localSortDesc&&(this.localSortDesc=e||!1)},sortBy:function(e){e!==this.localSortBy&&(this.localSortBy=e||"")},localSortDesc:function(e,t){e!==t&&this.$emit("update:sortDesc",e)},localSortBy:function(e,t){e!==t&&this.$emit("update:sortBy",e)}},created:function(){this.isSortable&&this.$on("head-clicked",this.handleSort)},methods:{handleSort:function(e,t,n,r){var i=this;if(this.isSortable&&(!r||!this.noFooterSorting)){var o=!1,s=function(){var e=t.sortDirection||i.sortDirection;"asc"===e?i.localSortDesc=!1:"desc"===e&&(i.localSortDesc=!0)};t.sortable?(e===this.localSortBy?this.localSortDesc=!this.localSortDesc:(this.localSortBy=e,s()),o=!0):this.localSortBy&&!this.noSortReset&&(this.localSortBy="",s(),o=!0),o&&this.$emit("sort-changed",this.context)}},sortTheadThClasses:function(e,t,n){return{"b-table-sort-icon-left":t.sortable&&this.sortIconLeft&&!(n&&this.noFooterSorting)}},sortTheadThAttrs:function(e,t,n){if(!this.isSortable||n&&this.noFooterSorting)return{};var r=t.sortable,i=r&&this.localSortBy===e?this.localSortDesc?"descending":"ascending":r?"none":null;return{"aria-sort":i}},sortTheadThLabel:function(e,t,n){if(!this.isSortable||n&&this.noFooterSorting)return null;var r=t.sortable,i="";if(r)if(this.localSortBy===e)i=this.localSortDesc?this.labelSortAsc:this.labelSortDesc;else{i=this.localSortDesc?this.labelSortDesc:this.labelSortAsc;var o=this.sortDirection||t.sortDirection;"asc"===o?i=this.labelSortAsc:"desc"===o&&(i=this.labelSortDesc)}else this.noSortReset||(i=this.localSortBy?this.labelSortClear:"");return yt(i)||null}}},Og={props:{perPage:{type:[Number,String],default:0},currentPage:{type:[Number,String],default:1}},computed:{localPaging:function(){return!this.hasProvider||!!this.noProviderPaging},paginatedItems:function(){var e=this.sortedItems||this.filteredItems||this.localItems||[],t=Pn(it(this.currentPage,1),1),n=Pn(it(this.perPage,0),0);return this.localPaging&&n&&(e=e.slice((t-1)*n,t*n)),e}}},Tg={props:{caption:{type:String},captionHtml:{type:String}},computed:{captionId:function(){return this.isStacked?this.safeId("_caption_"):null}},methods:{renderCaption:function(){var e=this.caption,t=this.captionHtml,n=this.$createElement,r=n(),i=this.hasNormalizedSlot("table-caption");return(i||e||t)&&(r=n("caption",{key:"caption",attrs:{id:this.captionId},domProps:i?{}:so(t,e)},this.normalizeSlot("table-caption"))),r}}},Eg={methods:{renderColgroup:function(){var e=this.$createElement,t=this.computedFields,n=e();return this.hasNormalizedSlot("table-colgroup")&&(n=e("colgroup",{key:"colgroup"},[this.normalizeSlot("table-colgroup",{columns:t.length,fields:t})])),n}}},Ig=["TD","TH","TR"],kg=function(e){if(!e||!e.target)return!1;var t=e.target;if(t.disabled||-1!==Ig.indexOf(t.tagName))return!1;if(Ft(".dropdown-menu",t))return!0;var n="LABEL"===t.tagName?t:Ft("label",t);if(n){var r=qt(n,"for"),i=r?Ut(r):Bt("input, select, textarea",n);if(i&&!i.disabled)return!0}return Lt(t,tg)},Rg=kg,Pg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=Xt();return!!(t&&""!==t.toString().trim()&&t.containsNode&&kt(e))&&t.containsNode(e,!0)},Mg=Pg;function Ag(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ag(Object(n),!0).forEach((function(t){Ng(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ag(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ng(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dg={headVariant:{type:String,default:null}},Bg=i.extend({name:"BThead",mixins:[wr,xr,yn],inheritAttrs:!1,provide:function(){return{bvTableRowGroup:this}},inject:{bvTable:{default:function(){return{}}}},props:Dg,computed:{isThead:function(){return!0},isDark:function(){return this.bvTable.dark},isStacked:function(){return this.bvTable.isStacked},isResponsive:function(){return this.bvTable.isResponsive},isStickyHeader:function(){return!this.isStacked&&this.bvTable.stickyHeader},hasStickyHeader:function(){return!this.isStacked&&this.bvTable.stickyHeader},tableVariant:function(){return this.bvTable.tableVariant},theadClasses:function(){return[this.headVariant?"thead-".concat(this.headVariant):null]},theadAttrs:function(){return jg({role:"rowgroup"},this.bvAttrs)}},render:function(e){return e("thead",{class:this.theadClasses,attrs:this.theadAttrs,on:this.bvListeners},this.normalizeSlot("default"))}});function Lg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lg(Object(n),!0).forEach((function(t){Vg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ug={footVariant:{type:String,default:null}},$g=i.extend({name:"BTfoot",mixins:[wr,xr,yn],inheritAttrs:!1,provide:function(){return{bvTableRowGroup:this}},inject:{bvTable:{default:function(){return{}}}},props:Ug,computed:{isTfoot:function(){return!0},isDark:function(){return this.bvTable.dark},isStacked:function(){return this.bvTable.isStacked},isResponsive:function(){return this.bvTable.isResponsive},isStickyHeader:function(){return!1},hasStickyHeader:function(){return!this.isStacked&&this.bvTable.stickyHeader},tableVariant:function(){return this.bvTable.tableVariant},tfootClasses:function(){return[this.footVariant?"thead-".concat(this.footVariant):null]},tfootAttrs:function(){return Fg({role:"rowgroup"},this.bvAttrs)}},render:function(e){return e("tfoot",{class:this.tfootClasses,attrs:this.tfootAttrs,on:this.bvListeners},this.normalizeSlot("default"))}});function Wg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wg(Object(n),!0).forEach((function(t){Hg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gg={variant:{type:String,default:null}},qg="light",Kg="dark",Yg=i.extend({name:"BTr",mixins:[wr,xr,yn],inheritAttrs:!1,provide:function(){return{bvTableTr:this}},inject:{bvTableRowGroup:{default:function(){return{}}}},props:Gg,computed:{inTbody:function(){return this.bvTableRowGroup.isTbody},inThead:function(){return this.bvTableRowGroup.isThead},inTfoot:function(){return this.bvTableRowGroup.isTfoot},isDark:function(){return this.bvTableRowGroup.isDark},isStacked:function(){return this.bvTableRowGroup.isStacked},isResponsive:function(){return this.bvTableRowGroup.isResponsive},isStickyHeader:function(){return this.bvTableRowGroup.isStickyHeader},hasStickyHeader:function(){return!this.isStacked&&this.bvTableRowGroup.hasStickyHeader},tableVariant:function(){return this.bvTableRowGroup.tableVariant},headVariant:function(){return this.inThead?this.bvTableRowGroup.headVariant:null},footVariant:function(){return this.inTfoot?this.bvTableRowGroup.footVariant:null},isRowDark:function(){return this.headVariant!==qg&&this.footVariant!==qg&&(this.headVariant===Kg||this.footVariant===Kg||this.isDark)},trClasses:function(){return[this.variant?"".concat(this.isRowDark?"bg":"table","-").concat(this.variant):null]},trAttrs:function(){return zg({role:"row"},this.bvAttrs)}},render:function(e){return e("tr",{class:this.trClasses,attrs:this.trAttrs,on:this.bvListeners},this.normalizeSlot("default"))}});function Jg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jg(Object(n),!0).forEach((function(t){Zg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qg=function(e){return e=it(e,0),e>0?e:null},e_=function(e){return de(e)||Qg(e)>0},t_={variant:{type:String,default:null},colspan:{type:[Number,String],default:null,validator:e_},rowspan:{type:[Number,String],default:null,validator:e_},stackedHeading:{type:String,default:null},stickyColumn:{type:Boolean,default:!1}},n_=i.extend({name:"BTableCell",mixins:[wr,xr,yn],inheritAttrs:!1,inject:{bvTableTr:{default:function(){return{}}}},props:t_,computed:{tag:function(){return"td"},inTbody:function(){return this.bvTableTr.inTbody},inThead:function(){return this.bvTableTr.inThead},inTfoot:function(){return this.bvTableTr.inTfoot},isDark:function(){return this.bvTableTr.isDark},isStacked:function(){return this.bvTableTr.isStacked},isStackedCell:function(){return this.inTbody&&this.isStacked},isResponsive:function(){return this.bvTableTr.isResponsive},isStickyHeader:function(){return this.bvTableTr.isStickyHeader},hasStickyHeader:function(){return this.bvTableTr.hasStickyHeader},isStickyColumn:function(){return!this.isStacked&&(this.isResponsive||this.hasStickyHeader)&&this.stickyColumn},rowVariant:function(){return this.bvTableTr.variant},headVariant:function(){return this.bvTableTr.headVariant},footVariant:function(){return this.bvTableTr.footVariant},tableVariant:function(){return this.bvTableTr.tableVariant},computedColspan:function(){return Qg(this.colspan)},computedRowspan:function(){return Qg(this.rowspan)},cellClasses:function(){var e=this.variant;return(!e&&this.isStickyHeader&&!this.headVariant||!e&&this.isStickyColumn&&this.inTfoot&&!this.footVariant||!e&&this.isStickyColumn&&this.inThead&&!this.headVariant||!e&&this.isStickyColumn&&this.inTbody)&&(e=this.rowVariant||this.tableVariant||"b-table-default"),[e?"".concat(this.isDark?"bg":"table","-").concat(e):null,this.isStickyColumn?"b-table-sticky-column":null]},cellAttrs:function(){var e=this.inThead||this.inTfoot,t=this.computedColspan,n=this.computedRowspan,r="cell",i=null;return e?(r="columnheader",i=t>0?"colspan":"col"):Pt(this.tag,"th")&&(r="rowheader",i=n>0?"rowgroup":"row"),Xg(Xg({colspan:t,rowspan:n,role:r,scope:i},this.bvAttrs),{},{"data-label":this.isStackedCell&&!de(this.stackedHeading)?vt(this.stackedHeading):null})}},render:function(e){var t=[this.normalizeSlot("default")];return e(this.tag,{class:this.cellClasses,attrs:this.cellAttrs,on:this.bvListeners},[this.isStackedCell?e("div",[t]):t])}}),r_=i.extend({name:"BTh",extends:n_,computed:{tag:function(){return"th"}}});function i_(e){return c_(e)||a_(e)||s_(e)||o_()}function o_(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s_(e,t){if(e){if("string"===typeof e)return u_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u_(e,t):void 0}}function a_(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function c_(e){if(Array.isArray(e))return u_(e)}function u_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l_(Object(n),!0).forEach((function(t){f_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p_={props:{headVariant:{type:String,default:function(){return Qe("BTable","headVariant")}},headRowVariant:{type:String},theadClass:{type:[String,Array,Object]},theadTrClass:{type:[String,Array,Object]}},methods:{fieldClasses:function(e){return[e.class?e.class:"",e.thClass?e.thClass:""]},headClicked:function(e,t,n){this.stopIfBusy&&this.stopIfBusy(e)||Rg(e)||Mg(this.$el)||(e.stopPropagation(),e.preventDefault(),this.$emit("head-clicked",t.key,t,e,n))},renderThead:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.$createElement,r=this.computedFields||[];if(this.isStackedAlways||0===r.length)return n();var i=this.isSortable,o=this.isSelectable,s=this.headVariant,a=this.footVariant,c=this.headRowVariant,u=this.footRowVariant,l=i||this.hasListener("head-clicked"),d=o?this.selectAllRows:Ha,f=o?this.clearSelected:Ha,p=function(r,o){var s=r.label,a=r.labelHtml,c=r.variant,u=r.stickyColumn,p=r.key,h=null;r.label.trim()||r.headerTitle||(h=Qy(r.key));var m={};l&&(m.click=function(n){e.headClicked(n,r,t)},m.keydown=function(n){var i=n.keyCode;i!==vr.ENTER&&i!==vr.SPACE||e.headClicked(n,r,t)});var v=i?e.sortTheadThAttrs(p,r,t):{},b=i?e.sortTheadThClasses(p,r,t):null,y=i?e.sortTheadThLabel(p,r,t):null,g={class:[e.fieldClasses(r),b],props:{variant:c,stickyColumn:u},style:r.thStyle||{},attrs:d_(d_({tabindex:l?"0":null,abbr:r.headerAbbr||null,title:r.headerTitle||null,"aria-colindex":o+1,"aria-label":h},e.getThValues(null,p,r.thAttr,t?"foot":"head",{})),v),on:m,key:p},_=["head(".concat(p,")"),"head(".concat(p.toLowerCase(),")"),"head()"];t&&(_=["foot(".concat(p,")"),"foot(".concat(p.toLowerCase(),")"),"foot()"].concat(i_(_)));var S={label:s,column:p,field:r,isFoot:t,selectAllRows:d,clearSelected:f},w=e.normalizeSlot(_,S)||n("div",{domProps:so(a,s)}),x=y?n("span",{staticClass:"sr-only"}," (".concat(y,")")):null;return n(r_,g,[w,x].filter(U))},h=r.map(p).filter(U),m=[];if(t)m.push(n(Yg,{class:this.tfootTrClass,props:{variant:de(u)?c:u}},h));else{var v={columns:r.length,fields:r,selectAllRows:d,clearSelected:f};m.push(this.normalizeSlot("thead-top",v)||n()),m.push(n(Yg,{class:this.theadTrClass,props:{variant:c}},h))}return n(t?$g:Bg,{key:t?"bv-tfoot":"bv-thead",class:(t?this.tfootClass:this.theadClass)||null,props:t?{footVariant:a||s||null}:{headVariant:s||null}},m)}}},h_={props:{footClone:{type:Boolean,default:!1},footVariant:{type:String,default:function(){return Qe("BTable","footVariant")}},footRowVariant:{type:String},tfootClass:{type:[String,Array,Object]},tfootTrClass:{type:[String,Array,Object]}},methods:{renderTFootCustom:function(){var e=this.$createElement;return this.hasNormalizedSlot("custom-foot")?e($g,{key:"bv-tfoot-custom",class:this.tfootClass||null,props:{footVariant:this.footVariant||this.headVariant||null}},this.normalizeSlot("custom-foot",{items:this.computedItems.slice(),fields:this.computedFields.slice(),columns:this.computedFields.length})):e()},renderTfoot:function(){return this.footClone?this.renderThead(!0):this.renderTFootCustom()}}};function m_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m_(Object(n),!0).forEach((function(t){b_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y_={tbodyTransitionProps:{type:Object},tbodyTransitionHandlers:{type:Object}},g_=i.extend({name:"BTbody",mixins:[wr,xr,yn],inheritAttrs:!1,provide:function(){return{bvTableRowGroup:this}},inject:{bvTable:{default:function(){return{}}}},props:y_,computed:{isTbody:function(){return!0},isDark:function(){return this.bvTable.dark},isStacked:function(){return this.bvTable.isStacked},isResponsive:function(){return this.bvTable.isResponsive},isStickyHeader:function(){return!1},hasStickyHeader:function(){return!this.isStacked&&this.bvTable.stickyHeader},tableVariant:function(){return this.bvTable.tableVariant},isTransitionGroup:function(){return this.tbodyTransitionProps||this.tbodyTransitionHandlers},tbodyAttrs:function(){return v_({role:"rowgroup"},this.bvAttrs)},tbodyProps:function(){return this.tbodyTransitionProps?v_(v_({},this.tbodyTransitionProps),{},{tag:"tbody"}):{}}},render:function(e){var t={props:this.tbodyProps,attrs:this.tbodyAttrs};return this.isTransitionGroup?(t.on=this.tbodyTransitionHandlers||{},t.nativeOn=this.bvListeners):t.on=this.bvListeners,e(this.isTransitionGroup?"transition-group":"tbody",t,this.normalizeSlot("default"))}});function __(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?__(Object(n),!0).forEach((function(t){w_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):__(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x_="row-details",C_={props:{tbodyTrClass:{type:[String,Array,Object,Function]},tbodyTrAttr:{type:[Object,Function]},detailsTdClass:{type:[String,Array,Object]}},methods:{getTdValues:function(e,t,n,r){var i=this.$parent;if(n){var o=Ce(e,t,"");return fe(n)?n(o,t,e):he(n)&&fe(i[n])?i[n](o,t,e):n}return r},getThValues:function(e,t,n,r,i){var o=this.$parent;if(n){var s=Ce(e,t,"");return fe(n)?n(s,t,e,r):he(n)&&fe(o[n])?o[n](s,t,e,r):n}return i},getFormattedValue:function(e,t){var n=t.key,r=this.getFieldFormatter(n),i=Ce(e,n,null);return fe(r)&&(i=r(i,n,e)),de(i)?"":i},toggleDetailsFactory:function(e,t){var n=this;return function(){e&&n.$set(t,"_showDetails",!t._showDetails)}},rowHovered:function(e){this.tbodyRowEvtStopped(e)||this.emitTbodyRowEvent("row-hovered",e)},rowUnhovered:function(e){this.tbodyRowEvtStopped(e)||this.emitTbodyRowEvent("row-unhovered",e)},renderTbodyRowCell:function(e,t,n,r){var i=this,o=this.$createElement,s=this.hasNormalizedSlot(x_),a=this.getFormattedValue(n,e),c=e.key,u=!this.isStacked&&(this.isResponsive||this.stickyHeader)&&e.stickyColumn,l=u?e.isRowHeader?r_:n_:e.isRowHeader?"th":"td",d=n._cellVariants&&n._cellVariants[c]?n._cellVariants[c]:e.variant||null,f={key:"row-".concat(r,"-cell-").concat(t,"-").concat(c),class:[e.class?e.class:"",this.getTdValues(n,c,e.tdClass,"")],props:{},attrs:S_({"aria-colindex":String(t+1)},e.isRowHeader?this.getThValues(n,c,e.thAttr,"row",{}):this.getTdValues(n,c,e.tdAttr,{}))};u?f.props={stackedHeading:this.isStacked?e.label:null,stickyColumn:!0,variant:d}:(f.attrs["data-label"]=this.isStacked&&!de(e.label)?vt(e.label):null,f.attrs.role=e.isRowHeader?"rowheader":"cell",f.attrs.scope=e.isRowHeader?"row":null,d&&f.class.push("".concat(this.dark?"bg":"table","-").concat(d)));var p={item:n,index:r,field:e,unformatted:Ce(n,c,""),value:a,toggleDetails:this.toggleDetailsFactory(s,n),detailsShowing:Boolean(n._showDetails)};this.supportsSelectableRows&&(p.rowSelected=this.isRowSelected(r),p.selectRow=function(){return i.selectRow(r)},p.unselectRow=function(){return i.unselectRow(r)});var h=this.$_bodyFieldSlotNameCache[c],m=h?this.normalizeSlot(h,p):vt(a);return this.isStacked&&(m=[o("div",[m])]),o(l,f,[m])},renderTbodyRow:function(e,t){var n=this,r=this.$createElement,i=this.computedFields,o=this.striped,s=this.hasNormalizedSlot(x_),a=e._showDetails&&s,c=this.$listeners["row-clicked"]||this.hasSelectableRowClick,u=[],l=a?this.safeId("_details_".concat(t,"_")):null,d=i.map((function(r,i){return n.renderTbodyRowCell(r,i,e,t)})),f=null;this.currentPage&&this.perPage&&this.perPage>0&&(f=String((this.currentPage-1)*this.perPage+t+1));var p=this.primaryKey,h=vt(Ce(e,p))||null,m=h||vt(t),v=h?this.safeId("_row_".concat(h)):null,b=this.selectableRowClasses?this.selectableRowClasses(t):{},y=this.selectableRowAttrs?this.selectableRowAttrs(t):{},g=fe(this.tbodyTrClass)?this.tbodyTrClass(e,"row"):this.tbodyTrClass,_=fe(this.tbodyTrAttr)?this.tbodyTrAttr(e,"row"):this.tbodyTrAttr;if(u.push(r(Yg,{key:"__b-table-row-".concat(m,"__"),ref:"itemRows",refInFor:!0,class:[g,b,a?"b-table-has-details":""],props:{variant:e._rowVariant||null},attrs:S_(S_({id:v},_),{},{tabindex:c?"0":null,"data-pk":h||null,"aria-details":l,"aria-owns":l,"aria-rowindex":f},y),on:{mouseenter:this.rowHovered,mouseleave:this.rowUnhovered}},d)),a){var S={item:e,index:t,fields:i,toggleDetails:this.toggleDetailsFactory(s,e)};this.supportsSelectableRows&&(S.rowSelected=this.isRowSelected(t),S.selectRow=function(){return n.selectRow(t)},S.unselectRow=function(){return n.unselectRow(t)});var w=r(n_,{props:{colspan:i.length},class:this.detailsTdClass},[this.normalizeSlot(x_,S)]);o&&u.push(r("tr",{key:"__b-table-details-stripe__".concat(m),staticClass:"d-none",attrs:{"aria-hidden":"true",role:"presentation"}}));var x=fe(this.tbodyTrClass)?this.tbodyTrClass(e,x_):this.tbodyTrClass,C=fe(this.tbodyTrAttr)?this.tbodyTrAttr(e,x_):this.tbodyTrAttr;u.push(r(Yg,{key:"__b-table-details__".concat(m),staticClass:"b-table-details",class:[x],props:{variant:e._rowVariant||null},attrs:S_(S_({},C),{},{id:l,tabindex:"-1"})},[w]))}else s&&(u.push(r()),o&&u.push(r()));return u}}};function O_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O_(Object(n),!0).forEach((function(t){E_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I_=T_(T_({},y_),{},{tbodyClass:{type:[String,Array,Object]}}),k_={mixins:[C_],props:I_,beforeDestroy:function(){this.$_bodyFieldSlotNameCache=null},methods:{getTbodyTrs:function(){var e=this.$refs||{},t=e.tbody?e.tbody.$el||e.tbody:null,n=(e.itemRows||[]).map((function(e){return e.$el||e}));return t&&t.children&&t.children.length>0&&n&&n.length>0?o(t.children).filter((function(e){return a(n,e)})):[]},getTbodyTrIndex:function(e){if(!kt(e))return-1;var t="TR"===e.tagName?e:Ft("tr",e,!0);return t?this.getTbodyTrs().indexOf(t):-1},emitTbodyRowEvent:function(e,t){if(e&&this.hasListener(e)&&t&&t.target){var n=this.getTbodyTrIndex(t.target);if(n>-1){var r=this.computedItems[n];this.$emit(e,r,n,t)}}},tbodyRowEvtStopped:function(e){return this.stopIfBusy&&this.stopIfBusy(e)},onTbodyRowKeydown:function(e){var t=e.target;if(!this.tbodyRowEvtStopped(e)&&"TR"===t.tagName&&Mt(t)&&0===t.tabIndex){var n=e.keyCode;if(a([vr.ENTER,vr.SPACE],n))e.stopPropagation(),e.preventDefault(),this.onTBodyRowClicked(e);else if(a([vr.UP,vr.DOWN,vr.HOME,vr.END],n)){var r=this.getTbodyTrIndex(t);if(r>-1){e.stopPropagation(),e.preventDefault();var i=this.getTbodyTrs(),o=e.shiftKey;n===vr.HOME||o&&n===vr.UP?tn(i[0]):n===vr.END||o&&n===vr.DOWN?tn(i[i.length-1]):n===vr.UP&&r>0?tn(i[r-1]):n===vr.DOWN&&r<i.length-1&&tn(i[r+1])}}}},onTBodyRowClicked:function(e){this.tbodyRowEvtStopped(e)||Rg(e)||Mg(this.$el)||this.emitTbodyRowEvent("row-clicked",e)},onTbodyRowMiddleMouseRowClicked:function(e){this.tbodyRowEvtStopped(e)||2!==e.which||this.emitTbodyRowEvent("row-middle-clicked",e)},onTbodyRowContextmenu:function(e){this.tbodyRowEvtStopped(e)||this.emitTbodyRowEvent("row-contextmenu",e)},onTbodyRowDblClicked:function(e){this.tbodyRowEvtStopped(e)||Rg(e)||this.emitTbodyRowEvent("row-dblclicked",e)},renderTbody:function(){var e=this,t=this.computedItems,n=this.$createElement,r=this.hasListener("row-clicked")||this.hasSelectableRowClick,i=[],o=this.renderBusy?this.renderBusy():null;if(o)i.push(o);else{var s={},a=this.hasNormalizedSlot("cell()")?"cell()":null;this.computedFields.forEach((function(t){var n=t.key,r="cell(".concat(n,")"),i="cell(".concat(n.toLowerCase(),")");s[n]=e.hasNormalizedSlot(r)?r:e.hasNormalizedSlot(i)?i:a})),this.$_bodyFieldSlotNameCache=s,i.push(this.renderTopRow?this.renderTopRow():n()),t.forEach((function(t,n){i.push(e.renderTbodyRow(t,n))})),i.push(this.renderEmpty?this.renderEmpty():n()),i.push(this.renderBottomRow?this.renderBottomRow():n())}var c={auxclick:this.onTbodyRowMiddleMouseRowClicked,contextmenu:this.onTbodyRowContextmenu,dblclick:this.onTbodyRowDblClicked};r&&(c.click=this.onTBodyRowClicked,c.keydown=this.onTbodyRowKeydown);var u=n(g_,{ref:"tbody",class:this.tbodyClass||null,props:{tbodyTransitionProps:this.tbodyTransitionProps,tbodyTransitionHandlers:this.tbodyTransitionHandlers},on:c},i);return u}}},R_={props:{showEmpty:{type:Boolean,default:!1},emptyText:{type:String,default:"There are no records to show"},emptyHtml:{type:String},emptyFilteredText:{type:String,default:"There are no records matching your request"},emptyFilteredHtml:{type:String}},methods:{renderEmpty:function(){var e=this.$createElement,t=this.computedItems,n=e();if(this.showEmpty&&(!t||0===t.length)&&(!this.computedBusy||!this.hasNormalizedSlot("table-busy"))){var r=this.isFiltered,i=this.emptyText,o=this.emptyHtml,s=this.emptyFilteredText,a=this.emptyFilteredHtml,c=this.computedFields,u=this.tbodyTrClass,l=this.tbodyTrAttr;n=this.normalizeSlot(this.isFiltered?"emptyfiltered":"empty",{emptyFilteredHtml:a,emptyFilteredText:s,emptyHtml:o,emptyText:i,fields:c,items:this.computedItems}),n||(n=e("div",{class:["text-center","my-2"],domProps:r?so(a,s):so(o,i)})),n=e(n_,{props:{colspan:c.length||null}},[e("div",{attrs:{role:"alert","aria-live":"polite"}},[n])]),n=e(Yg,{staticClass:"b-table-empty-row",class:[fe(u)?this.tbodyTrClass(null,"row-empty"):u],attrs:fe(l)?this.tbodyTrAttr(null,"row-empty"):l,key:r?"b-empty-filtered-row":"b-empty-row"},[n])}return n}}},P_="top-row",M_={methods:{renderTopRow:function(){var e=this.$createElement;if(!this.hasNormalizedSlot(P_)||!0===this.stacked||""===this.stacked)return e();var t=this.computedFields;return e(Yg,{key:"b-top-row",staticClass:"b-table-top-row",class:[fe(this.tbodyTrClass)?this.tbodyTrClass(null,"row-top"):this.tbodyTrClass],attrs:fe(this.tbodyTrAttr)?this.tbodyTrAttr(null,"row-top"):this.tbodyTrAttr},[this.normalizeSlot(P_,{columns:t.length,fields:t})])}}},A_="bottom-row",j_={methods:{renderBottomRow:function(){var e=this.$createElement;if(!this.hasNormalizedSlot(A_)||!0===this.stacked||""===this.stacked)return e();var t=this.computedFields;return e(Yg,{key:"b-bottom-row",staticClass:"b-table-bottom-row",class:[fe(this.tbodyTrClass)?this.tbodyTrClass(null,"row-bottom"):this.tbodyTrClass],attrs:fe(this.tbodyTrAttr)?this.tbodyTrAttr(null,"row-bottom"):this.tbodyTrAttr},this.normalizeSlot(A_,{columns:t.length,fields:t}))}}},N_="table-busy",D_={props:{busy:{type:Boolean,default:!1}},data:function(){return{localBusy:!1}},computed:{computedBusy:function(){return this.busy||this.localBusy}},watch:{localBusy:function(e,t){e!==t&&this.$emit("update:busy",e)}},methods:{stopIfBusy:function(e){return!!this.computedBusy&&(e.preventDefault(),e.stopPropagation(),!0)},renderBusy:function(){var e=this.$createElement;return this.computedBusy&&this.hasNormalizedSlot(N_)?e(Yg,{key:"table-busy-slot",staticClass:"b-table-busy-slot",class:[fe(this.tbodyTrClass)?this.tbodyTrClass(null,N_):this.tbodyTrClass],attrs:fe(this.tbodyTrAttr)?this.tbodyTrAttr(null,N_):this.tbodyTrAttr},[e(n_,{props:{colspan:this.computedFields.length||null}},[this.normalizeSlot(N_)])]):null}}};function B_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L_={props:{selectable:{type:Boolean,default:!1},selectMode:{type:String,default:"multi",validator:function(e){return a(["range","multi","single"],e)}},selectedVariant:{type:String,default:function(){return Qe("BTable","selectedVariant")}},noSelectOnClick:{type:Boolean,default:!1}},data:function(){return{selectedRows:[],selectedLastRow:-1}},computed:{isSelectable:function(){return this.selectable&&this.selectMode},hasSelectableRowClick:function(){return this.isSelectable&&!this.noSelectOnClick},supportsSelectableRows:function(){return!0},selectableHasSelection:function(){return this.isSelectable&&this.selectedRows&&this.selectedRows.length>0&&this.selectedRows.some(U)},selectableIsMultiSelect:function(){return this.isSelectable&&a(["range","multi"],this.selectMode)},selectableTableClasses:function(){var e;return e={"b-table-selectable":this.isSelectable},B_(e,"b-table-select-".concat(this.selectMode),this.isSelectable),B_(e,"b-table-selecting",this.selectableHasSelection),B_(e,"b-table-selectable-no-click",this.isSelectable&&!this.hasSelectableRowClick),e},selectableTableAttrs:function(){return{"aria-multiselectable":this.isSelectable?this.selectableIsMultiSelect?"true":"false":null}}},watch:{computedItems:function(e,t){var n=!1;if(this.isSelectable&&this.selectedRows.length>0){n=s(e)&&s(t)&&e.length===t.length;for(var r=0;n&&r<e.length;r++)n=Po(ug(e[r]),ug(t[r]))}n||this.clearSelected()},selectable:function(e){this.clearSelected(),this.setSelectionHandlers(e)},selectMode:function(){this.clearSelected()},hasSelectableRowClick:function(e){this.clearSelected(),this.setSelectionHandlers(!e)},selectedRows:function(e,t){var n=this;if(this.isSelectable&&!Po(e,t)){var r=[];e.forEach((function(e,t){e&&r.push(n.computedItems[t])})),this.$emit("row-selected",r)}}},beforeMount:function(){this.isSelectable&&this.setSelectionHandlers(!0)},methods:{selectRow:function(e){if(this.isSelectable&&me(e)&&e>=0&&e<this.computedItems.length&&!this.isRowSelected(e)){var t=this.selectableIsMultiSelect?this.selectedRows.slice():[];t[e]=!0,this.selectedLastClicked=-1,this.selectedRows=t}},unselectRow:function(e){if(this.isSelectable&&me(e)&&this.isRowSelected(e)){var t=this.selectedRows.slice();t[e]=!1,this.selectedLastClicked=-1,this.selectedRows=t}},selectAllRows:function(){var e=this.computedItems.length;this.isSelectable&&e>0&&(this.selectedLastClicked=-1,this.selectedRows=this.selectableIsMultiSelect?ob(e).map((function(){return!0})):[!0])},isRowSelected:function(e){return!(!me(e)||!this.selectedRows[e])},clearSelected:function(){this.selectedLastClicked=-1,this.selectedRows=[]},selectableRowClasses:function(e){if(this.isSelectable&&this.isRowSelected(e)){var t=this.selectedVariant;return B_({"b-table-row-selected":!0},"".concat(this.dark?"bg":"table","-").concat(t),t)}return{}},selectableRowAttrs:function(e){return{"aria-selected":this.isSelectable?this.isRowSelected(e)?"true":"false":null}},setSelectionHandlers:function(e){var t=e&&!this.noSelectOnClick?"$on":"$off";this[t]("row-clicked",this.selectionHandler),this[t]("filtered",this.clearSelected),this[t]("context-changed",this.clearSelected)},selectionHandler:function(e,t,n){if(this.isSelectable&&!this.noSelectOnClick){var r=this.selectMode,i=this.selectedRows.slice(),o=!i[t];if("single"===r)i=[];else if("range"===r)if(this.selectedLastRow>-1&&n.shiftKey){for(var s=Rn(this.selectedLastRow,t);s<=Pn(this.selectedLastRow,t);s++)i[s]=!0;o=!0}else n.ctrlKey||n.metaKey||(i=[],o=!0),this.selectedLastRow=o?t:-1;i[t]=o,this.selectedRows=i}else this.clearSelected()}}},F_={mixins:[Tc],props:{items:{type:[Array,Function],default:function(){return[]}},noProviderPaging:{type:Boolean,default:!1},noProviderSorting:{type:Boolean,default:!1},noProviderFiltering:{type:Boolean,default:!1},apiUrl:{type:String,default:""}},computed:{hasProvider:function(){return fe(this.items)},providerTriggerContext:function(){var e={apiUrl:this.apiUrl,filter:null,sortBy:null,sortDesc:null,perPage:null,currentPage:null};return this.noProviderFiltering||(e.filter=this.localFilter),this.noProviderSorting||(e.sortBy=this.localSortBy,e.sortDesc=this.localSortDesc),this.noProviderPaging||(e.perPage=this.perPage,e.currentPage=this.currentPage),C(e)}},watch:{items:function(e){(this.hasProvider||fe(e))&&this.$nextTick(this._providerUpdate)},providerTriggerContext:function(e,t){Po(e,t)||this.$nextTick(this._providerUpdate)}},mounted:function(){var e=this;!this.hasProvider||this.localItems&&0!==this.localItems.length||this._providerUpdate(),this.listenOnRoot("bv::refresh::table",(function(t){t!==e.id&&t!==e||e.refresh()}))},methods:{refresh:function(){this.$off("refreshed",this.refresh),this.computedBusy?this.localBusy&&this.hasProvider&&this.$on("refreshed",this.refresh):(this.clearSelected(),this.hasProvider?this.$nextTick(this._providerUpdate):this.localItems=s(this.items)?this.items.slice():[])},_providerSetLocal:function(e){this.localItems=s(e)?e.slice():[],this.localBusy=!1,this.$emit("refreshed"),this.id&&this.emitOnRoot("bv::table::refreshed",this.id)},_providerUpdate:function(){var e=this;this.hasProvider&&(this.computedBusy?this.$nextTick(this.refresh):(this.localBusy=!0,this.$nextTick((function(){try{var t=e.items(e.context,e._providerSetLocal);_e(t)?t.then((function(t){e._providerSetLocal(t)})):s(t)?e._providerSetLocal(t):2!==e.items.length&&(Oe("Provider function didn't request callback and did not return a promise or data.","BTable"),e.localBusy=!1)}catch(n){Oe("Provider function error [".concat(n.name,"] ").concat(n.message,"."),"BTable"),e.localBusy=!1,e.$off("refreshed",e.refresh)}}))))}}};function V_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V_(Object(n),!0).forEach((function(t){$_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W_={inheritAttrs:!1,mixins:[wr],provide:function(){return{bvTable:this}},props:{striped:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},borderless:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},dark:{type:Boolean,default:!1},hover:{type:Boolean,default:!1},small:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},responsive:{type:[Boolean,String],default:!1},stickyHeader:{type:[Boolean,String],default:!1},noBorderCollapse:{type:Boolean,default:!1},captionTop:{type:Boolean,default:!1},tableVariant:{type:String},tableClass:{type:[String,Array,Object]}},computed:{isResponsive:function(){var e=""===this.responsive||this.responsive;return!this.isStacked&&e},isStickyHeader:function(){var e=""===this.stickyHeader||this.stickyHeader;return!this.isStacked&&e},wrapperClasses:function(){return[this.isStickyHeader?"b-table-sticky-header":"",!0===this.isResponsive?"table-responsive":this.isResponsive?"table-responsive-".concat(this.responsive):""].filter(U)},wrapperStyles:function(){return this.isStickyHeader&&!pe(this.isStickyHeader)?{maxHeight:this.isStickyHeader}:{}},tableClasses:function(){var e=this.isTableSimple?this.hover:this.hover&&this.computedItems.length>0&&!this.computedBusy;return[this.tableClass,{"table-striped":this.striped,"table-hover":e,"table-dark":this.dark,"table-bordered":this.bordered,"table-borderless":this.borderless,"table-sm":this.small,border:this.outlined,"b-table-fixed":this.fixed,"b-table-caption-top":this.captionTop,"b-table-no-border-collapse":this.noBorderCollapse},this.tableVariant?"".concat(this.dark?"bg":"table","-").concat(this.tableVariant):"",this.stackedTableClasses,this.selectableTableClasses]},tableAttrs:function(){var e=[(this.bvAttrs||{})["aria-describedby"],this.captionId].filter(U).join(" ")||null,t=this.computedItems,n=this.filteredItems,r=this.computedFields,i=this.selectableTableAttrs||{},o=this.isTableSimple?{}:{"aria-busy":this.computedBusy?"true":"false","aria-colcount":vt(r.length),"aria-describedby":e},s=t&&n&&n.length>t.length?vt(n.length):null;return U_(U_(U_({"aria-rowcount":s},this.bvAttrs),{},{id:this.safeId(),role:"table"},o),i)}},render:function(e){var t=[];this.isTableSimple?t.push(this.normalizeSlot("default")):(t.push(this.renderCaption?this.renderCaption():null),t.push(this.renderColgroup?this.renderColgroup():null),t.push(this.renderThead?this.renderThead():null),t.push(this.renderTbody?this.renderTbody():null),t.push(this.renderTfoot?this.renderTfoot():null));var n=e("table",{key:"b-table",staticClass:"table b-table",class:this.tableClasses,attrs:this.tableAttrs},t.filter(U));return this.wrapperClasses.length>0?e("div",{key:"wrap",class:this.wrapperClasses,style:this.wrapperStyles},[n]):n}},z_=i.extend({name:"BTable",mixins:[wr,Ky,cs,yn,og,W_,ag,p_,h_,k_,ag,vg,Cg,Og,Tg,Eg,L_,R_,M_,j_,D_,F_]}),H_=i.extend({name:"BTableLite",mixins:[Ky,cs,yn,og,W_,ag,p_,h_,k_,Tg,Eg]}),G_=i.extend({name:"BTableSimple",mixins:[cs,yn,W_,ag],computed:{isTableSimple:function(){return!0}}}),q_=$e({components:{BTableLite:H_}}),K_=$e({components:{BTableSimple:G_,BTbody:g_,BThead:Bg,BTfoot:$g,BTr:Yg,BTd:n_,BTh:r_}}),Y_=$e({components:{BTable:z_},plugins:{TableLitePlugin:q_,TableSimplePlugin:K_}});function J_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J_(Object(n),!0).forEach((function(t){Z_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q_=T(pv,["tabs","isNavBar","cardHeader"]),eS=function(e){return!e.disabled},tS=i.extend({name:"BTabButtonHelper",inject:{bvTabs:{default:function(){return{}}}},props:{tab:{default:null},tabs:{type:Array,default:function(){return[]}},id:{type:String,default:null},controls:{type:String,default:null},tabIndex:{type:Number,default:null},posInSet:{type:Number,default:null},setSize:{type:Number,default:null},noKeyNav:{type:Boolean,default:!1}},methods:{focus:function(){tn(this.$refs.link)},handleEvt:function(e){var t=function(){e.preventDefault(),e.stopPropagation()};if(!this.tab.disabled){var n=e.type,r=e.keyCode,i=e.shiftKey;"click"===n||"keydown"===n&&r===vr.SPACE?(t(),this.$emit("click",e)):"keydown"!==n||this.noKeyNav||(r===vr.UP||r===vr.LEFT||r===vr.HOME?(t(),i||r===vr.HOME?this.$emit("first",e):this.$emit("prev",e)):r!==vr.DOWN&&r!==vr.RIGHT&&r!==vr.END||(t(),i||r===vr.END?this.$emit("last",e):this.$emit("next",e)))}}},render:function(e){var t=e(Br,{ref:"link",staticClass:"nav-link",class:[{active:this.tab.localActive&&!this.tab.disabled,disabled:this.tab.disabled},this.tab.titleLinkClass,this.tab.localActive?this.bvTabs.activeNavItemClass:null],props:{disabled:this.tab.disabled},attrs:X_(X_({},this.tab.titleLinkAttributes),{},{role:"tab",id:this.id,tabindex:this.tabIndex,"aria-selected":this.tab.localActive&&!this.tab.disabled?"true":"false","aria-setsize":this.setSize,"aria-posinset":this.posInSet,"aria-controls":this.controls}),on:{click:this.handleEvt,keydown:this.handleEvt}},[this.tab.normalizeSlot("title")||this.tab.title]);return e("li",{staticClass:"nav-item",class:[this.tab.titleItemClass],attrs:{role:"presentation"}},[t])}}),nS=i.extend({name:"BTabs",mixins:[cs,yn],provide:function(){return{bvTabs:this}},model:{prop:"value",event:"input"},props:X_(X_({},Q_),{},{tag:{type:String,default:"div"},card:{type:Boolean,default:!1},end:{type:Boolean,default:!1},noFade:{type:Boolean,default:!1},noNavStyle:{type:Boolean,default:!1},noKeyNav:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},contentClass:{type:[String,Array,Object]},navClass:{type:[String,Array,Object]},navWrapperClass:{type:[String,Array,Object]},activeNavItemClass:{type:[String,Array,Object]},activeTabClass:{type:[String,Array,Object]},value:{type:Number,default:null}}),data:function(){return{currentTab:it(this.value,-1),tabs:[],registeredTabs:[],isMounted:!1}},computed:{fade:function(){return!this.noFade},localNavClass:function(){var e=[];return this.card&&this.vertical&&e.push("card-header","h-100","border-bottom-0","rounded-0"),[].concat(e,[this.navClass])}},watch:{currentTab:function(e){var t=-1;this.tabs.forEach((function(n,r){e!==r||n.disabled?n.localActive=!1:(n.localActive=!0,t=r)})),this.$emit("input",t)},value:function(e,t){if(e!==t){e=it(e,-1),t=it(t,0);var n=this.tabs;n[e]&&!n[e].disabled?this.activateTab(n[e]):e<t?this.previousTab():this.nextTab()}},registeredTabs:function(){var e=this;this.$nextTick((function(){Tt((function(){e.updateTabs()}))}))},tabs:function(e,t){var n=this;Po(e.map((function(e){return e._uid})),t.map((function(e){return e._uid})))||this.$nextTick((function(){n.$emit("changed",e.slice(),t.slice())}))},isMounted:function(e){var t=this;e&&Tt((function(){t.updateTabs()})),this.setObserver(e)}},created:function(){var e=this;this.$_observer=null,this.currentTab=it(this.value,-1),this.$nextTick((function(){e.updateTabs()}))},mounted:function(){var e=this;this.updateTabs(),this.$nextTick((function(){e.isMounted=!0}))},deactivated:function(){this.isMounted=!1},activated:function(){var e=this;this.currentTab=it(this.value,-1),this.$nextTick((function(){e.updateTabs(),e.isMounted=!0}))},beforeDestroy:function(){this.isMounted=!1},destroyed:function(){this.tabs=[]},methods:{registerTab:function(e){var t=this;a(this.registeredTabs,e)||(this.registeredTabs.push(e),e.$once("hook:destroyed",(function(){t.unregisterTab(e)})))},unregisterTab:function(e){this.registeredTabs=this.registeredTabs.slice().filter((function(t){return t!==e}))},setObserver:function(e){if(this.$_observer&&this.$_observer.disconnect(),this.$_observer=null,e){var t=this,n=function(){t.$nextTick((function(){Tt((function(){t.updateTabs()}))}))};this.$_observer=Ja(this.$refs.tabsContainer,n,{childList:!0,subtree:!1,attributes:!0,attributeFilter:["id"]})}},getTabs:function(){var e=this.registeredTabs.filter((function(e){return 0===e.$children.filter((function(e){return e._isTab})).length})),t=[];if(this.isMounted&&e.length>0){var n=e.map((function(e){return"#".concat(e.safeId())})).join(", ");t=Dt(n,this.$el).map((function(e){return e.id})).filter(U)}return yg(e,(function(e,n){return t.indexOf(e.safeId())-t.indexOf(n.safeId())}))},updateTabs:function(){var e=this.getTabs(),t=e.indexOf(e.slice().reverse().find((function(e){return e.localActive&&!e.disabled})));if(t<0){var n=this.currentTab;n>=e.length?t=e.indexOf(e.slice().reverse().find(eS)):e[n]&&!e[n].disabled&&(t=n)}t<0&&(t=e.indexOf(e.find(eS))),e.forEach((function(e){e.localActive=!1})),e[t]&&(e[t].localActive=!0),this.tabs=e,this.currentTab=t},getButtonForTab:function(e){return(this.$refs.buttons||[]).find((function(t){return t.tab===e}))},updateButton:function(e){var t=this.getButtonForTab(e);t&&t.$forceUpdate&&t.$forceUpdate()},activateTab:function(e){var t=!1;if(e){var n=this.tabs.indexOf(e);if(!e.disabled&&n>-1&&n!==this.currentTab){var r=new hu("activate-tab",{cancelable:!0,vueTarget:this,componentId:this.safeId()});this.$emit(r.type,n,this.currentTab,r),r.defaultPrevented||(t=!0,this.currentTab=n)}}return t||this.currentTab===this.value||this.$emit("input",this.currentTab),t},deactivateTab:function(e){return!!e&&this.activateTab(this.tabs.filter((function(t){return t!==e})).find(eS))},focusButton:function(e){var t=this;this.$nextTick((function(){tn(t.getButtonForTab(e))}))},emitTabClick:function(e,t){be(t)&&e&&e.$emit&&!e.disabled&&e.$emit("click",t)},clickTab:function(e,t){this.activateTab(e),this.emitTabClick(e,t)},firstTab:function(e){var t=this.tabs.find(eS);this.activateTab(t)&&e&&(this.focusButton(t),this.emitTabClick(t,e))},previousTab:function(e){var t=Pn(this.currentTab,0),n=this.tabs.slice(0,t).reverse().find(eS);this.activateTab(n)&&e&&(this.focusButton(n),this.emitTabClick(n,e))},nextTab:function(e){var t=Pn(this.currentTab,-1),n=this.tabs.slice(t+1).find(eS);this.activateTab(n)&&e&&(this.focusButton(n),this.emitTabClick(n,e))},lastTab:function(e){var t=this.tabs.slice().reverse().find(eS);this.activateTab(t)&&e&&(this.focusButton(t),this.emitTabClick(t,e))}},render:function(e){var t=this,n=this.tabs,r=n.find((function(e){return e.localActive&&!e.disabled})),i=n.find((function(e){return!e.disabled})),o=n.map((function(o,s){var a=null;return t.noKeyNav||(a=-1,(r===o||!r&&i===o)&&(a=null)),e(tS,{key:o._uid||s,ref:"buttons",refInFor:!0,props:{tab:o,tabs:n,id:o.controlledBy||(o.safeId?o.safeId("_BV_tab_button_"):null),controls:o.safeId?o.safeId():null,tabIndex:a,setSize:n.length,posInSet:s+1,noKeyNav:t.noKeyNav},on:{click:function(e){t.clickTab(o,e)},first:t.firstTab,prev:t.previousTab,next:t.nextTab,last:t.lastTab}})})),s=e(mv,{ref:"nav",class:this.localNavClass,attrs:{role:"tablist",id:this.safeId("_BV_tab_controls_")},props:{fill:this.fill,justified:this.justified,align:this.align,tabs:!this.noNavStyle&&!this.pills,pills:!this.noNavStyle&&this.pills,vertical:this.vertical,small:this.small,cardHeader:this.card&&!this.vertical}},[this.normalizeSlot("tabs-start")||e(),o,this.normalizeSlot("tabs-end")||e()]);s=e("div",{key:"bv-tabs-nav",class:[{"card-header":this.card&&!this.vertical&&!this.end,"card-footer":this.card&&!this.vertical&&this.end,"col-auto":this.vertical},this.navWrapperClass]},[s]);var a=e();n&&0!==n.length||(a=e("div",{key:"bv-empty-tab",class:["tab-pane","active",{"card-body":this.card}]},this.normalizeSlot("empty")));var u=e("div",{ref:"tabsContainer",key:"bv-tabs-container",staticClass:"tab-content",class:[{col:this.vertical},this.contentClass],attrs:{id:this.safeId("_BV_tab_container_")}},c(this.normalizeSlot("default"),a));return e(this.tag,{staticClass:"tabs",class:{row:this.vertical,"no-gutters":this.vertical&&this.card},attrs:{id:this.safeId()}},[this.end?u:e(),[s],this.end?e():u])}}),rS=i.extend({name:"BTab",mixins:[cs,yn],inject:{bvTabs:{default:function(){return{}}}},props:{active:{type:Boolean,default:!1},tag:{type:String,default:"div"},buttonId:{type:String},title:{type:String,default:""},titleItemClass:{type:[String,Array,Object]},titleLinkClass:{type:[String,Array,Object]},titleLinkAttributes:{type:Object},disabled:{type:Boolean,default:!1},noBody:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1}},data:function(){return{localActive:this.active&&!this.disabled,show:!1}},computed:{tabClasses:function(){return[{active:this.localActive,disabled:this.disabled,"card-body":this.bvTabs.card&&!this.noBody},this.localActive?this.bvTabs.activeTabClass:null]},controlledBy:function(){return this.buttonId||this.safeId("__BV_tab_button__")},computedNoFade:function(){return!this.bvTabs.fade},computedLazy:function(){return this.bvTabs.lazy||this.lazy},_isTab:function(){return!0}},watch:{localActive:function(e){this.$emit("update:active",e)},active:function(e,t){e!==t&&(e?this.activate():this.deactivate()||this.$emit("update:active",this.localActive))},disabled:function(e,t){e!==t&&e&&this.localActive&&this.bvTabs.firstTab&&(this.localActive=!1,this.bvTabs.firstTab())}},mounted:function(){this.registerTab(),this.show=this.localActive},updated:function(){this.hasNormalizedSlot("title")&&this.bvTabs.updateButton&&this.bvTabs.updateButton(this)},destroyed:function(){this.unregisterTab()},methods:{registerTab:function(){this.bvTabs.registerTab&&this.bvTabs.registerTab(this)},unregisterTab:function(){this.bvTabs.unregisterTab&&this.bvTabs.unregisterTab(this)},activate:function(){return!(!this.bvTabs.activateTab||this.disabled)&&this.bvTabs.activateTab(this)},deactivate:function(){return!(!this.bvTabs.deactivateTab||!this.localActive)&&this.bvTabs.deactivateTab(this)}},render:function(e){var t=e(this.tag,{ref:"panel",staticClass:"tab-pane",class:this.tabClasses,directives:[{name:"show",rawName:"v-show",value:this.localActive,expression:"localActive"}],attrs:{role:"tabpanel",id:this.safeId(),"aria-hidden":this.localActive?"false":"true","aria-labelledby":this.controlledBy||null}},[this.localActive||!this.computedLazy?this.normalizeSlot("default"):e()]);return e(mn,{props:{mode:"out-in",noFade:this.computedNoFade}},[t])}}),iS=$e({components:{BTabs:nS,BTab:rS}}),oS=$e({components:{BTime:Np}}),sS=n("2b88"),aS="BToaster",cS={name:{type:String,required:!0},ariaLive:{type:String,default:function(){return Qe(aS,"ariaLive")}},ariaAtomic:{type:String,default:function(){return Qe(aS,"ariaAtomic")}},role:{type:String,default:function(){return Qe(aS,"role")}}},uS=i.extend({data:function(){return{name:"b-toaster"}},methods:{onAfterEnter:function(e){var t=this;Tt((function(){Wt(e,"".concat(t.name,"-enter-to"))}))}},render:function(e){return e("transition-group",{props:{tag:"div",name:this.name},on:{afterEnter:this.onAfterEnter}},this.$slots.default)}}),lS=i.extend({name:aS,props:cS,data:function(){return{doRender:!1,dead:!1,staticName:this.name}},beforeMount:function(){var e=this;this.staticName=this.name,sS["Wormhole"].hasTarget(this.staticName)?(Oe('A "<portal-target>" with name "'.concat(this.name,'" already exists in the document.'),"BToaster"),this.dead=!0):(this.doRender=!0,this.$once("hook:beforeDestroy",(function(){e.$root.$emit("bv::toaster::destroyed",e.staticName)})))},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},render:function(e){var t=e("div",{class:["d-none",{"b-dead-toaster":this.dead}]});if(this.doRender){var n=e(sS["PortalTarget"],{staticClass:"b-toaster-slot",props:{name:this.staticName,multiple:!0,tag:"div",slim:!1,transition:uS}});t=e("div",{staticClass:"b-toaster",class:[this.staticName],attrs:{id:this.staticName,role:this.role||null,"aria-live":this.ariaLive,"aria-atomic":this.ariaAtomic}},[n])}return t}});function dS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dS(Object(n),!0).forEach((function(t){pS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hS="BToast",mS=1e3,vS=O(Dr,["href","to"]),bS=fS({id:{type:String},title:{type:String},toaster:{type:String,default:function(){return Qe(hS,"toaster")}},visible:{type:Boolean,default:!1},variant:{type:String,default:function(){return Qe(hS,"variant")}},isStatus:{type:Boolean,default:!1},appendToast:{type:Boolean,default:!1},noAutoHide:{type:Boolean,default:!1},autoHideDelay:{type:[Number,String],default:function(){return Qe(hS,"autoHideDelay")}},noCloseButton:{type:Boolean,default:!1},noFade:{type:Boolean,default:!1},noHoverPause:{type:Boolean,default:!1},solid:{type:Boolean,default:!1},toastClass:{type:[String,Object,Array],default:function(){return Qe(hS,"toastClass")}},headerClass:{type:[String,Object,Array],default:function(){return Qe(hS,"headerClass")}},bodyClass:{type:[String,Object,Array],default:function(){return Qe(hS,"bodyClass")}},static:{type:Boolean,default:!1}},vS),yS=i.extend({name:hS,mixins:[wr,cs,Tc,yn,sm],inheritAttrs:!1,model:{prop:"visible",event:"change"},props:bS,data:function(){return{isMounted:!1,doRender:!1,localShow:!1,isTransitioning:!1,isHiding:!1,order:0,timer:null,dismissStarted:0,resumeDismiss:0}},computed:{bToastClasses:function(){return pS({"b-toast-solid":this.solid,"b-toast-append":this.appendToast,"b-toast-prepend":!this.appendToast},"b-toast-".concat(this.variant),this.variant)},slotScope:function(){return{hide:this.hide}},computedDuration:function(){return Pn(it(this.autoHideDelay,0),mS)},computedToaster:function(){return String(this.toaster)},transitionHandlers:function(){return{beforeEnter:this.onBeforeEnter,afterEnter:this.onAfterEnter,beforeLeave:this.onBeforeLeave,afterLeave:this.onAfterLeave}},computedAttrs:function(){return fS(fS({},this.bvAttrs),{},{id:this.safeId(),tabindex:"0"})}},watch:{visible:function(e){e?this.show():this.hide()},localShow:function(e){e!==this.visible&&this.$emit("change",e)},toaster:function(){this.$nextTick(this.ensureToaster)},static:function(e){e&&this.localShow&&this.ensureToaster()}},mounted:function(){var e=this;this.isMounted=!0,this.$nextTick((function(){e.visible&&Tt((function(){e.show()}))})),this.listenOnRoot("bv::show::toast",(function(t){t===e.safeId()&&e.show()})),this.listenOnRoot("bv::hide::toast",(function(t){t&&t!==e.safeId()||e.hide()})),this.listenOnRoot("bv::toaster::destroyed",(function(t){t===e.computedToaster&&e.hide()}))},beforeDestroy:function(){this.clearDismissTimer()},methods:{show:function(){var e=this;if(!this.localShow){this.ensureToaster();var t=this.buildEvent("show");this.emitEvent(t),this.dismissStarted=this.resumeDismiss=0,this.order=Date.now()*(this.appendToast?1:-1),this.isHiding=!1,this.doRender=!0,this.$nextTick((function(){Tt((function(){e.localShow=!0}))}))}},hide:function(){var e=this;if(this.localShow){var t=this.buildEvent("hide");this.emitEvent(t),this.setHoverHandler(!1),this.dismissStarted=this.resumeDismiss=0,this.clearDismissTimer(),this.isHiding=!0,Tt((function(){e.localShow=!1}))}},buildEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new hu(e,fS(fS({cancelable:!1,target:this.$el||null,relatedTarget:null},t),{},{vueTarget:this,componentId:this.safeId()}))},emitEvent:function(e){var t=e.type;this.emitOnRoot("bv::toast:".concat(t),e),this.$emit(t,e)},ensureToaster:function(){if(!this.static&&!sS["Wormhole"].hasTarget(this.computedToaster)){var e=document.createElement("div");document.body.appendChild(e);var t=new lS({parent:this.$root,propsData:{name:this.computedToaster}});t.$mount(e)}},startDismissTimer:function(){this.clearDismissTimer(),this.noAutoHide||(this.timer=setTimeout(this.hide,this.resumeDismiss||this.computedDuration),this.dismissStarted=Date.now(),this.resumeDismiss=0)},clearDismissTimer:function(){clearTimeout(this.timer),this.timer=null},setHoverHandler:function(e){var t=this.$refs["b-toast"];nc(e,t,"mouseenter",this.onPause,Za),nc(e,t,"mouseleave",this.onUnPause,Za)},onPause:function(){if(!this.noAutoHide&&!this.noHoverPause&&this.timer&&!this.resumeDismiss){var e=Date.now()-this.dismissStarted;e>0&&(this.clearDismissTimer(),this.resumeDismiss=Pn(this.computedDuration-e,mS))}},onUnPause:function(){this.noAutoHide||this.noHoverPause||!this.resumeDismiss?this.resumeDismiss=this.dismissStarted=0:this.startDismissTimer()},onLinkClick:function(){var e=this;this.$nextTick((function(){Tt((function(){e.hide()}))}))},onBeforeEnter:function(){this.isTransitioning=!0},onAfterEnter:function(){this.isTransitioning=!1;var e=this.buildEvent("shown");this.emitEvent(e),this.startDismissTimer(),this.setHoverHandler(!0)},onBeforeLeave:function(){this.isTransitioning=!0},onAfterLeave:function(){this.isTransitioning=!1,this.order=0,this.resumeDismiss=this.dismissStarted=0;var e=this.buildEvent("hidden");this.emitEvent(e),this.doRender=!1},makeToast:function(e){var t=this,n=[],r=this.normalizeSlot("toast-title",this.slotScope);r?n.push(r):this.title&&n.push(e("strong",{staticClass:"mr-2"},this.title)),this.noCloseButton||n.push(e(wn,{staticClass:"ml-auto mb-1",on:{click:function(){t.hide()}}}));var i=e();n.length>0&&(i=e("header",{staticClass:"toast-header",class:this.headerClass},n));var o=lr(this),s=e(o?Br:"div",{staticClass:"toast-body",class:this.bodyClass,props:o?Qn(vS,this):{},on:o?{click:this.onLinkClick}:{}},[this.normalizeSlot("default",this.slotScope)||e()]),a=e("div",{key:"toast-".concat(this._uid),ref:"toast",staticClass:"toast",class:this.toastClass,attrs:this.computedAttrs},[i,s]);return a}},render:function(e){if(!this.doRender||!this.isMounted)return e();var t="b-toast-".concat(this._uid),n=this.static?{}:this.scopedStyleAttrs;return e(sS["Portal"],{props:{name:t,to:this.computedToaster,order:this.order,slim:!0,disabled:this.static}},[e("div",{key:t,ref:"b-toast",staticClass:"b-toast",class:this.bToastClasses,attrs:fS(fS({},n),{},{id:this.safeId("_toast_outer"),role:this.isHiding?null:this.isStatus?"status":"alert","aria-live":this.isHiding?null:this.isStatus?"polite":"assertive","aria-atomic":this.isHiding?null:"true"})},[e(mn,{props:{noFade:this.noFade},on:this.transitionHandlers},[this.localShow?this.makeToast(e):e()])])])}});function gS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SS(e,t,n){return t&&_S(e.prototype,t),n&&_S(e,n),e}function wS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wS(Object(n),!0).forEach((function(t){CS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OS(e){return kS(e)||IS(e)||ES(e)||TS()}function TS(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ES(e,t){if(e){if("string"===typeof e)return RS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?RS(e,t):void 0}}function IS(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function kS(e){if(Array.isArray(e))return RS(e)}function RS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var PS="$bvToast",MS="_bv__toast",AS=["id"].concat(OS(g(T(bS,["static","visible"])))),jS={toastContent:"default",title:"toast-title"},NS=function(e){return AS.reduce((function(t,n){return ue(e[n])||(t[n]=e[n]),t}),{})},DS=function(e){var t=e.extend({name:"BToastPop",extends:yS,destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},mounted:function(){var e=this,t=function(){e.localShow=!1,e.doRender=!1,e.$nextTick((function(){e.$nextTick((function(){Tt((function(){e.$destroy()}))}))}))};this.$parent.$once("hook:destroyed",t),this.$once("hidden",t),this.listenOnRoot("bv::toaster::destroyed",(function(n){n===e.toaster&&t()}))}}),n=function(e,n){if(!Te(PS)){var r=new t({parent:n,propsData:xS(xS(xS({},NS(Qe("BToast")||{})),T(e,g(jS))),{},{static:!1,visible:!0})});g(jS).forEach((function(t){var i=e[t];ue(i)||("title"===t&&he(i)&&(i=[n.$createElement("strong",{class:"mr-2"},i)]),r.$slots[jS[t]]=c(i))}));var i=document.createElement("div");document.body.appendChild(i),r.$mount(i)}},r=function(){function e(t){gS(this,e),p(this,{_vm:t,_root:t.$root}),m(this,{_vm:E(),_root:E()})}return SS(e,[{key:"toast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&!Te(PS)&&n(xS(xS({},NS(t)),{},{toastContent:e}),this._vm)}},{key:"show",value:function(e){e&&this._root.$emit("bv::show::toast",e)}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._root.$emit("bv::hide::toast",e)}}]),e}();e.mixin({beforeCreate:function(){this[MS]=new r(this)}}),_(e.prototype,PS)||v(e.prototype,PS,{get:function(){return this&&this[MS]||Oe('"'.concat(PS,'" must be accessed from a Vue instance "this" context.'),"BToast"),this[MS]}})},BS=$e({plugins:{plugin:DS}}),LS=$e({components:{BToast:yS,BToaster:lS},plugins:{BVToastPlugin:BS}});function FS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FS(Object(n),!0).forEach((function(t){US(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function US(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $S="__BV_Tooltip__",WS="hover focus",zS={focus:!0,hover:!0,click:!0,blur:!0,manual:!0},HS=/^html$/i,GS=/^noninteractive$/i,qS=/^nofade$/i,KS=/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/i,YS=/^(window|viewport|scrollParent)$/i,JS=/^d\d+$/i,XS=/^ds\d+$/i,ZS=/^dh\d+$/i,QS=/^o-?\d+$/i,ew=/^v-.+$/i,tw=/\s+/,nw=function(e,t){var n="BTooltip",r={title:void 0,trigger:"",placement:"top",fallbackPlacement:"flip",container:!1,animation:!0,offset:0,id:null,html:!1,interactive:!0,disabled:!1,delay:Qe(n,"delay"),boundary:String(Qe(n,"boundary")),boundaryPadding:it(Qe(n,"boundaryPadding"),0),variant:Qe(n,"variant"),customClass:Qe(n,"customClass")};if(he(e.value)||me(e.value)||fe(e.value)?r.title=e.value:x(e.value)&&(r=VS(VS({},r),e.value)),ue(r.title)){var i=t.data||{};r.title=i.attrs&&!de(i.attrs.title)?i.attrs.title:void 0}x(r.delay)||(r.delay={show:it(r.delay,0),hide:it(r.delay,0)}),e.arg&&(r.container="#".concat(e.arg)),g(e.modifiers).forEach((function(e){if(HS.test(e))r.html=!0;else if(GS.test(e))r.interactive=!1;else if(qS.test(e))r.animation=!1;else if(KS.test(e))r.placement=e;else if(YS.test(e))e="scrollparent"===e?"scrollParent":e,r.boundary=e;else if(JS.test(e)){var t=it(e.slice(1),0);r.delay.show=t,r.delay.hide=t}else XS.test(e)?r.delay.show=it(e.slice(2),0):ZS.test(e)?r.delay.hide=it(e.slice(2),0):QS.test(e)?r.offset=it(e.slice(1),0):ew.test(e)&&(r.variant=e.slice(2)||null)}));var o={};return c(r.trigger||"").filter(U).join(" ").trim().toLowerCase().split(tw).forEach((function(e){zS[e]&&(o[e]=!0)})),g(e.modifiers).forEach((function(e){e=e.toLowerCase(),zS[e]&&(o[e]=!0)})),r.trigger=g(o).join(" "),"blur"===r.trigger&&(r.trigger="focus"),r.trigger||(r.trigger=WS),r},rw=function(e,t,n){if($["j"]){var r=nw(t,n);if(!e[$S]){var i=n.context;e[$S]=new Xb({parent:i,_scopeId:im(i,void 0)}),e[$S].__bv_prev_data__={},e[$S].$on("show",(function(){fe(r.title)&&e[$S].updateData({title:r.title(e)})}))}var o={title:r.title,triggers:r.trigger,placement:r.placement,fallbackPlacement:r.fallbackPlacement,variant:r.variant,customClass:r.customClass,container:r.container,boundary:r.boundary,delay:r.delay,offset:r.offset,noFade:!r.animation,id:r.id,interactive:r.interactive,disabled:r.disabled,html:r.html},s=e[$S].__bv_prev_data__;if(e[$S].__bv_prev_data__=o,!Po(o,s)){var a={target:e};g(o).forEach((function(t){o[t]!==s[t]&&(a[t]="title"===t&&fe(o[t])?o[t](e):o[t])})),e[$S].updateData(a)}}},iw=function(e){e[$S]&&(e[$S].$destroy(),e[$S]=null),delete e[$S]},ow={bind:function(e,t,n){rw(e,t,n)},componentUpdated:function(e,t,n){n.context.$nextTick((function(){rw(e,t,n)}))},unbind:function(e){iw(e)}},sw=$e({directives:{VBTooltip:ow}}),aw=$e({components:{BTooltip:Qb},plugins:{VBTooltipPlugin:sw}}),cw=$e({plugins:{AlertPlugin:kn,AspectPlugin:Kn,AvatarPlugin:Yi,BadgePlugin:ro,BreadcrumbPlugin:go,ButtonPlugin:_o,ButtonGroupPlugin:Oo,ButtonToolbarPlugin:Io,CalendarPlugin:Rs,CardPlugin:Wa,CarouselPlugin:yc,CollapsePlugin:uu,DropdownPlugin:pl,EmbedPlugin:bl,FormPlugin:Pl,FormCheckboxPlugin:ql,FormDatepickerPlugin:dd,FormFilePlugin:_d,FormGroupPlugin:zd,FormInputPlugin:Qd,FormRadioPlugin:nf,FormRatingPlugin:vf,FormSelectPlugin:xf,FormSpinbuttonPlugin:$f,FormTagsPlugin:dp,FormTextareaPlugin:vp,FormTimepickerPlugin:Wp,ImagePlugin:zp,InputGroupPlugin:lh,JumbotronPlugin:yh,LayoutPlugin:kh,LinkPlugin:Rh,ListGroupPlugin:$h,MediaPlugin:Jh,ModalPlugin:dv,NavPlugin:Rv,NavbarPlugin:Kv,OverlayPlugin:rb,PaginationPlugin:Sb,PaginationNavPlugin:Rb,PopoverPlugin:Ey,ProgressPlugin:My,SidebarPlugin:Gy,SpinnerPlugin:qy,TablePlugin:Y_,TabsPlugin:iS,TimePlugin:oS,ToastPlugin:LS,TooltipPlugin:aw}}),uw=$e({directives:{VBHover:ed}}),lw=$e({directives:{VBModal:zm}});function dw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dw(Object(n),!0).forEach((function(t){pw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vw(e,t,n){return t&&mw(e.prototype,t),n&&mw(e,n),e}var bw="v-b-scrollspy",yw="bv::scrollspy::activate",gw={element:"body",offset:10,method:"auto",throttle:75},_w={element:"(string|element|component)",offset:"number",method:"string",throttle:"number"},Sw={DROPDOWN_ITEM:"dropdown-item",ACTIVE:"active"},ww={ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown, .dropup",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},xw={OFFSET:"offset",POSITION:"position"},Cw=/^.*(#[^#]+)$/,Ow=["webkitTransitionEnd","transitionend","otransitionend","oTransitionEnd"],Tw=function(e){return S(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},Ew=function(e,t,n){for(var r in n)if(_(n,r)){var i=n[r],o=t[r],s=o&&kt(o)?"element":Tw(o);s=o&&o._isVue?"component":s,new RegExp(i).test(s)||Oe("".concat(e,': Option "').concat(r,'" provided type "').concat(s,'" but expected type "').concat(i,'"'))}},Iw=function(){function e(t,n,r){hw(this,e),this.$el=t,this.$scroller=null,this.$selector=[ww.NAV_LINKS,ww.LIST_ITEMS,ww.DROPDOWN_ITEMS].join(","),this.$offsets=[],this.$targets=[],this.$activeTarget=null,this.$scrollHeight=0,this.$resizeTimeout=null,this.$scrollerObserver=null,this.$targetsObserver=null,this.$root=r||null,this.$config=null,this.updateConfig(n)}return vw(e,[{key:"updateConfig",value:function(e,t){this.$scroller&&(this.unlisten(),this.$scroller=null);var n=fw(fw({},this.constructor.Default),e);if(t&&(this.$root=t),Ew(this.constructor.Name,n,this.constructor.DefaultType),this.$config=n,this.$root){var r=this;this.$root.$nextTick((function(){r.listen()}))}else this.listen()}},{key:"dispose",value:function(){this.unlisten(),clearTimeout(this.$resizeTimeout),this.$resizeTimeout=null,this.$el=null,this.$config=null,this.$scroller=null,this.$selector=null,this.$offsets=null,this.$targets=null,this.$activeTarget=null,this.$scrollHeight=null}},{key:"listen",value:function(){var e=this,t=this.getScroller();t&&"BODY"!==t.tagName&&ec(t,"scroll",this,Za),ec(window,"scroll",this,Za),ec(window,"resize",this,Za),ec(window,"orientationchange",this,Za),Ow.forEach((function(t){ec(window,t,e,Za)})),this.setObservers(!0),this.handleEvent("refresh")}},{key:"unlisten",value:function(){var e=this,t=this.getScroller();this.setObservers(!1),t&&"BODY"!==t.tagName&&tc(t,"scroll",this,Za),tc(window,"scroll",this,Za),tc(window,"resize",this,Za),tc(window,"orientationchange",this,Za),Ow.forEach((function(t){tc(window,t,e,Za)}))}},{key:"setObservers",value:function(e){var t=this;this.$scrollerObserver&&this.$scrollerObserver.disconnect(),this.$targetsObserver&&this.$targetsObserver.disconnect(),this.$scrollerObserver=null,this.$targetsObserver=null,e&&(this.$targetsObserver=Ja(this.$el,(function(){t.handleEvent("mutation")}),{subtree:!0,childList:!0,attributes:!0,attributeFilter:["href"]}),this.$scrollerObserver=Ja(this.getScroller(),(function(){t.handleEvent("mutation")}),{subtree:!0,childList:!0,characterData:!0,attributes:!0,attributeFilter:["id","style","class"]}))}},{key:"handleEvent",value:function(e){var t=he(e)?e:e.type,n=this,r=function(){n.$resizeTimeout||(n.$resizeTimeout=setTimeout((function(){n.refresh(),n.process(),n.$resizeTimeout=null}),n.$config.throttle))};"scroll"===t?(this.$scrollerObserver||this.listen(),this.process()):/(resize|orientationchange|mutation|refresh)/.test(t)&&r()}},{key:"refresh",value:function(){var e=this,t=this.getScroller();if(t){var n=t!==t.window?xw.POSITION:xw.OFFSET,r="auto"===this.$config.method?n:this.$config.method,i=r===xw.POSITION?Qt:Zt,o=r===xw.POSITION?this.getScrollTop():0;return this.$offsets=[],this.$targets=[],this.$scrollHeight=this.getScrollHeight(),Dt(this.$selector,this.$el).map((function(e){return qt(e,"href")})).filter((function(e){return e&&Cw.test(e||"")})).map((function(e){var n=e.replace(Cw,"$1").trim();if(!n)return null;var r=Bt(n,t);return r&&At(r)?{offset:it(i(r).top,0)+o,target:n}:null})).filter(Boolean).sort((function(e,t){return e.offset-t.offset})).reduce((function(t,n){return t[n.target]||(e.$offsets.push(n.offset),e.$targets.push(n.target),t[n.target]=!0),t}),{}),this}}},{key:"process",value:function(){var e=this.getScrollTop()+this.$config.offset,t=this.getScrollHeight(),n=this.$config.offset+t-this.getOffsetHeight();if(this.$scrollHeight!==t&&this.refresh(),e>=n){var r=this.$targets[this.$targets.length-1];this.$activeTarget!==r&&this.activate(r)}else{if(this.$activeTarget&&e<this.$offsets[0]&&this.$offsets[0]>0)return this.$activeTarget=null,void this.clear();for(var i=this.$offsets.length;i--;){var o=this.$activeTarget!==this.$targets[i]&&e>=this.$offsets[i]&&(ue(this.$offsets[i+1])||e<this.$offsets[i+1]);o&&this.activate(this.$targets[i])}}}},{key:"getScroller",value:function(){if(this.$scroller)return this.$scroller;var e=this.$config.element;return e?(kt(e.$el)?e=e.$el:he(e)&&(e=Bt(e)),e?(this.$scroller="BODY"===e.tagName?window:e,this.$scroller):null):null}},{key:"getScrollTop",value:function(){var e=this.getScroller();return e===window?e.pageYOffset:e.scrollTop}},{key:"getScrollHeight",value:function(){return this.getScroller().scrollHeight||Pn(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"getOffsetHeight",value:function(){var e=this.getScroller();return e===window?window.innerHeight:Yt(e).height}},{key:"activate",value:function(e){var t=this;this.$activeTarget=e,this.clear();var n=Dt(this.$selector.split(",").map((function(t){return"".concat(t,'[href$="').concat(e,'"]')})).join(","),this.$el);n.forEach((function(e){if(zt(e,Sw.DROPDOWN_ITEM)){var n=Ft(ww.DROPDOWN,e);n&&t.setActiveState(Bt(ww.DROPDOWN_TOGGLE,n),!0),t.setActiveState(e,!0)}else{t.setActiveState(e,!0),Lt(e.parentElement,ww.NAV_ITEMS)&&t.setActiveState(e.parentElement,!0);var r=e;while(r){r=Ft(ww.NAV_LIST_GROUP,r);var i=r?r.previousElementSibling:null;i&&Lt(i,"".concat(ww.NAV_LINKS,", ").concat(ww.LIST_ITEMS))&&t.setActiveState(i,!0),i&&Lt(i,ww.NAV_ITEMS)&&(t.setActiveState(Bt(ww.NAV_LINKS,i),!0),t.setActiveState(i,!0))}}})),n&&n.length>0&&this.$root&&this.$root.$emit(yw,e,n)}},{key:"clear",value:function(){var e=this;Dt("".concat(this.$selector,", ").concat(ww.NAV_ITEMS),this.$el).filter((function(e){return zt(e,Sw.ACTIVE)})).forEach((function(t){return e.setActiveState(t,!1)}))}},{key:"setActiveState",value:function(e,t){e&&(t?$t(e,Sw.ACTIVE):Wt(e,Sw.ACTIVE))}}],[{key:"Name",get:function(){return bw}},{key:"Default",get:function(){return gw}},{key:"DefaultType",get:function(){return _w}}]),e}(),kw=Iw,Rw="__BV_ScrollSpy__",Pw=/^\d+$/,Mw=/^(auto|position|offset)$/,Aw=function(e){var t={};return e.arg&&(t.element="#".concat(e.arg)),g(e.modifiers).forEach((function(e){Pw.test(e)?t.offset=it(e,0):Mw.test(e)&&(t.method=e)})),he(e.value)?t.element=e.value:me(e.value)?t.offset=Dn(e.value):w(e.value)&&g(e.value).filter((function(e){return!!kw.DefaultType[e]})).forEach((function(n){t[n]=e.value[n]})),t},jw=function(e,t,n){if($["j"]){var r=Aw(t);e[Rw]?e[Rw].updateConfig(r,n.context.$root):e[Rw]=new kw(e,r,n.context.$root)}},Nw=function(e){e[Rw]&&(e[Rw].dispose(),e[Rw]=null,delete e[Rw])},Dw={bind:function(e,t,n){jw(e,t,n)},inserted:function(e,t,n){jw(e,t,n)},update:function(e,t,n){t.value!==t.oldValue&&jw(e,t,n)},componentUpdated:function(e,t,n){t.value!==t.oldValue&&jw(e,t,n)},unbind:function(e){Nw(e)}},Bw=$e({directives:{VBScrollspy:Dw}}),Lw=$e({directives:{VBVisible:wa}}),Fw=$e({plugins:{VBHoverPlugin:uw,VBModalPlugin:lw,VBPopoverPlugin:Ty,VBScrollspyPlugin:Bw,VBTogglePlugin:cu,VBTooltipPlugin:sw,VBVisiblePlugin:Lw}}),Vw="BootstrapVue",Uw=Ue({plugins:{componentsPlugin:cw,directivesPlugin:Fw}}),$w={install:Uw,NAME:Vw};t["a"]=$w},6117:function(e,t,n){var r=n("8b0e"),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},"613f":function(e,t,n){var r=n("8b0e"),i=n("6756"),o=n("4c07"),s=r("unscopables"),a=Array.prototype;void 0==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},"65ee":function(e,t,n){"use strict";var r,i,o,s=n("9aed"),a=n("3261"),c=n("7f34"),u=n("8b0e"),l=n("0f33"),d=u("iterator"),f=!1,p=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=s(s(o)),i!==Object.prototype&&(r=i)):f=!0),void 0==r&&(r={}),l||c(r,d)||a(r,d,p),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},6756:function(e,t,n){var r,i=n("d0c8"),o=n("df84"),s=n("c51e"),a=n("1fc1"),c=n("68d9"),u=n("c4dd"),l=n("816e"),d=">",f="<",p="prototype",h="script",m=l("IE_PROTO"),v=function(){},b=function(e){return f+h+d+e+f+"/"+h+d},y=function(e){e.write(b("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){var e,t=u("iframe"),n="java"+h+":";return t.style.display="none",c.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(b("document.F=Object")),e.close(),e.F},_=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}_=r?y(r):g();var e=s.length;while(e--)delete _[p][s[e]];return _()};a[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[p]=i(e),n=new v,v[p]=null,n[m]=e):n=_(),void 0===t?n:o(n,t)}},"68d9":function(e,t,n){var r=n("0ee6");e.exports=r("document","documentElement")},"68e0":function(e,t,n){var r=n("5f2f");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},"69f3":function(e,t,n){var r,i,o,s=n("7f9a"),a=n("da84"),c=n("861d"),u=n("9112"),l=n("5135"),d=n("f772"),f=n("d012"),p=a.WeakMap,h=function(e){return o(e)?i(e):r(e,{})},m=function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(s){var v=new p,b=v.get,y=v.has,g=v.set;r=function(e,t){return g.call(v,e,t),t},i=function(e){return b.call(v,e)||{}},o=function(e){return y.call(v,e)}}else{var _=d("state");f[_]=!0,r=function(e,t){return u(e,_,t),t},i=function(e){return l(e,_)?e[_]:{}},o=function(e){return l(e,_)}}e.exports={set:r,get:i,has:o,enforce:h,getterFor:m}},"6eeb":function(e,t,n){var r=n("da84"),i=n("9112"),o=n("5135"),s=n("ce4e"),a=n("8925"),c=n("69f3"),u=c.get,l=c.enforce,d=String(String).split("String");(e.exports=function(e,t,n,a){var c=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,f=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),l(n).source=d.join("string"==typeof t?t:"")),e!==r?(c?!f&&e[t]&&(u=!0):delete e[t],u?e[t]=n:i(e,t,n)):u?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||a(this)}))},7024:function(e,t,n){var r=n("09e4"),i=n("3261"),o=n("7f34"),s=n("79ae"),a=n("0209"),c=n("a547"),u=c.get,l=c.enforce,d=String(String).split("String");(e.exports=function(e,t,n,a){var c=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,f=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),l(n).source=d.join("string"==typeof t?t:"")),e!==r?(c?!f&&e[t]&&(u=!0):delete e[t],u?e[t]=n:i(e,t,n)):u?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||a(this)}))},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"761e":function(e,t,n){"use strict";var r=n("90c5"),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},"76af":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"774c":function(e,t,n){var r=n("a714"),i=n("d714"),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},"77da":function(e,t,n){var r=n("4c07").f,i=n("7f34"),o=n("8b0e"),s=o("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},7820:function(e,t,n){var r=n("6117"),i=n("d714"),o=n("8b0e"),s=o("toStringTag"),a="Arguments"==i(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=c(t=Object(e),s))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"793f":function(e,t,n){"use strict";var r=n("0ee6"),i=n("4c07"),o=n("8b0e"),s=n("0368"),a=o("species");e.exports=function(e){var t=r(e),n=i.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},"79ae":function(e,t,n){var r=n("09e4"),i=n("3261");e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},"7a77":function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},"7aac":function(e,t,n){"use strict";var r=n("c532");e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7f34":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"7f9a":function(e,t,n){var r=n("da84"),i=n("8925"),o=r.WeakMap;e.exports="function"===typeof o&&/native code/.test(i(o))},"808c":function(e,t,n){var r=n("8b0e"),i=r("iterator"),o=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(c){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(c){}return n}},"816e":function(e,t,n){var r=n("0828"),i=n("f385"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},8779:function(e,t,n){var r=n("a714");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},8925:function(e,t,n){var r=n("c6cd"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},"894d":function(e,t,n){var r=n("d0c8"),i=n("90c5"),o=n("8b0e"),s=o("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[s])?t:i(n)}},"8b0e":function(e,t,n){var r=n("09e4"),i=n("0828"),o=n("7f34"),s=n("f385"),a=n("20a7"),c=n("aa51"),u=i("wks"),l=r.Symbol,d=c?l:l&&l.withoutSetter||s;e.exports=function(e){return o(u,e)||(a&&o(l,e)?u[e]=l[e]:u[e]=d("Symbol."+e)),u[e]}},"8c4f":function(e,t,n){"use strict";
/*!
  * vue-router v3.3.3
  * (c) 2020 Evan You
  * @license MIT
  */function r(e,t){0}function i(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function o(e,t){return i(e)&&e._isRouter&&(null==t||e.type===t)}function s(e,t){for(var n in t)e[n]=t[n];return e}var a={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var n=t.props,r=t.children,i=t.parent,o=t.data;o.routerView=!0;var a=i.$createElement,u=n.name,l=i.$route,d=i._routerViewCache||(i._routerViewCache={}),f=0,p=!1;while(i&&i._routerRoot!==i){var h=i.$vnode?i.$vnode.data:{};h.routerView&&f++,h.keepAlive&&i._directInactive&&i._inactive&&(p=!0),i=i.$parent}if(o.routerViewDepth=f,p){var m=d[u],v=m&&m.component;return v?(m.configProps&&c(v,o,m.route,m.configProps),a(v,o,r)):a()}var b=l.matched[f],y=b&&b.components[u];if(!b||!y)return d[u]=null,a();d[u]={component:y},o.registerRouteInstance=function(e,t){var n=b.instances[u];(t&&n!==e||!t&&n===e)&&(b.instances[u]=t)},(o.hook||(o.hook={})).prepatch=function(e,t){b.instances[u]=t.componentInstance},o.hook.init=function(e){e.data.keepAlive&&e.componentInstance&&e.componentInstance!==b.instances[u]&&(b.instances[u]=e.componentInstance)};var g=b.props&&b.props[u];return g&&(s(d[u],{route:l,configProps:g}),c(y,o,l,g)),a(y,o,r)}};function c(e,t,n,r){var i=t.props=u(n,r);if(i){i=t.props=s({},i);var o=t.attrs=t.attrs||{};for(var a in i)e.props&&a in e.props||(o[a]=i[a],delete i[a])}}function u(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0;default:0}}var l=/[!'()*]/g,d=function(e){return"%"+e.charCodeAt(0).toString(16)},f=/%2C/g,p=function(e){return encodeURIComponent(e).replace(l,d).replace(f,",")},h=decodeURIComponent;function m(e,t,n){void 0===t&&(t={});var r,i=n||v;try{r=i(e||"")}catch(s){r={}}for(var o in t)r[o]=t[o];return r}function v(e){var t={};return e=e.trim().replace(/^(\?|#|&)/,""),e?(e.split("&").forEach((function(e){var n=e.replace(/\+/g," ").split("="),r=h(n.shift()),i=n.length>0?h(n.join("=")):null;void 0===t[r]?t[r]=i:Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]})),t):t}function b(e){var t=e?Object.keys(e).map((function(t){var n=e[t];if(void 0===n)return"";if(null===n)return p(t);if(Array.isArray(n)){var r=[];return n.forEach((function(e){void 0!==e&&(null===e?r.push(p(t)):r.push(p(t)+"="+p(e)))})),r.join("&")}return p(t)+"="+p(n)})).filter((function(e){return e.length>0})).join("&"):null;return t?"?"+t:""}var y=/\/?$/;function g(e,t,n,r){var i=r&&r.options.stringifyQuery,o=t.query||{};try{o=_(o)}catch(a){}var s={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:o,params:t.params||{},fullPath:x(t,i),matched:e?w(e):[]};return n&&(s.redirectedFrom=x(n,i)),Object.freeze(s)}function _(e){if(Array.isArray(e))return e.map(_);if(e&&"object"===typeof e){var t={};for(var n in e)t[n]=_(e[n]);return t}return e}var S=g(null,{path:"/"});function w(e){var t=[];while(e)t.unshift(e),e=e.parent;return t}function x(e,t){var n=e.path,r=e.query;void 0===r&&(r={});var i=e.hash;void 0===i&&(i="");var o=t||b;return(n||"/")+o(r)+i}function C(e,t){return t===S?e===t:!!t&&(e.path&&t.path?e.path.replace(y,"")===t.path.replace(y,"")&&e.hash===t.hash&&O(e.query,t.query):!(!e.name||!t.name)&&(e.name===t.name&&e.hash===t.hash&&O(e.query,t.query)&&O(e.params,t.params)))}function O(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e||!t)return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){var r=e[n],i=t[n];return"object"===typeof r&&"object"===typeof i?O(r,i):String(r)===String(i)}))}function T(e,t){return 0===e.path.replace(y,"/").indexOf(t.path.replace(y,"/"))&&(!t.hash||e.hash===t.hash)&&E(e.query,t.query)}function E(e,t){for(var n in t)if(!(n in e))return!1;return!0}function I(e,t,n){var r=e.charAt(0);if("/"===r)return e;if("?"===r||"#"===r)return t+e;var i=t.split("/");n&&i[i.length-1]||i.pop();for(var o=e.replace(/^\//,"").split("/"),s=0;s<o.length;s++){var a=o[s];".."===a?i.pop():"."!==a&&i.push(a)}return""!==i[0]&&i.unshift(""),i.join("/")}function k(e){var t="",n="",r=e.indexOf("#");r>=0&&(t=e.slice(r),e=e.slice(0,r));var i=e.indexOf("?");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{path:e,query:n,hash:t}}function R(e){return e.replace(/\/\//g,"/")}var P=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},M=X,A=L,j=F,N=$,D=J,B=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function L(e,t){var n,r=[],i=0,o=0,s="",a=t&&t.delimiter||"/";while(null!=(n=B.exec(e))){var c=n[0],u=n[1],l=n.index;if(s+=e.slice(o,l),o=l+c.length,u)s+=u[1];else{var d=e[o],f=n[2],p=n[3],h=n[4],m=n[5],v=n[6],b=n[7];s&&(r.push(s),s="");var y=null!=f&&null!=d&&d!==f,g="+"===v||"*"===v,_="?"===v||"*"===v,S=n[2]||a,w=h||m;r.push({name:p||i++,prefix:f||"",delimiter:S,optional:_,repeat:g,partial:y,asterisk:!!b,pattern:w?z(w):b?".*":"[^"+W(S)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function F(e,t){return $(L(e,t),t)}function V(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function U(e){return encodeURI(e).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function $(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"===typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",G(t)));return function(t,r){for(var i="",o=t||{},s=r||{},a=s.pretty?V:encodeURIComponent,c=0;c<e.length;c++){var u=e[c];if("string"!==typeof u){var l,d=o[u.name];if(null==d){if(u.optional){u.partial&&(i+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(P(d)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<d.length;f++){if(l=a(d[f]),!n[c].test(l))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(l)+"`");i+=(0===f?u.prefix:u.delimiter)+l}}else{if(l=u.asterisk?U(d):a(d),!n[c].test(l))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+l+'"');i+=u.prefix+l}}else i+=u}return i}}function W(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function z(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function H(e,t){return e.keys=t,e}function G(e){return e&&e.sensitive?"":"i"}function q(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return H(e,t)}function K(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(X(e[i],t,n).source);var o=new RegExp("(?:"+r.join("|")+")",G(n));return H(o,t)}function Y(e,t,n){return J(L(e,n),t,n)}function J(e,t,n){P(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,o="",s=0;s<e.length;s++){var a=e[s];if("string"===typeof a)o+=W(a);else{var c=W(a.prefix),u="(?:"+a.pattern+")";t.push(a),a.repeat&&(u+="(?:"+c+u+")*"),u=a.optional?a.partial?c+"("+u+")?":"(?:"+c+"("+u+"))?":c+"("+u+")",o+=u}}var l=W(n.delimiter||"/"),d=o.slice(-l.length)===l;return r||(o=(d?o.slice(0,-l.length):o)+"(?:"+l+"(?=$))?"),o+=i?"$":r&&d?"":"(?="+l+"|$)",H(new RegExp("^"+o,G(n)),t)}function X(e,t,n){return P(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?q(e,t):P(e)?K(e,t,n):Y(e,t,n)}M.parse=A,M.compile=j,M.tokensToFunction=N,M.tokensToRegExp=D;var Z=Object.create(null);function Q(e,t,n){t=t||{};try{var r=Z[e]||(Z[e]=M.compile(e));return"string"===typeof t.pathMatch&&(t[0]=t.pathMatch),r(t,{pretty:!0})}catch(i){return""}finally{delete t[0]}}function ee(e,t,n,r){var i="string"===typeof e?{path:e}:e;if(i._normalized)return i;if(i.name){i=s({},e);var o=i.params;return o&&"object"===typeof o&&(i.params=s({},o)),i}if(!i.path&&i.params&&t){i=s({},i),i._normalized=!0;var a=s(s({},t.params),i.params);if(t.name)i.name=t.name,i.params=a;else if(t.matched.length){var c=t.matched[t.matched.length-1].path;i.path=Q(c,a,"path "+t.path)}else 0;return i}var u=k(i.path||""),l=t&&t.path||"/",d=u.path?I(u.path,l,n||i.append):l,f=m(u.query,i.query,r&&r.options.parseQuery),p=i.hash||u.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:d,query:f,hash:p}}var te,ne=[String,Object],re=[String,Array],ie=function(){},oe={name:"RouterLink",props:{to:{type:ne,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:re,default:"click"}},render:function(e){var t=this,n=this.$router,r=this.$route,i=n.resolve(this.to,r,this.append),o=i.location,a=i.route,c=i.href,u={},l=n.options.linkActiveClass,d=n.options.linkExactActiveClass,f=null==l?"router-link-active":l,p=null==d?"router-link-exact-active":d,h=null==this.activeClass?f:this.activeClass,m=null==this.exactActiveClass?p:this.exactActiveClass,v=a.redirectedFrom?g(null,ee(a.redirectedFrom),null,n):a;u[m]=C(r,v),u[h]=this.exact?u[m]:T(r,v);var b=u[m]?this.ariaCurrentValue:null,y=function(e){se(e)&&(t.replace?n.replace(o,ie):n.push(o,ie))},_={click:se};Array.isArray(this.event)?this.event.forEach((function(e){_[e]=y})):_[this.event]=y;var S={class:u},w=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:c,route:a,navigate:y,isActive:u[h],isExactActive:u[m]});if(w){if(1===w.length)return w[0];if(w.length>1||!w.length)return 0===w.length?e():e("span",{},w)}if("a"===this.tag)S.on=_,S.attrs={href:c,"aria-current":b};else{var x=ae(this.$slots.default);if(x){x.isStatic=!1;var O=x.data=s({},x.data);for(var E in O.on=O.on||{},O.on){var I=O.on[E];E in _&&(O.on[E]=Array.isArray(I)?I:[I])}for(var k in _)k in O.on?O.on[k].push(_[k]):O.on[k]=y;var R=x.data.attrs=s({},x.data.attrs);R.href=c,R["aria-current"]=b}else S.on=_}return e(this.tag,S,this.$slots.default)}};function se(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ae(e){if(e)for(var t,n=0;n<e.length;n++){if(t=e[n],"a"===t.tag)return t;if(t.children&&(t=ae(t.children)))return t}}function ce(e){if(!ce.installed||te!==e){ce.installed=!0,te=e;var t=function(e){return void 0!==e},n=function(e,n){var r=e.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(e,n)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",a),e.component("RouterLink",oe);var r=e.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var ue="undefined"!==typeof window;function le(e,t,n,r){var i=t||[],o=n||Object.create(null),s=r||Object.create(null);e.forEach((function(e){de(i,o,s,e)}));for(var a=0,c=i.length;a<c;a++)"*"===i[a]&&(i.push(i.splice(a,1)[0]),c--,a--);return{pathList:i,pathMap:o,nameMap:s}}function de(e,t,n,r,i,o){var s=r.path,a=r.name;var c=r.pathToRegexpOptions||{},u=pe(s,i,c.strict);"boolean"===typeof r.caseSensitive&&(c.sensitive=r.caseSensitive);var l={path:u,regex:fe(u,c),components:r.components||{default:r.component},instances:{},name:a,parent:i,matchAs:o,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach((function(r){var i=o?R(o+"/"+r.path):void 0;de(e,t,n,r,l,i)})),t[l.path]||(e.push(l.path),t[l.path]=l),void 0!==r.alias)for(var d=Array.isArray(r.alias)?r.alias:[r.alias],f=0;f<d.length;++f){var p=d[f];0;var h={path:p,children:r.children};de(e,t,n,h,i,l.path||"/")}a&&(n[a]||(n[a]=l))}function fe(e,t){var n=M(e,[],t);return n}function pe(e,t,n){return n||(e=e.replace(/\/$/,"")),"/"===e[0]||null==t?e:R(t.path+"/"+e)}function he(e,t){var n=le(e),r=n.pathList,i=n.pathMap,o=n.nameMap;function s(e){le(e,r,i,o)}function a(e,n,s){var a=ee(e,n,!1,t),c=a.name;if(c){var u=o[c];if(!u)return l(null,a);var d=u.regex.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}));if("object"!==typeof a.params&&(a.params={}),n&&"object"===typeof n.params)for(var f in n.params)!(f in a.params)&&d.indexOf(f)>-1&&(a.params[f]=n.params[f]);return a.path=Q(u.path,a.params,'named route "'+c+'"'),l(u,a,s)}if(a.path){a.params={};for(var p=0;p<r.length;p++){var h=r[p],m=i[h];if(me(m.regex,a.path,a.params))return l(m,a,s)}}return l(null,a)}function c(e,n){var r=e.redirect,i="function"===typeof r?r(g(e,n,null,t)):r;if("string"===typeof i&&(i={path:i}),!i||"object"!==typeof i)return l(null,n);var s=i,c=s.name,u=s.path,d=n.query,f=n.hash,p=n.params;if(d=s.hasOwnProperty("query")?s.query:d,f=s.hasOwnProperty("hash")?s.hash:f,p=s.hasOwnProperty("params")?s.params:p,c){o[c];return a({_normalized:!0,name:c,query:d,hash:f,params:p},void 0,n)}if(u){var h=ve(u,e),m=Q(h,p,'redirect route with path "'+h+'"');return a({_normalized:!0,path:m,query:d,hash:f},void 0,n)}return l(null,n)}function u(e,t,n){var r=Q(n,t.params,'aliased route with path "'+n+'"'),i=a({_normalized:!0,path:r});if(i){var o=i.matched,s=o[o.length-1];return t.params=i.params,l(s,t)}return l(null,t)}function l(e,n,r){return e&&e.redirect?c(e,r||n):e&&e.matchAs?u(e,n,e.matchAs):g(e,n,r,t)}return{match:a,addRoutes:s}}function me(e,t,n){var r=t.match(e);if(!r)return!1;if(!n)return!0;for(var i=1,o=r.length;i<o;++i){var s=e.keys[i-1],a="string"===typeof r[i]?decodeURIComponent(r[i]):r[i];s&&(n[s.name||"pathMatch"]=a)}return!0}function ve(e,t){return I(e,t.parent?t.parent.path:"/",!0)}var be=ue&&window.performance&&window.performance.now?window.performance:Date;function ye(){return be.now().toFixed(3)}var ge=ye();function _e(){return ge}function Se(e){return ge=e}var we=Object.create(null);function xe(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.protocol+"//"+window.location.host,t=window.location.href.replace(e,""),n=s({},window.history.state);return n.key=_e(),window.history.replaceState(n,"",t),window.addEventListener("popstate",Te),function(){window.removeEventListener("popstate",Te)}}function Ce(e,t,n,r){if(e.app){var i=e.options.scrollBehavior;i&&e.app.$nextTick((function(){var o=Ee(),s=i.call(e,t,n,r?o:null);s&&("function"===typeof s.then?s.then((function(e){je(e,o)})).catch((function(e){0})):je(s,o))}))}}function Oe(){var e=_e();e&&(we[e]={x:window.pageXOffset,y:window.pageYOffset})}function Te(e){Oe(),e.state&&e.state.key&&Se(e.state.key)}function Ee(){var e=_e();if(e)return we[e]}function Ie(e,t){var n=document.documentElement,r=n.getBoundingClientRect(),i=e.getBoundingClientRect();return{x:i.left-r.left-t.x,y:i.top-r.top-t.y}}function ke(e){return Me(e.x)||Me(e.y)}function Re(e){return{x:Me(e.x)?e.x:window.pageXOffset,y:Me(e.y)?e.y:window.pageYOffset}}function Pe(e){return{x:Me(e.x)?e.x:0,y:Me(e.y)?e.y:0}}function Me(e){return"number"===typeof e}var Ae=/^#\d/;function je(e,t){var n="object"===typeof e;if(n&&"string"===typeof e.selector){var r=Ae.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector);if(r){var i=e.offset&&"object"===typeof e.offset?e.offset:{};i=Pe(i),t=Ie(r,i)}else ke(e)&&(t=Re(e))}else n&&ke(e)&&(t=Re(e));t&&window.scrollTo(t.x,t.y)}var Ne=ue&&function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"function"===typeof window.history.pushState)}();function De(e,t){Oe();var n=window.history;try{if(t){var r=s({},n.state);r.key=_e(),n.replaceState(r,"",e)}else n.pushState({key:Se(ye())},"",e)}catch(i){window.location[t?"replace":"assign"](e)}}function Be(e){De(e,!0)}function Le(e,t,n){var r=function(i){i>=e.length?n():e[i]?t(e[i],(function(){r(i+1)})):r(i+1)};r(0)}function Fe(e){return function(t,n,r){var o=!1,s=0,a=null;Ve(e,(function(e,t,n,c){if("function"===typeof e&&void 0===e.cid){o=!0,s++;var u,l=ze((function(t){We(t)&&(t=t.default),e.resolved="function"===typeof t?t:te.extend(t),n.components[c]=t,s--,s<=0&&r()})),d=ze((function(e){var t="Failed to resolve async component "+c+": "+e;a||(a=i(e)?e:new Error(t),r(a))}));try{u=e(l,d)}catch(p){d(p)}if(u)if("function"===typeof u.then)u.then(l,d);else{var f=u.component;f&&"function"===typeof f.then&&f.then(l,d)}}})),o||r()}}function Ve(e,t){return Ue(e.map((function(e){return Object.keys(e.components).map((function(n){return t(e.components[n],e.instances[n],e,n)}))})))}function Ue(e){return Array.prototype.concat.apply([],e)}var $e="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function We(e){return e.__esModule||$e&&"Module"===e[Symbol.toStringTag]}function ze(e){var t=!1;return function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];if(!t)return t=!0,e.apply(this,n)}}var He={redirected:1,aborted:2,cancelled:3,duplicated:4};function Ge(e,t){return Je(e,t,He.redirected,'Redirected when going from "'+e.fullPath+'" to "'+Ze(t)+'" via a navigation guard.')}function qe(e,t){return Je(e,t,He.duplicated,'Avoided redundant navigation to current location: "'+e.fullPath+'".')}function Ke(e,t){return Je(e,t,He.cancelled,'Navigation cancelled from "'+e.fullPath+'" to "'+t.fullPath+'" with a new navigation.')}function Ye(e,t){return Je(e,t,He.aborted,'Navigation aborted from "'+e.fullPath+'" to "'+t.fullPath+'" via a navigation guard.')}function Je(e,t,n,r){var i=new Error(r);return i._isRouter=!0,i.from=e,i.to=t,i.type=n,i}var Xe=["params","query","hash"];function Ze(e){if("string"===typeof e)return e;if("path"in e)return e.path;var t={};return Xe.forEach((function(n){n in e&&(t[n]=e[n])})),JSON.stringify(t,null,2)}var Qe=function(e,t){this.router=e,this.base=et(t),this.current=S,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function et(e){if(!e)if(ue){var t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^https?:\/\/[^\/]+/,"")}else e="/";return"/"!==e.charAt(0)&&(e="/"+e),e.replace(/\/$/,"")}function tt(e,t){var n,r=Math.max(e.length,t.length);for(n=0;n<r;n++)if(e[n]!==t[n])break;return{updated:t.slice(0,n),activated:t.slice(n),deactivated:e.slice(n)}}function nt(e,t,n,r){var i=Ve(e,(function(e,r,i,o){var s=rt(e,t);if(s)return Array.isArray(s)?s.map((function(e){return n(e,r,i,o)})):n(s,r,i,o)}));return Ue(r?i.reverse():i)}function rt(e,t){return"function"!==typeof e&&(e=te.extend(e)),e.options[t]}function it(e){return nt(e,"beforeRouteLeave",st,!0)}function ot(e){return nt(e,"beforeRouteUpdate",st)}function st(e,t){if(t)return function(){return e.apply(t,arguments)}}function at(e,t,n){return nt(e,"beforeRouteEnter",(function(e,r,i,o){return ct(e,i,o,t,n)}))}function ct(e,t,n,r,i){return function(o,s,a){return e(o,s,(function(e){"function"===typeof e&&r.push((function(){ut(e,t.instances,n,i)})),a(e)}))}}function ut(e,t,n,r){t[n]&&!t[n]._isBeingDestroyed?e(t[n]):r()&&setTimeout((function(){ut(e,t,n,r)}),16)}Qe.prototype.listen=function(e){this.cb=e},Qe.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},Qe.prototype.onError=function(e){this.errorCbs.push(e)},Qe.prototype.transitionTo=function(e,t,n){var r=this,i=this.router.match(e,this.current);this.confirmTransition(i,(function(){var e=r.current;r.updateRoute(i),t&&t(i),r.ensureURL(),r.router.afterHooks.forEach((function(t){t&&t(i,e)})),r.ready||(r.ready=!0,r.readyCbs.forEach((function(e){e(i)})))}),(function(e){n&&n(e),e&&!r.ready&&(r.ready=!0,o(e,He.redirected)?r.readyCbs.forEach((function(e){e(i)})):r.readyErrorCbs.forEach((function(t){t(e)})))}))},Qe.prototype.confirmTransition=function(e,t,n){var s=this,a=this.current,c=function(e){!o(e)&&i(e)&&(s.errorCbs.length?s.errorCbs.forEach((function(t){t(e)})):(r(!1,"uncaught error during route navigation:"),console.error(e))),n&&n(e)};if(C(e,a)&&e.matched.length===a.matched.length)return this.ensureURL(),c(qe(a,e));var u=tt(this.current.matched,e.matched),l=u.updated,d=u.deactivated,f=u.activated,p=[].concat(it(d),this.router.beforeHooks,ot(l),f.map((function(e){return e.beforeEnter})),Fe(f));this.pending=e;var h=function(t,n){if(s.pending!==e)return c(Ke(a,e));try{t(e,a,(function(t){!1===t?(s.ensureURL(!0),c(Ye(a,e))):i(t)?(s.ensureURL(!0),c(t)):"string"===typeof t||"object"===typeof t&&("string"===typeof t.path||"string"===typeof t.name)?(c(Ge(a,e)),"object"===typeof t&&t.replace?s.replace(t):s.push(t)):n(t)}))}catch(r){c(r)}};Le(p,h,(function(){var n=[],r=function(){return s.current===e},i=at(f,n,r),o=i.concat(s.router.resolveHooks);Le(o,h,(function(){if(s.pending!==e)return c(Ke(a,e));s.pending=null,t(e),s.router.app&&s.router.app.$nextTick((function(){n.forEach((function(e){e()}))}))}))}))},Qe.prototype.updateRoute=function(e){this.current=e,this.cb&&this.cb(e)},Qe.prototype.setupListeners=function(){},Qe.prototype.teardownListeners=function(){this.listeners.forEach((function(e){e()})),this.listeners=[]};var lt=function(e){function t(t,n){e.call(this,t,n),this._startLocation=dt(this.base)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,n=t.options.scrollBehavior,r=Ne&&n;r&&this.listeners.push(xe());var i=function(){var n=e.current,i=dt(e.base);e.current===S&&i===e._startLocation||e.transitionTo(i,(function(e){r&&Ce(t,e,n,!0)}))};window.addEventListener("popstate",i),this.listeners.push((function(){window.removeEventListener("popstate",i)}))}},t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,n){var r=this,i=this,o=i.current;this.transitionTo(e,(function(e){De(R(r.base+e.fullPath)),Ce(r.router,e,o,!1),t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var r=this,i=this,o=i.current;this.transitionTo(e,(function(e){Be(R(r.base+e.fullPath)),Ce(r.router,e,o,!1),t&&t(e)}),n)},t.prototype.ensureURL=function(e){if(dt(this.base)!==this.current.fullPath){var t=R(this.base+this.current.fullPath);e?De(t):Be(t)}},t.prototype.getCurrentLocation=function(){return dt(this.base)},t}(Qe);function dt(e){var t=decodeURI(window.location.pathname);return e&&0===t.toLowerCase().indexOf(e.toLowerCase())&&(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}var ft=function(e){function t(t,n,r){e.call(this,t,n),r&&pt(this.base)||ht()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,n=t.options.scrollBehavior,r=Ne&&n;r&&this.listeners.push(xe());var i=function(){var t=e.current;ht()&&e.transitionTo(mt(),(function(n){r&&Ce(e.router,n,t,!0),Ne||yt(n.fullPath)}))},o=Ne?"popstate":"hashchange";window.addEventListener(o,i),this.listeners.push((function(){window.removeEventListener(o,i)}))}},t.prototype.push=function(e,t,n){var r=this,i=this,o=i.current;this.transitionTo(e,(function(e){bt(e.fullPath),Ce(r.router,e,o,!1),t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var r=this,i=this,o=i.current;this.transitionTo(e,(function(e){yt(e.fullPath),Ce(r.router,e,o,!1),t&&t(e)}),n)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;mt()!==t&&(e?bt(t):yt(t))},t.prototype.getCurrentLocation=function(){return mt()},t}(Qe);function pt(e){var t=dt(e);if(!/^\/#/.test(t))return window.location.replace(R(e+"/#"+t)),!0}function ht(){var e=mt();return"/"===e.charAt(0)||(yt("/"+e),!1)}function mt(){var e=window.location.href,t=e.indexOf("#");if(t<0)return"";e=e.slice(t+1);var n=e.indexOf("?");if(n<0){var r=e.indexOf("#");e=r>-1?decodeURI(e.slice(0,r))+e.slice(r):decodeURI(e)}else e=decodeURI(e.slice(0,n))+e.slice(n);return e}function vt(e){var t=window.location.href,n=t.indexOf("#"),r=n>=0?t.slice(0,n):t;return r+"#"+e}function bt(e){Ne?De(vt(e)):window.location.hash=e}function yt(e){Ne?Be(vt(e)):window.location.replace(vt(e))}var gt=function(e){function t(t,n){e.call(this,t,n),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,n){var r=this;this.transitionTo(e,(function(e){r.stack=r.stack.slice(0,r.index+1).concat(e),r.index++,t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var r=this;this.transitionTo(e,(function(e){r.stack=r.stack.slice(0,r.index).concat(e),t&&t(e)}),n)},t.prototype.go=function(e){var t=this,n=this.index+e;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,(function(){t.index=n,t.updateRoute(r)}),(function(e){o(e,He.duplicated)&&(t.index=n)}))}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(Qe),_t=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=he(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!Ne&&!1!==e.fallback,this.fallback&&(t="hash"),ue||(t="abstract"),this.mode=t,t){case"history":this.history=new lt(this,e.base);break;case"hash":this.history=new ft(this,e.base,this.fallback);break;case"abstract":this.history=new gt(this,e.base);break;default:0}},St={currentRoute:{configurable:!0}};function wt(e,t){return e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function xt(e,t,n){var r="hash"===n?"#"+t:t;return e?R(e+"/"+r):r}_t.prototype.match=function(e,t,n){return this.matcher.match(e,t,n)},St.currentRoute.get=function(){return this.history&&this.history.current},_t.prototype.init=function(e){var t=this;if(this.apps.push(e),e.$once("hook:destroyed",(function(){var n=t.apps.indexOf(e);n>-1&&t.apps.splice(n,1),t.app===e&&(t.app=t.apps[0]||null),t.app||t.history.teardownListeners()})),!this.app){this.app=e;var n=this.history;if(n instanceof lt||n instanceof ft){var r=function(){n.setupListeners()};n.transitionTo(n.getCurrentLocation(),r,r)}n.listen((function(e){t.apps.forEach((function(t){t._route=e}))}))}},_t.prototype.beforeEach=function(e){return wt(this.beforeHooks,e)},_t.prototype.beforeResolve=function(e){return wt(this.resolveHooks,e)},_t.prototype.afterEach=function(e){return wt(this.afterHooks,e)},_t.prototype.onReady=function(e,t){this.history.onReady(e,t)},_t.prototype.onError=function(e){this.history.onError(e)},_t.prototype.push=function(e,t,n){var r=this;if(!t&&!n&&"undefined"!==typeof Promise)return new Promise((function(t,n){r.history.push(e,t,n)}));this.history.push(e,t,n)},_t.prototype.replace=function(e,t,n){var r=this;if(!t&&!n&&"undefined"!==typeof Promise)return new Promise((function(t,n){r.history.replace(e,t,n)}));this.history.replace(e,t,n)},_t.prototype.go=function(e){this.history.go(e)},_t.prototype.back=function(){this.go(-1)},_t.prototype.forward=function(){this.go(1)},_t.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map((function(e){return Object.keys(e.components).map((function(t){return e.components[t]}))}))):[]},_t.prototype.resolve=function(e,t,n){t=t||this.history.current;var r=ee(e,t,n,this),i=this.match(r,t),o=i.redirectedFrom||i.fullPath,s=this.history.base,a=xt(s,o,this.mode);return{location:r,route:i,href:a,normalizedTo:r,resolved:i}},_t.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==S&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(_t.prototype,St),_t.install=ce,_t.version="3.3.3",ue&&window.Vue&&window.Vue.use(_t),t["a"]=_t},"8d23":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"8df4":function(e,t,n){"use strict";var r=n("7a77");function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e,t=new i((function(t){e=t}));return{token:t,cancel:e}},e.exports=i},"8f08":function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},"8fe4":function(e,t,n){var r=n("d0c8"),i=n("bb6e"),o=n("761e");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),s=n.resolve;return s(t),n.promise}},"90c5":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"90e3":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},9112:function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("5c6c");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"938d":function(e,t,n){"use strict";(function(e){n.d(t,"i",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"j",(function(){return c})),n.d(t,"k",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return v}));var r="undefined"!==typeof window,i="undefined"!==typeof document,o="undefined"!==typeof navigator,s="undefined"!==typeof Promise,a="undefined"!==typeof MutationObserver||"undefined"!==typeof WebKitMutationObserver||"undefined"!==typeof MozMutationObserver,c=r&&i&&o,u=c?window.navigator.userAgent.toLowerCase():"",l=u.indexOf("jsdom")>0,d=(/msie|trident/.test(u),function(){var e=!1;if(c)try{var t={get passive(){e=!0}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(n){e=!1}return e}()),f=c&&("ontouchstart"in document.documentElement||navigator.maxTouchPoints>0),p=c&&Boolean(window.PointerEvent||window.MSPointerEvent),h=c&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,m=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r="undefined"!==typeof e&&e?Object({NODE_ENV:"production",BASE_URL:""})||!1:{};return t?r[t]||n:r},v=function(){return m("BOOTSTRAP_VUE_NO_WARN")}}).call(this,n("4362"))},"94ca":function(e,t,n){var r=n("d039"),i=/#|\.prototype\./,o=function(e,t){var n=a[s(e)];return n==u||n!=c&&("function"==typeof t?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},"997c":function(e,t,n){var r=n("d0c8"),i=n("ba83");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},"9aed":function(e,t,n){var r=n("7f34"),i=n("ebca"),o=n("816e"),s=n("8779"),a=o("IE_PROTO"),c=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},"9bf2":function(e,t,n){var r=n("83ab"),i=n("0cfb"),o=n("825a"),s=n("c04e"),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(o(e),t=s(t,!0),o(n),i)try{return a(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},a547:function(e,t,n){var r,i,o,s=n("0d05"),a=n("09e4"),c=n("bb6e"),u=n("3261"),l=n("7f34"),d=n("816e"),f=n("1fc1"),p=a.WeakMap,h=function(e){return o(e)?i(e):r(e,{})},m=function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(s){var v=new p,b=v.get,y=v.has,g=v.set;r=function(e,t){return g.call(v,e,t),t},i=function(e){return b.call(v,e)||{}},o=function(e){return y.call(v,e)}}else{var _=d("state");f[_]=!0,r=function(e,t){return u(e,_,t),t},i=function(e){return l(e,_)?e[_]:{}},o=function(e){return l(e,_)}}e.exports={set:r,get:i,has:o,enforce:h,getterFor:m}},a580:function(e,t,n){"use strict";var r=n("199f"),i=n("0049"),o=n("9aed"),s=n("997c"),a=n("77da"),c=n("3261"),u=n("7024"),l=n("8b0e"),d=n("0f33"),f=n("ca70"),p=n("65ee"),h=p.IteratorPrototype,m=p.BUGGY_SAFARI_ITERATORS,v=l("iterator"),b="keys",y="values",g="entries",_=function(){return this};e.exports=function(e,t,n,l,p,S,w){i(n,t,l);var x,C,O,T=function(e){if(e===p&&P)return P;if(!m&&e in k)return k[e];switch(e){case b:return function(){return new n(this,e)};case y:return function(){return new n(this,e)};case g:return function(){return new n(this,e)}}return function(){return new n(this)}},E=t+" Iterator",I=!1,k=e.prototype,R=k[v]||k["@@iterator"]||p&&k[p],P=!m&&R||T(p),M="Array"==t&&k.entries||R;if(M&&(x=o(M.call(new e)),h!==Object.prototype&&x.next&&(d||o(x)===h||(s?s(x,h):"function"!=typeof x[v]&&c(x,v,_)),a(x,E,!0,!0),d&&(f[E]=_))),p==y&&R&&R.name!==y&&(I=!0,P=function(){return R.call(this)}),d&&!w||k[v]===P||c(k,v,P),f[t]=P,p)if(C={values:T(y),keys:S?P:T(b),entries:T(g)},w)for(O in C)(m||I||!(O in k))&&u(k,O,C[O]);else r({target:t,proto:!0,forced:m||I},C);return C}},a5b6:function(e,t){t.f=Object.getOwnPropertySymbols},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},a714:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},a84f:function(e,t,n){var r=n("774c"),i=n("76af");e.exports=function(e){return r(i(e))}},aa51:function(e,t,n){var r=n("20a7");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},ab8b:function(e,t,n){},ae40:function(e,t,n){var r=n("83ab"),i=n("d039"),o=n("5135"),s=Object.defineProperty,a={},c=function(e){throw e};e.exports=function(e,t){if(o(a,e))return a[e];t||(t={});var n=[][e],u=!!o(t,"ACCESSORS")&&t.ACCESSORS,l=o(t,0)?t[0]:c,d=o(t,1)?t[1]:void 0;return a[e]=!!n&&!i((function(){if(u&&!r)return!0;var e={length:-1};u?s(e,1,{enumerable:!0,get:c}):e[1]=1,n.call(e,l,d)}))}},b041:function(e,t,n){"use strict";var r=n("00ee"),i=n("f5df");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},b1b0:function(e,t,n){var r=n("09e4");e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},b50d:function(e,t,n){"use strict";var r=n("c532"),i=n("467f"),o=n("30b5"),s=n("c345"),a=n("3934"),c=n("2d83");e.exports=function(e){return new Promise((function(t,u){var l=e.data,d=e.headers;r.isFormData(l)&&delete d["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",h=e.auth.password||"";d.Authorization="Basic "+btoa(p+":"+h)}if(f.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?s(f.getAllResponseHeaders()):null,r=e.responseType&&"text"!==e.responseType?f.response:f.responseText,o={data:r,status:f.status,statusText:f.statusText,headers:n,config:e,request:f};i(t,u,o),f=null}},f.onerror=function(){u(c("Network Error",e,null,f)),f=null},f.ontimeout=function(){u(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var m=n("7aac"),v=(e.withCredentials||a(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;v&&(d[e.xsrfHeaderName]=v)}if("setRequestHeader"in f&&r.forEach(d,(function(e,t){"undefined"===typeof l&&"content-type"===t.toLowerCase()?delete d[t]:f.setRequestHeader(t,e)})),e.withCredentials&&(f.withCredentials=!0),e.responseType)try{f.responseType=e.responseType}catch(b){if("json"!==e.responseType)throw b}"function"===typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){f&&(f.abort(),u(e),f=null)})),void 0===l&&(l=null),f.send(l)}))}},b622:function(e,t,n){var r=n("da84"),i=n("5692"),o=n("5135"),s=n("90e3"),a=n("4930"),c=n("fdbf"),u=i("wks"),l=r.Symbol,d=c?l:l&&l.withoutSetter||s;e.exports=function(e){return o(u,e)||(a&&o(l,e)?u[e]=l[e]:u[e]=d("Symbol."+e)),u[e]}},b973:function(e,t,n){var r=n("0ee6"),i=n("fdbe"),o=n("a5b6"),s=n("d0c8");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},ba83:function(e,t,n){var r=n("bb6e");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},bb6e:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},bc3a:function(e,t,n){e.exports=n("cee4")},bf45:function(e,t,n){var r=n("0368"),i=n("a714"),o=n("c4dd");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},c04e:function(e,t,n){var r=n("861d");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},c272:function(e,t,n){var r=n("a84f"),i=n("09d1"),o=n("fb8a"),s=function(e){return function(t,n,s){var a,c=r(t),u=i(c.length),l=o(s,u);if(e&&n!=n){while(u>l)if(a=c[l++],a!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},c345:function(e,t,n){"use strict";var r=n("c532"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},c35a:function(e,t,n){var r=n("7820"),i=n("ca70"),o=n("8b0e"),s=o("iterator");e.exports=function(e){if(void 0!=e)return e[s]||e["@@iterator"]||i[r(e)]}},c401:function(e,t,n){"use strict";var r=n("c532");e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},c430:function(e,t){e.exports=!1},c4dd:function(e,t,n){var r=n("09e4"),i=n("bb6e"),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},c51e:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},c532:function(e,t,n){"use strict";var r=n("1d2b"),i=n("c7ce"),o=Object.prototype.toString;function s(e){return"[object Array]"===o.call(e)}function a(e){return"[object ArrayBuffer]"===o.call(e)}function c(e){return"undefined"!==typeof FormData&&e instanceof FormData}function u(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function l(e){return"string"===typeof e}function d(e){return"number"===typeof e}function f(e){return"undefined"===typeof e}function p(e){return null!==e&&"object"===typeof e}function h(e){return"[object Date]"===o.call(e)}function m(e){return"[object File]"===o.call(e)}function v(e){return"[object Blob]"===o.call(e)}function b(e){return"[object Function]"===o.call(e)}function y(e){return p(e)&&b(e.pipe)}function g(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function _(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function S(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function w(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function x(){var e={};function t(t,n){"object"===typeof e[n]&&"object"===typeof t?e[n]=x(e[n],t):e[n]=t}for(var n=0,r=arguments.length;n<r;n++)w(arguments[n],t);return e}function C(e,t,n){return w(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e}e.exports={isArray:s,isArrayBuffer:a,isBuffer:i,isFormData:c,isArrayBufferView:u,isString:l,isNumber:d,isObject:p,isUndefined:f,isDate:h,isFile:m,isBlob:v,isFunction:b,isStream:y,isURLSearchParams:g,isStandardBrowserEnv:S,forEach:w,merge:x,extend:C,trim:_}},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var r=n("da84"),i=n("ce4e"),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},c7ce:function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},c85d:function(e,t,n){var r=n("09e4");e.exports=r.Promise},c8af:function(e,t,n){"use strict";var r=n("c532");e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},c975:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").indexOf,o=n("a640"),s=n("ae40"),a=[].indexOf,c=!!a&&1/[1].indexOf(1,-0)<0,u=o("indexOf"),l=s("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:c||!u||!l},{indexOf:function(e){return c?a.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},ca70:function(e,t){e.exports={}},ca84:function(e,t,n){var r=n("5135"),i=n("fc6a"),o=n("4d64").indexOf,s=n("d012");e.exports=function(e,t){var n,a=i(e),c=0,u=[];for(n in a)!r(s,n)&&r(a,n)&&u.push(n);while(t.length>c)r(a,n=t[c++])&&(~o(u,n)||u.push(n));return u}},caad:function(e,t,n){var r=n("8b0e"),i=n("ca70"),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},cc12:function(e,t,n){var r=n("da84"),i=n("861d"),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},ce4e:function(e,t,n){var r=n("da84"),i=n("9112");e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},cee4:function(e,t,n){"use strict";var r=n("c532"),i=n("1d2b"),o=n("0a06"),s=n("2444");function a(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var c=a(s);c.Axios=o,c.create=function(e){return a(r.merge(s,e))},c.Cancel=n("7a77"),c.CancelToken=n("8df4"),c.isCancel=n("2e67"),c.all=function(e){return Promise.all(e)},c.spread=n("0df6"),e.exports=c,e.exports.default=c},cf9e:function(e,t,n){var r=n("d0c8");e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(s){var o=e["return"];throw void 0!==o&&r(o.call(e)),s}}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var r=n("428f"),i=n("da84"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},d0c8:function(e,t,n){var r=n("bb6e");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},d1d7:function(e,t,n){var r=n("09e4");e.exports=r},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},d3b7:function(e,t,n){var r=n("00ee"),i=n("6eeb"),o=n("b041");r||i(Object.prototype,"toString",o,{unsafe:!0})},d714:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},d925:function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n("c8ba"))},db8f:function(e,t,n){var r=n("09e4"),i=n("79ae"),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),s="/"===o(e,-1);return e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&s&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,c=0;c<s;c++)if(i[c]!==o[c]){a=c;break}var u=[];for(c=a;c<i.length;c++)u.push("..");return u=u.concat(o.slice(a)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=s+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},df84:function(e,t,n){var r=n("0368"),i=n("4c07"),o=n("d0c8"),s=n("f14a");e.exports=r?Object.defineProperties:function(e,t){o(e);var n,r=s(t),a=r.length,c=0;while(a>c)i.f(e,n=r[c++],t[n]);return e}},e374:function(module,exports,__webpack_require__){(function(e,t){module.exports=t()})(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/Users/zhangdong/code/kefu-fe/websdk/packages/webrtc",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";(function(e){var r,i,o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(3).default,a=n(370),c=n(4);window.WebIM="undefined"!==typeof WebIM?WebIM:{},WebIM.WebRTC=WebIM.WebRTC||{},WebIM.WebRTC.Call=a,WebIM.WebRTC.Util=s,WebIM.WebRTC.emedia=c,WebIM.__alreadyOpenMedias=[],"object"===o(e)&&"object"===o(e.exports)?e.exports=WebIM.WebRTC:(r=[],i=function(){return WebIM.WebRTC}.apply(t,r),void 0===i||(e.exports=i)),WebIM.WebRTC.useDeployMore=!1,WebIM.WebRTC.config=function(e){if(e instanceof Object!=0)for(var t in e)this[t]=e[t]},WebIM.WebRTC.supportPRAnswer=c.supportPRAnswer,console&&console.warn("Webrtc version","Git.e4f0006")}).call(this,n(2)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.default=r.util},function(e,t,n){"use strict";var r=window.emedia=window.emedia||{},i=r.util=n(5),o=n(79);if(r.config=function(e){for(var t in e=i.extend({},e),e)r.config[t]=e[t],"logLevel"===t&&(r.LOG_LEVEL=e[t]);r.config.loglastConfrCount&&!r._logContext&&(r._logContext=new Array(r.config.loglastConfrCount),r._logContextIndex=-1)},r.config({autoSub:!0,onlyEnter:!1,reconnect:13,reconnectDelay:3e3,getCopyIntervalMillis:3e4,checkConnectIntervalMillis:1e3,iceRebuildCount:3,iceRebuildIntervalMillis:500,enterTimeout:2e4,useRTCCfgIfServerReturn:!1,forceUseRTCCfgIfServerReturnWhenP2P:!0,allowRepeatAudioMixerPublish:!1,logVolumeWhenInstantGE:.5,getMediaMeterIntervalMillis:400,_useRequestAnimationFrame:!1,meterWithTrackAudioLevel:!1,judgeTalkingByInstantGE:.05,_printSoundData:!1,trackBufferSize:20,allowSendWhenLessThan:4,disableTrack:!1,ctrlCheckIntervalMillis:1e4,ctrlTimeoutMillis:3e4,_printDebugStats:!1,statsSeconds:10,remainLastStatsCount:120,loglastConfrCount:2,loglastStoreArray:!0,consoleLogger:!0,printStatsWhenPCClose:!0,rebuildPeerConnectionWhenNetworkChanaged:!0,useDeployMore:!1,rtcStatsTypeMath:function(e,t){switch(e.type){case"remote-candidate":case"local-candidate":case"track":case"stream":case"inbound-rtp":case"outbound-rtp":case"transport":return!0}return!1}}),i.logger.count(),function(){var e=n(80).default;if(r.browser=e.__browser,r.browserVersion=e.__browserVersion,void 0===r.browser)throw"Not discern browser. may require adapter error. eg. it.default"}(),i.logger.info("Current browser",r.browser,r.browserVersion),r.AudioContext=window.AudioContext||window.webkitAudioContext,r.config.getMediaMeterIntervalMillis){try{"function"===typeof r.AudioContext?(r.__audioContext=new r.AudioContext,r.__usingWebAudio=!0):r.__usingWebAudio=!1}catch(l){r.__usingWebAudio=!1}r.__usingWebAudio&&"suspended"===r.__audioContext.state&&o((function(){var e=function e(){"suspended"===r.__audioContext.state&&r.__audioContext.resume(),i.logger.warn("AudioContext state suspended ->",r.__audioContext.state),setTimeout((function(){"running"===r.__audioContext.state&&(document.body.removeEventListener("touchend",e,!1),document.body.removeEventListener("click",e,!1))}),0)};document.body.addEventListener("touchend",e,!1),document.body.addEventListener("click",e,!1)})),r.__usingWebAudio||console.warn("'new AudioContext()' failed. can not know who talking."),r.__audioContext&&"suspended"===r.__audioContext.state&&console.warn("audioContext.state is suspended. can not know who talking. You can resume() emedia.__audioContext, but only in response to a tap.")}if(window.requestAnimationFrame&&r.config._useRequestAnimationFrame?r.requestAnimationFrame=function(e){window.requestAnimationFrame(e)}:r.requestAnimationFrame=function(e,t){return setTimeout(e,t||r.config.getMediaMeterIntervalMillis)},window.cancelAnimationFrame&&r.config._useRequestAnimationFrame?r.cancelAnimationFrame=function(e){window.cancelAnimationFrame(e)}:r.cancelAnimationFrame=function(e){clearTimeout(e)},r.isWifi=function(){try{var e=!0,t=window.navigator.userAgent,n=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection;if(/MicroMessenger/.test(t)){if(t.indexOf("WIFI")>=0)return!0;e=!1}else if(n){var r=n.type;"wifi"!==r&&"2"!==r&&"unknown"!==r&&(e=!1)}return e}catch(l){return!1}},r.stopAudioTracks=function(e){e&&e.getAudioTracks().forEach((function(t){t.stop(),i.logger.info("Media stream stop audio track. stream =",e.id,"track =",t.id,t.kind)}))},r.stopAndRemoveAudioTracks=function(e){var t=[];e&&e.getAudioTracks().forEach((function(n){n.stop(),t.push(n),i.logger.info("Media stream stop and remove audio tracks. stream =",e.id,"track =",n.id,n.kind)})),i.forEach(t,(function(t,n){e.removeTrack(n)}))},r.stopTracks=function(e){try{var t=function(){e.getTracks().forEach((function(t){t.stop(),i.logger.info("Media stream stop track. stream =",e.id," track =",t.id,t.kind)})),e._bindAttendee&&(i.removeAttribute(e._bindAttendee._openedRtcMediaStreams,e.id),e._bindAttendee=null),i.logger.info("stream tracks stoped. it ",e.id)};if(!e||!1===e.active)return void i.logger.debug("stream tracks had been stoped. it ",e&&e.id);t()}catch(l){i.logger.error(l)}},r.enableVideoTracks=function(e,t){e&&e.getVideoTracks().forEach((function(n){if("function"===typeof n.enable)return n.enable(),i.logger.info("Media stream enable video track. stream =",e.id,"track =",n.kind,n.enabled,n.id),void(n.enabled===t||n.enable(t));n.enabled===t||(n.enabled=t)}))},r.enableAudioTracks=function(e,t){e&&e.getAudioTracks().forEach((function(n){if("function"===typeof n.enable)return n.enable(),i.logger.info("Media stream enable audio track. stream =",e.id,"track =",n.kind,n.enabled,n.id),void(n.enabled===t||n.enable(t));n.enabled===t||(n.enabled=t)}))},r.hasEnabledTracks=function(e){if(!e||"function"!==typeof e.getAudioTracks)return!1;if(!e.active)return!1;var t=e.getAudioTracks();if(0===t.length)return!1;for(var n in t)if("function"===typeof t[n].enable&&t[n].enable(),t[n].enabled)return!0;return!1},r.genReportName=function(){var e=r._lastSetupDate||new Date;return(r._lastSetupTktId||r._lastSetupConfr)+"_"+r._lastSetupMemName+"_"+e.getTime()+".log"},r.getReportUploadUrl=function(e,t,n){var r=new XMLHttpRequest;r.open(e,t,!0),r.addEventListener("load",(function(e){n&&n(e)}),!1),r.send(null)},r.uploadReport=function(e,t,n,o,s,a){var c=r.genReport();if(c){"function"===typeof n&&(a=s,s=o,o=n,n=void 0);var u=new Blob([c],{type:"text/plain"}),l=new FormData;l.append(e,u,e),n&&"function"===typeof l.set&&i.forEach(n,(function(e,t){l.set(e,t)}));var d=new XMLHttpRequest;d.open("POST",t,!0),d.setRequestHeader("X-File-Name",e),a&&a(d),d.addEventListener("load",f,!1),d.send(l),console.info("log begin upload. ",e," > ",t)}else s&&s("not logs");function f(n){console.info("log begin upload. result = ",n.currentTarget.status,e," > ",t),200===n.currentTarget.status?o&&o(n):s&&s(n)}},r.genReport=function(){if(r._logContext&&r._logContext instanceof Array&&!("undefined"===typeof r._logContextIndex||r._logContextIndex<0)){var e=0,t=r._logContextIndex;r._logContextIndex>=r._logContext.length&&(e=r._logContextIndex-r._logContext.length+1);for(var n="",i=e;i<=t;i++){var o=i%r._logContext.length,s=r._logContext[o];n+=s.join("\r\n")+"\r\n"}return r._logContext.loadlogs&&r._logContext.loadlogs instanceof Array&&(n+="-------------------------------------------------------------\r\n",n+=r._logContext.loadlogs.join("\r\n")+"\r\n"),n}},r.fileReport=function(e){var t=r.genReport();if(t){var n=encodeURIComponent(t),i=document.createElement("a");i.style.display="none",i.download=e||"emedia-"+(new Date).toJSON()+".log",i.href="data:text/plain;charset=utf-8,"+n,document.body.appendChild(i),i.click(),i.parentNode.removeChild(i)}},navigator.mediaDevices){var s=navigator.mediaDevices.getSupportedConstraints();i.logger.info("Supported constraints",s)}r.config({globalConstraints:{}});var a=n(133),c=n(142);r.Webrtc=n(147),r.Service=a,r.P2P=n(157),r.XService=a,r.XServiceWithP2P=r.P2P(a),r.mgr=n(158).outer,r.ctrl=n(361),r.CompositeCanvas=n(367),r.pannel||(r.pannel={}),r.pannel.DefaultMouseTrack=n(154),r.pannel.MouseTrack=n(155),r.pannel.KeyboardTrack=n(368);var u=r.PCStats=n(153);if(r.helper=r.helper||{},r.helper.PCStats=u,r.helper.pcstats=u.echo,r.helper.intervalPcstats=u.intervalEcho,r.helper.inboundAudio=u.inboundAudio,r.helper.inboundVideo=u.inboundVideo,r.helper.outboundAudio=u.outboundAudio,r.helper.outboundVideo=u.outboundVideo,r.event=c,r.LOG_LEVEL=0,r.isFirefox="firefox"===r.browser,r.isChrome="chrome"===r.browser,r.isSafari="safari"===r.browser,r.isEdge="edge"===r.browser,r.isElectron=/Electron/.test(navigator.userAgent),r.isElectron)try{n(369)}catch(l){i.logger.error(l)}r.youInSomeBrowsers=function(){if(r.isSafari){var e=new RegExp("(Version)/([0-9.]+)","i"),t=navigator.userAgent.match(e);if(null!=t){var n=unescape(t[2]);return n=parseInt(n),n<13}}return!1},r.replaceIpAndPortOfCandidate=function(e,t,n){return e.replace(/(candidate:\d+\s+\d+\s+UDP\s+\d+\s+)([\d\.]+)\s+(\d+)(\s+.*)/g,(function(e,r,i,o,s){return r+t+" "+n+s}))},r.replaceIpAndPort=function(e,t){return"function"!==typeof t?e:e.replace(/(candidate:\d+\s+\d+\s+UDP\s+\d+\s+)([\d\.]+)\s+(\d+)(\s+.*)/g,(function(e,n,r,i,o){var s=t(r,i);return"string"===typeof s?(s=s.replace(":"," "),n+s+o):n+ip+" "+port+o}))},r.replaceURL=function(e,t){return"function"!==typeof t?e:e.replace(/([^:\/?&#=]+):\/\/([^\/:?#]+)(:\d+)?(\/[^?#]*)?(\?[^\/#]*)?(#[^\/?]*)?/g,(function(n,r,i,o,s,a,c){o&&(o=o.substring(1));var u=t(n,r,i,o,s,a,c);if(!u)return e;if("string"===typeof u)return u;var l=u.protocol||r,d=u.host||i,f=u.port||o,p=u.path||s,h=u.query||a,m=u.fragment||c;return l+"://"+d+(f?":"+f:"")+(p||"")+(h||"")+(m||"")}))},r.requireTrustBeforeJoin=function(){return!1},r.isWebRTC=window.RTCPeerConnection&&/^https\:$/.test(window.location.protocol),(r.isChrome||r.isSafari)&&(r.supportPRAnswer=!0),r.supportPRAnswer=!1,r.config({baseAcptOps:[102,104,105,106,107,300,302,303,304,301,204,206,400,401,1001,100221,100222,100223,100224,100201,100202,100203]}),r.config({clientType:"WEB",version:"2.1.3",userAgent:navigator.userAgent,acptOps:[100230,100205,1003,1004]}),e.exports=r},function(module,exports,__webpack_require__){"use strict";var _typeof2=__webpack_require__(6),_typeof3=_interopRequireDefault(_typeof2),_getPrototypeOf=__webpack_require__(73),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_stringify=__webpack_require__(77),_stringify2=_interopRequireDefault(_stringify);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function Util(){}(function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");Math.uuid=function(t,n){var r,i,o=e,s=[];if(n=n||o.length,t)for(r=0;r<t;r++)s[r]=o[0|Math.random()*n];else for(s[8]=s[13]=s[18]=s[23]="-",s[14]="4",r=0;r<36;r++)s[r]||(i=0|16*Math.random(),s[r]=o[19==r?3&i|8:i]);return s.join("")},Math.uuidFast=function(){for(var t,n=e,r=new Array(36),i=0,o=0;o<36;o++)8==o||13==o||18==o||23==o?r[o]="-":14==o?r[o]="4":(i<=2&&(i=33554432+16777216*Math.random()|0),t=15&i,i>>=4,r[o]=n[19==o?3&t|8:t]);return r.join("")},Math.uuidCompact=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)}))}})(),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t});var Logger=function(e){var t=this,n={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,FATAL:5},r=["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"];function i(e,t){try{a(e,t)}catch(n){if(console){if(console.error)return void console.error(n);if(console.log)return void console.log(n)}throw n}}function o(){if(!(emedia._logContextIndex<0)&&emedia._logContext&&emedia._logContext instanceof Array){var e=emedia._logContextIndex%emedia._logContext.length,t=emedia._logContext[e];t&&t instanceof Array||(t=emedia._logContext[e]=[]);var n=[];n.push(emedia._logContextIndex);var r,i=new Date;"function"===typeof i.toLocaleString?n.push(i.toLocaleString()):i.toJSON?n.push(i.toJSON()):i.toISOString?n.push(i.toISOString()):n.push(i+"");for(var o=0;o<arguments.length;o++){var s=arguments[o];"string"!==typeof s?s?"string"!==typeof s.message?"function"!==typeof s.message?"string"!==typeof s.stack?s.event&&"function"===typeof s.event.toString||s.event&&"function"===typeof s.event.toString?n.push(s.event.toString()):"string"!==typeof s.candidate?"string"!==typeof s.sdp?isPlainObject(s)?n.push((0,_stringify2.default)(s)):n.push(String(s)):n.push(s.sdp):n.push(s.candidate):n.push(s.stack):n.push(s.message()):n.push(s.message):n.push(s):n.push(s)}if(emedia.config.loglastStoreArray&&t.push(r=n.join(" ")),"function"===typeof emedia.config.onSdkLog)try{r||(r=n.join(" ")),emedia.config.onSdkLog(r)}catch(a){console.error(a)}}}function s(){try{o.apply(null,arguments)}catch(e){console.warn(e)}}function a(n,r){if(!(emedia&&emedia.LOG_LEVEL&&n<emedia.LOG_LEVEL)){var i=[];i.push(n),e&&i.push(e);for(var o=0;o<r.length;o++)i.push(r[o]&&r[o]._toString?r[o]._toString.call(r[o]):r[o]);t._log.apply(t,i)}}this._log=function(){var e=arguments[0];e=arguments[0]=r[e],emedia._logContext&&s.apply(null,arguments),!0===emedia.config.consoleLogger&&(emedia&&emedia.isElectron?console.log.apply(console,arguments):console&&e&&(console[e.toLowerCase()]||console.warn).apply(console,arguments))},this.log=function(){this._log&&i(n.INFO,arguments)},this.trace=function(){this._log&&i(n.TRACE,arguments)},this.debug=function(){this._log&&i(n.DEBUG,arguments)},this.info=function(){this._log&&i(n.INFO,arguments)},this.warn=function(){this._log&&i(n.WARN,arguments)},this.error=function(){this._log&&i(n.ERROR,arguments)},this.fatal=function(){this._log&&i(n.FATAL,arguments)}};Logger.prototype.count=function(){if(emedia._logContext){emedia._logContextIndex++;var e=emedia._logContextIndex%emedia._logContext.length;0===e&&0!==emedia._logContextIndex&&(emedia._logContext.loadlogs=emedia._logContext[e]),emedia._logContext[e]=[]}},Util.prototype.logger=new Logger,Util.prototype.tagLogger=function(e){return new Logger(e)},Util.prototype.parseJSON=function(e){return JSON.parse(e)};var stringifyJSON=Util.prototype.stringifyJSON=function(e){return(0,_stringify2.default)(e)},class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,fnToString=hasOwn.toString,ObjectFunctionString=fnToString.call(Object),isPlainObject=Util.prototype.isPlainObject=function(e){var t,n;return!(!e||"[object Object]"!==toString.call(e)||"<JSAPI-Auto Javascript Object>"===e.toString()||"[object IFBComJavascriptObject]"===e.toString())&&(t=(0,_getPrototypeOf2.default)(e),!t||(n=hasOwn.call(t,"constructor")&&t.constructor,"function"===typeof n&&fnToString.call(n)===ObjectFunctionString))};Util.prototype.isArray=Array.isArray,Util.prototype.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},Util.prototype.type=function(e){return null==e?e+"":"object"===("undefined"===typeof e?"undefined":(0,_typeof3.default)(e))||"function"===typeof e?class2type[toString.call(e)]||"object":"undefined"===typeof e?"undefined":(0,_typeof3.default)(e)},Util.prototype.extend=function(){var e,t,n,r,i,o,s=this,a=arguments[0]||{},c=1,u=arguments.length,l=!1;for("boolean"===typeof a&&(l=a,a=arguments[c]||{},c++),"object"===("undefined"===typeof a?"undefined":(0,_typeof3.default)(a))||s.isFunction(a)||(a={}),c===u&&(a=this,c--);c<u;c++)if(null!=(e=arguments[c]))for(t in e)n=a[t],r=e[t],a!==r&&(l&&r&&(s.isPlainObject(r)||(i=s.isArray(r)))?(i?(i=!1,o=n&&s.isArray(n)?n:[]):o=n&&s.isPlainObject(n)?n:{},a[t]=s.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},Util.prototype.removeAttribute=function(e,t){if(null!==e&&void 0!==e){var n=e[t];return delete e[t],n}},Util.prototype.prototypeExtend_000=Util.prototype.classExtend=function(){var e,t=this;function n(){for(var e=0;e<arguments.length;e++){var n=arguments[e]||{};t.extend(!0,this,n)}this.__init__&&this.__init__.apply(this,arguments)}for(var r=0;r<arguments.length;r++){var i=arguments[r]||{};"function"===typeof i?e?(i.constructor=e,i.__proto__=e.prototype):e=i:t.extend(!0,n.prototype,i)}return e&&(n.prototype.__proto__=e.prototype),e&&(n.prototype.constructor=e),n.extend||(n.extend=function(e){return t.prototypeExtend(n,e)}),n},Util.prototype.prototypeExtend=Util.prototype.classExtend=function(){var e=this;function t(){for(var t=0;t<arguments.length;t++){var n=arguments[t]||{};e.extend(!0,this,n)}this.__init__&&this.__init__.apply(this,arguments)}for(var n=0;n<arguments.length;n++){var r=arguments[n]||{};"function"===typeof r&&(r=r.prototype),e.extend(!0,t.prototype,r)}return t.extend||(t.extend=function(n){return e.prototypeExtend(t,n)}),t},Util.prototype.hasLocalStorage=function(e){return null!=localStorage.getItem(e)&&"{}"!=localStorage.getItem(e)},Util.prototype.toggleClass=function(e,t){e.hasClass(t)?e.removeClass(t):e.addClass(t)},Util.prototype.setCookie=function(e,t,n){var r=new Date;r.setTime(r.getTime()+60*n*60*1e3),document.cookie=e+"="+escape(t)+";expires="+r.toGMTString()},Util.prototype.getCookie=function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!=t?unescape(t[2]):null},Util.prototype.parseURL=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},Util.prototype.forEach=function(e,t){if(e&&(!this.isArray(e)||0!==e.length)&&(void 0===e.length||0!==e.length))if(e.length)for(var n=0;n<e.length;n++)t(n,e[n]);else if(e&&!this.isEmptyObject(e)){e=e||{};var r=this.extend(!1,{},e);for(var i in r)t(i,e[i])}},Util.prototype.isInt=function(e){return Number(e)===e&&e%1===0},Util.prototype.isFloat=function(e){return Number(e)===e&&e%1!==0},Util.prototype.list=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);return e},Util.prototype.addEvent=function(e,t,n){if(e.attachEvent)return e.attachEvent("on"+t,n);if(e.addEventListener)return e.addEventListener(t,n,!1);throw"Handler could not be attached"},Util.prototype.removeEvent=function(e,t,n){if(e.detachEvent)return e.detachEvent("on"+t,n);if(e.removeEventListener)return e.removeEventListener(t,n,!1);throw"Handler could not be removed"},Util.prototype.stopEvent=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1},Util.prototype.getDomPageRect=function(e){var t=e.getBoundingClientRect();return{x:t.left+(window.pageXOffset||window.document.documentElement.scrollLeft),y:t.top+(window.pageYOffset||window.document.documentElement.scrollTop),width:t.width||e.offsetWidth,height:t.height||e.offsetHeight}},Util.prototype.getEventElementXY=function(e,t,n){e=e||window.event;var r,i,o=e.changedTouches?e.changedTouches[0]:e.touches?e.touches[0]:e;void 0!=o.pageX&&void 0!=o.pageY?(r=o.pageX,i=o.pageY):void 0!=o.clientX&&void 0!=o.clientY&&(r=o.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=o.clientY+document.body.scrollTop+document.documentElement.scrollTop);var s=this.getDomPageRect(t),a=r-s.x,c=i-s.y;return(0===n||void 0==n)&&(n=1),{x:Math.round(Math.max(Math.min(a,s.width-1),0)/n),y:Math.round(Math.max(Math.min(c,s.height-1),0)/n),width:Math.round(s.width/n),height:Math.round(s.height/n),realX:a,realY:c}},Util.prototype.layoutEngine=function(){var e={presto:!!window.opera,trident:!!window.ActiveXObject&&(window.XMLHttpRequest?document.querySelectorAll?6:5:4),webkit:function(){try{return!navigator.taintEnabled&&(i.Features.xpath?i.Features.query?525:420:419)}catch(e){return!1}}(),gecko:!(!document.getBoxObjectFor&&null==window.mozInnerScreenX)&&(document.getElementsByClassName?19:18)};return e.webkit&&(e.webkit=function(e){var t=(navigator.userAgent.match(/WebKit\/([0-9\.]*) /)||["",e])[1];return parseFloat(t,10)}(e)),e}(),Util.prototype.targetDOM="object"===("undefined"===typeof HTMLElement?"undefined":(0,_typeof3.default)(HTMLElement))?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"===("undefined"===typeof e?"undefined":(0,_typeof3.default)(e))&&1===e.nodeType&&"string"===typeof e.nodeName},Util.prototype.cloneCSS=function(e,t){var n=window.getComputedStyle&&window.getComputedStyle(e,null)||e.currentStyle;for(var r in n){var i=n[r];/^[a-z]/i.test(r)&&[null,"",void 0].indexOf(i)<0&&(t.style[r]=i)}},Util.prototype.canYield=function(){try{return eval("!!Function('yield true;')().next()")}catch(e){return!1}}(),module.exports=new Util},function(e,t,n){"use strict";t.__esModule=!0;var r=n(7),i=c(r),o=n(58),s=c(o),a="function"===typeof s.default&&"symbol"===typeof i.default?function(e){return typeof e}:function(e){return e&&"function"===typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};function c(e){return e&&e.__esModule?e:{default:e}}t.default="function"===typeof s.default&&"symbol"===a(i.default)?function(e){return"undefined"===typeof e?"undefined":a(e)}:function(e){return e&&"function"===typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":"undefined"===typeof e?"undefined":a(e)}},function(e,t,n){e.exports={default:n(8),__esModule:!0}},function(e,t,n){n(9),n(53),e.exports=n(57).f("iterator")},function(e,t,n){"use strict";var r=n(10)(!0);n(13)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(11),i=n(12);e.exports=function(e){return function(t,n){var o,s,a=String(i(t)),c=r(n),u=a.length;return c<0||c>=u?e?"":void 0:(o=a.charCodeAt(c),o<55296||o>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):o:e?a.slice(c,c+2):s-56320+(o-55296<<10)+65536)}}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";var r=n(14),i=n(15),o=n(31),s=n(20),a=n(32),c=n(33),u=n(49),l=n(51),d=n(50)("iterator"),f=!([].keys&&"next"in[].keys()),p="@@iterator",h="keys",m="values",v=function(){return this};e.exports=function(e,t,n,b,y,g,_){c(n,t,b);var S,w,x,C=function(e){if(!f&&e in I)return I[e];switch(e){case h:return function(){return new n(this,e)};case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},O=t+" Iterator",T=y==m,E=!1,I=e.prototype,k=I[d]||I[p]||y&&I[y],R=k||C(y),P=y?T?C("entries"):R:void 0,M="Array"==t&&I.entries||k;if(M&&(x=l(M.call(new e)),x!==Object.prototype&&x.next&&(u(x,O,!0),r||"function"==typeof x[d]||s(x,d,v))),T&&k&&k.name!==m&&(E=!0,R=function(){return k.call(this)}),r&&!_||!f&&!E&&I[d]||s(I,d,R),a[t]=R,a[O]=v,y)if(S={values:T?R:C(m),keys:g?R:C(h),entries:P},_)for(w in S)w in I||o(I,w,S[w]);else i(i.P+i.F*(f||E),t,S);return S}},function(e,t){e.exports=!0},function(e,t,n){var r=n(16),i=n(17),o=n(18),s=n(20),a=n(30),c="prototype",u=function(e,t,n){var l,d,f,p=e&u.F,h=e&u.G,m=e&u.S,v=e&u.P,b=e&u.B,y=e&u.W,g=h?i:i[t]||(i[t]={}),_=g[c],S=h?r:m?r[t]:(r[t]||{})[c];for(l in h&&(n=t),n)d=!p&&S&&void 0!==S[l],d&&a(g,l)||(f=d?S[l]:n[l],g[l]=h&&"function"!=typeof S[l]?n[l]:b&&d?o(f,r):y&&S[l]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[c]=e[c],t}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((g.virtual||(g.virtual={}))[l]=f,e&u.R&&_&&!_[l]&&s(_,l,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.6.10"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(19);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(21),i=n(29);e.exports=n(25)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(22),i=n(24),o=n(28),s=Object.defineProperty;t.f=n(25)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(23);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t,n){e.exports=!n(25)&&!n(26)((function(){return 7!=Object.defineProperty(n(27)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){e.exports=!n(26)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){var r=n(23),i=n(16).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(23);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){e.exports=n(20)},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(34),i=n(29),o=n(49),s={};n(20)(s,n(50)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(s,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(22),i=n(35),o=n(47),s=n(44)("IE_PROTO"),a=function(){},c="prototype",u=function(){var e,t=n(27)("iframe"),r=o.length,i="<",s=">";t.style.display="none",n(48).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(i+"script"+s+"document.F=Object"+i+"/script"+s),e.close(),u=e.F;while(r--)delete u[c][o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(a[c]=r(e),n=new a,a[c]=null,n[s]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(21),i=n(22),o=n(36);e.exports=n(25)?Object.defineProperties:function(e,t){i(e);var n,s=o(t),a=s.length,c=0;while(a>c)r.f(e,n=s[c++],t[n]);return e}},function(e,t,n){var r=n(37),i=n(47);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(30),i=n(38),o=n(41)(!1),s=n(44)("IE_PROTO");e.exports=function(e,t){var n,a=i(e),c=0,u=[];for(n in a)n!=s&&r(a,n)&&u.push(n);while(t.length>c)r(a,n=t[c++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){var r=n(39),i=n(12);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(40);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(38),i=n(42),o=n(43);e.exports=function(e){return function(t,n,s){var a,c=r(t),u=i(c.length),l=o(s,u);if(e&&n!=n){while(u>l)if(a=c[l++],a!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(11),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(11),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(45)("keys"),i=n(46);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(17),i=n(16),o="__core-js_shared__",s=i[o]||(i[o]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(14)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(16).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(21).f,i=n(30),o=n(50)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(45)("wks"),i=n(46),o=n(16).Symbol,s="function"==typeof o,a=e.exports=function(e){return r[e]||(r[e]=s&&o[e]||(s?o:i)("Symbol."+e))};a.store=r},function(e,t,n){var r=n(30),i=n(52),o=n(44)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var r=n(12);e.exports=function(e){return Object(r(e))}},function(e,t,n){n(54);for(var r=n(16),i=n(20),o=n(32),s=n(50)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var u=a[c],l=r[u],d=l&&l.prototype;d&&!d[s]&&i(d,s,u),o[u]=o.Array}},function(e,t,n){"use strict";var r=n(55),i=n(56),o=n(32),s=n(38);e.exports=n(13)(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){t.f=n(50)},function(e,t,n){e.exports={default:n(59),__esModule:!0}},function(e,t,n){n(60),n(70),n(71),n(72),e.exports=n(17).Symbol},function(e,t,n){"use strict";var r=n(16),i=n(30),o=n(25),s=n(15),a=n(31),c=n(61).KEY,u=n(26),l=n(45),d=n(49),f=n(46),p=n(50),h=n(57),m=n(62),v=n(63),b=n(66),y=n(22),g=n(23),_=n(52),S=n(38),w=n(28),x=n(29),C=n(34),O=n(67),T=n(69),E=n(64),I=n(21),k=n(36),R=T.f,P=I.f,M=O.f,A=r.Symbol,j=r.JSON,N=j&&j.stringify,D="prototype",B=p("_hidden"),L=p("toPrimitive"),F={}.propertyIsEnumerable,V=l("symbol-registry"),U=l("symbols"),$=l("op-symbols"),W=Object[D],z="function"==typeof A&&!!E.f,H=r.QObject,G=!H||!H[D]||!H[D].findChild,q=o&&u((function(){return 7!=C(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=R(W,t);r&&delete W[t],P(e,t,n),r&&e!==W&&P(W,t,r)}:P,K=function(e){var t=U[e]=C(A[D]);return t._k=e,t},Y=z&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},J=function(e,t,n){return e===W&&J($,t,n),y(e),t=w(t,!0),y(n),i(U,t)?(n.enumerable?(i(e,B)&&e[B][t]&&(e[B][t]=!1),n=C(n,{enumerable:x(0,!1)})):(i(e,B)||P(e,B,x(1,{})),e[B][t]=!0),q(e,t,n)):P(e,t,n)},X=function(e,t){y(e);var n,r=v(t=S(t)),i=0,o=r.length;while(o>i)J(e,n=r[i++],t[n]);return e},Z=function(e,t){return void 0===t?C(e):X(C(e),t)},Q=function(e){var t=F.call(this,e=w(e,!0));return!(this===W&&i(U,e)&&!i($,e))&&(!(t||!i(this,e)||!i(U,e)||i(this,B)&&this[B][e])||t)},ee=function(e,t){if(e=S(e),t=w(t,!0),e!==W||!i(U,t)||i($,t)){var n=R(e,t);return!n||!i(U,t)||i(e,B)&&e[B][t]||(n.enumerable=!0),n}},te=function(e){var t,n=M(S(e)),r=[],o=0;while(n.length>o)i(U,t=n[o++])||t==B||t==c||r.push(t);return r},ne=function(e){var t,n=e===W,r=M(n?$:S(e)),o=[],s=0;while(r.length>s)!i(U,t=r[s++])||n&&!i(W,t)||o.push(U[t]);return o};z||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===W&&t.call($,n),i(this,B)&&i(this[B],e)&&(this[B][e]=!1),q(this,e,x(1,n))};return o&&G&&q(W,e,{configurable:!0,set:t}),K(e)},a(A[D],"toString",(function(){return this._k})),T.f=ee,I.f=J,n(68).f=O.f=te,n(65).f=Q,E.f=ne,o&&!n(14)&&a(W,"propertyIsEnumerable",Q,!0),h.f=function(e){return K(p(e))}),s(s.G+s.W+s.F*!z,{Symbol:A});for(var re="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;re.length>ie;)p(re[ie++]);for(var oe=k(p.store),se=0;oe.length>se;)m(oe[se++]);s(s.S+s.F*!z,"Symbol",{for:function(e){return i(V,e+="")?V[e]:V[e]=A(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in V)if(V[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),s(s.S+s.F*!z,"Object",{create:Z,defineProperty:J,defineProperties:X,getOwnPropertyDescriptor:ee,getOwnPropertyNames:te,getOwnPropertySymbols:ne});var ae=u((function(){E.f(1)}));s(s.S+s.F*ae,"Object",{getOwnPropertySymbols:function(e){return E.f(_(e))}}),j&&s(s.S+s.F*(!z||u((function(){var e=A();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))}))),"JSON",{stringify:function(e){var t,n,r=[e],i=1;while(arguments.length>i)r.push(arguments[i++]);if(n=t=r[1],(g(t)||void 0!==e)&&!Y(e))return b(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,N.apply(j,r)}}),A[D][L]||n(20)(A[D],L,A[D].valueOf),d(A,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(46)("meta"),i=n(23),o=n(30),s=n(21).f,a=0,c=Object.isExtensible||function(){return!0},u=!n(26)((function(){return c(Object.preventExtensions({}))})),l=function(e){s(e,r,{value:{i:"O"+ ++a,w:{}}})},d=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[r].i},f=function(e,t){if(!o(e,r)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[r].w},p=function(e){return u&&h.NEED&&c(e)&&!o(e,r)&&l(e),e},h=e.exports={KEY:r,NEED:!1,fastKey:d,getWeak:f,onFreeze:p}},function(e,t,n){var r=n(16),i=n(17),o=n(14),s=n(57),a=n(21).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t,n){var r=n(36),i=n(64),o=n(65);e.exports=function(e){var t=r(e),n=i.f;if(n){var s,a=n(e),c=o.f,u=0;while(a.length>u)c.call(e,s=a[u++])&&t.push(s)}return t}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(40);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(38),i=n(68).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return i(e)}catch(t){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?a(e):i(r(e))}},function(e,t,n){var r=n(37),i=n(47).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(65),i=n(29),o=n(38),s=n(28),a=n(30),c=n(24),u=Object.getOwnPropertyDescriptor;t.f=n(25)?u:function(e,t){if(e=o(e),t=s(t,!0),c)try{return u(e,t)}catch(n){}if(a(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t){},function(e,t,n){n(62)("asyncIterator")},function(e,t,n){n(62)("observable")},function(e,t,n){e.exports={default:n(74),__esModule:!0}},function(e,t,n){n(75),e.exports=n(17).Object.getPrototypeOf},function(e,t,n){var r=n(52),i=n(51);n(76)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},function(e,t,n){var r=n(15),i=n(17),o=n(26);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],s={};s[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",s)}},function(e,t,n){e.exports={default:n(78),__esModule:!0}},function(e,t,n){var r=n(17),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){var r;(function(i,o){r=function(){return o(i)}.call(t,n,t,e),void 0===r||(e.exports=r)})(this,(function(){var t=function(){var e,t,n,r,i,o,s=[],a=s.concat,c=s.filter,u=s.slice,l=window.document,d={},f={},p={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},h=/^\s*<(\w+|!)[^>]*>/,m=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,b=/^(?:body|html)$/i,y=/([A-Z])/g,g=["val","css","html","text","data","width","height","offset"],_=["after","prepend","before","append"],S=l.createElement("table"),w=l.createElement("tr"),x={tr:l.createElement("tbody"),tbody:S,thead:S,tfoot:S,td:w,th:w,"*":l.createElement("div")},C=/complete|loaded|interactive/,O=/^[\w-]*$/,T={},E=T.toString,I={},k=l.createElement("div"),R={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},P=Array.isArray||function(e){return e instanceof Array};function M(e){return null==e?String(e):T[E.call(e)]||"object"}function A(e){return"function"==M(e)}function j(e){return null!=e&&e==e.window}function N(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function D(e){return"object"==M(e)}function B(e){return D(e)&&!j(e)&&Object.getPrototypeOf(e)==Object.prototype}function L(e){var t=!!e&&"length"in e&&e.length,r=n.type(e);return"function"!=r&&!j(e)&&("array"==r||0===t||"number"==typeof t&&t>0&&t-1 in e)}function F(e){return c.call(e,(function(e){return null!=e}))}function V(e){return e.length>0?n.fn.concat.apply([],e):e}function U(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function $(e){return e in f?f[e]:f[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function W(e,t){return"number"!=typeof t||p[U(e)]?t:t+"px"}function z(e){var t,n;return d[e]||(t=l.createElement(e),l.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),d[e]=n),d[e]}function H(e){return"children"in e?u.call(e.children):n.map(e.childNodes,(function(e){if(1==e.nodeType)return e}))}function G(e,t){var n,r=e?e.length:0;for(n=0;n<r;n++)this[n]=e[n];this.length=r,this.selector=t||""}function q(n,r,i){for(t in r)i&&(B(r[t])||P(r[t]))?(B(r[t])&&!B(n[t])&&(n[t]={}),P(r[t])&&!P(n[t])&&(n[t]=[]),q(n[t],r[t],i)):r[t]!==e&&(n[t]=r[t])}function K(e,t){return null==t?n(e):n(e).filter(t)}function Y(e,t,n,r){return A(t)?t.call(e,n,r):t}function J(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function X(t,n){var r=t.className||"",i=r&&r.baseVal!==e;if(n===e)return i?r.baseVal:r;i?r.baseVal=n:t.className=n}function Z(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?n.parseJSON(e):e):e}catch(t){return e}}function Q(e,t){t(e);for(var n=0,r=e.childNodes.length;n<r;n++)Q(e.childNodes[n],t)}return I.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,o=!i;return o&&(i=k).appendChild(e),r=~I.qsa(i,t).indexOf(e),o&&k.removeChild(e),r},i=function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},o=function(e){return c.call(e,(function(t,n){return e.indexOf(t)==n}))},I.fragment=function(t,r,i){var o,s,a;return m.test(t)&&(o=n(l.createElement(RegExp.$1))),o||(t.replace&&(t=t.replace(v,"<$1></$2>")),r===e&&(r=h.test(t)&&RegExp.$1),r in x||(r="*"),a=x[r],a.innerHTML=""+t,o=n.each(u.call(a.childNodes),(function(){a.removeChild(this)}))),B(i)&&(s=n(o),n.each(i,(function(e,t){g.indexOf(e)>-1?s[e](t):s.attr(e,t)}))),o},I.Z=function(e,t){return new G(e,t)},I.isZ=function(e){return e instanceof I.Z},I.init=function(t,r){var i;if(!t)return I.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&h.test(t))i=I.fragment(t,RegExp.$1,r),t=null;else{if(r!==e)return n(r).find(t);i=I.qsa(l,t)}else{if(A(t))return n(l).ready(t);if(I.isZ(t))return t;if(P(t))i=F(t);else if(D(t))i=[t],t=null;else if(h.test(t))i=I.fragment(t.trim(),RegExp.$1,r),t=null;else{if(r!==e)return n(r).find(t);i=I.qsa(l,t)}}return I.Z(i,t)},n=function(e,t){return I.init(e,t)},n.extend=function(e){var t,n=u.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach((function(n){q(e,n,t)})),e},I.qsa=function(e,t){var n,r="#"==t[0],i=!r&&"."==t[0],o=r||i?t.slice(1):t,s=O.test(o);return e.getElementById&&s&&r?(n=e.getElementById(o))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:u.call(s&&!r&&e.getElementsByClassName?i?e.getElementsByClassName(o):e.getElementsByTagName(t):e.querySelectorAll(t))},n.contains=l.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){while(t&&(t=t.parentNode))if(t===e)return!0;return!1},n.type=M,n.isFunction=A,n.isWindow=j,n.isArray=P,n.isPlainObject=B,n.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},n.isNumeric=function(e){var t=Number(e),n=typeof e;return null!=e&&"boolean"!=n&&("string"!=n||e.length)&&!isNaN(t)&&isFinite(t)||!1},n.inArray=function(e,t,n){return s.indexOf.call(t,e,n)},n.camelCase=i,n.trim=function(e){return null==e?"":String.prototype.trim.call(e)},n.uuid=0,n.support={},n.expr={},n.noop=function(){},n.map=function(e,t){var n,r,i,o=[];if(L(e))for(r=0;r<e.length;r++)n=t(e[r],r),null!=n&&o.push(n);else for(i in e)n=t(e[i],i),null!=n&&o.push(n);return V(o)},n.each=function(e,t){var n,r;if(L(e)){for(n=0;n<e.length;n++)if(!1===t.call(e[n],n,e[n]))return e}else for(r in e)if(!1===t.call(e[r],r,e[r]))return e;return e},n.grep=function(e,t){return c.call(e,t)},window.JSON&&(n.parseJSON=JSON.parse),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){T["[object "+t+"]"]=t.toLowerCase()})),n.fn={constructor:I.Z,length:0,forEach:s.forEach,reduce:s.reduce,push:s.push,sort:s.sort,splice:s.splice,indexOf:s.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=I.isZ(t)?t.toArray():t;return a.apply(I.isZ(this)?this.toArray():this,n)},map:function(e){return n(n.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return n(u.apply(this,arguments))},ready:function(e){return C.test(l.readyState)&&l.body?e(n):l.addEventListener("DOMContentLoaded",(function(){e(n)}),!1),this},get:function(t){return t===e?u.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each((function(){null!=this.parentNode&&this.parentNode.removeChild(this)}))},each:function(e){return s.every.call(this,(function(t,n){return!1!==e.call(t,n,t)})),this},filter:function(e){return A(e)?this.not(this.not(e)):n(c.call(this,(function(t){return I.matches(t,e)})))},add:function(e,t){return n(o(this.concat(n(e,t))))},is:function(e){return this.length>0&&I.matches(this[0],e)},not:function(t){var r=[];if(A(t)&&t.call!==e)this.each((function(e){t.call(this,e)||r.push(this)}));else{var i="string"==typeof t?this.filter(t):L(t)&&A(t.item)?u.call(t):n(t);this.forEach((function(e){i.indexOf(e)<0&&r.push(e)}))}return n(r)},has:function(e){return this.filter((function(){return D(e)?n.contains(this,e):n(this).find(e).size()}))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!D(e)?e:n(e)},last:function(){var e=this[this.length-1];return e&&!D(e)?e:n(e)},find:function(e){var t,r=this;return t=e?"object"==typeof e?n(e).filter((function(){var e=this;return s.some.call(r,(function(t){return n.contains(t,e)}))})):1==this.length?n(I.qsa(this[0],e)):this.map((function(){return I.qsa(this,e)})):n(),t},closest:function(e,t){var r=[],i="object"==typeof e&&n(e);return this.each((function(n,o){while(o&&!(i?i.indexOf(o)>=0:I.matches(o,e)))o=o!==t&&!N(o)&&o.parentNode;o&&r.indexOf(o)<0&&r.push(o)})),n(r)},parents:function(e){var t=[],r=this;while(r.length>0)r=n.map(r,(function(e){if((e=e.parentNode)&&!N(e)&&t.indexOf(e)<0)return t.push(e),e}));return K(t,e)},parent:function(e){return K(o(this.pluck("parentNode")),e)},children:function(e){return K(this.map((function(){return H(this)})),e)},contents:function(){return this.map((function(){return this.contentDocument||u.call(this.childNodes)}))},siblings:function(e){return K(this.map((function(e,t){return c.call(H(t.parentNode),(function(e){return e!==t}))})),e)},empty:function(){return this.each((function(){this.innerHTML=""}))},pluck:function(e){return n.map(this,(function(t){return t[e]}))},show:function(){return this.each((function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=z(this.nodeName))}))},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=A(e);if(this[0]&&!t)var r=n(e).get(0),i=r.parentNode||this.length>1;return this.each((function(o){n(this).wrapAll(t?e.call(this,o):i?r.cloneNode(!0):r)}))},wrapAll:function(e){if(this[0]){var t;n(this[0]).before(e=n(e));while((t=e.children()).length)e=t.first();n(e).append(this)}return this},wrapInner:function(e){var t=A(e);return this.each((function(r){var i=n(this),o=i.contents(),s=t?e.call(this,r):e;o.length?o.wrapAll(s):i.append(s)}))},unwrap:function(){return this.parent().each((function(){n(this).replaceWith(n(this).children())})),this},clone:function(){return this.map((function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(t){return this.each((function(){var r=n(this);(t===e?"none"==r.css("display"):t)?r.show():r.hide()}))},prev:function(e){return n(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return n(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each((function(t){var r=this.innerHTML;n(this).empty().append(Y(this,e,t,r))})):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each((function(t){var n=Y(this,e,t,this.textContent);this.textContent=null==n?"":""+n})):0 in this?this.pluck("textContent").join(""):null},attr:function(n,r){var i;return"string"!=typeof n||1 in arguments?this.each((function(e){if(1===this.nodeType)if(D(n))for(t in n)J(this,t,n[t]);else J(this,n,Y(this,r,e,this.getAttribute(n)))})):0 in this&&1==this[0].nodeType&&null!=(i=this[0].getAttribute(n))?i:e},removeAttr:function(e){return this.each((function(){1===this.nodeType&&e.split(" ").forEach((function(e){J(this,e)}),this)}))},prop:function(e,t){return e=R[e]||e,1 in arguments?this.each((function(n){this[e]=Y(this,t,n,this[e])})):this[0]&&this[0][e]},removeProp:function(e){return e=R[e]||e,this.each((function(){delete this[e]}))},data:function(t,n){var r="data-"+t.replace(y,"-$1").toLowerCase(),i=1 in arguments?this.attr(r,n):this.attr(r);return null!==i?Z(i):e},val:function(e){return 0 in arguments?(null==e&&(e=""),this.each((function(t){this.value=Y(this,e,t,this.value)}))):this[0]&&(this[0].multiple?n(this[0]).find("option").filter((function(){return this.selected})).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each((function(t){var r=n(this),i=Y(this,e,t,r.offset()),o=r.offsetParent().offset(),s={top:i.top-o.top,left:i.left-o.left};"static"==r.css("position")&&(s["position"]="relative"),r.css(s)}));if(!this.length)return null;if(l.documentElement!==this[0]&&!n.contains(l.documentElement,this[0]))return{top:0,left:0};var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(e,r){if(arguments.length<2){var o=this[0];if("string"==typeof e){if(!o)return;return o.style[i(e)]||getComputedStyle(o,"").getPropertyValue(e)}if(P(e)){if(!o)return;var s={},a=getComputedStyle(o,"");return n.each(e,(function(e,t){s[t]=o.style[i(t)]||a.getPropertyValue(t)})),s}}var c="";if("string"==M(e))r||0===r?c=U(e)+":"+W(e,r):this.each((function(){this.style.removeProperty(U(e))}));else for(t in e)e[t]||0===e[t]?c+=U(t)+":"+W(t,e[t])+";":this.each((function(){this.style.removeProperty(U(t))}));return this.each((function(){this.style.cssText+=";"+c}))},index:function(e){return e?this.indexOf(n(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&s.some.call(this,(function(e){return this.test(X(e))}),$(e))},addClass:function(e){return e?this.each((function(t){if("className"in this){r=[];var i=X(this),o=Y(this,e,t,i);o.split(/\s+/g).forEach((function(e){n(this).hasClass(e)||r.push(e)}),this),r.length&&X(this,i+(i?" ":"")+r.join(" "))}})):this},removeClass:function(t){return this.each((function(n){if("className"in this){if(t===e)return X(this,"");r=X(this),Y(this,t,n,r).split(/\s+/g).forEach((function(e){r=r.replace($(e)," ")})),X(this,r.trim())}}))},toggleClass:function(t,r){return t?this.each((function(i){var o=n(this),s=Y(this,t,i,X(this));s.split(/\s+/g).forEach((function(t){(r===e?!o.hasClass(t):r)?o.addClass(t):o.removeClass(t)}))})):this},scrollTop:function(t){if(this.length){var n="scrollTop"in this[0];return t===e?n?this[0].scrollTop:this[0].pageYOffset:this.each(n?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var n="scrollLeft"in this[0];return t===e?n?this[0].scrollLeft:this[0].pageXOffset:this.each(n?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),r=this.offset(),i=b.test(t[0].nodeName)?{top:0,left:0}:t.offset();return r.top-=parseFloat(n(e).css("margin-top"))||0,r.left-=parseFloat(n(e).css("margin-left"))||0,i.top+=parseFloat(n(t[0]).css("border-top-width"))||0,i.left+=parseFloat(n(t[0]).css("border-left-width"))||0,{top:r.top-i.top,left:r.left-i.left}}},offsetParent:function(){return this.map((function(){var e=this.offsetParent||l.body;while(e&&!b.test(e.nodeName)&&"static"==n(e).css("position"))e=e.offsetParent;return e}))}},n.fn.detach=n.fn.remove,["width","height"].forEach((function(t){var r=t.replace(/./,(function(e){return e[0].toUpperCase()}));n.fn[t]=function(i){var o,s=this[0];return i===e?j(s)?s["inner"+r]:N(s)?s.documentElement["scroll"+r]:(o=this.offset())&&o[t]:this.each((function(e){s=n(this),s.css(t,Y(this,i,e,s[t]()))}))}})),_.forEach((function(t,r){var i=r%2;n.fn[t]=function(){var t,o,s=n.map(arguments,(function(r){var i=[];return t=M(r),"array"==t?(r.forEach((function(t){return t.nodeType!==e?i.push(t):n.zepto.isZ(t)?i=i.concat(t.get()):void(i=i.concat(I.fragment(t)))})),i):"object"==t||null==r?r:I.fragment(r)})),a=this.length>1;return s.length<1?this:this.each((function(e,t){o=i?t:t.parentNode,t=0==r?t.nextSibling:1==r?t.firstChild:2==r?t:null;var c=n.contains(l.documentElement,o);s.forEach((function(e){if(a)e=e.cloneNode(!0);else if(!o)return n(e).remove();o.insertBefore(e,t),c&&Q(e,(function(e){if(null!=e.nodeName&&"SCRIPT"===e.nodeName.toUpperCase()&&(!e.type||"text/javascript"===e.type)&&!e.src){var t=e.ownerDocument?e.ownerDocument.defaultView:window;t["eval"].call(t,e.innerHTML)}}))}))}))},n.fn[i?t+"To":"insert"+(r?"Before":"After")]=function(e){return n(e)[t](this),this}})),I.Z.prototype=G.prototype=n.fn,I.uniq=o,I.deserializeValue=Z,n.zepto=I,n}();return window.Zepto=t,void 0===window.$&&(window.$=t),e.exports=t,function(e){var t,n=1,r=Array.prototype.slice,i=e.isFunction,o=function(e){return"string"==typeof e},s={},a={},c="onfocusin"in window,u={focus:"focusin",blur:"focusout"},l={mouseenter:"mouseover",mouseleave:"mouseout"};function d(e){return e._zid||(e._zid=n++)}function f(e,t,n,r){if(t=p(t),t.ns)var i=h(t.ns);return(s[d(e)]||[]).filter((function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||i.test(e.ns))&&(!n||d(e.fn)===d(n))&&(!r||e.sel==r)}))}function p(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function h(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function m(e,t){return e.del&&!c&&e.e in u||!!t}function v(e){return l[e]||c&&u[e]||e}function b(n,r,i,o,a,c,u){var f=d(n),h=s[f]||(s[f]=[]);r.split(/\s/).forEach((function(r){if("ready"==r)return e(document).ready(i);var s=p(r);s.fn=i,s.sel=a,s.e in l&&(i=function(t){var n=t.relatedTarget;if(!n||n!==this&&!e.contains(this,n))return s.fn.apply(this,arguments)}),s.del=c;var d=c||i;s.proxy=function(e){if(e=x(e),!e.isImmediatePropagationStopped()){e.data=o;var r=d.apply(n,e._args==t?[e]:[e].concat(e._args));return!1===r&&(e.preventDefault(),e.stopPropagation()),r}},s.i=h.length,h.push(s),"addEventListener"in n&&n.addEventListener(v(s.e),s.proxy,m(s,u))}))}function y(e,t,n,r,i){var o=d(e);(t||"").split(/\s/).forEach((function(t){f(e,t,n,r).forEach((function(t){delete s[o][t.i],"removeEventListener"in e&&e.removeEventListener(v(t.e),t.proxy,m(t,i))}))}))}a.click=a.mousedown=a.mouseup=a.mousemove="MouseEvents",e.event={add:b,remove:y},e.proxy=function(t,n){var s=2 in arguments&&r.call(arguments,2);if(i(t)){var a=function(){return t.apply(n,s?s.concat(r.call(arguments)):arguments)};return a._zid=d(t),a}if(o(n))return s?(s.unshift(t[n],t),e.proxy.apply(null,s)):e.proxy(t[n],t);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var g=function(){return!0},_=function(){return!1},S=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,w={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function x(n,r){return!r&&n.isDefaultPrevented||(r||(r=n),e.each(w,(function(e,t){var i=r[e];n[e]=function(){return this[t]=g,i&&i.apply(r,arguments)},n[t]=_})),n.timeStamp||(n.timeStamp=Date.now()),(r.defaultPrevented!==t?r.defaultPrevented:"returnValue"in r?!1===r.returnValue:r.getPreventDefault&&r.getPreventDefault())&&(n.isDefaultPrevented=g)),n}function C(e){var n,r={originalEvent:e};for(n in e)S.test(n)||e[n]===t||(r[n]=e[n]);return x(r,e)}e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(n,s,a,c,u){var l,d,f=this;return n&&!o(n)?(e.each(n,(function(e,t){f.on(e,s,a,t,u)})),f):(o(s)||i(c)||!1===c||(c=a,a=s,s=t),c!==t&&!1!==a||(c=a,a=t),!1===c&&(c=_),f.each((function(t,i){u&&(l=function(e){return y(i,e.type,c),c.apply(this,arguments)}),s&&(d=function(t){var n,o=e(t.target).closest(s,i).get(0);if(o&&o!==i)return n=e.extend(C(t),{currentTarget:o,liveFired:i}),(l||c).apply(o,[n].concat(r.call(arguments,1)))}),b(i,n,c,a,s,d||l)})))},e.fn.off=function(n,r,s){var a=this;return n&&!o(n)?(e.each(n,(function(e,t){a.off(e,r,t)})),a):(o(r)||i(s)||!1===s||(s=r,r=t),!1===s&&(s=_),a.each((function(){y(this,n,s,r)})))},e.fn.trigger=function(t,n){return t=o(t)||e.isPlainObject(t)?e.Event(t):x(t),t._args=n,this.each((function(){t.type in u&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)}))},e.fn.triggerHandler=function(t,n){var r,i;return this.each((function(s,a){r=C(o(t)?e.Event(t):t),r._args=n,r.target=a,e.each(f(a,t.type||t),(function(e,t){if(i=t.proxy(r),r.isImmediatePropagationStopped())return!1}))})),i},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach((function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}})),e.Event=function(e,t){o(e)||(t=e,e=t.type);var n=document.createEvent(a[e]||"Events"),r=!0;if(t)for(var i in t)"bubbles"==i?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0),x(n)}}(t),function(e){var t,n,r=+new Date,i=window.document,o=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,s=/^(?:text|application)\/javascript/i,a=/^(?:text|application)\/xml/i,c="application/json",u="text/html",l=/^\s*$/,d=i.createElement("a");function f(t,n,r){var i=e.Event(n);return e(t).trigger(i,r),!i.isDefaultPrevented()}function p(e,t,n,r){if(e.global)return f(t||i,n,r)}function h(t){t.global&&0===e.active++&&p(t,null,"ajaxStart")}function m(t){t.global&&!--e.active&&p(t,null,"ajaxStop")}function v(e,t){var n=t.context;if(!1===t.beforeSend.call(n,e,t)||!1===p(t,n,"ajaxBeforeSend",[e,t]))return!1;p(t,n,"ajaxSend",[e,t])}function b(e,t,n,r){var i=n.context,o="success";n.success.call(i,e,o,t),r&&r.resolveWith(i,[e,o,t]),p(n,i,"ajaxSuccess",[t,n,e]),g(o,t,n)}function y(e,t,n,r,i){var o=r.context;r.error.call(o,n,t,e),i&&i.rejectWith(o,[n,t,e]),p(r,o,"ajaxError",[n,r,e||t]),g(t,n,r)}function g(e,t,n){var r=n.context;n.complete.call(r,t,e),p(n,r,"ajaxComplete",[t,n]),m(n)}function _(e,t,n){if(n.dataFilter==S)return e;var r=n.context;return n.dataFilter.call(r,e,t)}function S(){}function w(e){return e&&(e=e.split(";",2)[0]),e&&(e==u?"html":e==c?"json":s.test(e)?"script":a.test(e)&&"xml")||"text"}function x(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function C(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()&&"jsonp"!=t.dataType||(t.url=x(t.url,t.data),t.data=void 0)}function O(t,n,r,i){return e.isFunction(n)&&(i=r,r=n,n=void 0),e.isFunction(r)||(i=r,r=void 0),{url:t,data:n,success:r,dataType:i}}d.href=window.location.href,e.active=0,e.ajaxJSONP=function(t,n){if(!("type"in t))return e.ajax(t);var o,s,a=t.jsonpCallback,c=(e.isFunction(a)?a():a)||"Zepto"+r++,u=i.createElement("script"),l=window[c],d=function(t){e(u).triggerHandler("error",t||"abort")},f={abort:d};return n&&n.promise(f),e(u).on("load error",(function(r,i){clearTimeout(s),e(u).off().remove(),"error"!=r.type&&o?b(o[0],f,t,n):y(null,i||"error",f,t,n),window[c]=l,o&&e.isFunction(l)&&l(o[0]),l=o=void 0})),!1===v(f,t)?(d("abort"),f):(window[c]=function(){o=arguments},u.src=t.url.replace(/\?(.+)=\?/,"?$1="+c),i.head.appendChild(u),t.timeout>0&&(s=setTimeout((function(){d("timeout")}),t.timeout)),f)},e.ajaxSettings={type:"GET",beforeSend:S,success:S,error:S,complete:S,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:c,xml:"application/xml, text/xml",html:u,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:S},e.ajax=function(r){var o,s,a=e.extend({},r||{}),c=e.Deferred&&e.Deferred();for(t in e.ajaxSettings)void 0===a[t]&&(a[t]=e.ajaxSettings[t]);h(a),a.crossDomain||(o=i.createElement("a"),o.href=a.url,o.href=o.href,a.crossDomain=d.protocol+"//"+d.host!==o.protocol+"//"+o.host),a.url||(a.url=window.location.toString()),(s=a.url.indexOf("#"))>-1&&(a.url=a.url.slice(0,s)),C(a);var u=a.dataType,f=/\?.+=\?/.test(a.url);if(f&&(u="jsonp"),!1!==a.cache&&(r&&!0===r.cache||"script"!=u&&"jsonp"!=u)||(a.url=x(a.url,"_="+Date.now())),"jsonp"==u)return f||(a.url=x(a.url,a.jsonp?a.jsonp+"=?":!1===a.jsonp?"":"callback=?")),e.ajaxJSONP(a,c);var p,m=a.accepts[u],g={},O=function(e,t){g[e.toLowerCase()]=[e,t]},T=/^([\w-]+:)\/\//.test(a.url)?RegExp.$1:window.location.protocol,E=a.xhr(),I=E.setRequestHeader;if(c&&c.promise(E),a.crossDomain||O("X-Requested-With","XMLHttpRequest"),O("Accept",m||"*/*"),(m=a.mimeType||m)&&(m.indexOf(",")>-1&&(m=m.split(",",2)[0]),E.overrideMimeType&&E.overrideMimeType(m)),(a.contentType||!1!==a.contentType&&a.data&&"GET"!=a.type.toUpperCase())&&O("Content-Type",a.contentType||"application/x-www-form-urlencoded"),a.headers)for(n in a.headers)O(n,a.headers[n]);if(E.setRequestHeader=O,E.onreadystatechange=function(){if(4==E.readyState){E.onreadystatechange=S,clearTimeout(p);var t,n=!1;if(E.status>=200&&E.status<300||304==E.status||0==E.status&&"file:"==T){if(u=u||w(a.mimeType||E.getResponseHeader("content-type")),"arraybuffer"==E.responseType||"blob"==E.responseType)t=E.response;else{t=E.responseText;try{t=_(t,u,a),"script"==u?(0,eval)(t):"xml"==u?t=E.responseXML:"json"==u&&(t=l.test(t)?null:e.parseJSON(t))}catch(r){n=r}if(n)return y(n,"parsererror",E,a,c)}b(t,E,a,c)}else y(E.statusText||null,E.status?"error":"abort",E,a,c)}},!1===v(E,a))return E.abort(),y(null,"abort",E,a,c),E;var k=!("async"in a)||a.async;if(E.open(a.type,a.url,k,a.username,a.password),a.xhrFields)for(n in a.xhrFields)E[n]=a.xhrFields[n];for(n in g)I.apply(E,g[n]);return a.timeout>0&&(p=setTimeout((function(){E.onreadystatechange=S,E.abort(),y(null,"timeout",E,a,c)}),a.timeout)),E.send(a.data?a.data:null),E},e.get=function(){return e.ajax(O.apply(null,arguments))},e.post=function(){var t=O.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=O.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,r){if(!this.length)return this;var i,s=this,a=t.split(/\s/),c=O(t,n,r),u=c.success;return a.length>1&&(c.url=a[0],i=a[1]),c.success=function(t){s.html(i?e("<div>").html(t.replace(o,"")).find(i):t),u&&u.apply(s,arguments)},e.ajax(c),this};var T=encodeURIComponent;function E(t,n,r,i){var o,s=e.isArray(n),a=e.isPlainObject(n);e.each(n,(function(n,c){o=e.type(c),i&&(n=r?i:i+"["+(a||"object"==o||"array"==o?n:"")+"]"),!i&&s?t.add(c.name,c.value):"array"==o||!r&&"object"==o?E(t,c,r,n):t.add(n,c)}))}e.param=function(t,n){var r=[];return r.add=function(t,n){e.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(T(t)+"="+T(n))},E(r,t,n),r.join("&").replace(/%20/g,"+")}}(t),function(e){e.fn.serializeArray=function(){var t,n,r=[],i=function(e){if(e.forEach)return e.forEach(i);r.push({name:t,value:e})};return this[0]&&e.each(this[0].elements,(function(r,o){n=o.type,t=o.name,t&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&i(e(o).val())})),r},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach((function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))})),e.join("&")},e.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(t),function(){try{getComputedStyle(void 0)}catch(t){var e=getComputedStyle;window.getComputedStyle=function(n,r){try{return e(n,r)}catch(t){return null}}}}(),t}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=emedia.singleWebrtcAdapter;function i(){emedia.util.logger.warn("webrtc-adapter must load once. if more, safari may initC sdp error(too many audio video, easemob server dont work)")}function o(){if(document.documentMode){var e=/\brv[ :]+(\d+)/g.exec(navigator.userAgent)||[],t="IE",i=parseInt(e[1],10);i||(e=/\bMSIE[ :]+(\d+)/g.exec(navigator.userAgent)||[],i=parseInt(e[1]||"0",10)),emedia.util.logger.error("adapter.ie not required"),r.__browser=t,r.__browserVersion=i}else r=n(81),emedia.util.logger.info("webrtc-adapter load first"),s();emedia.singleWebrtcAdapter=r}function s(){function e(e,t){e.srcObject=t;var n=emedia.util.logger||window.console||console;if(n){if(t&&n.info("stream attach videoTag.",t.id,t._located,">>",e.id,e.muted,e.volume,e),t||n.info("stream(null) attach videoTag.",e.id,e.muted,e.volume,e),!e.hxSetOnvolumechange){var r=e.onvolumechange;e.onvolumechange=function(){n.debug("stream attach detail: video tag volume chanage",e.volume,t?t.id:t),r&&r.apply(e,arguments)},e.hxSetOnvolumechange=!0}if(!e.hxSetOnstalled){var i=e.onstalled;e.onstalled=function(){n.debug("stream attach detail: video tag onstalled",t?t.id:t),i&&i.apply(e,arguments)},e.hxSetOnstalled=!0}if(!e.hxSetOnabort){var o=e.onabort;e.onabort=function(){n.debug("stream attach detail: video tag onabort",t?t.id:t),o&&o.apply(e,arguments)},e.hxSetOnabort=!0}if(!e.hxSetOncanplay){var s=e.oncanplay;e.oncanplay=function(){t&&t.getTracks().forEach((function(e){"function"===typeof e.getSettings&&n.debug("stream attach detail",t.id," track setting =",e.enabled,e.id,e.kind,e.label,e.getSettings())})),n.debug("stream attach detail: video tag",e.videoWidth,"x",e.videoHeight,t?t.id:t),s&&s.apply(e,arguments)},e.hxSetOncanplay=!0}}}function t(t,n,r,i){function o(){r=!!(void 0===r?n._located:r),t.muted=!1,r!==t.muted&&(t.muted=!0)}if(i||(i=window.__attachMediaStream)||(i=e.bind(this)),t){if(n)return t.srcObject&&t.srcObject._located&&n._located&&t.srcObject.id===n.id?t.srcObject:(o(),i(t,n),t);i(t,n)}}window.attachMediaStream&&!0!==window.attachMediaStream._wrapped&&(window.__attachMediaStream=window.attachMediaStream),window.attachMediaStream=t,window.attachMediaStream._wrapped=!0,console&&"function"===typeof console.info&&console.info("Wrap the attachMediaStream ",r.__browser,r.__browserVersion)}i(),r?emedia.util.logger.error("webrtc-adapter repeated load, safari may dont work"):o(),r.__browser=r.__browser||r.browserDetails.browser,r.__browserVersion=r.__browserVersion||r.browserDetails.version,emedia.util.logger.info("Current browser",r.__browser,r.__browserVersion),"Not a supported browser."===r.__browser&&emedia.util.logger.error("Not a supported browser"),t.default=r},function(e,t,n){"use strict";var r,i,o,s,a=n(82),c=E(a),u=n(77),l=E(u),d=n(86),f=E(d),p=n(89),h=E(p),m=n(111),v=E(m),b=n(114),y=E(b),g=n(130),_=E(g),S=n(7),w=E(S),x=n(58),C=E(x),O=n(6),T=E(O);function E(e){return e&&e.__esModule?e:{default:e}}(function(n){"object"===(0,T.default)(t)&&"undefined"!==typeof e?e.exports=n():(i=[],r=n,o="function"===typeof r?r.apply(t,i):r,void 0===o||(e.exports=o))})((function(){return function(){function e(t,n,r){function i(a,c){if(!n[a]){if(!t[a]){var u="function"==typeof s&&s;if(!c&&u)return s(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[a]={exports:{}};t[a][0].call(d.exports,(function(e){var n=t[a][1][e];return i(n||e)}),d,d.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof s&&s,a=0;a<r.length;a++)i(r[a]);return i}return e}()({1:[function(e,t,n){var r=e("./adapter_factory.js"),i=(0,r.adapterFactory)({window:window});t.exports=i},{"./adapter_factory.js":2}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.adapterFactory=v;var r=e("./utils"),i=m(r),o=e("./chrome/chrome_shim"),s=m(o),a=e("./edge/edge_shim"),c=m(a),u=e("./firefox/firefox_shim"),l=m(u),d=e("./safari/safari_shim"),f=m(d),p=e("./common_shim"),h=m(p);function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.window,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},r=i.log,o=i.detectBrowser(t),a={browserDetails:o,commonShim:h,extractVersion:i.extractVersion,disableLog:i.disableLog,disableWarnings:i.disableWarnings};switch(o.browser){case"chrome":if(!s||!s.shimPeerConnection||!n.shimChrome)return r("Chrome shim is not included in this adapter release."),a;r("adapter.js shimming chrome."),a.browserShim=s,s.shimGetUserMedia(t),s.shimMediaStream(t),s.shimPeerConnection(t),s.shimOnTrack(t),s.shimAddTrackRemoveTrack(t),s.shimGetSendersWithDtmf(t),s.shimGetStats(t),s.shimSenderReceiverGetStats(t),s.fixNegotiationNeeded(t),h.shimRTCIceCandidate(t),h.shimConnectionState(t),h.shimMaxMessageSize(t),h.shimSendThrowTypeError(t),h.removeAllowExtmapMixed(t);break;case"firefox":if(!l||!l.shimPeerConnection||!n.shimFirefox)return r("Firefox shim is not included in this adapter release."),a;r("adapter.js shimming firefox."),a.browserShim=l,l.shimGetUserMedia(t),l.shimPeerConnection(t),l.shimOnTrack(t),l.shimRemoveStream(t),l.shimSenderGetStats(t),l.shimReceiverGetStats(t),l.shimRTCDataChannel(t),l.shimAddTransceiver(t),l.shimCreateOffer(t),l.shimCreateAnswer(t),h.shimRTCIceCandidate(t),h.shimConnectionState(t),h.shimMaxMessageSize(t),h.shimSendThrowTypeError(t);break;case"edge":if(!c||!c.shimPeerConnection||!n.shimEdge)return r("MS edge shim is not included in this adapter release."),a;r("adapter.js shimming edge."),a.browserShim=c,c.shimGetUserMedia(t),c.shimGetDisplayMedia(t),c.shimPeerConnection(t),c.shimReplaceTrack(t),h.shimMaxMessageSize(t),h.shimSendThrowTypeError(t);break;case"safari":if(!f||!n.shimSafari)return r("Safari shim is not included in this adapter release."),a;r("adapter.js shimming safari."),a.browserShim=f,f.shimRTCIceServerUrls(t),f.shimCreateOfferLegacy(t),f.shimCallbacksAPI(t),f.shimLocalStreamsAPI(t),f.shimRemoteStreamsAPI(t),f.shimTrackEventTransceiver(t),f.shimGetUserMedia(t),h.shimRTCIceCandidate(t),h.shimMaxMessageSize(t),h.shimSendThrowTypeError(t),h.removeAllowExtmapMixed(t);break;default:r("Unsupported browser!");break}return a}},{"./chrome/chrome_shim":3,"./common_shim":6,"./edge/edge_shim":7,"./firefox/firefox_shim":11,"./safari/safari_shim":14,"./utils":15}],3:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=n.shimGetUserMedia=void 0;var r="function"===typeof C.default&&"symbol"===(0,T.default)(w.default)?function(e){return"undefined"===typeof e?"undefined":(0,T.default)(e)}:function(e){return e&&"function"===typeof C.default&&e.constructor===C.default&&e!==C.default.prototype?"symbol":"undefined"===typeof e?"undefined":(0,T.default)(e)},i=e("./getusermedia");Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}});var o=e("./getdisplaymedia");Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return o.shimGetDisplayMedia}}),n.shimMediaStream=l,n.shimOnTrack=d,n.shimGetSendersWithDtmf=p,n.shimGetStats=m,n.shimSenderReceiverGetStats=b,n.shimAddTrackRemoveTrackWithNative=g,n.shimAddTrackRemoveTrack=S,n.shimPeerConnection=x,n.fixNegotiationNeeded=O;var s=e("../utils.js"),a=c(s);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e,t,n){return t in e?(0,_.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function d(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(r){var i=void 0;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.track.id})):{track:r.track};var o=new Event("track");o.track=r.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)})),t.stream.getTracks().forEach((function(r){var i=void 0;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.id})):{track:r};var o=new Event("track");o.track=r,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else a.wrapPeerConnectionEvent(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}))}function p(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){var i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){i.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var o=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._senders=this._senders||[],o.apply(this,[e]),e.getTracks().forEach((function(e){n._senders.push(t(n,e))}))};var s=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],s.apply(this,[e]),e.getTracks().forEach((function(e){var n=t._senders.find((function(t){return t.track===e}));n&&t._senders.splice(t._senders.indexOf(n),1)}))}}else if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function m(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,n=Array.prototype.slice.call(arguments),r=n[0],i=n[1],o=n[2];if(arguments.length>0&&"function"===typeof r)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!==typeof r))return t.apply(this,[]);var s=function(e){var t={},n=e.result();return n.forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},a=function(e){return new y.default((0,v.default)(e).map((function(t){return[t,e[t]]})))};if(arguments.length>=2){var c=function(e){i(a(s(e)))};return t.apply(this,[c,r])}return new h.default((function(n,r){t.apply(e,[function(e){n(a(s(e)))},r])})).then(i,o)}}}function b(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return a.filterStats(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var i=e.RTCPeerConnection.prototype.getReceivers;i&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=i.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),a.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return a.filterStats(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t=arguments[0],n=void 0,r=void 0,i=void 0;return this.getSenders().forEach((function(e){e.track===t&&(n?i=!0:n=e)})),this.getReceivers().forEach((function(e){return e.track===t&&(r?i=!0:r=e),e.track===t})),i||n&&r?h.default.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):n?n.getStats():r?r.getStats():h.default.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return o.apply(this,arguments)}}}}function g(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},(0,v.default)(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));if(n)throw new DOMException("Track already exists.","InvalidAccessError")}));var r=this.getSenders();n.apply(this,arguments);var i=this.getSenders().filter((function(e){return-1===r.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(i)};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&(0,v.default)(this._shimmedLocalStreams).forEach((function(n){var r=t._shimmedLocalStreams[n].indexOf(e);-1!==r&&t._shimmedLocalStreams[n].splice(r,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]})),i.apply(this,arguments)}}function S(e){if(e.RTCPeerConnection){var t=a.detectBrowser(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return g(e);var n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=n.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){var t=n.getSenders().find((function(t){return t.track===e}));if(t)throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}r.apply(this,[t])};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var o=this.getSenders().find((function(e){return e.track===t}));if(o)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var s=this._streams[n.id];if(s)s.addTrack(t),h.default.resolve().then((function(){r.dispatchEvent(new Event("negotiationneeded"))}));else{var a=new e.MediaStream([t]);this._streams[n.id]=a,this._reverseStreams[a.id]=n,this.addStream(a)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=u({},t,(function(){var e=this,t=arguments,r=arguments.length&&"function"===typeof arguments[0];return r?n.apply(this,[function(n){var r=c(e,n);t[0].apply(null,[r])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(this,arguments).then((function(t){return c(e,t)}))}));e.RTCPeerConnection.prototype[t]=r[t]}));var o=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=l(this,arguments[0]),o.apply(this,arguments)):o.apply(this,arguments)};var s=(0,f.default)(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=s.get.apply(this);return""===e.type?e:c(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");var n=e._pc===this;if(!n)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};var r=void 0;(0,v.default)(this._streams).forEach((function(n){var i=t._streams[n].getTracks().find((function(t){return e.track===t}));i&&(r=t._streams[n])})),r&&(1===r.getTracks().length?this.removeStream(this._reverseStreams[r.id]):r.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function c(e,t){var n=t.sdp;return(0,v.default)(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}function l(e,t){var n=t.sdp;return(0,v.default)(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}}function x(e){var t=a.detectBrowser(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection){t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=u({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=r[t]}));var n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?t.version<78&&arguments[0]&&""===arguments[0].candidate?h.default.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),h.default.resolve())}}}function O(e){a.wrapPeerConnectionEvent(e,"negotiationneeded",(function(e){var t=e.target;if("stable"===t.signalingState)return e}))}},{"../utils.js":15,"./getdisplaymedia":4,"./getusermedia":5}],4:[function(e,t,n){function r(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"===typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((function(t){var r=n.video&&n.video.width,i=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=r},{}],5:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r="function"===typeof C.default&&"symbol"===(0,T.default)(w.default)?function(e){return"undefined"===typeof e?"undefined":(0,T.default)(e)}:function(e){return e&&"function"===typeof C.default&&e.constructor===C.default&&e!==C.default.prototype?"symbol":"undefined"===typeof e?"undefined":(0,T.default)(e)};n.shimGetUserMedia=c;var i=e("../utils.js"),o=s(i);function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var a=o.log;function c(e){var t=e&&e.navigator;if(t.mediaDevices){var n=o.detectBrowser(e),i=function(e){if("object"!==("undefined"===typeof e?"undefined":r(e))||e.mandatory||e.optional)return e;var t={};return(0,v.default)(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var i="object"===r(e[n])?e[n]:{ideal:e[n]};void 0!==i.exact&&"number"===typeof i.exact&&(i.min=i.max=i.exact);var o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==i.ideal){t.optional=t.optional||[];var s={};"number"===typeof i.ideal?(s[o("min",n)]=i.ideal,t.optional.push(s),s={},s[o("max",n)]=i.ideal,t.optional.push(s)):(s[o("",n)]=i.ideal,t.optional.push(s))}void 0!==i.exact&&"number"!==typeof i.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",n)]=i.exact):["min","max"].forEach((function(e){void 0!==i[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,n)]=i[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},s=function(e,o){if(n.version>=61)return o(e);if(e=JSON.parse((0,l.default)(e)),e&&"object"===r(e.audio)){var s=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};e=JSON.parse((0,l.default)(e)),s(e.audio,"autoGainControl","googAutoGainControl"),s(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=i(e.audio)}if(e&&"object"===r(e.video)){var c=e.video.facingMode;c=c&&("object"===("undefined"===typeof c?"undefined":r(c))?c:{ideal:c});var u=n.version<66;if(c&&("user"===c.exact||"environment"===c.exact||"user"===c.ideal||"environment"===c.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||u)){delete e.video.facingMode;var d=void 0;if("environment"===c.exact||"environment"===c.ideal?d=["back","rear"]:"user"!==c.exact&&"user"!==c.ideal||(d=["front"]),d)return t.mediaDevices.enumerateDevices().then((function(t){t=t.filter((function(e){return"videoinput"===e.kind}));var n=t.find((function(e){return d.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!n&&t.length&&d.includes("back")&&(n=t[t.length-1]),n&&(e.video.deviceId=c.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=i(e.video),a("chrome: "+(0,l.default)(e)),o(e)}))}e.video=i(e.video)}return a("chrome: "+(0,l.default)(e)),o(e)},c=function(e){return n.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},u=function(e,n,r){s(e,(function(e){t.webkitGetUserMedia(e,n,(function(e){r&&r(c(e))}))}))};if(t.getUserMedia=u.bind(t),t.mediaDevices.getUserMedia){var d=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return s(e,(function(e){return d(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return h.default.reject(c(e))}))}))}}}}},{"../utils.js":15}],6:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r="function"===typeof C.default&&"symbol"===(0,T.default)(w.default)?function(e){return"undefined"===typeof e?"undefined":(0,T.default)(e)}:function(e){return e&&"function"===typeof C.default&&e.constructor===C.default&&e!==C.default.prototype?"symbol":"undefined"===typeof e?"undefined":(0,T.default)(e)};n.shimRTCIceCandidate=f,n.shimMaxMessageSize=p,n.shimSendThrowTypeError=h,n.shimConnectionState=m,n.removeAllowExtmapMixed=v;var i=e("sdp"),o=d(i),s=e("./utils"),a=u(s);function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.candidate&&0===e.candidate.indexOf("a=")&&(e=JSON.parse((0,l.default)(e)),e.candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),i=o.default.parseCandidate(e.candidate),s=(0,c.default)(n,i);return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,a.wrapPeerConnectionEvent(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}}function p(e){if(e.RTCPeerConnection){var t=a.detectBrowser(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return"undefined"===typeof this._sctp?null:this._sctp}});var n=function(e){if(!e||!e.sdp)return!1;var t=o.default.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=o.default.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},r=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!==n?-1:n},i=function(e){var n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},s=function(e,n){var r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);var i=o.default.matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r},c=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){var e=this.getConfiguration(),o=e.sdpSemantics;"plan-b"===o&&Object.defineProperty(this,"sctp",{get:function(){return"undefined"===typeof this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){var a=r(arguments[0]),u=i(a),l=s(arguments[0],a),d=void 0;d=0===u&&0===l?Number.POSITIVE_INFINITY:0===u||0===l?Math.max(u,l):Math.min(u,l);var f={};Object.defineProperty(f,"maxMessageSize",{get:function(){return d}}),this._sctp=f}return c.apply(this,arguments)}}}function h(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return n(e,this),e},a.wrapPeerConnectionEvent(e,"datachannel",(function(e){return n(e.channel,e.target),e}))}function n(e,t){var n=e.send;e.send=function(){var r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}}function m(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}}function v(e){if(e.RTCPeerConnection){var t=a.detectBrowser(e);if(!("chrome"===t.browser&&t.version>=71)){var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")&&(e.sdp=e.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n")),n.apply(this,arguments)}}}}},{"./utils":15,sdp:17}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=n.shimGetUserMedia=void 0;var r=e("./getusermedia");Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return r.shimGetUserMedia}});var i=e("./getdisplaymedia");Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return i.shimGetDisplayMedia}}),n.shimPeerConnection=p,n.shimReplaceTrack=h;var o=e("../utils"),s=d(o),a=e("./filtericeservers"),c=e("rtcpeerconnection-shim"),u=l(c);function l(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){var t=s.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var n=(0,f.default)(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){n.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var r=(0,u.default)(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=(0,a.filterIceServers)(e.iceServers,t.version),s.log("ICE servers after filtering:",e.iceServers)),new r(e)},e.RTCPeerConnection.prototype=r.prototype}function h(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}},{"../utils":15,"./filtericeservers":8,"./getdisplaymedia":9,"./getusermedia":10,"rtcpeerconnection-shim":16}],8:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.filterIceServers=s;var r=e("../utils"),i=o(r);function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e,t){var n=!1;return e=JSON.parse((0,l.default)(e)),e.filter((function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&i.deprecated("RTCIceServer.url","RTCIceServer.urls");var r="string"===typeof t;return r&&(t=[t]),t=t.filter((function(e){if(0===e.indexOf("stun:"))return!1;var t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!n?(n=!0,!0):t&&!n})),delete e.url,e.urls=r?t[0]:t,!!t.length}}))}},{"../utils":15}],9:[function(e,t,n){function r(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=r},{}],10:[function(e,t,n){function r(e){var t=e&&e.navigator,n=function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}},r=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return r(e).catch((function(e){return h.default.reject(n(e))}))}}Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetUserMedia=r},{}],11:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=n.shimGetUserMedia=void 0;var r="function"===typeof C.default&&"symbol"===(0,T.default)(w.default)?function(e){return"undefined"===typeof e?"undefined":(0,T.default)(e)}:function(e){return e&&"function"===typeof C.default&&e.constructor===C.default&&e!==C.default.prototype?"symbol":"undefined"===typeof e?"undefined":(0,T.default)(e)},i=e("./getusermedia");Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}});var o=e("./getdisplaymedia");Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return o.shimGetDisplayMedia}}),n.shimOnTrack=d,n.shimPeerConnection=f,n.shimSenderGetStats=p,n.shimReceiverGetStats=m,n.shimRemoveStream=v,n.shimRTCDataChannel=b,n.shimAddTransceiver=g,n.shimCreateOffer=S,n.shimCreateAnswer=x;var s=e("../utils"),a=u(s);function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(e,t,n){return t in e?(0,_.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){"object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function f(e){var t=a.detectBrowser(e);if("object"===("undefined"===typeof e?"undefined":r(e))&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){if(!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=l({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=r[t]})),t.version<68){var n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&""===arguments[0].candidate?h.default.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),h.default.resolve())}}var i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),n=e[0],r=e[1],s=e[2];return o.apply(this,[n||null]).then((function(e){if(t.version<53&&!r)try{e.forEach((function(e){e.type=i[e.type]||e.type}))}catch(n){if("TypeError"!==n.name)throw n;e.forEach((function(t,n){e.set(n,(0,c.default)({},t,{type:i[t.type]||t.type}))}))}return e})).then(r,s)}}}function p(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):h.default.resolve(new y.default)}}}function m(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n}),a.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function v(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;a.deprecated("removeStream","removeTrack"),this.getSenders().forEach((function(n){n.track&&e.getTracks().includes(n.track)&&t.removeTrack(n)}))})}function b(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function g(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach((function(e){if("rid"in e){var t=/^[a-z0-9]{0,16}$/i;if(!t.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));var r=t.apply(this,arguments);if(n){var i=r.sender,o=i.getParameters();"encodings"in o||(o.encodings=e.sendEncodings,this.setParametersPromises.push(i.setParameters(o).catch((function(){}))))}return r})}}function S(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=this,n=arguments;return this.setParametersPromises&&this.setParametersPromises.length?h.default.all(this.setParametersPromises).then((function(){return t.apply(e,n)})).finally((function(){e.setParametersPromises=[]})):t.apply(this,arguments)}}}function x(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=this,n=arguments;return this.setParametersPromises&&this.setParametersPromises.length?h.default.all(this.setParametersPromises).then((function(){return t.apply(e,n)})).finally((function(){e.setParametersPromises=[]})):t.apply(this,arguments)}}}},{"../utils":15,"./getdisplaymedia":12,"./getusermedia":13}],12:[function(e,t,n){function r(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,h.default.reject(r)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=r},{}],13:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r="function"===typeof C.default&&"symbol"===(0,T.default)(w.default)?function(e){return"undefined"===typeof e?"undefined":(0,T.default)(e)}:function(e){return e&&"function"===typeof C.default&&e.constructor===C.default&&e!==C.default.prototype?"symbol":"undefined"===typeof e?"undefined":(0,T.default)(e)};n.shimGetUserMedia=a;var i=e("../utils"),o=s(i);function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){var t=o.detectBrowser(e),n=e&&e.navigator,i=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){o.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var s=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"===("undefined"===typeof e?"undefined":r(e))&&"object"===r(e.audio)&&(e=JSON.parse((0,l.default)(e)),s(e.audio,"autoGainControl","mozAutoGainControl"),s(e.audio,"noiseSuppression","mozNoiseSuppression")),a(e)},i&&i.prototype.getSettings){var c=i.prototype.getSettings;i.prototype.getSettings=function(){var e=c.apply(this,arguments);return s(e,"mozAutoGainControl","autoGainControl"),s(e,"mozNoiseSuppression","noiseSuppression"),e}}if(i&&i.prototype.applyConstraints){var u=i.prototype.applyConstraints;i.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===("undefined"===typeof e?"undefined":r(e))&&(e=JSON.parse((0,l.default)(e)),s(e,"autoGainControl","mozAutoGainControl"),s(e,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[e])}}}}},{"../utils":15}],14:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r="function"===typeof C.default&&"symbol"===(0,T.default)(w.default)?function(e){return"undefined"===typeof e?"undefined":(0,T.default)(e)}:function(e){return e&&"function"===typeof C.default&&e.constructor===C.default&&e!==C.default.prototype?"symbol":"undefined"===typeof e?"undefined":(0,T.default)(e)};n.shimLocalStreamsAPI=a,n.shimRemoteStreamsAPI=u,n.shimCallbacksAPI=d,n.shimGetUserMedia=f,n.shimConstraints=p,n.shimRTCIceServerUrls=m,n.shimTrackEventTransceiver=v,n.shimCreateOfferLegacy=b;var i=e("../utils"),o=s(i);function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((function(r){return t.call(n,r,e)})),e.getVideoTracks().forEach((function(r){return t.call(n,r,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e){var n=arguments[1];return n&&(this._localStreams?this._localStreams.includes(n)||this._localStreams.push(n):this._localStreams=[n]),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var n=this._localStreams.indexOf(e);if(-1!==n){this._localStreams.splice(n,1);var r=e.getTracks();this.getSenders().forEach((function(e){r.includes(e.track)&&t.removeTrack(e)}))}})}}function u(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var n=new Event("addstream");n.stream=e,t.dispatchEvent(n)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}}))}),t.apply(e,arguments)}}}function d(e){if("object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,n=t.createOffer,i=t.createAnswer,o=t.setLocalDescription,s=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),h.default.resolve()):i},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],r=i.apply(this,[n]);return t?(r.then(e,t),h.default.resolve()):r};var c=function(e,t,n){var r=o.apply(this,[e]);return n?(r.then(t,n),h.default.resolve()):r};t.setLocalDescription=c,c=function(e,t,n){var r=s.apply(this,[e]);return n?(r.then(t,n),h.default.resolve()):r},t.setRemoteDescription=c,c=function(e,t,n){var r=a.apply(this,[e]);return n?(r.then(t,n),h.default.resolve()):r},t.addIceCandidate=c}}function f(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(e){return r(p(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function p(e){return e&&void 0!==e.video?(0,c.default)({},e,{video:o.compactObject(e.video)}):e}function m(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var r=[],i=0;i<e.iceServers.length;i++){var s=e.iceServers[i];!s.hasOwnProperty("urls")&&s.hasOwnProperty("url")?(o.deprecated("RTCIceServer.url","RTCIceServer.urls"),s=JSON.parse((0,l.default)(s)),s.urls=s.url,delete s.url,r.push(s)):r.push(e.iceServers[i])}e.iceServers=r}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}function v(e){"object"===("undefined"===typeof e?"undefined":r(e))&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function b(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){"undefined"!==typeof e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var n=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||this.addTransceiver("audio"),"undefined"!==typeof e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var r=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video")}return t.apply(this,arguments)}}},{"../utils":15}],15:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r="function"===typeof C.default&&"symbol"===(0,T.default)(w.default)?function(e){return"undefined"===typeof e?"undefined":(0,T.default)(e)}:function(e){return e&&"function"===typeof C.default&&e.constructor===C.default&&e!==C.default.prototype?"symbol":"undefined"===typeof e?"undefined":(0,T.default)(e)};function i(e,t,n){return t in e?(0,_.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.extractVersion=a,n.wrapPeerConnectionEvent=u,n.disableLog=l,n.disableWarnings=d,n.log=f,n.deprecated=p,n.detectBrowser=h,n.compactObject=b,n.walkStats=g,n.filterStats=S;var o=!0,s=!0;function a(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function u(e,t,n){if(e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);var o=function(e){var t=n(e);t&&r(t)};return this._eventMap=this._eventMap||{},this._eventMap[r]=o,i.apply(this,[e,o])};var o=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[n])return o.apply(this,arguments);var r=this._eventMap[n];return delete this._eventMap[n],o.apply(this,[e,r])},(0,_.default)(r,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function l(e){return"boolean"!==typeof e?new Error("Argument type: "+("undefined"===typeof e?"undefined":r(e))+". Please use a boolean."):(o=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function d(e){return"boolean"!==typeof e?new Error("Argument type: "+("undefined"===typeof e?"undefined":r(e))+". Please use a boolean."):(s=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function f(){if("object"===("undefined"===typeof window?"undefined":r(window))){if(o)return;"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,arguments)}}function p(e,t){s&&console.warn(e+" is deprecated, please use "+t+" instead.")}function h(e){var t=e.navigator,n={browser:null,version:null};if("undefined"===typeof e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=a(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)n.browser="chrome",n.version=a(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=a(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=a(t.userAgent,/AppleWebKit\/(\d+)\./,1),n.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return n}function m(e){return"[object Object]"===Object.prototype.toString.call(e)}function b(e){return m(e)?(0,v.default)(e).reduce((function(t,n){var r=m(e[n]),o=r?b(e[n]):e[n],s=r&&!(0,v.default)(o).length;return void 0===o||s?t:(0,c.default)(t,i({},n,o))}),{}):e}function g(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),(0,v.default)(t).forEach((function(r){r.endsWith("Id")?g(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach((function(t){g(e,e.get(t),n)}))})))}function S(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",i=new y.default;if(null===t)return i;var o=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((function(t){e.forEach((function(n){n.type===r&&n.trackId===t.id&&g(e,n,i)}))})),i}},{}],16:[function(e,t,n){var r=e("sdp");function i(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}function o(e,t,n,i,o){var s=r.writeRtpDescription(e.kind,t);if(s+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),s+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":o||"active"),s+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?s+="a=sendrecv\r\n":e.rtpSender?s+="a=sendonly\r\n":e.rtpReceiver?s+="a=recvonly\r\n":s+="a=inactive\r\n",e.rtpSender){var a=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=a;var c="msid:"+(i?i.id:"-")+" "+a+"\r\n";s+="a="+c,s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+c,e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+c,s+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),s}function s(e,t){var n=!1;return e=JSON.parse((0,l.default)(e)),e.filter((function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"===typeof r;return i&&(r=[r]),r=r.filter((function(e){var r=0===e.indexOf("turn:")&&-1!==e.indexOf("transport=udp")&&-1===e.indexOf("turn:[")&&!n;return r?(n=!0,!0):0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp")})),delete e.url,e.urls=i?r[0]:r,!!r.length}}))}function a(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},i=function(e,t,n,i){var o=r(e.parameters.apt,n),s=r(t.parameters.apt,i);return o&&s&&o.name.toLowerCase()===s.name.toLowerCase()};return e.codecs.forEach((function(r){for(var o=0;o<t.codecs.length;o++){var s=t.codecs[o];if(r.name.toLowerCase()===s.name.toLowerCase()&&r.clockRate===s.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&s.parameters.apt&&!i(r,s,e.codecs,t.codecs))continue;s=JSON.parse((0,l.default)(s)),s.numChannels=Math.min(r.numChannels,s.numChannels),n.codecs.push(s),s.rtcpFeedback=s.rtcpFeedback.filter((function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}})),n}function u(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function d(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function f(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}t.exports=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function p(t,n){n.removeTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}function m(t,n,r,i){var o=new Event("track");o.track=n,o.receiver=r,o.transceiver={receiver:r},o.streams=i,e.setTimeout((function(){t._dispatchEvent("track",o)}))}var b=function(n){var i=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){i[e]=o[e].bind(o)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse((0,l.default)(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw f("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all";break}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced";break}if(n.iceServers=s(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var a=n.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=r.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(b.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(b.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),b.prototype.onicecandidate=null,b.prototype.onaddstream=null,b.prototype.ontrack=null,b.prototype.onremovestream=null,b.prototype.onsignalingstatechange=null,b.prototype.oniceconnectionstatechange=null,b.prototype.onconnectionstatechange=null,b.prototype.onicegatheringstatechange=null,b.prototype.onnegotiationneeded=null,b.prototype.ondatachannel=null,b.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"===typeof this["on"+e]&&this["on"+e](t))},b.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},b.prototype.getConfiguration=function(){return this._config},b.prototype.getLocalStreams=function(){return this.localStreams},b.prototype.getRemoteStreams=function(){return this.remoteStreams},b.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,r={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)r.iceTransport=this.transceivers[0].iceTransport,r.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();r.iceTransport=i.iceTransport,r.dtlsTransport=i.dtlsTransport}return t||this.transceivers.push(r),r},b.prototype.addTrack=function(t,n){if(this._isClosed)throw f("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r,i=this.transceivers.find((function(e){return e.track===t}));if(i)throw f("InvalidAccessError","Track already exists.");for(var o=0;o<this.transceivers.length;o++)this.transceivers[o].track||this.transceivers[o].kind!==t.kind||(r=this.transceivers[o]);return r||(r=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},b.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach((function(t){n.addTrack(t,e)}));else{var r=e.clone();e.getTracks().forEach((function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",(function(e){n.enabled=e.enabled}))})),r.getTracks().forEach((function(e){n.addTrack(e,r)}))}},b.prototype.removeTrack=function(t){if(this._isClosed)throw f("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw f("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null;var i=this.transceivers.map((function(e){return e.stream}));-1===i.indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},b.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},b.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},b.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},b.prototype._createIceGatherer=function(t,n){var r=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===(0,v.default)(e.candidate).length;i.state=n?"completed":"gathering",null!==r.transceivers[t].bufferedCandidateEvents&&r.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},b.prototype._gather=function(t,n){var i=this,o=this.transceivers[n].iceGatherer;if(!o.onlocalcandidate){var s=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,o.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),o.onlocalcandidate=function(e){if(!(i.usingBundle&&n>0)){var s=new Event("icecandidate");s.candidate={sdpMid:t,sdpMLineIndex:n};var a=e.candidate,u=!a||0===(0,v.default)(a).length;if(u)"new"!==o.state&&"gathering"!==o.state||(o.state="completed");else{"new"===o.state&&(o.state="gathering"),a.component=1,a.ufrag=o.getLocalParameters().usernameFragment;var l=r.writeCandidate(a);s.candidate=(0,c.default)(s.candidate,r.parseCandidate(l)),s.candidate.candidate=l,s.candidate.toJSON=function(){return{candidate:s.candidate.candidate,sdpMid:s.candidate.sdpMid,sdpMLineIndex:s.candidate.sdpMLineIndex,usernameFragment:s.candidate.usernameFragment}}}var d=r.getMediaSections(i._localDescription.sdp);d[s.candidate.sdpMLineIndex]+=u?"a=end-of-candidates\r\n":"a="+s.candidate.candidate+"\r\n",i._localDescription.sdp=r.getDescription(i._localDescription.sdp)+d.join("");var f=i.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),u||i._dispatchEvent("icecandidate",s),f&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},e.setTimeout((function(){s.forEach((function(e){o.onlocalcandidate(e)}))}),0)}},b.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var r=new e.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},b.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var r=this.transceivers[e].dtlsTransport;r&&(delete r.ondtlsstatechange,delete r.onerror,delete this.transceivers[e].dtlsTransport)},b.prototype._transceive=function(e,n,i){var o=a(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(o.encodings=e.sendEncodingParameters,o.rtcp={cname:r.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(o.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(o)),i&&e.rtpReceiver&&o.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?o.encodings=e.recvEncodingParameters:o.encodings=[{}],o.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(o.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(o.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(o))},b.prototype.setLocalDescription=function(e){var t,n,i=this;if(-1===["offer","answer"].indexOf(e.type))return h.default.reject(f("TypeError",'Unsupported type "'+e.type+'"'));if(!u("setLocalDescription",e.type,i.signalingState)||i._isClosed)return h.default.reject(f("InvalidStateError","Can not set local "+e.type+" in state "+i.signalingState));if("offer"===e.type)t=r.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){var n=r.parseRtpParameters(e);i.transceivers[t].localCapabilities=n})),i.transceivers.forEach((function(e,t){i._gather(e.mid,t)}));else if("answer"===e.type){t=r.splitSections(i._remoteDescription.sdp),n=t.shift();var o=r.matchPrefix(n,"a=ice-lite").length>0;t.forEach((function(e,t){var s=i.transceivers[t],c=s.iceGatherer,u=s.iceTransport,l=s.dtlsTransport,d=s.localCapabilities,f=s.remoteCapabilities,p=r.isRejected(e)&&0===r.matchPrefix(e,"a=bundle-only").length;if(!p&&!s.rejected){var h=r.getIceParameters(e,n),m=r.getDtlsParameters(e,n);o&&(m.role="server"),i.usingBundle&&0!==t||(i._gather(s.mid,t),"new"===u.state&&u.start(c,h,o?"controlling":"controlled"),"new"===l.state&&l.start(m));var v=a(d,f);i._transceive(s,v.codecs.length>0,!1)}}))}return i._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?i._updateSignalingState("have-local-offer"):i._updateSignalingState("stable"),h.default.resolve()},b.prototype.setRemoteDescription=function(i){var o=this;if(-1===["offer","answer"].indexOf(i.type))return h.default.reject(f("TypeError",'Unsupported type "'+i.type+'"'));if(!u("setRemoteDescription",i.type,o.signalingState)||o._isClosed)return h.default.reject(f("InvalidStateError","Can not set remote "+i.type+" in state "+o.signalingState));var s={};o.remoteStreams.forEach((function(e){s[e.id]=e}));var c=[],l=r.splitSections(i.sdp),b=l.shift(),y=r.matchPrefix(b,"a=ice-lite").length>0,g=r.matchPrefix(b,"a=group:BUNDLE ").length>0;o.usingBundle=g;var _=r.matchPrefix(b,"a=ice-options:")[0];return o.canTrickleIceCandidates=!!_&&_.substr(14).split(" ").indexOf("trickle")>=0,l.forEach((function(u,l){var f=r.splitLines(u),h=r.getKind(u),m=r.isRejected(u)&&0===r.matchPrefix(u,"a=bundle-only").length,v=f[0].substr(2).split(" ")[2],_=r.getDirection(u,b),S=r.parseMsid(u),w=r.getMid(u)||r.generateIdentifier();if(m||"application"===h&&("DTLS/SCTP"===v||"UDP/DTLS/SCTP"===v))o.transceivers[l]={mid:w,kind:h,protocol:v,rejected:!0};else{var x,C,O,T,E,I,k,R,P;!m&&o.transceivers[l]&&o.transceivers[l].rejected&&(o.transceivers[l]=o._createTransceiver(h,!0));var M,A,j=r.parseRtpParameters(u);m||(M=r.getIceParameters(u,b),A=r.getDtlsParameters(u,b),A.role="client"),k=r.parseRtpEncodingParameters(u);var N=r.parseRtcpParameters(u),D=r.matchPrefix(u,"a=end-of-candidates",b).length>0,B=r.matchPrefix(u,"a=candidate:").map((function(e){return r.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===i.type||"answer"===i.type)&&!m&&g&&l>0&&o.transceivers[l]&&(o._disposeIceAndDtlsTransports(l),o.transceivers[l].iceGatherer=o.transceivers[0].iceGatherer,o.transceivers[l].iceTransport=o.transceivers[0].iceTransport,o.transceivers[l].dtlsTransport=o.transceivers[0].dtlsTransport,o.transceivers[l].rtpSender&&o.transceivers[l].rtpSender.setTransport(o.transceivers[0].dtlsTransport),o.transceivers[l].rtpReceiver&&o.transceivers[l].rtpReceiver.setTransport(o.transceivers[0].dtlsTransport)),"offer"!==i.type||m){if("answer"===i.type&&!m){x=o.transceivers[l],C=x.iceGatherer,O=x.iceTransport,T=x.dtlsTransport,E=x.rtpReceiver,I=x.sendEncodingParameters,R=x.localCapabilities,o.transceivers[l].recvEncodingParameters=k,o.transceivers[l].remoteCapabilities=j,o.transceivers[l].rtcpParameters=N,B.length&&"new"===O.state&&(!y&&!D||g&&0!==l?B.forEach((function(e){d(x.iceTransport,e)})):O.setRemoteCandidates(B)),g&&0!==l||("new"===O.state&&O.start(C,M,"controlling"),"new"===T.state&&T.start(A));var L=a(x.localCapabilities,x.remoteCapabilities),F=L.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length;!F&&x.sendEncodingParameters[0].rtx&&delete x.sendEncodingParameters[0].rtx,o._transceive(x,"sendrecv"===_||"recvonly"===_,"sendrecv"===_||"sendonly"===_),!E||"sendrecv"!==_&&"sendonly"!==_?delete x.rtpReceiver:(P=E.track,S?(s[S.stream]||(s[S.stream]=new e.MediaStream),n(P,s[S.stream]),c.push([P,E,s[S.stream]])):(s.default||(s.default=new e.MediaStream),n(P,s.default),c.push([P,E,s.default])))}}else{x=o.transceivers[l]||o._createTransceiver(h),x.mid=w,x.iceGatherer||(x.iceGatherer=o._createIceGatherer(l,g)),B.length&&"new"===x.iceTransport.state&&(!D||g&&0!==l?B.forEach((function(e){d(x.iceTransport,e)})):x.iceTransport.setRemoteCandidates(B)),R=e.RTCRtpReceiver.getCapabilities(h),t<15019&&(R.codecs=R.codecs.filter((function(e){return"rtx"!==e.name}))),I=x.sendEncodingParameters||[{ssrc:1001*(2*l+2)}];var V,U=!1;if("sendrecv"===_||"sendonly"===_){if(U=!x.rtpReceiver,E=x.rtpReceiver||new e.RTCRtpReceiver(x.dtlsTransport,h),U)P=E.track,S&&"-"===S.stream||(S?(s[S.stream]||(s[S.stream]=new e.MediaStream,Object.defineProperty(s[S.stream],"id",{get:function(){return S.stream}})),Object.defineProperty(P,"id",{get:function(){return S.track}}),V=s[S.stream]):(s.default||(s.default=new e.MediaStream),V=s.default)),V&&(n(P,V),x.associatedRemoteMediaStreams.push(V)),c.push([P,E,V])}else x.rtpReceiver&&x.rtpReceiver.track&&(x.associatedRemoteMediaStreams.forEach((function(e){var t=e.getTracks().find((function(e){return e.id===x.rtpReceiver.track.id}));t&&p(t,e)})),x.associatedRemoteMediaStreams=[]);x.localCapabilities=R,x.remoteCapabilities=j,x.rtpReceiver=E,x.rtcpParameters=N,x.sendEncodingParameters=I,x.recvEncodingParameters=k,o._transceive(o.transceivers[l],!1,U)}}})),void 0===o._dtlsRole&&(o._dtlsRole="offer"===i.type?"active":"passive"),o._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?o._updateSignalingState("have-remote-offer"):o._updateSignalingState("stable"),(0,v.default)(s).forEach((function(t){var n=s[t];if(n.getTracks().length){if(-1===o.remoteStreams.indexOf(n)){o.remoteStreams.push(n);var r=new Event("addstream");r.stream=n,e.setTimeout((function(){o._dispatchEvent("addstream",r)}))}c.forEach((function(e){var t=e[0],r=e[1];n.id===e[2].id&&m(o,t,r,[n])}))}})),c.forEach((function(e){e[2]||m(o,e[0],e[1],[])})),e.setTimeout((function(){o&&o.transceivers&&o.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),h.default.resolve()},b.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},b.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},b.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},b.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},b.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},b.prototype.createOffer=function(){var n=this;if(n._isClosed)return h.default.reject(f("InvalidStateError","Can not call createOffer after close"));var i=n.transceivers.filter((function(e){return"audio"===e.kind})).length,s=n.transceivers.filter((function(e){return"video"===e.kind})).length,a=arguments[0];if(a){if(a.mandatory||a.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==a.offerToReceiveAudio&&(i=!0===a.offerToReceiveAudio?1:!1===a.offerToReceiveAudio?0:a.offerToReceiveAudio),void 0!==a.offerToReceiveVideo&&(s=!0===a.offerToReceiveVideo?1:!1===a.offerToReceiveVideo?0:a.offerToReceiveVideo)}n.transceivers.forEach((function(e){"audio"===e.kind?(i--,i<0&&(e.wantReceive=!1)):"video"===e.kind&&(s--,s<0&&(e.wantReceive=!1))}));while(i>0||s>0)i>0&&(n._createTransceiver("audio"),i--),s>0&&(n._createTransceiver("video"),s--);var c=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach((function(i,o){var s=i.track,a=i.kind,c=i.mid||r.generateIdentifier();i.mid=c,i.iceGatherer||(i.iceGatherer=n._createIceGatherer(o,n.usingBundle));var u=e.RTCRtpSender.getCapabilities(a);t<15019&&(u.codecs=u.codecs.filter((function(e){return"rtx"!==e.name}))),u.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),i.remoteCapabilities&&i.remoteCapabilities.codecs&&i.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),u.headerExtensions.forEach((function(e){var t=i.remoteCapabilities&&i.remoteCapabilities.headerExtensions||[];t.forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var l=i.sendEncodingParameters||[{ssrc:1001*(2*o+1)}];s&&t>=15019&&"video"===a&&!l[0].rtx&&(l[0].rtx={ssrc:l[0].ssrc+1}),i.wantReceive&&(i.rtpReceiver=new e.RTCRtpReceiver(i.dtlsTransport,a)),i.localCapabilities=u,i.sendEncodingParameters=l})),"max-compat"!==n._config.bundlePolicy&&(c+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),c+="a=ice-options:trickle\r\n",n.transceivers.forEach((function(e,t){c+=o(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),c+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,c+="a="+r.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(c+="a=end-of-candidates\r\n"))}));var u=new e.RTCSessionDescription({type:"offer",sdp:c});return h.default.resolve(u)},b.prototype.createAnswer=function(){var n=this;if(n._isClosed)return h.default.reject(f("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return h.default.reject(f("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var i=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(i+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),i+="a=ice-options:trickle\r\n";var s=r.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach((function(e,r){if(!(r+1>s)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?i+="m=application 0 DTLS/SCTP 5000\r\n":i+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?i+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(i+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(i+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var c;if(e.stream)"audio"===e.kind?c=e.stream.getAudioTracks()[0]:"video"===e.kind&&(c=e.stream.getVideoTracks()[0]),c&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1});var u=a(e.localCapabilities,e.remoteCapabilities),l=u.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length;!l&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,i+=o(e,u,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(i+="a=rtcp-rsize\r\n")}}));var c=new e.RTCSessionDescription({type:"answer",sdp:i});return h.default.resolve(c)},b.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?h.default.reject(new TypeError("sdpMLineIndex or sdpMid required")):new h.default((function(i,o){if(!n._remoteDescription)return o(f("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var s=e.sdpMLineIndex;if(e.sdpMid)for(var a=0;a<n.transceivers.length;a++)if(n.transceivers[a].mid===e.sdpMid){s=a;break}var c=n.transceivers[s];if(!c)return o(f("OperationError","Can not add ICE candidate"));if(c.rejected)return i();var u=(0,v.default)(e.candidate).length>0?r.parseCandidate(e.candidate):{};if("tcp"===u.protocol&&(0===u.port||9===u.port))return i();if(u.component&&1!==u.component)return i();if((0===s||s>0&&c.iceTransport!==n.transceivers[0].iceTransport)&&!d(c.iceTransport,u))return o(f("OperationError","Can not add ICE candidate"));var l=e.candidate.trim();0===l.indexOf("a=")&&(l=l.substr(2)),t=r.getMediaSections(n._remoteDescription.sdp),t[s]+="a="+(u.type?l:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var p=0;p<n.transceivers.length;p++)if(!n.transceivers[p].rejected&&(n.transceivers[p].iceTransport.addRemoteCandidate({}),t=r.getMediaSections(n._remoteDescription.sdp),t[p]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join(""),n.usingBundle))break;i()}))},b.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)})),!n)throw f("InvalidAccessError","Invalid selector.");return n.getStats()}var r=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&r.push(e[t].getStats())}))})),h.default.all(r).then((function(e){var t=new y.default;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))};var g=["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"];g.forEach((function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var r=n.prototype.getStats;n.prototype.getStats=function(){return r.apply(this).then((function(e){var t=new y.default;return(0,v.default)(e).forEach((function(n){e[n].type=i(e[n]),t.set(n,e[n])})),t}))}}}));var _=["createOffer","createAnswer"];return _.forEach((function(e){var t=b.prototype[e];b.prototype[e]=function(){var e=arguments;return"function"===typeof e[0]||"function"===typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"===typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"===typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),_=["setLocalDescription","setRemoteDescription","addIceCandidate"],_.forEach((function(e){var t=b.prototype[e];b.prototype[e]=function(){var e=arguments;return"function"===typeof e[1]||"function"===typeof e[2]?t.apply(this,arguments).then((function(){"function"===typeof e[1]&&e[1].apply(null)}),(function(t){"function"===typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=b.prototype[e];b.prototype[e]=function(){var e=arguments;return"function"===typeof e[1]?t.apply(this,arguments).then((function(){"function"===typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),b}},{sdp:17}],17:[function(e,t,n){var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},r.splitSections=function(e){var t=e.split("\nm=");return t.map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},r.parseCandidate=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var n={foundation:t[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1];break}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)t=r[i].trim().split("="),n[t[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&(0,v.default)(e.parameters).length){var r=[];(0,v.default)(e.parameters).forEach((function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},r.getDtlsParameters=function(e,t){var n=r.matchPrefix(e+t,"a=fingerprint:");return{role:"auto",fingerprints:n.map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},r.getIceParameters=function(e,t){var n=r.splitLines(e);n=n.concat(r.splitLines(t));var i={usernameFragment:n.filter((function(e){return 0===e.indexOf("a=ice-ufrag:")}))[0].substr(12),password:n.filter((function(e){return 0===e.indexOf("a=ice-pwd:")}))[0].substr(10)};return i},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e),i=n[0].split(" "),o=3;o<i.length;o++){var s=i[o],a=r.matchPrefix(e,"a=rtpmap:"+s+" ")[0];if(a){var c=r.parseRtpMap(a),u=r.matchPrefix(e,"a=fmtp:"+s+" ");switch(c.parameters=u.length?r.parseFmtp(u[0]):{},c.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+s+" ").map(r.parseRtcpFb),t.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(c.name.toUpperCase());break;default:break}}}return r.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(r.parseExtmap(e))})),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)}));var i=0;return t.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(n+="a=maxptime:"+i+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){n+=r.writeExtmap(e)})),n},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),s=-1!==i.fecMechanisms.indexOf("ULPFEC"),a=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=a.length>0&&a[0].ssrc,u=r.matchPrefix(e,"a=ssrc-group:FID").map((function(e){var t=e.substr(17).split(" ");return t.map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(t=u[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(r.rtx={ssrc:t}),n.push(r),o&&(r=JSON.parse((0,l.default)(r)),r.fec={ssrc:c,mechanism:s?"red+ulpfec":"red"},n.push(r))}})),0===n.length&&c&&n.push({ssrc:c});var d=r.matchPrefix(e,"b=");return d.length&&(d=0===d[0].indexOf("b=TIAS:")?parseInt(d[0].substr(7),10):0===d[0].indexOf("b=AS:")?1e3*parseInt(d[0].substr(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=d}))),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var i=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var o=r.matchPrefix(e,"a=rtcp-mux");return t.mux=o.length>0,t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return t=n[0].substr(7).split(" "),{stream:t[0],track:t[1]};var i=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?(t=i[0].value.split(" "),{stream:t[0],track:t[1]}):void 0},r.parseSctpDescription=function(e){var t,n=r.parseMLine(e),i=r.matchPrefix(e,"a=max-message-size:");i.length>0&&(t=parseInt(i[0].substr(19),10)),isNaN(t)&&(t=65536);var o=r.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:n.fmt,maxMessageSize:t};var s=r.matchPrefix(e,"a=sctpmap:");if(s.length>0){var a=r.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:t}}},r.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){var i,o=void 0!==t?t:2;i=e||r.generateSessionId();var s=n||"thisisadapterortc";return"v=0\r\no="+s+" "+i+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,i){var o=r.writeRtpDescription(e.kind,t);if(o+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var s="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+s,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+s,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+s,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),o},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2);default:}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){var t=r.splitLines(e),n=t[0].split(" ");return n[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e),n=t[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0],n=t.substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},r.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},"object"===("undefined"===typeof t?"undefined":(0,T.default)(t))&&(t.exports=r)},{}]},{},[1])(1)}))},function(e,t,n){e.exports={default:n(83),__esModule:!0}},function(e,t,n){n(84),e.exports=n(17).Object.assign},function(e,t,n){var r=n(15);r(r.S+r.F,"Object",{assign:n(85)})},function(e,t,n){"use strict";var r=n(25),i=n(36),o=n(64),s=n(65),a=n(52),c=n(39),u=Object.assign;e.exports=!u||n(26)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r}))?function(e,t){var n=a(e),u=arguments.length,l=1,d=o.f,f=s.f;while(u>l){var p,h=c(arguments[l++]),m=d?i(h).concat(d(h)):i(h),v=m.length,b=0;while(v>b)p=m[b++],r&&!f.call(h,p)||(n[p]=h[p])}return n}:u},function(e,t,n){e.exports={default:n(87),__esModule:!0}},function(e,t,n){n(88);var r=n(17).Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var r=n(38),i=n(69).f;n(76)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},function(e,t,n){e.exports={default:n(90),__esModule:!0}},function(e,t,n){n(70),n(9),n(53),n(91),n(109),n(110),e.exports=n(17).Promise},function(e,t,n){"use strict";var r,i,o,s,a=n(14),c=n(16),u=n(18),l=n(92),d=n(15),f=n(23),p=n(19),h=n(93),m=n(94),v=n(98),b=n(99).set,y=n(101)(),g=n(102),_=n(103),S=n(104),w=n(105),x="Promise",C=c.TypeError,O=c.process,T=O&&O.versions,E=T&&T.v8||"",I=c[x],k="process"==l(O),R=function(){},P=i=g.f,M=!!function(){try{var e=I.resolve(1),t=(e.constructor={})[n(50)("species")]=function(e){e(R,R)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(R)instanceof t&&0!==E.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(r){}}(),A=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},j=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){var r=e._v,i=1==e._s,o=0,s=function(t){var n,o,s,a=i?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{a?(i||(2==e._h&&B(e),e._h=1),!0===a?n=r:(l&&l.enter(),n=a(r),l&&(l.exit(),s=!0)),n===t.promise?u(C("Promise-chain cycle")):(o=A(n))?o.call(n,c,u):c(n)):u(r)}catch(d){l&&!s&&l.exit(),u(d)}};while(n.length>o)s(n[o++]);e._c=[],e._n=!1,t&&!e._h&&N(e)}))}},N=function(e){b.call(c,(function(){var t,n,r,i=e._v,o=D(e);if(o&&(t=_((function(){k?O.emit("unhandledRejection",i,e):(n=c.onunhandledrejection)?n({promise:e,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=k||D(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},B=function(e){b.call(c,(function(){var t;k?O.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},L=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),j(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw C("Promise can't be resolved itself");(t=A(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,u(F,r,1),u(L,r,1))}catch(i){L.call(r,i)}})):(n._v=e,n._s=1,j(n,!1))}catch(r){L.call({_w:n,_d:!1},r)}}};M||(I=function(e){h(this,I,x,"_h"),p(e),r.call(this);try{e(u(F,this,1),u(L,this,1))}catch(t){L.call(this,t)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(106)(I.prototype,{then:function(e,t){var n=P(v(this,I));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=k?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&j(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=u(F,e,1),this.reject=u(L,e,1)},g.f=P=function(e){return e===I||e===s?new o(e):i(e)}),d(d.G+d.W+d.F*!M,{Promise:I}),n(49)(I,x),n(107)(x),s=n(17)[x],d(d.S+d.F*!M,x,{reject:function(e){var t=P(this),n=t.reject;return n(e),t.promise}}),d(d.S+d.F*(a||!M),x,{resolve:function(e){return w(a&&this===s?I:this,e)}}),d(d.S+d.F*!(M&&n(108)((function(e){I.all(e)["catch"](R)}))),x,{all:function(e){var t=this,n=P(t),r=n.resolve,i=n.reject,o=_((function(){var n=[],o=0,s=1;m(e,!1,(function(e){var a=o++,c=!1;n.push(void 0),s++,t.resolve(e).then((function(e){c||(c=!0,n[a]=e,--s||r(n))}),i)})),--s||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=P(t),r=n.reject,i=_((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(e,t,n){var r=n(40),i=n(50)("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(n){}};e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(18),i=n(95),o=n(96),s=n(22),a=n(42),c=n(97),u={},l={};t=e.exports=function(e,t,n,d,f){var p,h,m,v,b=f?function(){return e}:c(e),y=r(n,d,t?2:1),g=0;if("function"!=typeof b)throw TypeError(e+" is not iterable!");if(o(b)){for(p=a(e.length);p>g;g++)if(v=t?y(s(h=e[g])[0],h[1]):y(e[g]),v===u||v===l)return v}else for(m=b.call(e);!(h=m.next()).done;)if(v=i(m,y,h.value,t),v===u||v===l)return v};t.BREAK=u,t.RETURN=l},function(e,t,n){var r=n(22);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(s){var o=e["return"];throw void 0!==o&&r(o.call(e)),s}}},function(e,t,n){var r=n(32),i=n(50)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(92),i=n(50)("iterator"),o=n(32);e.exports=n(17).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(22),i=n(19),o=n(50)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||void 0==(n=r(s)[o])?t:i(n)}},function(e,t,n){var r,i,o,s=n(18),a=n(100),c=n(48),u=n(27),l=n(16),d=l.process,f=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,m=l.Dispatch,v=0,b={},y="onreadystatechange",g=function(){var e=+this;if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},_=function(e){g.call(e.data)};f&&p||(f=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return b[++v]=function(){a("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete b[e]},"process"==n(40)(d)?r=function(e){d.nextTick(s(g,e,1))}:m&&m.now?r=function(e){m.now(s(g,e,1))}:h?(i=new h,o=i.port2,i.port1.onmessage=_,r=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",_,!1)):r=y in u("script")?function(e){c.appendChild(u("script"))[y]=function(){c.removeChild(this),g.call(e)}}:function(e){setTimeout(s(g,e,1),0)}),e.exports={set:f,clear:p}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(16),i=n(99).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,c="process"==n(40)(s);e.exports=function(){var e,t,n,u=function(){var r,i;c&&(r=s.domain)&&r.exit();while(e){i=e.fn,e=e.next;try{i()}catch(o){throw e?n():t=void 0,o}}t=void 0,r&&r.enter()};if(c)n=function(){s.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var l=a.resolve(void 0);n=function(){l.then(u)}}else n=function(){i.call(r,u)};else{var d=!0,f=document.createTextNode("");new o(u).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){"use strict";var r=n(19);function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(e,t,n){var r=n(16),i=r.navigator;e.exports=i&&i.userAgent||""},function(e,t,n){var r=n(22),i=n(23),o=n(102);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),s=n.resolve;return s(t),n.promise}},function(e,t,n){var r=n(20);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){"use strict";var r=n(16),i=n(17),o=n(21),s=n(25),a=n(50)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];s&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(50)("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(s){}return n}},function(e,t,n){"use strict";var r=n(15),i=n(17),o=n(16),s=n(98),a=n(105);r(r.P+r.R,"Promise",{finally:function(e){var t=s(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then((function(){return n}))}:e,n?function(n){return a(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){"use strict";var r=n(15),i=n(102),o=n(103);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){e.exports={default:n(112),__esModule:!0}},function(e,t,n){n(113),e.exports=n(17).Object.keys},function(e,t,n){var r=n(52),i=n(36);n(76)("keys",(function(){return function(e){return i(r(e))}}))},function(e,t,n){e.exports={default:n(115),__esModule:!0}},function(e,t,n){n(70),n(9),n(53),n(116),n(123),n(126),n(128),e.exports=n(17).Map},function(e,t,n){"use strict";var r=n(117),i=n(118),o="Map";e.exports=n(119)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,o),e);return t&&t.v},set:function(e,t){return r.def(i(this,o),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(21).f,i=n(34),o=n(106),s=n(18),a=n(93),c=n(94),u=n(13),l=n(56),d=n(107),f=n(25),p=n(61).fastKey,h=n(118),m=f?"_s":"size",v=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,u){var l=e((function(e,r){a(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=r&&c(r,n,e[u],e)}));return o(l.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=h(this,t),r=v(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(e){h(this,t);var n,r=s(e,arguments.length>1?arguments[1]:void 0,3);while(n=n?n.n:this._f){r(n.v,n.k,this);while(n&&n.r)n=n.p}},has:function(e){return!!v(h(this,t),e)}}),f&&r(l.prototype,"size",{get:function(){return h(this,t)[m]}}),l},def:function(e,t,n){var r,i,o=v(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==i&&(e._i[i]=o)),e},getEntry:v,setStrong:function(e,t,n){u(e,t,(function(e,n){this._t=h(e,t),this._k=n,this._l=void 0}),(function(){var e=this,t=e._k,n=e._l;while(n&&n.r)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?l(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,l(1))}),n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){var r=n(23);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";var r=n(16),i=n(15),o=n(61),s=n(26),a=n(20),c=n(106),u=n(94),l=n(93),d=n(23),f=n(49),p=n(21).f,h=n(120)(0),m=n(25);e.exports=function(e,t,n,v,b,y){var g=r[e],_=g,S=b?"set":"add",w=_&&_.prototype,x={};return m&&"function"==typeof _&&(y||w.forEach&&!s((function(){(new _).entries().next()})))?(_=t((function(t,n){l(t,_,e,"_c"),t._c=new g,void 0!=n&&u(n,b,t[S],t)})),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(e){var t="add"==e||"set"==e;!(e in w)||y&&"clear"==e||a(_.prototype,e,(function(n,r){if(l(this,_,e),!t&&y&&!d(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i}))})),y||p(_.prototype,"size",{get:function(){return this._c.size}})):(_=v.getConstructor(t,e,b,S),c(_.prototype,n),o.NEED=!0),f(_,e),x[e]=_,i(i.G+i.W+i.F,x),y||v.setStrong(_,e,b),_}},function(e,t,n){var r=n(18),i=n(39),o=n(52),s=n(42),a=n(121);e.exports=function(e,t){var n=1==e,c=2==e,u=3==e,l=4==e,d=6==e,f=5==e||d,p=t||a;return function(t,a,h){for(var m,v,b=o(t),y=i(b),g=r(a,h,3),_=s(y.length),S=0,w=n?p(t,_):c?p(t,0):void 0;_>S;S++)if((f||S in y)&&(m=y[S],v=g(m,S,b),e))if(n)w[S]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return S;case 2:w.push(m)}else if(l)return!1;return d?-1:u||l?l:w}}},function(e,t,n){var r=n(122);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(23),i=n(66),o=n(50)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},function(e,t,n){var r=n(15);r(r.P+r.R,"Map",{toJSON:n(124)("Map")})},function(e,t,n){var r=n(92),i=n(125);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(94);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(127)("Map")},function(e,t,n){"use strict";var r=n(15);e.exports=function(e){r(r.S,e,{of:function(){var e=arguments.length,t=new Array(e);while(e--)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){n(129)("Map")},function(e,t,n){"use strict";var r=n(15),i=n(19),o=n(18),s=n(94);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,a,c=arguments[1];return i(this),t=void 0!==c,t&&i(c),void 0==e?new this:(n=[],t?(r=0,a=o(c,arguments[2],2),s(e,!1,(function(e){n.push(a(e,r++))}))):s(e,!1,n.push,n),new this(n))}})}},function(e,t,n){e.exports={default:n(131),__esModule:!0}},function(e,t,n){n(132);var r=n(17).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(15);r(r.S+r.F*!n(25),"Object",{defineProperty:n(21).f})},function(e,t,n){"use strict";var r=n(134),i=p(r),o=n(137),s=p(o),a=n(111),c=p(a),u=n(77),l=p(u),d=n(6),f=p(d);function p(e){return e&&e.__esModule?e:{default:e}}var h=n(5),m=n(138),v=h.tagLogger("Service"),b=n(140),y=n(145),g=n(142),_=n(151),S=n(152),w=new S({onExtLoaded:function(){v.info("Share desktop ext. had loaded.")}}),x=n(149),C=n(153),O=n(154);e.exports=h.prototypeExtend({__init__:function(){var e=this;v.warn("emedia version: ",window._emediaVersion||"unkown"),v.warn("UserAgent: ",navigator.userAgent);var t=h.parseURL("__log_level___");t&&(emedia.LOG_LEVEL=parseInt(t)),e.namespace=Math.uuidFast(),emedia.useCurrentXService=e,void 0===e.useRTCCfg&&(e.useRTCCfg=emedia.config.useRTCCfgIfServerReturn),"string"===typeof e.useRTCCfg&&(e.useRTCCfg=JSON.parse(e.useRTCCfg)),e.inboundAudio=C.inboundAudio.bind(e),e.inboundVideo=C.inboundVideo.bind(e),e.outboundAudio=C.outboundAudio.bind(e),e.outboundVideo=C.outboundVideo.bind(e),e._cache_receive_sessions=[]},AVPubstream:x.extend({__init__:function(){var e=this;e.type=0,e._located=!0,e.mutedMuted=!0,e.constaints&&(e.constaints.video||(e.voff=1),e.constaints.audio||(e.aoff=1)),e.constaints||(e.constaints={audio:!0,video:!0}),emedia.config.maxVideoBitrate&&(e.vbitrate=emedia.config.maxVideoBitrate),emedia.config.maxAudioBitrate&&(e.abitrate=emedia.config.maxAudioBitrate)}}),AudioMixerPubstream:new x.extend({__init__:function(){var e=this;if(e.type=2,e._located=!0,e.mutedMuted=!0,e.constaints||(e.constaints={audio:!0,video:!1}),e.constaints){var t=!!e.constaints.audio;e.constaints.video||(e.constaints.video=!1),e.constaints.video||(e.voff=1),e.constaints.audio||(e.aoff=1),!1===t&&(e.aoff=1)}emedia.config.maxVideoBitrate&&(e.vbitrate=emedia.config.maxVideoBitrate),emedia.config.maxAudioBitrate&&(e.abitrate=emedia.config.maxAudioBitrate)},onGotRemoteMediaStream:function(e){var t=this;if(!t.remotePlayAudioObject){var n="__o_remote_play_audio_"+t.id,r=document.querySelector("#"+n);r||(r=document.createElement("audio"),r.style.display="none",r.id="__o_remote_play_audio_"+t.id,r.autoplay=!0,r.playsinline=!0,document.body.appendChild(r)),t.remotePlayAudioObject=r}t.remotePlayAudioObject.srcObject=e}}),ShareDesktopPubstream:x.extend({voff:0,__init__:function(){var e=this;e.type=1,e._located=!0,e.mutedMuted=!0,e.constaints={audio:!this.aoff,video:!0},emedia.config.maxVideoBitrate&&(e.vbitrate=emedia.config.maxVideoBitrate),emedia.config.maxAudioBitrate&&(e.abitrate=emedia.config.maxAudioBitrate)}}),__assertCurrent:function(){var e=this;if(!e.current)throw v.error("Please call emedia.service.setup(ticket)"),"Please call emedia.service.setup(ticket)";if(e.current.closed)throw v.error("current closed"),"current closed"},hasAudioMixers:function(){var e=this;for(var t in e.__assertCurrent(),e.current.audioMixers){var n=e.current.audioMixers[t];if(n&&n.located())return!0}},getMediaDevices:function(e,t,n){function r(n){for(var r=[],i=0;i!==n.length;++i){var o=n[i];e?e===o.kind?r.push(o):"audioinput"===o.kind||"audiooutput"===o.kind||"videoinput"===o.kind||v.info("Some other kind of source/device: ",o):r.push(o)}t&&t(r)}"function"===typeof e&&(n=t,t=e,e=void 0),navigator.mediaDevices.enumerateDevices().then(r).catch((function(e){v.warn("navigator.getUserMedia error: ",e),n&&n(e)}))},attachSinkId:function(e,t){"undefined"!==typeof e.sinkId?e.setSinkId(t).then((function(){v.info("Success, audio output device attached: "+t)})).catch((function(e){var t=e;"SecurityError"===e.name&&(t="You need to use HTTPS for selecting audio output device: "+e),v.warn(t)})):v.warn("Browser does not support output device selection.")},_stopTracks:function(e){emedia.stopTracks(e),e&&v.warn("Stream tracks stop. it = ",e)},_enableVideoTracks:function(e,t){emedia.enableVideoTracks(e,t)},_enableAudioTracks:function(e,t){emedia.enableAudioTracks(e,t)},openUserMedia:function(e){v.debug("begin open user media",e);var t=this;if(!e)throw v.error("require pubS"),"require pubS";return{then:function(n,r){function i(){n.apply(null,arguments);var r=e.localStream;r&&(r.oninactive=t._onStreamInactive.bind(t,e,r),r.onactive=t._onStreamActive.bind(t,e,r))}if(e instanceof t.AVPubstream)t._openCamera(e,i,r);else if(e instanceof t.ShareDesktopPubstream)t._openSharedDesktop(e,i,r);else{if(!(e instanceof t.AudioMixerPubstream))throw v.error("Unspported pubS"),"Unspported pubS";t._openCamera(e,i,r)}}}},_openSharedDesktop:function(e,t,n){var r,i=this;function o(e){var r={audio:!0};e.constaints&&("object"===(0,f.default)(e.constaints.audio)&&e.constaints.audio||e.constaints.audio||(r.audio=!1)),i.__getUserMedia(r,(function(n,r){var o=new MediaStream;o._located=!0,r&&r.getAudioTracks().forEach((function(e){o.addTrack(e)})),e.localStream&&e.localStream.getVideoTracks().forEach((function(e){o.addTrack(e)})),e.localStream=o,t&&t(i.current,o)}),n)}if(e._localMediaStream&&(r=e._localMediaStream.getVideoTracks())&&r.length>0)return e.localStream=e._localMediaStream,void(e.constaints.audio?o(e):t&&t(i.current,stream));w.openDesktopMedia(e.screenOptions||["screen","window","tab"],(function(r){if(r instanceof g.OpenDesktopMedia){var s=r.desktopStreamId;v.warn("desktop streamId",s);var a={audio:!1,video:{mandatory:h.extend(e.mandatory||{},{chromeMediaSource:"desktop",chromeMediaSourceId:s}),optional:[]}};i.__getUserMedia(a,(function(n,r){e.localStream=r,e.constaints.audio?o(e):t&&t(i.current,r)}),n)}else i.current&&i.current.onEvent(new g.ShareDesktopExtensionNotFound({member:i.current})),n&&n(r)}))},_openCamera:function(e,t,n){var r=this,i=e.constaints||{audio:!0,video:!0};function o(n,i){r.__controlStream(e,i),e.localStream=i,t&&t(r.current,i)}r.__getUserMedia(i,o.bind(i),n)},__controlStream:function(e,t){emedia.enableVideoTracks(t,!e.voff),emedia.enableAudioTracks(t,!e.aoff)},__getUserMedia:function(e,t,n){v.debug("get user media. using constaints",e);var r,i=this;function o(e){v.debug("[WebRTC-API] getUserMedia() error: ",e),emedia.stopTracks(r),i.current&&i.current.onEvent(new g.OpenMediaError({member:i.current,event:e})),n&&n(new g.OpenMediaError({member:i.current,event:e}))}function s(n){i.current&&!i.current.closed&&(i.current._openedRtcMediaStreams[n.id]=n,n._bindAttendee=i.current,n._bindAttendeeId=i.current.getMemberId(),v.info("stream bind attendee.",n.id,i.current.ticket&&i.current.ticket.id,i.current.getMemberId(),i.current.memName)),emedia._yetGetUserMedia=!0,r=n;var s=n.getVideoTracks(),a=n.getAudioTracks();if(s.length>0){var c=s[0];v.debug(n.id,"using video device: ",c.id,c.label,c.kind,c.enabled)}if(a.length>0){var u=a[0];v.debug(n.id,"using audio device: ",u.id,u.label,u.kind,u.enabled)}if(n._located=!0,"boolean"===typeof n.active&&!n.active)return v.error("media stream not active. it is",n.id),void o({constraint:e,name:"NotAllowedStreamNonactive",message:"stream non-active"});t&&t(i.current,n)}e=h.extend({},e),i.__sysGetUserMedia(e,s,o)},_onStreamInactive:function(e,t,n){var r=this;v.warn("media stream inactive. it =",t.id),e.onMediaInactive&&r.current&&h.forEach(r.current._cacheStreams,(function(i,o){o.located()&&o.localStream&&o.localStream.id===t.id&&(o._webrtc&&o._webrtc.closed||e.onMediaInactive.call(o,t,n,r))}))},_onStreamActive:function(e,t,n){var r=this;v.warn("media stream active. it =",t.id),e.onMediaActive&&r.current&&h.forEach(r.current._cacheStreams,(function(i,o){o.located()&&o.localStream&&o.localStream.id===t.id&&e.onMediaActive.call(o,t,n,r)}))},__sysGetUserMedia:function(e,t,n){function r(e,t,n){"object"===(0,f.default)(emedia.config.globalConstraints)&&("object"===(0,f.default)(emedia.config.globalConstraints.audio)&&e.audio&&("boolean"===typeof e.audio?e.audio=h.extend({},emedia.config.globalConstraints.audio):e.audio=h.extend({},emedia.config.globalConstraints.audio,e.audio)),"object"===(0,f.default)(emedia.config.globalConstraints.video)&&e.video&&("boolean"===typeof e.video?e.video=h.extend({},emedia.config.globalConstraints.video):e.video=h.extend({},emedia.config.globalConstraints.video,e.video))),v.info("navigator.mediaDevices.getUserMedia constaints = ",(0,l.default)(e)),navigator.mediaDevices.getUserMedia(e).then(t).catch(n)}if(emedia.isSafari){if(e=m.extend({},e),e.audio){var i={audio:e.audio};r(i,a.bind(i),c)}if(e.video){var o={video:e.video};r(o,a.bind(o),c)}e.video||e.audio||c("Failed to execute 'getUserMedia' on 'MediaDevices': At least one of audio and video must be requested")}else r(e,t,n);function s(){var n=new MediaStream;e.audioStream&&e.audioStream.getAudioTracks().forEach((function(e){n.addTrack(e)})),e.videoStream&&e.videoStream.getVideoTracks().forEach((function(e){n.addTrack(e)})),t&&t(n)}function a(t){e.failed?emedia.stopTracks(t):(!this.audio||(e.audioStream=t,e.video))&&(!this.video||(e.videoStream=t,e.audio))?e.audioStream&&e.videoStream&&s():s()}function c(t){e.failed||(e.failed=!0,n(t))}},attachMediaStream:window.attachMediaStream.bind({logger:v}),setup:function(e,t){var n=this;v.count(),v.debug("recv ticket",e,t),v.debug("use sdk version",window._emediaVersion),v.debug(navigator.userAgent),t=t||{};var r,i,o=t;if(h.isPlainObject(t))t=(0,l.default)(t);else try{o=JSON.parse(t)}catch(d){}if("string"===typeof e&&(e=JSON.parse(e)),r=i=e.memName,emedia._lastSetupConfr=e.confrId,emedia._lastSetupMemName=i,emedia._lastSetupDate=new Date,emedia._lastSetupTktId=e.tktId,n.current&&!n.current.closed){var s=new g.CurrentCalling;throw n.current.onEvent(s),v.error("confr not close. calling..."),s}var a=n.Attendee||y,c=a.extend(_),u=n.current=new c({_service:n,service:n,autoSub:emedia.config.autoSub,getCopyIntervalMillis:emedia.config.getCopyIntervalMillis,sysUserId:r,memName:i,resource:n.resource,nickName:n.nickName,ticket:e,ext:t,extObj:o,sessionFactory:function(){return n.newSession(this,e)}},n.listeners||{});return u},getStreamById:function(e){var t=this.current&&this.current._cacheStreams[e];return t&&h.extend(!1,{},t)},getStreamsByRtcId:function(e){if(this.current&&this.current._cacheStreams){var t=[];return h.forEach(this.current._cacheStreams,(function(n,r){r.rtcId===e&&t.push(r)})),t}},getMemberById:function(e){var t=this.current&&this.current._cacheMembers[e];return t&&h.extend(!1,{},t)},exit:function(e){v.warn("User click exit ",e),this.current&&this.current.exit(e)},join:function(e,t){v.debug("begin join ...");var n=this;if(n.__assertCurrent(),n.current._memberId)return v.warn("Had joined. igrone it"),void(e&&e(n.memId));n.current._session._sessionId=void 0,n.current.join(e,t)},withpublish:function(e){var t=this;if(!e||!e.localStream)throw v.error("pubS null or stream not open"),"pubS null or stream not open";return t.__assertCurrent(),t.current._memberId?v.warn("Had joined. igrone it"):t.current._session._sessionId=void 0,t.current.withpublish(e)},push:function(e,t,n){v.debug("begin push ...");var r=this;if(2===arguments.length&&(n=t,t=void 0),!e||!e.localStream)throw v.error("pubS or stream open"),"pubS or stream open";r.__assertCurrent(),r.current.push(e,t,n,!1)},subscribe:function(e,t,n,r){var i=this;if(v.info("begin subscribe ",e,r),t&&h.isPlainObject(t)&&(r=t,t=n=void 0),n&&h.isPlainObject(n)&&(r=n,n=t,t=void 0),emedia.isSafari){var o=function(){try{var e=u.shift();e&&e.onSub&&e.onSub.apply(e,arguments)}finally{a()}},s=function(){try{var e=u.shift();e&&e.subfail&&e.subfail.apply(e,arguments)}finally{a()}},a=function(){u.length>0&&i.__subscribe(u[0].streamId,o,s,u[0].subArgs)},c={streamId:e,onSub:t,subfail:n,subArgs:r},u=i.__safari_subs||(i.__safari_subs=[]);u.push(c),1===u.length&&a()}else i.__subscribe(e,t,n,r)},__subscribe:function(e,t,n,r){var i=this;i.__assertCurrent(),2==arguments.length&&(n=t,t=void 0),t&&h.isPlainObject(t)&&(r=t,t=void 0),n&&h.isPlainObject(n)&&(r=n,n=void 0),r||(r={subSVideo:!0,subSAudio:!0});i.current._cacheStreams[e];var o=i.current._getWebrtc(e),s=o&&o.isConnected(),a=s&&o.getRemoteStream();if(a&&(s=a.active)){var c=a.getAudioTracks().length,u=a.getVideoTracks().length;(c||!0!==r.subSAudio)&&(u||!0!==r.subSVideo)||(s=!1)}if(v.info("sub stream",e,", use prertcpeer =",s),s)return i.current.subscribeStream(o._rtcId,e,n,r,t),void(t&&t());o&&!o.closed&&i.current.closeWebrtc(o.getRtcId(),!0,!1),i.current.createWebrtcAndSubscribeStream(e,{onGotRemote:function(e){t&&t(e)},onEvent:function(e){n&&n(e)}},void 0,r)},closePubstream:function(e){e.located()&&(emedia.stopTracks(e._localMediaStream),emedia.stopTracks(e.localStream))},hungup:function(e){var t=this.getStreamById(e);try{this._hungup(e)}finally{this.onHungup&&t&&this.onHungup(t)}},_hungup:function(e){var t=this;t.__assertCurrent();var n=t.current,r=n._cacheStreams[e];r&&!r.closeReason&&r.updateAttributes({closeReason:"UserHangup"});var i=r&&r.rtcId;if(i&&(n.closeWebrtc(i),r.located()&&(1!==r.type&&r._localMediaStream&&emedia.stopTracks(r._localMediaStream),r.remotePlayAudioObject&&document.body.removeChild(r.remotePlayAudioObject),n._cacheStreams[e]&&n.onRemoveStream(r),h.removeAttribute(n._cacheStreams,e),t._streamAutomators&&h.removeAttribute(t._streamAutomators,e))),r&&!r.located()){if(n._linkedStreams[r.id]&&h.removeAttribute(n._linkedStreams,r.id),v.warn("Hangeup remove from _linkedStreams. stream = ",r.id),r=n._cacheStreams[e],!r)return;r.updateAttributes({rtcId:void 0,_webrtc:void 0,mediaStream:void 0});var o=new x(r);n.onUpdateStream(o,new o.Update(o))}},postMessage:function(e,t,n,r){var i=this,o=t;"string"!==typeof t&&(t=(0,l.default)(t)),i.__assertCurrent();var s,a=i.current,c=a._linkedStreams[e];s=c&&c.owner?c.owner.id:e;t=a.newMessage({op:1003,memId:s,arg:t});a.postMessage(t,(n||r)&&function(e){if(r&&r(e,o),0!=e.result){var i=new g.RemoteControlFail({memId:s,failed:e.result,cause:e.msg,type:"postMessage",postMessage:t});return a.onEvent(i),void(n&&n(i,o))}})},torchRemote:function(e,t,n,r){var i=this;"function"===typeof t&&(r=n,n=t,t=void 0),void 0!==t&&(t=t?1:0),i.__assertCurrent();var o=i.current,s=o._linkedStreams[e];if(!s||s.located())throw v.error("not exsits or locate, not connect",e),e+" not exsits or locate, not connect";var a=s.torch,c=(t=void 0===t?s.torch?0:1:t,{op2:20,streamId:e,tor:t}),u=o.newMessage({op:1002,memId:s.owner.id,arg:(0,l.default)(c),_reqOps:[100206]});s.updateAttributes({torch:t}),o.postMessage(u,(function(e){if(0!=e.result){var t=new g.RemoteControlFail({stream:s,failed:e.result,cause:e.msg,type:"torch_control"});return o.onEvent(t),s.updateAttributes({torch:a}),void(r&&r(t,s.torch))}n&&n(s.torch)}))},freezeFrameRemote:function(e,t,n){var r=this;r.__assertCurrent();var i=r.current,o=i._linkedStreams[e];if(!o||o.located())throw v.error("not exsits or locate, not connect",e),e+" not exsits or locate, not connect";var s=!o.freezeFrame,a={op2:20,streamId:e,frz:s?1:0},c=i.newMessage({op:1002,memId:o.owner.id,arg:(0,l.default)(a),_reqOps:[100204]});o.updateAttributes({freezeFrame:s}),i.postMessage(c,(function(e){if(0!=e.result){var r=new g.RemoteControlFail({stream:o,failed:e.result,cause:e.msg,type:"freeze_control"});return i.onEvent(r),o.updateAttributes({freezeFrame:!o.freezeFrame}),void(n&&n(r,o.freezeFrame))}t&&t(o.freezeFrame)}))},base64Img2Blob:function(e){for(var t=e.split(";base64,"),n=t[0].split(":")[1],r=window.atob(t[1]),i=r.length,o=new Uint8Array(i),s=0;s<i;++s)o[s]=r.charCodeAt(s);return new Blob([o],{type:n})},blob2URL:function(e){return URL.createObjectURL(e)},imagesPngContext2URL:function(e){var t=this;return t.blob2URL(t.blob2URL(e))},downloadFile:function(e,t,n){var r=this,i=document.createElement("a");i.style.display="none";var o,s=t?r.base64Img2Blob(t):n;i.download=e,i.href=o=r.blob2URL(s),i.rel="noopener";var a=document.createEvent("HTMLEvents");a.initEvent("click",!1,!1),i.dispatchEvent(a),document.body.appendChild(i),i.click(),i.parentNode.removeChild(i),setTimeout((function(){URL.revokeObjectURL&&URL.revokeObjectURL(o)}),4e4)},videoCaptureBase64Context2URL:function(e){var t=this;return t.imagesPngContext2URL(t.getCaptureBase64Context(e))},getCaptureBase64Context:function(e){var t=document.createElement("canvas");t.id="__capture_video_"+(new Date).getTime();t.width=e.videoWidth,t.height=e.videoHeight;var n=t.getContext("2d");n.drawImage(e,0,0,t.width,t.height);var r=t.toDataURL("images/png");return r},captureVideo:function(e,t,n){var r=this,i=r.getCaptureBase64Context(e);return t&&(n=n||"capture_"+(new Date).getTime(),r.downloadFile(n,i)),i},capturePictureRemote:function(e,t,n,r){var i=this;i.__assertCurrent();var o=i.current,s=o._linkedStreams[e];if(!s||s.located())throw v.error("not exsits or locate, not connect",e),e+" not exsits or locate, not connect";var a={op2:20,streamId:e,pic:1,rspBase64Pic:!0===t},c=o.newMessage({op:1002,memId:s.owner.id,arg:(0,l.default)(a),_reqOps:[100205]});o.postMessage(c,(function(e){if(0!=e.result){var i=new g.RemoteControlFail({stream:s,failed:e.result,cause:e.msg,type:"capture_control"});return o.onEvent(i),void(r&&r(i))}if(t)if(e.arg){var a=JSON.parse(e.arg);n&&n(a.pic)}else r&&r(new g.RemoteControlFail({stream:s,failed:e.result,cause:"Not found base64 pic"}));else n&&n()}))},zoomRemote:function(e,t,n,r){var i=this;i.__assertCurrent();var o=i.current,s=o._linkedStreams[e];if(!s||s.located())throw v.error("not exsits or locate, not connect",e),e+" not exsits or locate, not connect";s._zoom||s.updateAttributes({_zoom:1});var a=s._zoom*t;if(!(a<1)){s.updateAttributes({_zoom:a});var c={op2:20,streamId:e,zoom:Math.round(1e4*a)},u=o.newMessage({op:1002,memId:s.owner.id,arg:(0,l.default)(c),_reqOps:[100201]});o.postMessage(u,(function(e){if(0!=e.result){var t=new g.RemoteControlFail({stream:s,failed:e.result,cause:e.msg,type:"zoom_control"});return o.onEvent(t),void(n&&n(t))}r&&r()}))}},_getPosition:function(e){var t=0,n=0;while(e)n+=e.offsetLeft,t+=e.offsetTop,e=e.offsetParent;return{clientX:n,clientY:t}},eventXYAtMedia:function(e,t){var n=h.getDomPageRect(t),r=n.width,i=n.height,o=t.videoWidth,s=t.videoHeight;if(s/o>i/r){var a=o/s;s=i,o=s*a}else{a=s/o;o=r,s=o*a}var c,u,l=e;if((c=h.isFloat(l.x))&&(l.x=l.x*r),(u=h.isFloat(l.y))&&(l.y=l.y*i),!(Math.abs(l.x)<(r-o)/2||r-Math.abs(l.x)<(r-o)/2)&&!(Math.abs(l.y)<(i-s)/2||i-Math.abs(l.y)<(i-s)/2))return l.x=l.x<0?Math.floor(l.x+(r-o)/2):Math.floor(l.x-(r-o)/2),l.y=l.y<0?Math.floor(l.y+(i-s)/2):Math.floor(l.y-(i-s)/2),c&&(l.x=l.x/o),u&&(l.y=l.y/s),{x:l.x,y:l.y,width:o,height:s}},eventXYAtVideo:function(e,t){var n,r,i=h.getDomPageRect(t),o=i.width,s=i.height,a=t.videoWidth,c=t.videoHeight;if(c/a>s/o){var u=a/c;c=s,a=c*u}else{u=c/a;a=o,c=a*u}return(n=h.isFloat(e.x))&&(e.x=e.x*a),(r=h.isFloat(e.y))&&(e.y=e.y*c),e.x=e.x<0?Math.floor(e.x-(o-a)/2):Math.floor(e.x+(o-a)/2),e.y=e.y<0?Math.floor(e.y-(s-c)/2):Math.floor(e.y+(s-c)/2),n&&(e.x=e.x/o),r&&(e.y=e.y/s),e},getClickXY:function(e,t){var n=this,r=t||window.event,i=document.documentElement.scrollLeft||document.body.scrollLeft,o=document.documentElement.scrollTop||document.body.scrollTop,s=r.pageX||r.clientX+i,a=r.pageY||r.clientY+o,c=n._getPosition(e);v.info("Video tag position ",c.clientX,":",c.clientY);var u=e.videoWidth,l=e.videoHeight;if(l/u>e.offsetHeight/e.offsetWidth){var d=u/l;l=e.offsetHeight,u=l*d,c.clientX+=(e.offsetWidth-u)/2}else{d=l/u;u=e.offsetWidth,l=u*d,c.clientY+=(e.offsetHeight-l)/2}return v.info("Media position ",c.clientX,":",c.clientY),v.info("Media xy ",u,":",l),v.info("Click position ",s,":",a),{mediaWidth:u,mediaHeight:l,x:s-c.clientX,y:a-c.clientY}},focusExpoRemote:function(e,t,n,r,i){var o=this,s=n||window.event,a=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,u=s.pageX||s.clientX+a,l=s.pageY||s.clientY+c,d=o._getPosition(t);v.info("Video tag position ",d.clientX,":",d.clientY);var f=t.videoWidth,p=t.videoHeight;if(p/f>t.offsetHeight/t.offsetWidth){var h=f/p;p=t.offsetHeight,f=p*h,d.clientX+=(t.offsetWidth-f)/2}else{h=p/f;f=t.offsetWidth,p=f*h,d.clientY+=(t.offsetHeight-p)/2}v.info("Media position ",d.clientX,":",d.clientY),v.info("Media xy ",f,":",p),v.info("Click position ",u,":",l),o._focusExpo(e,f,p,u-d.clientX,l-d.clientY,r,i)},_focusExpo:function(e,t,n,r,i,o,s){var a=this;if(!(r<=0||r>t)&&!(i<=0||i>n)){a.__assertCurrent();var c=a.current,u=c._linkedStreams[e];if(!u||u.located())throw v.error("not exsits or locate, not connect",e),e+" not exsits or locate, not connect";var d={op2:20,streamId:e,focus:1,expo:1,x:0===t?0:Math.round(1e4*r/t),y:0===n?0:Math.round(1e4*i/n)},f=c.newMessage({op:1002,memId:u.owner.id,arg:(0,l.default)(d),_reqOps:[100202,100203]});c.postMessage(f,(function(e){if(0!=e.result){var t=new g.RemoteControlFail({stream:u,failed:e.result,cause:e.msg,type:"focus_expo_control"});return c.onEvent(t),void(o&&o(t))}s&&s()}))}},_republish:function(e,t,n){v.info("Republish stream. it = ",e.id);var r,i,o=this;if(e.id){var s=o.current.__getWebrtcFor(e.id);s&&o.current.closeWebrtc(s,!0),r=o.current._getWebrtc(e.id)}switch(e.type){case 0:emedia.stopTracks(e._localMediaStream),i=new o.AVPubstream(e);break;case 1:emedia.stopAndRemoveAudioTracks(e._localMediaStream),i=new o.ShareDesktopPubstream(e);break;case 2:emedia.stopTracks(e._localMediaStream),i=new o.AudioMixerPubstream(e);break}setTimeout((function(){o.openUserMedia(i).then((function(){e.localStream=i.localStream,e.isRepublished=!0,e.optimalVideoCodecs=e.optimalVideoCodecs||r&&r.optimalVideoCodecs,o.push(e,t,n)}),n)}),100)},switchMobileCamera:function(e,t,n){var r=this;if("string"===typeof e?e=r.current._cacheStreams[e]:e.id&&(e=r.current._cacheStreams[e.id]),e.voff)v.warn("Stream id = ",e.id," voff, do not chanage camera.");else{e.constaints||(e.constaints={});var i=h.extend({},e.constaints);e._lastConstaints=i,e.constaints.video="object"===(0,f.default)(e.constaints.video)?e.constaints.video:{},"user"!==e.constaints.video.facingMode&&e.constaints.video.facingMode?e.constaints.video.facingMode="user":e.constaints.video.facingMode={exact:"environment"},r._republish(e,(function(e){n&&n(e)}),(function(n){n instanceof emedia.event.OpenMediaError&&(e.constaints=i),t&&t(n)}))}},chanageCamera:function(e,t,n){var r=this;"string"===typeof e?e=r.current._cacheStreams[e]:e.id&&(e=r.current._cacheStreams[e.id]),e.voff?v.warn("Stream id = ",e.id," voff, do not chanage camera."):r.getMediaDevices("videoinput",(function(i){if(i.length<=1)v.warn("Only video input. not chanage");else{var o=e._cameraIndex;if(null===e._cameraIndex||void 0===e._cameraIndex){var s=e.getLocalMediaStream(),a=s&&s.getVideoTracks(),c=a&&a.length&&a[0];if(c&&c.getCapabilities&&"function"===typeof c.getCapabilities){var u=c.getCapabilities(),l=u&&u.deviceId;for(var d in i){var p=i[d];if(p.deviceId===l||p.label==c.label){o=parseInt(d);break}}}else for(var d in i){p=i[d];if(p.label==c.label){o=parseInt(d);break}}}while(o<i.length){var m=i[o];o=(o+1)%i.length;p=i[o],a=e.getLocalMediaStream().getVideoTracks();if(!a||0===a.length||p.label!=a[0].label)break}p=i[o];var b=p.label;v.warn("Stream ",e.id,m.label,">>",b),e._cameraIndex=o,e.constaints||(e.constaints={});var y=h.extend({},e.constaints);e._lastConstaints=y,e.constaints.video="object"===(0,f.default)(e.constaints.video)?e.constaints.video:{},e.constaints.video.deviceId={exact:p.deviceId},r._republish(e,(function(e){n&&n(e)}),(function(n){n instanceof emedia.event.OpenMediaError&&(e.constaints=y),t&&t(n)}))}}),t)},chanageConstraints:function(e,t,n,r){var i=this;if("string"===typeof e?e=i.current._cacheStreams[e]:e.id&&(e=i.current._cacheStreams[e.id]),e){if(v.info("chanage pubstream constraints. it",e.id,t),m.isObject(t)&&!m.isEqual(e.constaints,t)){var o=e.constaints||{},s=e.voff,a=e.aoff;return e._lastConstaints=o,e.constaints=h.extend(!0,{},o,t),e.aoff=e.constaints.audio?0:1,e.voff=e.constaints.video?0:1,void i._republish(e,(function(e){c(),r&&r(e)}),(function(t){t instanceof emedia.event.OpenMediaError&&(e.constaints=o,e.aoff=a,e.voff=s),n&&n(t)}))}c(),r&&r(e.getMediaStream())}else v.warn("Not found pubS");function c(){var t=e.getMediaStream();emedia.enableVideoTracks(t,!e.voff),emedia.enableAudioTracks(t,!e.aoff)}},voff:function(e,t,n,r){var i=this;"string"===typeof e&&(e=i.current._cacheStreams[e]);var o=e.voff;function s(){t!=o?(emedia.enableVideoTracks(e.getMediaStream(),!t),i.current&&i.current.voff(e,t)):v.info("pubstream voff not chanage.")}if(t=t?1:0,e.voff=t,!t&&e.constaints&&!e.constaints.video){var a=e.constaints.video;return e.constaints.video=!0,void i._republish(e,(function(e){s(),r&&r(e)}),(function(t){t instanceof emedia.event.OpenMediaError&&(e.constaints.video=a,e.voff=o),n&&n(t)}))}s(),r&&r(e.getMediaStream())},aoff:function(e,t,n,r){var i=this;"string"===typeof e&&(e=i.current._cacheStreams[e]);var o=e.aoff;function s(){t!=o?(emedia.enableAudioTracks(e.getMediaStream(),!t),i.current&&i.current.aoff(e,t)):v.info("pubstream aoff not chanage.")}if(t=t?1:0,e.aoff=t,!t&&e.constaints&&!e.constaints.audio){var a=e.constaints.audio;return e.constaints.audio=!0,void i._republish(e,(function(e){s(),r&&r(e)}),(function(t){t instanceof emedia.event.OpenMediaError&&(e.constaints.audio=a,e.aoff=o),n&&n(t)}))}s(),r&&r(e.getMediaStream())},iceing:function(e){var t=this;return h.isPlainObject(t.current._linkedStreams[e])},recording:function(e){var t=this;return h.isPlainObject(t.current._records[e])},startRecord:function(e,t){var n=this,r=n.current._linkedStreams[e];if(!r)throw v.error("not at linked streams",e),e+" not at linked streams";r._webrtc||t&&t(!1),n.current.startRecord(r,t)},stopRecord:function(e,t){var n=this,r=n.current._records[e];if(!r)throw v.error("not at recording streams",e),e+" not at recording streams";n.current.stopRecord(r,t)},getCurrentMembers:function(){var e=this;return e.current.getCurrentMembers()},_onCapturePicture:function(e){var t,n=this,r=e.arg.rspBase64Pic,i=e.arg.streamId,o=n.current._cacheStreams[i];if(r){var s;if("function"!==typeof n.getHTMLVideo||!(s=n.getHTMLVideo(i)))return void v.warn("Not support capture picture. caused by htmlVideo not found");t=n.getCaptureBase64Context(s)}else{if("function"!==typeof n.onCapturePicture)return void v.warn("Not support capture picture. caused by onCapturePicture not found");n.onCapturePicture(o)}var a=n.current.newMessage({op:1001,tsxId:e.tsxId,memId:e.memId,arg:(0,l.default)(t?{pic:t}:{}),result:0});return n.current.postMessage(a,(function(e){v.warn("Send remote control onCapturePicture response. the result = ",e.result,e.msg||"")})),!0},newSession:function(e,t){var n=this,r=n.Session||b,i=new r({ticket:t,owner:e,onTcklC:function(t){e.onTcklC(t.rtcId,t.cands)},onAcptC:function(t){e.onAcptC(t.rtcId,t.sdp,t.cands)},onAnsC:function(t){e.onAnsC(t.rtcId,t.sdp,t.cands)},onTermC:function(t){v.info("Server termc rtc: ",t.rtcId,t.message||t.msg),21===t.endReason||22===t.endReason?h.forEach(e._cacheStreams,(function(n,r){var i;r.rtcId===t.rtcId&&(i=21===t.endReason?new emedia.event.SwitchVCodes({stream:r,useVCodes:t.useVCodes}):new emedia.event.SubFailNotSupportVCodes({stream:r}),e.onEvent(i))})):e.closeWebrtc(t.rtcId,!1,!0)},onEnter:function(t){e.onEnter(t.cver,t.mem)},onExit:function(t){e.onExit(t.cver,t.memId,t.reason||0)},onPub:function(t){e.onPub(t.cver,t.memId,t.pubS)},onUnpub:function(t){e.onUnpub(t.cver,t.memId,t.pubSId)},onMems:function(e){},onClose:function(t){e.onClose(t.cver,t.confrId)},onEvent:function(t){e.onEvent(t)},onStreamControl:function(t){e.onStreamControl(t.cver,t.streamId,t.voff,t.aoff,t.sver)},onRoleUpdate:function(t){e._onRoleUpdate(t.role,t.roleToken)},onRemoteControl:function(t){if("string"===typeof t.arg&&(t.arg=JSON.parse(t.arg)),20!==t.arg.op2||!t.arg.pic||!n._onCapturePicture.call(n,t)){if(30===t.arg.op2&&n._onRemotePannelControl)try{return void n._onRemotePannelControl.call(n,t)}catch(y){v.warn(y)}if(21!==t.arg.op2)if(22!==t.arg.op2){if(23===t.arg.op2){var r=n.listeners.mgr.onMuted;if(r&&"function"==typeof r)return void r()}if(24===t.arg.op2){var i=n.listeners.mgr.onUnmuted;if(i&&"function"==typeof i)return void i()}v.warn("Not support remote control");var o=e.newMessage({op:1001,tsxId:t.tsxId,memId:t.memId,arg:(0,l.default)(t.arg),result:t&&t.arg&&30===t.arg.op2?-405:-507,msg:"Not support the remote control."});e.postMessage(o,(function(e){v.warn("Send remote control response. the result = ",e.result,e.msg||"")}))}else{var s=t.arg,a=s.memId,c=s.nickName;if(!a)return void console.warn("onRequestToAdmin not have memberId");n._cache_receive_sessions.push(t);var u=n.listeners.mgr.onRequestToAdmin,d={memberId:a,nickName:c};u&&"function"==typeof u&&u(d,(function(e){return n.agreeRequestToAdmin(e)}),(function(e){return n.refuseRequestToAdmin(e)}))}else{var f=t.arg,p=f.memId,h=f.nickName;if(!p)return void console.warn("onRequestToTalker not have memberId");n._cache_receive_sessions.push(t);var m=n.listeners.mgr.onRequestToTalker,b={memberId:p,nickName:h};m&&"function"==typeof m&&m(b,(function(e,t){return n.agreeRequestToTalker(e,t)}),(function(e){return n.refuseRequestToTalker(e)}))}}},onRecvRemoteMessage:function(t){e._onRecvRemoteMessage&&e._onRecvRemoteMessage(t.memId,t.arg,t)},onConfrAttrsUpdated:function(e){var t=function(e){if(n.listeners.mgr){var t=n.listeners.mgr.catrrs||[];t=e.cattrs instanceof Array==1?o(t,e.cattrs):i(e.cattrs),n.listeners.mgr.catrrs=t;var r=n.listeners.mgr.onConfrAttrsUpdated;r&&"function"==typeof r&&(r=r.bind(n.listeners.mgr),r(t))}function i(e){var t=[];for(var n in e){var r={};r.key=n,r.val=e[n],r.op="",t.push(r)}return t}function o(e,t){return 0==t.length||t.forEach((function(t){var n=!1;e.forEach((function(r,i){if(r.key==t.key)return e.splice(i,1,t),void(n=!0)})),n||e.push(t)})),e}},r=function(e){if(e.cstate&&0!=(0,c.default)(e.cstate).length){var t=n.listeners.mgr.onConfrStateUpdated;t&&"function"==typeof t&&(t=t.bind(n.listeners.mgr),t(e.cstate))}};e.cattrs&&t(e),e.cstate&&r(e)},onAdminChanged:function(e){var t=n.listeners.mgr.onAdminChanged;t&&"function"==typeof t&&t(e)},onPubVideoFailed:function(e){var t=n.listeners.mgr.onPubVideoFailed;t&&"function"==typeof t&&t(e)},onRequestToTalkerReply:function(e){var t=n.listeners.mgr.onRequestToTalkerReply;t&&"function"==typeof t&&t(e)},onRequestToAdminReply:function(e){var t=n.listeners.mgr.onRequestToAdminReply;t&&"function"==typeof t&&t(e)}});return i},_judgeTalking:function(e){return!!e&&e.instant>=emedia.config.judgeTalkingByInstantGE},graffitiVideo:function(e,t,n){var r=this,i=r.getStreamById(e),o=new MediaStream;o._located=!0,i._localMediaStream.getAudioTracks().forEach((function(e){o.addTrack(e)}));var s=n.captureStream(25);s.getVideoTracks().forEach((function(e){o.addTrack(e)})),t.srcObject=o,i.updateAttributes({localStream:o,isRepublished:!0,optimalVideoCodecs:i.optimalVideoCodecs}),r.push(i)},resetCanvas:function(e){var t;if(arguments.length>1)for(var n=0;n<arguments.length;n++)t=arguments[n],"function"===typeof t&&t(e),"function"!==typeof t&&h.isPlainObject(t)&&h.forEach(t,(function(t,n){v.debug("Canvas set ",t," = ",n),e.setAttribute(t,n)}))},_random:function(e){return Math.floor(Math.random()*e)},requestFrame:function(e,t){var n,r=this;if("string"===typeof e)n=this.current._cacheStreams[e];else{if(!e.id)return;n=this.current._cacheStreams[e.id]}function i(){if(n.requestFrame(),n.canvas){var e=O.prototype.redraw.bind({_canvasContext:n.canvas.getContext("2d")});e(3,3)}}n&&(t?setTimeout((function(){i(),r.requestFrame(n,t)}),t):i())},graffitiCanvas:function(e,t){h.targetDOM(e)&&(t=e,e=!1);var n=this,r=new n.ShareDesktopPubstream({voff:0,aoff:e?0:1});t||(t=document.createElement("canvas")),t.getContext("2d"),r.canvas=t;var i=function(){};return i.prototype.setCanvas=function(e){return this.canvasTag=t,n.resetCanvas(t,e),this},i.prototype.push=function(e,t){var n=this;n._push(e,t)},i.prototype._push=function(i,o){"function"===typeof i&&(o=i,i=void 0),t.captureStream&&(t.captureStream.enabled=!0);var s=t.captureStream(i||25);function a(n){n.canvas=t,o&&o(n,t,s),e&&n.requestFrame()}function c(e,t){var r=new MediaStream;r._located=!0,e._localMediaStream&&e._localMediaStream.getAudioTracks().forEach((function(e){r.addTrack(e)})),s.getVideoTracks().forEach((function(e){r.addTrack(e)})),e._localMediaStream=r,e.localStream=r,n.push(e,t)}return e?n.__getUserMedia({audio:!0},(function(e,t){r._localMediaStream=t,c(r,a)})):c(r,a),this},new i},blobRecorder:function(e,t,n,r){var i=this;h.targetDOM(e)&&(e=e.srcObject),t||(t={mimeType:"video/webm;codecs=vp9"}),MediaRecorder.isTypeSupported(t.mimeType)||(v.info(t.mimeType," is not Supported"),t={mimeType:"video/webm;codecs=vp8"},MediaRecorder.isTypeSupported(t.mimeType)||(v.info(t.mimeType," is not Supported"),t={mimeType:"video/webm"},MediaRecorder.isTypeSupported(t.mimeType)||(v.info(t.mimeType," is not Supported"),t={mimeType:""})));try{var o=new MediaRecorder(e,t)}catch(c){return void v.error("Exception while creating MediaRecorder: ",c)}var s=[];function a(){this.blobs=s}return o.onstop=r||function(e){v.info("Recorder stopped: ",e)},o.ondataavailable=n||function(e){e.data&&e.data.size>0&&s.push(e.data)},a.prototype.start=function(e){o.start(e)},a.prototype.stop=function(){o.stop()},a.prototype.playurl=function(e){var t=new Blob(this.blobs,e||{type:"video/webm"});return window.URL.createObjectURL(t)},a.prototype.download=function(e,t){var n=new Blob(this.blobs,t||{type:"video/webm"});i.downloadFile(e,void 0,n)},new a},requestToTalker:function(){this.current.requestToTalker()},_get_session_by_memberId_and_op_type:function(e,t){if(e&&t){var n=void 0;return this._cache_receive_sessions.map((function(r){var i=r.arg;if(i&&i instanceof Object&&(0,c.default)(i).length>0){var o=i.memId,s=i.op2;o==e&&s==t&&(n=r)}})),n}},_delete_session_by_memberId_and_op_type:function(e,t){if(e&&t){var n=this;this._cache_receive_sessions.map((function(r,i){var o=r.arg;if(o&&o instanceof Object&&(0,c.default)(o).length>0){var s=o.memId,a=o.op2;s==e&&a==t&&n._cache_receive_sessions.splice(i,1)}}))}},agreeRequestToTalker:function(){var e=(0,s.default)(i.default.mark((function e(t,n){var r,o,s;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this._get_session_by_memberId_and_op_type(t,21),r){e.next=3;break}return e.abrupt("return");case 3:return o=r.arg.memName,s=this.listeners.confrId,e.prev=5,e.next=8,this.listeners.mgr.chanageRoles(3,[o],s);case 8:e.next=16;break;case 10:if(e.prev=10,e.t0=e["catch"](5),-523!=e.t0.error){e.next=16;break}if(!n||"function"!=typeof n){e.next=16;break}return n(),e.abrupt("return");case 16:this._delete_session_by_memberId_and_op_type(t,21);case 17:case"end":return e.stop()}}),e,this,[[5,10]])})));function t(t,n){return e.apply(this,arguments)}return t}(),refuseRequestToTalker:function(e){if(e){var t=this._get_session_by_memberId_and_op_type(e,21);t&&(this.current.refuseRequestToTalker(t),this._delete_session_by_memberId_and_op_type(e,21))}else console.warn("refuseRequestToTalker memberId is required")},requestToAdmin:function(){this.current.requestToAdmin()},agreeRequestToAdmin:function(e){var t=this._get_session_by_memberId_and_op_type(e,22);if(t){var n=t.arg.memName,r=this.listeners.confrId;this.listeners.mgr.chanageRoles(7,[n],r),this._delete_session_by_memberId_and_op_type(e,22)}},refuseRequestToAdmin:function(e){if(e){var t=this._get_session_by_memberId_and_op_type(e,22);t&&(this.current.refuseRequestToAdmin(t),this._delete_session_by_memberId_and_op_type(e,22))}else console.warn("refuseRequestToAdmin memberId is required")},muteBymemberId:function(e){this.current&&7==this.current.role&&this.current.muteBymemberId(e)},unmuteBymemberId:function(e){this.current&&7==this.current.role&&this.current.unmuteBymemberId(e)}})},function(e,t,n){e.exports=n(135)},function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(136),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(s){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u="object"===typeof e,l=t.regeneratorRuntime;if(l)u&&(e.exports=l);else{l=t.regeneratorRuntime=u?e.exports:{},l.wrap=_;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",m={},v={};v[s]=function(){return this};var b=Object.getPrototypeOf,y=b&&b(b(M([])));y&&y!==r&&i.call(y,s)&&(v=y);var g=C.prototype=w.prototype=Object.create(v);x.prototype=g.constructor=C,C.constructor=x,C[c]=x.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(g),e},l.awrap=function(e){return{__await:e}},O(T.prototype),T.prototype[a]=function(){return this},l.AsyncIterator=T,l.async=function(e,t,n,r){var i=new T(_(e,t,n,r));return l.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(g),g[c]="Generator",g[s]=function(){return this},g.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=M,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return a.type="throw",a.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),u=i.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:M(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function _(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,o=Object.create(i.prototype),s=new P(r||[]);return o._invoke=E(e,n,s),o}function S(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function w(){}function x(){}function C(){}function O(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function T(e){function t(n,r,o,s){var a=S(e[n],e,r);if("throw"!==a.type){var c=a.arg,u=c.value;return u&&"object"===typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,o,s)}),(function(e){t("throw",e,o,s)})):Promise.resolve(u).then((function(e){c.value=e,o(c)}),s)}s(a.arg)}var n;function r(e,r){function i(){return new Promise((function(n,i){t(e,r,n,i)}))}return n=n?n.then(i,i):i()}this._invoke=r}function E(e,t,n){var r=d;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return A()}n.method=i,n.arg=o;while(1){var s=n.delegate;if(s){var a=I(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=S(e,t,n);if("normal"===c.type){if(r=n.done?h:f,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}function I(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,I(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=S(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function M(e){if(e){var t=e[s];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){while(++r<e.length)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){"use strict";t.__esModule=!0;var r=n(89),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(){var t=e.apply(this,arguments);return new i.default((function(e,n){function r(o,s){try{var a=t[o](s),c=a.value}catch(u){return void n(u)}if(!a.done)return i.default.resolve(c).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(c)}return r("next")}))}}},function(e,t,n){(function(e,n){var r,i;(function(){var o="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},s=o._,a=Array.prototype,c=Object.prototype,u="undefined"!==typeof Symbol?Symbol.prototype:null,l=a.push,d=a.slice,f=c.toString,p=c.hasOwnProperty,h=Array.isArray,m=Object.keys,v=Object.create,b=function(){},y=function(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)};t.nodeType?o._=y:(!n.nodeType&&n.exports&&(t=n.exports=y),t._=y),y.VERSION="1.9.1";var g,_=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},S=function(e,t,n){return y.iteratee!==g?y.iteratee(e,t):null==e?y.identity:y.isFunction(e)?_(e,t,n):y.isObject(e)&&!y.isArray(e)?y.matcher(e):y.property(e)};y.iteratee=g=function(e,t){return S(e,t,1/0)};var w=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}},x=function(e){if(!y.isObject(e))return{};if(v)return v(e);b.prototype=e;var t=new b;return b.prototype=null,t},C=function(e){return function(t){return null==t?void 0:t[e]}},O=function(e,t){return null!=e&&p.call(e,t)},T=function(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0},E=Math.pow(2,53)-1,I=C("length"),k=function(e){var t=I(e);return"number"==typeof t&&t>=0&&t<=E};y.each=y.forEach=function(e,t,n){var r,i;if(t=_(t,n),k(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=y.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},y.map=y.collect=function(e,t,n){t=S(t,n);for(var r=!k(e)&&y.keys(e),i=(r||e).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=t(e[a],a,e)}return o};var R=function(e){var t=function(t,n,r,i){var o=!k(t)&&y.keys(t),s=(o||t).length,a=e>0?0:s-1;for(i||(r=t[o?o[a]:a],a+=e);a>=0&&a<s;a+=e){var c=o?o[a]:a;r=n(r,t[c],c,t)}return r};return function(e,n,r,i){var o=arguments.length>=3;return t(e,_(n,i,4),r,o)}};y.reduce=y.foldl=y.inject=R(1),y.reduceRight=y.foldr=R(-1),y.find=y.detect=function(e,t,n){var r=k(e)?y.findIndex:y.findKey,i=r(e,t,n);if(void 0!==i&&-1!==i)return e[i]},y.filter=y.select=function(e,t,n){var r=[];return t=S(t,n),y.each(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r},y.reject=function(e,t,n){return y.filter(e,y.negate(S(t)),n)},y.every=y.all=function(e,t,n){t=S(t,n);for(var r=!k(e)&&y.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(!t(e[s],s,e))return!1}return!0},y.some=y.any=function(e,t,n){t=S(t,n);for(var r=!k(e)&&y.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(t(e[s],s,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,n,r){return k(e)||(e=y.values(e)),("number"!=typeof n||r)&&(n=0),y.indexOf(e,t,n)>=0},y.invoke=w((function(e,t,n){var r,i;return y.isFunction(t)?i=t:y.isArray(t)&&(r=t.slice(0,-1),t=t[t.length-1]),y.map(e,(function(e){var o=i;if(!o){if(r&&r.length&&(e=T(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)}))})),y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,n){var r,i,o=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=k(e)?e:y.values(e);for(var a=0,c=e.length;a<c;a++)r=e[a],null!=r&&r>o&&(o=r)}else t=S(t,n),y.each(e,(function(e,n,r){i=t(e,n,r),(i>s||i===-1/0&&o===-1/0)&&(o=e,s=i)}));return o},y.min=function(e,t,n){var r,i,o=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=k(e)?e:y.values(e);for(var a=0,c=e.length;a<c;a++)r=e[a],null!=r&&r<o&&(o=r)}else t=S(t,n),y.each(e,(function(e,n,r){i=t(e,n,r),(i<s||i===1/0&&o===1/0)&&(o=e,s=i)}));return o},y.shuffle=function(e){return y.sample(e,1/0)},y.sample=function(e,t,n){if(null==t||n)return k(e)||(e=y.values(e)),e[y.random(e.length-1)];var r=k(e)?y.clone(e):y.values(e),i=I(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,s=0;s<t;s++){var a=y.random(s,o),c=r[s];r[s]=r[a],r[a]=c}return r.slice(0,t)},y.sortBy=function(e,t,n){var r=0;return t=S(t,n),y.pluck(y.map(e,(function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")};var P=function(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=S(r,i),y.each(n,(function(t,i){var s=r(t,i,n);e(o,t,s)})),o}};y.groupBy=P((function(e,t,n){O(e,n)?e[n].push(t):e[n]=[t]})),y.indexBy=P((function(e,t,n){e[n]=t})),y.countBy=P((function(e,t,n){O(e,n)?e[n]++:e[n]=1}));var M=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;y.toArray=function(e){return e?y.isArray(e)?d.call(e):y.isString(e)?e.match(M):k(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:k(e)?e.length:y.keys(e).length},y.partition=P((function(e,t,n){e[n?0:1].push(t)}),!0),y.first=y.head=y.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:y.initial(e,e.length-t)},y.initial=function(e,t,n){return d.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},y.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:y.rest(e,Math.max(0,e.length-t))},y.rest=y.tail=y.drop=function(e,t,n){return d.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,Boolean)};var A=function(e,t,n,r){r=r||[];for(var i=r.length,o=0,s=I(e);o<s;o++){var a=e[o];if(k(a)&&(y.isArray(a)||y.isArguments(a)))if(t){var c=0,u=a.length;while(c<u)r[i++]=a[c++]}else A(a,t,n,r),i=r.length;else n||(r[i++]=a)}return r};y.flatten=function(e,t){return A(e,t,!1)},y.without=w((function(e,t){return y.difference(e,t)})),y.uniq=y.unique=function(e,t,n,r){y.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=S(n,r));for(var i=[],o=[],s=0,a=I(e);s<a;s++){var c=e[s],u=n?n(c,s,e):c;t&&!n?(s&&o===u||i.push(c),o=u):n?y.contains(o,u)||(o.push(u),i.push(c)):y.contains(i,c)||i.push(c)}return i},y.union=w((function(e){return y.uniq(A(e,!0,!0))})),y.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=I(e);r<i;r++){var o=e[r];if(!y.contains(t,o)){var s;for(s=1;s<n;s++)if(!y.contains(arguments[s],o))break;s===n&&t.push(o)}}return t},y.difference=w((function(e,t){return t=A(t,!0,!0),y.filter(e,(function(e){return!y.contains(t,e)}))})),y.unzip=function(e){for(var t=e&&y.max(e,I).length||0,n=Array(t),r=0;r<t;r++)n[r]=y.pluck(e,r);return n},y.zip=w(y.unzip),y.object=function(e,t){for(var n={},r=0,i=I(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};var j=function(e){return function(t,n,r){n=S(n,r);for(var i=I(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}};y.findIndex=j(1),y.findLastIndex=j(-1),y.sortedIndex=function(e,t,n,r){n=S(n,r,1);var i=n(t),o=0,s=I(e);while(o<s){var a=Math.floor((o+s)/2);n(e[a])<i?o=a+1:s=a}return o};var N=function(e,t,n){return function(r,i,o){var s=0,a=I(r);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(d.call(r,s,a),y.isNaN),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(r[o]===i)return o;return-1}};y.indexOf=N(1,y.findIndex,y.sortedIndex),y.lastIndexOf=N(-1,y.findLastIndex),y.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i},y.chunk=function(e,t){if(null==t||t<1)return[];var n=[],r=0,i=e.length;while(r<i)n.push(d.call(e,r,r+=t));return n};var D=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=x(e.prototype),s=e.apply(o,i);return y.isObject(s)?s:o};y.bind=w((function(e,t,n){if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var r=w((function(i){return D(e,r,t,this,n.concat(i))}));return r})),y.partial=w((function(e,t){var n=y.partial.placeholder,r=function(){for(var i=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===n?arguments[i++]:t[a];while(i<arguments.length)s.push(arguments[i++]);return D(e,r,this,this,s)};return r})),y.partial.placeholder=y,y.bindAll=w((function(e,t){t=A(t,!1,!1);var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");while(n--){var r=t[n];e[r]=y.bind(e[r],e)}})),y.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return O(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},y.delay=w((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,n){var r,i,o,s,a=0;n||(n={});var c=function(){a=!1===n.leading?0:y.now(),r=null,s=e.apply(i,o),r||(i=o=null)},u=function(){var u=y.now();a||!1!==n.leading||(a=u);var l=t-(u-a);return i=this,o=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),a=u,s=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(c,l)),s};return u.cancel=function(){clearTimeout(r),a=0,r=i=o=null},u},y.debounce=function(e,t,n){var r,i,o=function(t,n){r=null,n&&(i=e.apply(t,n))},s=w((function(s){if(r&&clearTimeout(r),n){var a=!r;r=setTimeout(o,t),a&&(i=e.apply(this,s))}else r=y.delay(o,t,this,s);return i}));return s.cancel=function(){clearTimeout(r),r=null},s},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){var n=t,r=e[t].apply(this,arguments);while(n--)r=e[n].call(this,r);return r}},y.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},y.once=y.partial(y.before,2),y.restArguments=w;var B=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],F=function(e,t){var n=L.length,r=e.constructor,i=y.isFunction(r)&&r.prototype||c,o="constructor";O(e,o)&&!y.contains(t,o)&&t.push(o);while(n--)o=L[n],o in e&&e[o]!==i[o]&&!y.contains(t,o)&&t.push(o)};y.keys=function(e){if(!y.isObject(e))return[];if(m)return m(e);var t=[];for(var n in e)O(e,n)&&t.push(n);return B&&F(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var n in e)t.push(n);return B&&F(e,t),t},y.values=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},y.mapObject=function(e,t,n){t=S(t,n);for(var r=y.keys(e),i=r.length,o={},s=0;s<i;s++){var a=r[s];o[a]=t(e[a],a,e)}return o},y.pairs=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},y.invert=function(e){for(var t={},n=y.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()};var V=function(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=e(o),a=s.length,c=0;c<a;c++){var u=s[c];t&&void 0!==n[u]||(n[u]=o[u])}return n}};y.extend=V(y.allKeys),y.extendOwn=y.assign=V(y.keys),y.findKey=function(e,t,n){t=S(t,n);for(var r,i=y.keys(e),o=0,s=i.length;o<s;o++)if(r=i[o],t(e[r],r,e))return r};var U,$,W=function(e,t,n){return t in n};y.pick=w((function(e,t){var n={},r=t[0];if(null==e)return n;y.isFunction(r)?(t.length>1&&(r=_(r,t[1])),t=y.allKeys(e)):(r=W,t=A(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var s=t[i],a=e[s];r(a,s,e)&&(n[s]=a)}return n})),y.omit=w((function(e,t){var n,r=t[0];return y.isFunction(r)?(r=y.negate(r),t.length>1&&(n=t[1])):(t=y.map(A(t,!1,!1),String),r=function(e,n){return!y.contains(t,n)}),y.pick(e,r,n)})),y.defaults=V(y.allKeys,!0),y.create=function(e,t){var n=x(e);return t&&y.extendOwn(n,t),n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var n=y.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var s=n[o];if(t[s]!==i[s]||!(s in i))return!1}return!0},U=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&$(e,t,n,r)},$=function(e,t,n,r){e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var i=f.call(e);if(i!==f.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return u.valueOf.call(e)===u.valueOf.call(t)}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];var c=n.length;while(c--)if(n[c]===e)return r[c]===t;if(n.push(e),r.push(t),o){if(c=e.length,c!==t.length)return!1;while(c--)if(!U(e[c],t[c],n,r))return!1}else{var l,d=y.keys(e);if(c=d.length,y.keys(t).length!==c)return!1;while(c--)if(l=d[c],!O(t,l)||!U(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0},y.isEqual=function(e,t){return U(e,t)},y.isEmpty=function(e){return null==e||(k(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length)},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=h||function(e){return"[object Array]"===f.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(e){y["is"+e]=function(t){return f.call(t)==="[object "+e+"]"}})),y.isArguments(arguments)||(y.isArguments=function(e){return O(e,"callee")});var z=o.document&&o.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof z&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return!y.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&isNaN(e)},y.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===f.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){if(!y.isArray(t))return O(e,t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(null==e||!p.call(e,i))return!1;e=e[i]}return!!n},y.noConflict=function(){return o._=s,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=function(e){return y.isArray(e)?function(t){return T(t,e)}:C(e)},y.propertyOf=function(e){return null==e?function(){}:function(t){return y.isArray(t)?T(e,t):e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,n){var r=Array(Math.max(0,e));t=_(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},G=y.invert(H),q=function(e){var t=function(t){return e[t]},n="(?:"+y.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};y.escape=q(H),y.unescape=q(G),y.result=function(e,t,n){y.isArray(t)||(t=[t]);var r=t.length;if(!r)return y.isFunction(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=y.isFunction(o)?o.call(e):o}return e};var K=0;y.uniqueId=function(e){var t=++K+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Y=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},X=/\\|'|\r|\n|\u2028|\u2029/g,Z=function(e){return"\\"+J[e]};y.template=function(e,t,n){!t&&n&&(t=n),t=y.defaults({},t,y.templateSettings);var r,i=RegExp([(t.escape||Y).source,(t.interpolate||Y).source,(t.evaluate||Y).source].join("|")+"|$","g"),o=0,s="__p+='";e.replace(i,(function(t,n,r,i,a){return s+=e.slice(o,a).replace(X,Z),o=a+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(s+="';\n"+i+"\n__p+='"),t})),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{r=new Function(t.variable||"obj","_",s)}catch(u){throw u.source=s,u}var a=function(e){return r.call(this,e,y)},c=t.variable||"obj";return a.source="function("+c+"){\n"+s+"}",a},y.chain=function(e){var t=y(e);return t._chain=!0,t};var Q=function(e,t){return e._chain?y(t).chain():t};y.mixin=function(e){return y.each(y.functions(e),(function(t){var n=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),Q(this,n.apply(y,e))}})),y},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=a[e];y.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],Q(this,n)}})),y.each(["concat","join","slice"],(function(e){var t=a[e];y.prototype[e]=function(){return Q(this,t.apply(this._wrapped,arguments))}})),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return String(this._wrapped)},r=[],i=function(){return y}.apply(t,r),void 0===i||(n.exports=i)})()}).call(this,n(139),n(2)(e))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(6),i=u(r),o=n(141),s=u(o),a=n(77),c=u(a);function u(e){return e&&e.__esModule?e:{default:e}}var l=n(5),d=l.tagLogger("Sess"),f=n(142),p=0,h=n(143).default,m=l.prototypeExtend({setSessId:function(e){return e&&(this.sessId=e),this},setOp:function(e){return e&&(this.op=e),200===e&&(this.res={type:emedia.config.clientType,ver:window._emediaVersion||emedia.config.version,agent:emedia.config.userAgent,ops:emedia.config.acptOps}),this},setTsxId:function(e){return e&&(this.tsxId=e),this},setTicket:function(e){return e&&(this.tkt=e),this},setSdp:function(e){return e&&(this.sdp=e),this},setCands:function(e){return e&&(this.cands=e),this},setSubSId:function(e){return e&&(this.subSId=e),this},setMemId:function(e){return e&&(this.memId=e),this},setPubS:function(e){e&&(this.pubS=l.extend(!1,{},e));var t=this.pubS;return t.ext&&l.isPlainObject(t.ext)&&(t.ext=(0,c.default)(t.ext)),t&&l.forEach(t,(function(e,n){(l.isPlainObject(n)||"function"===typeof n)&&"resolution"!=e&&l.removeAttribute(t,e)})),t&&l.removeAttribute(t,"localStream"),t&&l.removeAttribute(t,"_localMediaStream"),t&&l.removeAttribute(t,"_webrtc"),this},setRtcId:function(e){return e&&(this.rtcId=e),this},setCver:function(e){return e&&(this.cver=e),this},setEndReason:function(e){return e&&(this.endReason=e),this},setNickName:function(e){return e&&(this.nickName=e),this},setResource:function(e){return e&&(this.resource=e),this},setReason:function(e){return e&&(this.reason=e),this},setConfrId:function(e){return e&&(this.confrId=e),this},setVoff:function(e){return"undefined"===typeof e||(this.voff=e?1:0),this},setAoff:function(e){return"undefined"===typeof e||(this.aoff=e?1:0),this},setFlag:function(e){return 0===e&&(this.flag=0),1===e&&(this.flag=1),this},setExt:function(e){return e&&l.isPlainObject(e)&&(e=(0,c.default)(e)),e&&(this.ext=e),this}}),v=emedia.__session_globalCount=0;function b(e,t,n){var r=this;function i(e,i){try{r.onWebsocketEvent(new f.WSClose({url:r.thisWsUri,retry:n,online:r.online,cause:e,event:i,session:r}))}finally{t&&t(new f.WSClose({url:r.thisWsUri,retry:n,online:r.online,cause:e,event:i,session:r}))}}function o(e){if(r.connected(r.thisWsUri)){if(l.isPlainObject(e)&&!(e instanceof m))throw d.error("message not a Messages"),"message not a Messages";if(r.sessId&&e.sessId!=r.sessId)d.warn("self.sessId && message.sessId != self.sessId",e);else{var t=(0,c.default)(e);r.thisWsUri===r._websocket.url&&r._websocket.send(t),r.thisWsUri===r._websocket.url&&d.debug("Done send req:",t,r._websocket.url),r.thisWsUri===r._websocket.url||d.debug("Donot send(url not equal): req:",t,r._websocket.url)}}else d.debug("current dont connect. the message = ",e)}function s(){if(r.connected(r.thisWsUri)){if(0===r._bufferedMessages.length)return;var e,t=[];while(e=r._bufferedMessages.shift())if(e.sessId||r.sessId||200==e.op){if(200===e.op){o(e);break}r.sessId&&!e.sessId&&(e.sessId=r.sessId);var i=o(e);i&&t.push(i)}else t.push(e),d.warn("tmp store message, util enter success!",e);t.length>0&&Array.prototype.push.apply(r._bufferedMessages,t)}else if(0!==n&&r.online)r.connected();else{var s=l.extend(!1,{},r._callbacks),a=[];for(var c in s){var u=s[c];n>0&&!r.online?a.push(u):r.onMessage({op:1001,tsxId:c,result:-9527,msg:"sdk rsp fail. retry fail or online = "+r.online})}r._bufferedMessages=r._bufferedMessages||[],a.length>0&&Array.prototype.push.apply(r._bufferedMessages,a)}}if(r.connected(r.thisWsUri))return e&&e(r),d.info("Session connected. dont continue connect"),void(r.notifyNewMessage&&r.notifyNewMessage());if(r.online){r.notifyNewMessage=s,d.info("Session begin connect.");var a=r._websocket;a&&(d.warn("will close. websocket state",a.readyState,a.url,r.thisWsUri),a.close(1e3));try{d.info("Connecting",r.thisWsUri,n),a=r._websocket=new WebSocket(r.thisWsUri)}catch(u){return d.warn(u),void i(u)}a.onopen=function(n){var i=this.url;if(i===r.thisWsUri)try{d.info("websocket connected:",i),t&&(t=null),e&&e(r),r.onWebsocketEvent(new f.WSConnected({event:n,session:r}))}finally{}else d.warn("ignore the onopen. caused by websocket url not ",r.thisWsUri,i)},a.onmessage=function(e){var t=this.url;if(t===r.thisWsUri){d.debug("recv data",e.data);var n=JSON.parse(e.data);n&&1001==n.op&&d.debug("recv message: rsp:",n),n&&1001!=n.op&&d.debug("recv message: evt:",n),r.onMessage(n)}else d.warn("ignore recv data. caused by websocket url not ",r.thisWsUri,t,e.data)},a.onclose=function(e){var t=this.url;d.info("Disconnected:",t,r.thisWsUri,e),t===r.thisWsUri?(r.notifyNewMessage(),1e3!==e.code&&i(void 0,e)):d.warn("ignore onclose. caused by websocket url not ",r.thisWsUri,t)},a.onerror=function(e){d.info("On error:",e),r.onWebsocketEvent(new f.WSError({event:e,online:r.online,session:r,url:this.url}))}}else i()}e.exports=l.prototypeExtend({_events:(0,s.default)({0:"onReqP2P",1:"onNewCfr",2:"onDelCfr",3:"onReqTkt",100:"onPing",101:"onPong",102:"onInitC",103:"onReqC",104:"onAcptC",105:"onTcklC",106:"onAnsC",107:"onTermC",300:"onEnter",301:"onExit",302:"onPub",303:"onUnpub",304:"onMems",204:"onClose",400:"onStreamControl",401:"onJoin",412:"onRoleUpdate",1002:"onRemoteControl",1003:"onRecvRemoteMessage",402:"onConfrAttrsUpdated",413:"onAdminChanged"},"107","onPubVideoFailed"),__init__:function(){var e=this;function t(){navigator.onLine?e.online=!0:e.online=!1}function n(t){e.online=!0,d.warn("online online online"),e.closed||e._reconnect(emedia.config.reconnect)}function r(t){e.online=!1,d.warn("offline offline offline"),e.__checkConnectIntervalId&&clearTimeout(e.__checkConnectIntervalId),e.__retryConnectIntervalId&&clearTimeout(e.__retryConnectIntervalId),e.__retryConnectIntervalId&&delete e.__retryConnectIntervalId,e._websocket&&e._websocket.close(1e3)}e._bufferedMessages=[],e._callbacks={},t(),window.addEventListener("online",n,!0),window.addEventListener("offline",r,!0),d.info("online status = ",e.online)},_nextWsUri:function(){var e=this,t=e.ticket.url;emedia.config.useDeployMore&&(emedia.mgr.rtc_url_config=null,emedia.mgr.rtc_url_config=new h,t=emedia.mgr.rtc_url_config.replace_ws(t));var n=emedia.config&&emedia.config.convertWebsocketURLOfTicket||emedia.convertWebsocketURLOfTicket;if("function"===typeof n){var r=t;t=n(t),d.warn(r,"--\x3e",t)}if(t.startsWith("/")){if(emedia.config.wsorigin)t=emedia.config.wsorigin+t;else{var i=window.location.href,o=i.startsWith("https")?"wss://":"ws://",s=i.indexOf("://")+3,a=i.indexOf("/",s),c=i.substring(s,a);t=o+c+t}d.warn("websocket url. update. {} -> {}",e.ticket.url,t)}else emedia.config.wsorigin&&d.warn("emedia.config.wsorigin invalidate. causeby server url {}",t);return t.indexOf("?")>=0?t+="&"+p++:t+="?"+p++,t},_reconnect:function(e){var t=this;function n(){d.warn("Reconnected. at ",e,t._websocket.url),t.__retryConnectIntervalId&&clearTimeout(t.__retryConnectIntervalId),t.__retryConnectIntervalId&&delete t.__retryConnectIntervalId;var n=t.newMessage().setOp(200).setSessId(t._sessionId).setTicket(t.ticket).setNickName(t.nickName||t.ticket.memName).setResource(t.resource).setExt(t.owner.ext);t.postMessage(n,(function(e){if(0==e.result)t.onEvent(new f.EnterSuccess({ip:t.owner.ip})),t.owner.onMembers(e.cver,e.mems),t.owner.onStreams(e.cver,e.streams),t.notifyNewMessage();else try{t.onEvent(new f.EnterFail({me:t.owner,cause:new f.RspFail({request:n,response:e})}))}finally{-9527!==e.result&&t.onEvent(new f.ServerRefuseEnter({failed:e.result,msg:e.msg}))}}))}function r(i){if(e<=0)return d.warn("Reconnect end. but fail.",i.url,e),void(t.__retryConnectIntervalId&&delete t.__retryConnectIntervalId);e&&(t.__retryConnectIntervalId=setTimeout((function(){t.connect(n,r,--e)}),emedia.config.reconnectDelay))}t.connect(n,r,--e)},__checkConnect:function(){var e=this;e.__checkConnectIntervalId&&clearTimeout(e.__checkConnectIntervalId),emedia.config.checkConnectIntervalMillis&&(e.__checkConnectIntervalId=setTimeout((function(){try{e.online&&!e.connected()&&(e.__retryConnectIntervalId&&d.debug("online, reconnecting..."),e.__retryConnectIntervalId||d.debug("online, but disconnect. will reconnect"),e.__retryConnectIntervalId||e._reconnect(emedia.config.reconnect))}finally{e.__checkConnect()}}),emedia.config.checkConnectIntervalMillis))},connect:function(e,t,n){var r=this,i=r.thisWsUri=r._nextWsUri();function o(){try{e.apply(r,arguments)}finally{r.__checkConnect()}}function s(e){try{t.apply(r,arguments)}finally{n||e.url!==i||r.onEvent(new f.ServerRefuseEnter({failed:-95270,msg:"sdk reconnect fail. "+i+"|"+e.url}))}}"undefined"!==typeof n&&d.warn("begin connect... at retry = ",n,i),b.call(r,o,s,n)},connected:function(e){var t=this,n=t.online&&t._websocket&&(!e||e===t._websocket.url)&&t._websocket.readyState==WebSocket.OPEN;return n},onWebsocketEvent:function(e){var t=this;t.onEvent(e)},register:function(e){if("object"===("undefined"===typeof e?"undefined":(0,i.default)(e)))for(var t in e)this.bind(t,e[t])},bind:function(e,t){var n,r=this;if(!(n=r._events[e]))throw d.error("Not supported event = ",e),"Not supported event = "+e;r[n]=t},getSessionId:function(){return this._sessionId},newMessage:function(e){return new m(e)},__modifyMessage:function(e){if(e&&e.sdp&&("string"===typeof e.sdp&&(e.sdp=l.parseJSON(e.sdp)),e.sdp.type&&(e.sdp.type=e.sdp.type.toLowerCase()),e.cctx&&(e.sdp.cctx=e.cctx)),e&&e.cands){"string"===typeof e.cands&&(e.cands=l.parseJSON(e.cands));for(var t=0;t<e.cands.length;t++)"string"===typeof e.cands[t]&&(e.cands[t]=l.parseJSON(e.cands[t])),e.cands[t].sdpMLineIndex=e.cands[t].mlineindex,e.cands[t].sdpMid=e.cands[t].mid,delete e.cands[t].mlineindex,delete e.cands[t].mid,e.cctx&&(e.cands[t].cctx=e.cctx)}if(e&&e.mems){if(!l.isArray(e.mems))return;var n=e.mems;e.mems={},l.forEach(n,(function(t,n){n.name&&(n.memName=n.name),e.mems[n.id]=n;var r=n.acptOps={};if(l.forEach(emedia.config.baseAcptOps,(function(e,t){r[t]=!0})),n.res&&l.forEach(n.res.ops,(function(e,t){r[t]=!0})),n&&n.ext)try{e.mems[n.id].ext=JSON.parse(n.ext)}catch(i){d.debug(i)}}))}if(e&&e.mem){e.mem.name&&(e.mem.memName=e.mem.name);var r=e.mem.acptOps={};if(l.forEach(emedia.config.baseAcptOps,(function(e,t){r[t]=!0})),e.mem.res&&l.forEach(e.mem.res.ops,(function(e,t){r[t]=!0})),e.mem&&e.mem.ext)try{e.mem.ext=JSON.parse(e.mem.ext)}catch(o){d.debug(o)}}if(e&&e.streams){if(!l.isArray(e.streams))return;var i=e.streams;e.streams={},l.forEach(i,(function(t,n){if(e.streams[n.id]=n,n&&n.ext)try{e.streams[n.id].ext=JSON.parse(n.ext)}catch(o){d.debug(o)}}))}if(e&&e.pubS&&e.pubS&&e.pubS.ext)try{e.pubS.ext=JSON.parse(e.pubS.ext)}catch(o){d.debug(o)}if(e&&e.ext)try{e.ext=JSON.parse(e.ext)}catch(o){d.debug(o)}return e},onMessage:function(e){var t=this;function n(e){var n=t._events[e.op],r=t[n];r?r.call(t,e):d.warn("Not supported event = ",e)}if(1001!=e.op&&!e.sessId)throw d.error("message sessId error. server evt data error"),"message sessId error. server evt data error";if(1001!=e.op&&t._sessionId&&t._sessionId!=e.sessId)throw d.error("message sessId error. server and local not equal"),"message sessId error. server and local not equal";if(1004!==e.op){if(452==e.op&&e.liveCfgs&&(t.owner.liveCfgs=e.liveCfgs),1001==e.op&&e.arg){var r=JSON.parse(e.arg),i=r.op2;if(21==i){var o=e,s=o.result;return void t.onRequestToTalkerReply(s)}if(22==i){var a=e,c=a.result;return void t.onRequestToAdminReply(c)}}var u;e=t.__modifyMessage(e);var p=l.removeAttribute(t._callbacks,e.tsxId);if(p&&200===p.op){t._sessionId=e.sessId;var h="string"===typeof e.yourIp?e.yourIp:void 0;if("string"===typeof t._session_ip&&h!=t._session_ip&&(u=t._session_ip),d.info(t._sessionId,"ip is",h,u),t._session_ip=h,t.owner.ip=h,0===e.result){for(var m in t._bufferedMessages){var v=t._bufferedMessages[m];v.sessId||200===v.op||(v.sessId=e.sessId)}setTimeout((function(){t.notifyNewMessage()}),100),1001==e.op&&(e.cattrs||e.cstate)&&t.onConfrAttrsUpdated(e)}else{var b;while(b=t._bufferedMessages.shift())200!==b.op&&t.onMessage({op:1001,tsxId:b.tsxId,result:-9527,msg:"sdk enter fail. sdk callback. enter result = "+e.result})}}if(t.owner&&t.owner.closed)d.warn("self closed. me is "+t.owner.getMemberId()+", session_id = "+t.getSessionId()+". drop message",e);else{if(t.onEvent(new f.RecvResponse({request:p,response:e})),p&&p.__callback__&&1004!==e.op)return p.__callback__(e),void(u&&t.onWebsocketEvent(new f.NetworkChanaged({preIp:u,nowIp:t._session_ip})));e.op&&1001!=e.op?(n(e),u&&t.onWebsocketEvent(new f.NetworkChanaged({preIp:u,nowIp:t._session_ip}))):d.debug("Igron message. caused by op not found.",e)}}else n(e)},__modifyMessageForPost:function(e){if(e.cands){for(var t=[],n=e.cands,r=0;r<n.length;r++){var i;0==r&&n[r].cctx&&(e.cctx=n[r].cctx),i="string"===typeof n[r]?{type:"candidate",candidate:n[r],mlineindex:0,mid:"audio"}:{type:"candidate",candidate:n[r].candidate,mlineindex:n[r].sdpMLineIndex,mid:n[r].sdpMid},t.push((0,c.default)(i))}e.cands=t}if(e.sdp&&"string"!==typeof e.sdp){var o={type:e.sdp.type,sdp:e.sdp.sdp};e.sdp.cctx&&(e.cctx=e.sdp.cctx),e.sdp=o,e.sdp.type=e.sdp.type.toUpperCase(),e.sdp=l.stringifyJSON(e.sdp)}return e.pubS&&l.removeAttribute(e.pubS,"_located"),e.pubS&&l.removeAttribute(e.pubS,"mutedMuted"),e.pubS&&l.removeAttribute(e.pubS,"mediaStream"),e.pubS&&l.removeAttribute(e.pubS,"isRepublished"),e.pubS&&l.removeAttribute(e.pubS,"optimalVideoCodecs"),"function"===typeof e.post&&l.removeAttribute(e,"post"),e},postMessage:function(e,t,n){1002==e.op&&console.log("postMessage 1002",(0,c.default)(e));var r=this;if(e.tsxId||(e.tsxId="MSG"+Date.now()+"-"+v++),e.memId){var i=r.owner._cacheMembers[e.memId],o=e,s=o.arg,a=!1;if(s&&(s=JSON.parse(s),21!=s.op2&&22!=s.op2&&23!=s.op2&&24!=s.op2||(a=!0)),!i&&!a)return d.warn("Member not found at local. memberId = "+e.memId,e),void(t&&t({op:1001,tsxId:e.tsxId,result:-507,msg:" member not found at local. memberId = "+e.memId}));var u=e._reqOps;if(u||(u=[],u.push(e.op)),!a)for(var f in u){var p=u[f];if(!i.acptOps[p])return d.warn("Member not accept op "+p+", "+e.memId,e),void(t&&t({op:1001,tsxId:e.tsxId,result:-507,msg:" member not accept op "+p+", "+e.memId}))}}if(l.removeAttribute(e,"_reqOps"),r._sessionId&&r._sessionId!=e.sessId)return d.warn("sessionId not excepted. self._sessionId = "+r._sessionId,e),void(t&&t({op:1001,tsxId:e.tsxId,result:-9527,msg:"sessionId not excepted."}));if(r.closed)return d.warn("session closed.",e),void(t&&t({op:1001,tsxId:e.tsxId,result:-9527,msg:"session closed"}));var h=l.extend({},e);if(e=r.__modifyMessageForPost(e),!e)return d.warn("Message drop. callback success.",e),void(t&&t({op:1001,tsxId:h.tsxId,result:0,msg:"Message drop. callback success."}));200===e.op?(r._bufferedMessages.unshift(e),t&&setTimeout((function(){r._callbacks[e.tsxId]&&(d.error("Enter timeout. fail."),r.onMessage({op:1001,tsxId:e.tsxId,result:-9527,msg:"enter timeout. millis = "+emedia.config.enterTimeout}))}),emedia.config.enterTimeout)):r._bufferedMessages.push(e),t&&(r._callbacks[e.tsxId]=l.extend(e,{__callback__:t.bind(r.owner)})),r.notifyNewMessage&&r.notifyNewMessage(),n&&t&&setTimeout((function(){var e=r._callbacks[e.tsxId];e&&e.__callback__&&e.__callback__({op:1001,tsxId:h.tsxId,result:-408,msg:"Message request timeout."}),l.removeAttribute(r._callbacks,e.tsxId)}),n)},close:function(e){d.warn("sessiong closing, reason = ",e);var t=this;t.notifyNewMessage&&t.notifyNewMessage(),t.closed=!0,t.seqno=0,t._websocket&&(0==e||100==e?t._websocket.close(1e3):t._websocket.close()),t.__retryConnectIntervalId&&clearTimeout(t.__retryConnectIntervalId),t.__retryConnectIntervalId&&delete t.__retryConnectIntervalId,t.__checkConnectIntervalId&&clearTimeout(t.__checkConnectIntervalId),t.__checkConnectIntervalId&&delete t.__checkConnectIntervalId,t.owner=null,t._bufferedMessages=[],t._callbacks={},d.warn("session closed")}})},function(e,t,n){"use strict";t.__esModule=!0;var r=n(130),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var r=n(5),i=(r.logger,r.prototypeExtend({msg:"",__init__:function(){this.day=new Date},execTime:function(){var e=this.day.getHours();e<10&&(e="0"+e);var t=this.day.getMinutes();t<10&&(t="0"+t);var n=this.day.getSeconds();return n<10&&(n="0"+n),e+":"+t+":"+n}})),o=i.extend({_webrtcDesc:function(){this.webrtc;var e=this.webrtc.getRtcId();return e}});e.exports={Exception:i.extend(),NetworkChanaged:i.extend({message:function(){var e=this.execTime()+" : Network chanage ("+this.preIp+" -> "+this.nowIp+").";return e}}),WSClose:i.extend({message:function(){var e=this.execTime()+" WSClose: Websocket close ("+(this.retry||0)+").";return this.online||(e+=" offline."),this.event&&(e+=" wscode: "+this.event.code),this.cause&&(e+=" cause: "+this.cause.message),this.url&&(e+=" url: "+this.url),e+=" retry: "+(this.retry||0),this.session&&this.session.getSessionId()&&(e=e+", sess = "+this.session.getSessionId()),e}}),WSError:i.extend({message:function(){var e=this.execTime()+" WSError: Websocket error. ready state:"+(this.event.srcElement&&this.event.srcElement.readyState||this.event.currentTarget.readyState)+". online = "+this.online;return this.session&&this.session.getSessionId()&&(e=e+", sess = "+this.session.getSessionId()),this.url&&(e+=" url: "+this.url),e}}),WSConnected:i.extend({message:function(){var e=this.execTime()+" WSConnected: Websocket success. ready state:"+(this.event.srcElement&&this.event.srcElement.readyState||this.event.currentTarget.readyState);return this.session&&this.session.getSessionId()&&(e=e+", sess = "+this.session.getSessionId()),e}}),ICEChanage:o.extend({message:function(){return this.execTime()+" ICEChanage: "+this._webrtcDesc()+" state: "+this.state}}),AddIceCandError:o.extend({message:function(){return this.execTime()+" AddIceCandError: "+this._webrtcDesc()+", add cand error"}}),ICEConnectFail:o.extend({message:function(){return this.execTime()+" ICEConnectFail: "+this._webrtcDesc()+" failed"}}),ICEConnected:o.extend({message:function(){return this.execTime()+" ICEConnected: "+this._webrtcDesc()+" connected"}}),ICEDisconnected:o.extend({message:function(){return this.execTime()+" ICEDisconnected: "+this._webrtcDesc()+" disconnected"}}),ICEClosed:o.extend({message:function(){return this.execTime()+" ICEClosed: "+this._webrtcDesc()+" closed"}}),ICERemoteMediaStream:o.extend({message:function(){return this.execTime()+" ICERemoteMediaStream: "+this._webrtcDesc()+" got remote stream"}}),StreamState:i.extend({message:function(){return this.execTime()+" StreamState:  stream "+this.stream.id+" state: "+this.state+" "+this.msg},iceFail:function(){this.state=1,this.msg="network anomaly. media lost"}}),OpenMediaError:i.extend({message:function(){return this.execTime()+" OpenMediaError:  open media error. caused by "+(this.event.name?this.event.name:this.event.message?this.event.message:this.event.toString())}}),Hangup:i.extend({message:function(){return this.self?"hangup id = "+(this.self.id||"--")+" reasonï¼"+(this.reason||0):this.execTime()+" Hangup: "+(this.parnter&&(this.parnter.name||this.parnter.id||" ")||"")+" hangup, reasonï¼"+(this.reason||0)}}),ServerRefuseEnter:i.extend({message:function(){return this.execTime()+" ServerRefuseEnter: server refuse, causeï¼"+this.failed+", msg:"+(this.msg||"")}}),RspFail:i.extend({__init__:function(){this.day=new Date,this.failed=this.response.result,this.msg=this.response.msg||this.response.message||"--"},message:function(){return this.execTime()+" RspFail: "+this.request.tsxId+", "+(this.response.sessId||"--")+" op: "+this.request.op+", cause: "+this.failed+" "+this.msg}}),RecvResponse:i.extend({__init__:function(){this.day=new Date,this.failed=this.response.result,this.msg=this.response.msg},message:function(){return this.request?this.execTime()+" RecvResponse: "+(this.request&&this.request.tsxId)+", "+(this.response.sessId||"--")+" op: "+(this.request&&this.request.op)+", cause: "+this.failed+" "+this.msg:this.execTime()+" RecvMessage: "+(this.response&&this.response.tsxId)+", "+(this.response.sessId||"--")+" op: "+(this.response&&this.response.op)+" "+this.msg}}),EnterFail:i.extend({message:function(){return this.execTime()+" EnterFail: enter failï¼"+(this.cause?this.cause.message():"unkown")}}),EnterSuccess:i.extend({message:function(){return this.execTime()+" EnterSuccess: enter success "+(this.ip?", ip = "+this.ip:"")}}),PushSuccess:i.extend({message:function(){return this.execTime()+" PushSuccess: push success, streamId = "+this.stream.id+", "+this.stream.optimalVideoCodecs+", webrtc = "+this.stream.rtcId}}),PushFail:i.extend({message:function(){return this.execTime()+" PushFail: push fail, streamId = "+this.stream.id+", "+this.stream.optimalVideoCodecs+", webrtc = "+this.stream.rtcId+" causeï¼"+(this.cause?this.cause.message?this.cause.message():this.cause:"unkown")}}),RemoteControlFail:i.extend({message:function(){return this.execTime()+" RemoteControlFail: "+(this.type||"remote control")+" fail, "+(this.stream?this.stream.id:"")+" failed = "+this.failed+" causeï¼"+(this.cause?this.cause.message?this.cause.message():this.cause:"unkown")}}),SubSuccess:i.extend({message:function(){return this.execTime()+" SubSuccess: sub success, streamId = "+this.stream.id+", "+this.stream.vcodes+", webrtc = "+this.stream.rtcId}}),SubFail:i.extend({message:function(){return this.execTime()+" SubFail: sub fail, streamId = "+this.stream.id+", "+this.stream.vcodes+", webrtc = "+this.stream.rtcId+" causeï¼"+(this.cause?this.cause.message?this.cause.message():this.cause:"unkown")}}),SubFailNotSupportVCodes:i.extend({message:function(){return this.execTime()+" SubFailNotSupportVCodes: sub fail, streamId = "+this.stream.id+" causeï¼"+(this.cause?this.cause.message?this.cause.message():this.cause:"unkown")}}),SubFailSafariNotAllowSubBeforePub:i.extend({message:function(){return this.execTime()+" SubFailSafariNotAllowSubBeforePub: sub fail, streamId = "+this.stream.id+" causeï¼Safari without access to capture devices, WebKit only exposes Server Reflexive and TURN ICE candidates, which expose IPs that could already be gathered by websites."}}),SwitchVCodes:i.extend({message:function(){return this.execTime()+" SwitchVCodes: pub streamId = "+this.stream.id}}),CurrentCalling:i.extend({message:function(){return this.execTime()+" CurrentCalling: warn! current calling..."}}),OpenDesktopMedia:i.extend({message:function(){return this.execTime()+" OpenDesktopMedia: shared desktop, desktopStreamId = "+desktopStreamId}}),OpenDesktopMediaAccessDenied:i.extend({message:function(){return this.execTime()+" OpenDesktopMediaAccessDenied: shared desktop not allow"}}),ShareDesktopExtensionNotFound:i.extend({message:function(){return this.execTime()+" ShareDesktopExtensionNotFound: shared desktop plugin required"}}),OtherDeviceAnswer:i.extend({message:function(){return this.execTime()+" other device answer, webrtc = "+this.rtcId}}),AudioMixerStreamNotAllowSub:i.extend({message:function(){return this.execTime()+" audio mixer stream not allow sub, webrtc = "+this.rtcId+", streamId = "+this.stream.id}}),AudioMixerStreamNotAllowOnlySubVideo:i.extend({message:function(){return this.execTime()+" audio mixer stream not allow only sub video, webrtc = "+this.rtcId+", streamId = "+this.stream.id}}),AudioMixerStreamRepeatPublish:i.extend({message:function(){return this.execTime()+" audio mixer stream repeat publish"}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(111),i=a(r),o=n(144),s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}function c(){this.rtcconfig=void 0,this.get_rtcconfig()}c.prototype={get_rtcconfig:function(){var e={url:"https://rs.easemob.com/easemob/rtcconfig.json",async:!1},t=this,n=void 0;try{$.ajax((0,s.default)({},e,{success:function(e){console.log("get_rtcconfig success"),e&&(0,i.default)(e).length>0&&(t.rtcconfig=e,n=e)},error:function(e){return console.error("DeployMore get error",e),e}}))}catch(r){return}return n},replace_ws:function(e){if(this.rtcconfig&&this.rtcconfig.ws){var t="wss://"+this.rtcconfig.ws+"/",n=/wss.*com\//;return e.replace(n,t)}return e},_get_info_from_candifate:function(e){if(!e)return{};var t={};return e=e.split(" "),t.ip=e[4],t.port=e[5],t},_can_replace:function(e,t,n){return!!(e&&t&&n)&&(!!e.src.ip&&(e.src.ip==t&&!(e.src.min_port>n||e.src.max_port<n)))},_replace_candidate:function(e){var t=this._get_info_from_candifate(e),n=t.ip,r=t.port,i=this;return this.rtcconfig.rtc.candidate_map.map((function(t){if(i._can_replace(t,n,r)){var o=t.dst.ip,s=Number(r)-Number(t.src.min_port),a=Number(t.dst.min_port)+Number(s),c=e.split(" ");c[4]=o,c[5]=a,e=c.join(" ")}})),e},replace_candidates:function(e){if(!this.rtcconfig)return e;var t=this;return e=e.map((function(e){return e&&e.candidate?(e.candidate=t._replace_candidate(e.candidate),e):e})),e}},t.default=c},function(e,t,n){"use strict";t.__esModule=!0;var r=n(82),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";var r=n(82),i=a(r),o=n(77),s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var c=n(5),u=c.tagLogger("Me"),l=n(146),d=n(142),f=n(149),p=l.extend({__init__:function(){var e=this;if(e._session||e.sessionFactory&&(e._session=e.sessionFactory()),!e._session)throw u.error("Require session"),"Require session";e._cver=0,e._cacheMembers={},e._cacheStreams={},e._streamAutomators={},e._mediaMeters={},e._openedRtcMediaStreams={},e._linkedStreams={},e._maybeNotExistStreams={},e._records={},e._ices={},e.audioMixers={},e.closed=!1,e._nextStreamSeqno=0,e.getMediaMeterIntervalMillis=e.getMediaMeterIntervalMillis||emedia.config.getMediaMeterIntervalMillis},getCurrentMembers:function(){var e=this,t=[];return c.forEach(e._cacheMembers,(function(e,n){var r=c.extend(!0,{},n);t.push(r)})),t},newStream:function(e){var t=this;return new f(e,{__init__:function(){var e=this;if(e.rtcId||e._webrtc&&(e.rtcId=e._webrtc.getRtcId()),e._webrtc||e.rtcId&&(e._webrtc=t._ices[e.rtcId]),e.__create_id=t._nextStreamSeqno++,e.memId&&!e.owner&&(e.owner=c.extend({},t._cacheMembers[e.memId]),!e.owner&&!e.located()))throw u.error("Remote stream, not owner. it = ",e.id),"Remote stream, not owner. it = "+e.id}})},getConfrId:function(){return this.ticket.confrId},isCaller:function(){var e=this;return e.isP2P()&&e.ticket.caller==e.ticket.memName},isCallee:function(){var e=this;return e.isP2P()&&e.ticket.callee==e.ticket.memName},isP2P:function(){var e=this;return e.ticket&&("P2P"==e.ticket.type||"p2p"==e.ticket.type)},isConfr:function(){var e=this;return e.ticket&&("CONFR"==e.ticket.type||"confr"==e.ticket.type)},onEvent:function(e){},join:function(e,t){var n=this;emedia.requireTrustBeforeJoin()?n.someBrowsersRequireGetUserMedia((function(){n._join(e,t)}),t):n._join(e,t)},_join:function(e,t){u.debug("begin join ...");var n,r=this;if(console.log("Attendee self",r),r._memberId)return u.warn("Had joined. igrone it"),void(e&&e(r.memId));function i(e){try{if(e instanceof d.WSClose&&e.retry)return;e instanceof d.EnterFail||(e=new d.EnterFail({attendee:r,cause:e})),r.onEvent(e),t&&t(e)}finally{}}function o(t){if(0==t.result){r.reflushSupportVCodes(t.vcodes),r.setMemberId(t.memId),r.role=t.role,r.onEvent(new d.EnterSuccess({ip:r.ip})),e&&e(t.memId);try{r.__rtc_cfg=t.rtcCfg,"string"===typeof t.rtcCfg&&(r.__rtc_cfg=JSON.parse(t.rtcCfg))}finally{r.onMembers(t.cver,t.mems),r.onStreams(t.cver,t.streams)}}else try{i(new d.RspFail({request:n,response:t}))}finally{-9527!==t.result&&r.onEvent(new d.ServerRefuseEnter({failed:t.result,msg:t.msg}))}}function s(){n=r.newMessage().setOp(200).setTicket(r.ticket).setNickName(r.nickName||r.ticket.memName).setResource(r.resource).setExt(r.ext),r.postMessage(n,o)}r.connect(s,i),u.debug("join",r.ticket.url)},withpublish:function(e){var t,n=this;if(!e||!e.localStream)throw u.error("pubS null or stream not open"),"pubS null or stream not open";var r,i=e&&e.localStream;function o(o,s){if(1===arguments.length&&(s=o,o=void 0),n._memberId)return u.warn("Had joined. igrone it"),void(o&&o(n.memId));function a(e){try{if(e instanceof d.WSClose&&e.retry)return;e instanceof d.EnterFail||(e=new d.EnterFail({attendee:n,cause:e})),n.onEvent(e),s&&s(e)}finally{emedia.stopTracks(i),r&&n.closeWebrtc(r.getRtcId())}}var c=n.getOptimalVideoCodecs();function l(i){if(0==i.result){n.reflushSupportVCodes(i.vcodes),n.setMemberId(i.memId),n.role=i.role,n.onEvent(new d.EnterSuccess({ip:n.ip}));var s=n.newStream(e);s.updateAttributes({_localMediaStream:e.localStream,rtcId:r.getRtcId(),_webrtc:r,id:i.streamId,csrc:i.csrc,owner:{id:i.memId,nickName:n.nickName,name:n.sysUserId,ext:n.extObj},optimalVideoCodecs:c}),o&&o(i.memId,s),r.useIp=n.ip,n.onEvent(new d.PushSuccess({stream:s,hidden:!0})),i.sdp&&n.ansC(r.getRtcId(),i.sdp),i.cands&&n.tcklC(r.getRtcId(),i.cands);try{n.__rtc_cfg=i.rtcCfg,"string"===typeof i.rtcCfg&&(n.__rtc_cfg=JSON.parse(i.rtcCfg)),n.__rtc_cfg&&n.__rtc_cfg.iceServers&&n.__rtc_cfg.iceServers.length>0&&(u.warn("Server rsp one rtc cfg. publish will republish"),n._service&&setTimeout((function(){n._service._republish(s)}),200))}finally{n.onMembers(i.cver,i.mems),n.onStreams(i.cver,i.streams)}}else try{a(new d.RspFail({request:t,response:i}))}finally{-9527!==i.result&&n.onEvent(new d.ServerRefuseEnter({failed:i.result,msg:i.msg}))}}function f(){u.debug("enter and pubs");var i,o,s=e.localStream;2===e.type&&(i={offerToReceiveAudio:!0,offerToReceiveVideo:!1},o={subSVideo:!1,subSAudio:!0}),r=n.createWebrtc({_rtcId:e.rtcId,optimalVideoCodecs:c,offerOptions:i,subArgs:o,vbitrate:e.vbitrate||e.constaints&&e.constaints.video&&e.constaints.video.bitrate,abitrate:e.abitrate||e.constaints&&e.constaints.audio&&e.constaints.audio.bitrate},e.iceRebuildCount),n.setLocalStream(s,r.getRtcId()),n.doOffer(r.getRtcId(),(function(i){t=n.newMessage().setOp(200).setTicket(n.ticket).setNickName(n.nickName||n.ticket.memName).setResource(n.resource).setSdp(i).setRtcId(r.getRtcId()).setPubS(e).setExt(n.ext),n.postMessage(t,l)}))}n.connect(f,a),u.debug("join",n.ticket.url)}return{join:o}},push:function(e,t,n,r){u.debug("begin push ...");var i,o=this;if(2===arguments.length&&(n=t,t=void 0),!e||!e.localStream)throw u.error("pubS or stream open"),"pubS or stream open";var s,a=e.localStream;function c(t){try{var i=o.newStream(e);i.updateAttributes({_localMediaStream:e.localStream,_webrtc:s,rtcId:s&&s.getRtcId(),owner:{id:o.getMemberId(),nickName:o.nickName,name:o.sysUserId,ext:o.extObj}});t=new d.PushFail({stream:i,cause:t,hidden:r&&!0===t.hidden});o.onEvent(t),t.hidden||n&&n(t)}finally{a&&!0!==t.hidden&&emedia.stopTracks(a),s&&o.closeWebrtc(s.getRtcId(),!0===t.hidden)}}if(e.rtcId||2!==e.type||emedia.config.allowRepeatAudioMixerPublish||!o._service.hasAudioMixers()){var l=e.optimalVideoCodecs||o.getOptimalVideoCodecs();p(e),u.debug("push",o.ticket.url)}else c(new d.AudioMixerStreamRepeatPublish);function f(n,r){if(0==r.result){var s=o.newStream(e);s.updateAttributes({_localMediaStream:e.localStream,_webrtc:n,rtcId:n.getRtcId(),id:r.streamId,csrc:r.csrc,owner:{id:o.getMemberId(),nickName:o.nickName,name:o.sysUserId,ext:o.extObj},optimalVideoCodecs:l}),s.id&&2===s.type&&(o.audioMixers[s.id]=s);try{o.onEvent(new d.PushSuccess({stream:s,hidden:!0}))}finally{r.sdp&&o.ansC(n.getRtcId(),r.sdp),r.cands&&o.tcklC(n.getRtcId(),r.cands),t&&t(s)}}else c(new d.RspFail({request:i,response:r,hidden:!0===r.retrying}))}function p(e){u.debug("pubs");var t,n,r=e.localStream;if(2===e.type&&(t={offerToReceiveAudio:!0,offerToReceiveVideo:!1},n={subSVideo:!1,subSAudio:!0}),s=o.createWebrtc({_rtcId:e.rtcId,optimalVideoCodecs:l,offerOptions:t,subArgs:n,vbitrate:e.vbitrate||e.constaints&&e.constaints.video&&e.constaints.video.bitrate,abitrate:e.abitrate||e.constaints&&e.constaints.audio&&e.constaints.audio.bitrate},e.iceRebuildCount),o.setLocalStream(r,s.getRtcId()),e.constaints&&e.constaints.video){var a=e.constaints.video,c=a.width,d=a.height;if(c&&d){var p=c.exact||c.min,h=d.exact||d.min,m={w:p,h:h};e.resolution=m}}o.doOffer(s.getRtcId(),(function(t){i=o.newMessage().setOp(102).setRtcId(s.getRtcId()).setSdp(t).setPubS(e),o.postMessage(i,(function(e){f(s,e)}))}))}},isSafari:function(){return emedia.isSafari},someBrowsersRequireGetUserMedia:function(e,t){var n=this;if(emedia.youInSomeBrowsers()&&!emedia._yetGetUserMedia){if(!0===n.__tryingOpenMedia)n.__tryingOpenMediaWaitSuceess=n.__tryingOpenMediaWaitSuceess||[],n.__tryingOpenMediaWaitFail=n.__tryingOpenMediaWaitFail||[],"function"===typeof e&&n.__tryingOpenMediaWaitSuceess.push(e),"function"===typeof t&&n.__tryingOpenMediaWaitFail.push(t);else{var r=function(t,r){emedia._yetGetUserMedia=!0,emedia.stopTracks(r),setTimeout((function(){n.__tryingOpenMedia=!1,e&&e.apply(n),n.__tryingOpenMediaWaitSuceess&&c.forEach(n.__tryingOpenMediaWaitSuceess,(function(e,t){t.apply(n)})),n.__tryingOpenMediaWaitSuceess=[],n.__tryingOpenMediaWaitFail=[]}),300)},i=function(e){n.__tryingOpenMedia=!1,u.error("Some browsers must getUserMedia, gather cands. now try get audio. fail. subfail"),t&&t.call(n,e),n.__tryingOpenMediaWaitFail&&c.forEach(n.__tryingOpenMediaWaitFail,(function(t,r){r.call(n,e)})),n.__tryingOpenMediaWaitSuceess=[],n.__tryingOpenMediaWaitFail=[]};n.__tryingOpenMedia=!0,n._service.__getUserMedia({audio:!0},r,(function(e){n._service.__getUserMedia({video:!0},r,i)}))}return!0}return!1},createWebrtcAndSubscribeStream:function(e,t,n,r){var i=this;t||(t={});var o=i._cacheStreams[e],s=i._cacheMembers[o.memId],a=o;function l(n){u.warn("sub stream error",e,n),b&&a._webrtc&&a._webrtc.setSubArgs(b),b&&a.updateAttributes({subArgs:b}),n=new d.SubFail({stream:a,hidden:!0===n.hidden,cause:n}),t&&t.onEvent&&t.onEvent(n),i.onEvent&&i.onEvent(n)}function f(){a.updateAttributes(a.subArgs)}r=r||a.subArgs||{subSVideo:!0,subSAudio:2!==o.type};var p=o.vcodes||[],h=s&&s.vcodes||[],m=i.supportVCodes,v=i._getOptimalVideoCodecsSubset(p,h,m);r=r||a.subArgs;var b=a.subArgs,y=!(a.vcodes&&a.vcodes.length>0);emedia.isSafari&&(y=y||!!a.voff);var g={offerToReceiveAudio:!0,offerToReceiveVideo:r.subSVideo&&!y};function _(){var o=i.createWebrtc({iceServerConfig:n,optimalVideoCodecs:v,offerOptions:g,onGotMediaStream:function(e){t.onGotRemote&&t.onGotRemote(a)}},a.iceRebuildCount),l=o.getRtcId();u.warn(l," sub stream ",e,v),a.updateAttributes({_webrtc:o,rtcId:l,owner:c.extend({},s)}),r&&a._webrtc&&a._webrtc.setSubArgs(r),r&&a.updateAttributes({subArgs:r})}g.offerToReceiveAudio||g.offerToReceiveVideo||u.warn("offerToReceiveAudio == false and offerToReceiveVideo == false"),i.someBrowsersRequireGetUserMedia((function(){_(),i.offerCall(a.rtcId,null,e,l,f)}),(function(t){u.error("Some browsers must getUserMedia, gather cands. now try get audio. fail. subfail",e),l(t)}))||(_(),i.offerCall(a.rtcId,null,e,l,f))},_getOptimalVideoCodecsSubset:function(e,t,n){var r=this,i=[];if(e&&e.length>0&&n[e[0]]&&i.push(e[0]),0==i.length)for(var o=0;o<r._orderVCodes.length;o++)c.forEach(t,(function(e,t){t==r._orderVCodes[o]&&i.push(t)}));return i},subscribeStream:function(e,t,n,r,i){var o=this,s=o._ices[e],a=o._cacheStreams[t],u=o._cacheMembers[a.memId],l=a;l.updateAttributes({_webrtc:s,rtcId:e,owner:c.extend({},u)});var f=l.subArgs;if(r=r||{subSVideo:!0,subSAudio:!0},l.updateAttributes({subArgs:l.subArgs||{subSVideo:!0,subSAudio:!0}}),l._webrtc&&l._webrtc.setSubArgs(l._webrtc.subArgs||{subSVideo:!0,subSAudio:!0}),!l.subArgs.subSVideo&&r.subSVideo&&!l.voff){var p=a.vcodes,h=u.vcodes,m=o.supportVCodes;o._getOptimalVideoCodecsSubset(p,h,m)}r&&l._webrtc&&l._webrtc.setSubArgs(r),r&&l.updateAttributes({subArgs:r});var v=o.newMessage().setOp(205).setRtcId(e).setSubSId(t);r&&c.extend(v,r),o.postMessage(v,(function(e){if(0!=e.result){f&&l._webrtc&&l._webrtc.setSubArgs(f),f&&l.updateAttributes({subArgs:f});var t=new d.SubFail({stream:l,cause:new d.RspFail({request:v,response:e})});return n&&n(t),void o.onEvent(t)}l.updateAttributes(l.subArgs);t=new d.SubSuccess({stream:l,hidden:!0});o._updateRemoteStream(l,l._webrtc.getRemoteStream()),o.onEvent(t),"function"===typeof i&&i()}))},unsubscribeStream:function(e){var t=this,n=t._cacheStreams[e],r=n._webrtc&&n._webrtc.getRtcId();if(r){try{var i=t.newMessage().setOp(206).setRtcId(r).setSubSId(e);t.postMessage(i)}finally{t.closeWebrtc(r)}return r}},onEnter:function(e,t){var n=this;if(e&&(n._cver=e),t&&!n._cacheMembers[t.id]){n._cacheMembers[t.id]=t;var r={};t.res&&t.res.vcodes&&t.res.vcodes.length>0&&c.forEach(t.res.vcodes,(function(e,t){r[t]||(r[t]=!0,n.supportVCodes[t]&&n.supportVCodes[t]++)})),n.onAddMember(c.extend({},t))}},_onFinally:function(){var e=this;e._cacheMembers={},e._cacheStreams={},e._linkedStreams={},e._ices={},e._maybeNotExistStreams={};var t=[];if(c.forEach(e._openedRtcMediaStreams,(function(e,n){!1!==n.active&&t.push(n)})),t.length>0)for(var n=0;n<t.length;n++)try{var r=t[n];u.info("exit, close stream = ",r.id),emedia.stopTracks(r)}catch(i){u.error(i)}u.warn("finally. all clean.")},_onRoleUpdate:function(e,t){var n=this;u.info("Role ",e," <-",n.role),u.info(t),n.role=e,n.roleToken=t,n.onRoleUpdate&&n.onRoleUpdate(e,t)},onExit:function(e,t,n){var r=this;if(e&&(r._cver=e),t!=r.getMemberId()){var i=r._cacheMembers[t];i&&(i.res&&i.res.vcodes&&i.res.vcodes.length>0&&c.forEach(i.res.vcodes,(function(e,t){r.supportVCodes[t]--})),r._onRemoveMember(i,n),r.onEvent(new d.Hangup({reason:n,parnter:i})))}else{u.warn("Me exit. ",n,t);try{r.closed||r.close(n)}catch(o){r.onEvent(new d.Hangup({reason:n,self:{id:r._memberId}})),r.onMeExit&&r.onMeExit(n),u.warn(o)}}},onPub:function(e,t,n){var r=this;if(!r._cacheMembers[t])throw u.error("No found member. when pub"),"No found member. when pub";var i=r.newStream(n),o=r._cacheStreams[n.id];if(e&&(r._cver=e),o&&i.sver!==o.sver)return u.info("Onpub. the steam ",o.id," republish. sver ",o.sver,i.sver),!i||i.aoff===o.aoff&&i.voff==o.voff||r.onStreamControl(void 0,n.id,i.voff,i.aoff),c.extend(o,i),void r._onRepublishStream(o);var s=i;return s.updateAttributes({owner:r._cacheMembers[t]}),r._cacheStreams[n.id]=s,r._onAddStream(r.newStream(s)),r.autoSub&&r.createWebrtcAndSubscribeStream(n.id,{onGotRemote:function(e){}}),s},onUnpub:function(e,t,n){var r=this,i=r._cacheStreams[n];r._onRemovePubstream(r._cacheMembers[t],i),e&&(r._cver=e)},onClose:function(e,t,n){var r=this;try{r.close(n||0)}finally{r.onConfrClose&&r.onConfrClose(t,n)}},__getWebrtcFor:function(e){var t=this,n=t._cacheStreams[e]&&t._cacheStreams[e]._webrtc;return n&&n.getRtcId()},_getWebrtc:function(e){var t=this,n=t._cacheStreams[e]&&t._cacheStreams[e]._webrtc;return n},_updateRemoteStream:function(e,t){e.located()&&2===e.type?emedia.enableAudioTracks(t,!0):emedia.enableAudioTracks(t,!e.aoff&&!(e.subArgs&&!1===e.subArgs.subSAudio)),emedia.enableVideoTracks(t,!e.voff&&!(e.subArgs&&!1===e.subArgs.subSVideo))},onStreamControl:function(e,t,n,r,i){var o=this,s=o._cacheStreams[t];s.updateAttributes({voff:n,aoff:r});var a=s._webrtc;a&&a._remoteStream&&o._updateRemoteStream(s,a._remoteStream);var c=o.newStream(s);o.onUpdateStream&&o.onUpdateStream(c,new c.Update({voff:n,aoff:r})),e&&(o._cver=e),i&&s.updateAttributes({sver:i})},aoff:function(e,t,n){var r=this,i=r.__getWebrtcFor(e.id);if(!i)throw u.error("pubS not publish",e.id),"pubS not publish"+e.id;var o=r._linkedStreams[e.id];o.updateAttributes({aoff:t}),e.updateAttributes({aoff:t});var s=r.newMessage().setOp(400).setRtcId(i).setVoff(e.voff).setAoff(t);r.postMessage(s,n),r.onUpdateStream&&r.onUpdateStream(e,new e.Update({aoff:t}))},voff:function(e,t,n){var r=this,i=r.__getWebrtcFor(e.id);if(!i)throw u.error("pubS not publish",e.id),"pubS not publish"+e.id;var o=r._linkedStreams[e.id];o.updateAttributes({voff:t}),e.updateAttributes({voff:t});var s=r.newMessage().setOp(400).setRtcId(i).setVoff(t).setAoff(e.aoff);r.postMessage(s,n),r.onUpdateStream&&r.onUpdateStream(e,new e.Update({voff:t}))},startRecord:function(e,t){var n=this,r=e.rtcId,i=n.newMessage().setOp(500).setRtcId(r).setFlag(1);n.postMessage(i,(function(i){u.warn("record ",r,i.result,i.msg),t&&t(0===i.result),0===i.result&&(n._records[e.id]=c.extend(!1,{},e))}))},stopRecord:function(e,t){var n=this,r=e.rtcId,i=n.newMessage().setOp(500).setRtcId(r).setFlag(0);n.postMessage(i,(function(e){u.warn("stop record ",r,e.result,e.msg),t&&t(0===e.result)})),n._records[e.id]&&c.removeAttribute(n._records,e.id)},onMembers:function(e,t){var n=this,r=[];c.forEach(n._cacheMembers,(function(e,n){t[e]||r.push(n)})),c.forEach(r,(function(e,t){n.onExit(void 0,t.id)}));var i=[];c.forEach(t,(function(e,t){(t.name&&t.name!=n.memName||!t.name&&e!=n.getMemberId())&&(n._cacheMembers[e]||i.push(t),n._cacheMembers[e]&&c.extend(n._cacheMembers[e],t))})),c.forEach(i,(function(e,t){n.onEnter(void 0,t)})),e&&(n._cver=e)},onStreams:function(e,t){var n=this,r=[];c.forEach(n._cacheStreams,(function(e,n){n.located()||t[e]||r.push(n)})),c.forEach(r,(function(e,t){n.onUnpub(void 0,t.memId,t.id)}));var i=[];c.forEach(t,(function(e,t){(t.memName&&t.memName!=n.memName||!t.memName&&t.memId!=n.getMemberId())&&(n._cacheStreams[e]||i.push(t),n._cacheStreams[e]&&c.extend(n._cacheStreams[e],t))})),c.forEach(i,(function(e,t){n.onPub(void 0,t.memId,t)})),c.forEach(n._cacheStreams,(function(e,r){var i;r.located()||(i=t[e]),!i||i.aoff===r.aoff&&i.voff==r.voff||n.onStreamControl(void 0,e,i.voff,i.aoff),i&&i.sver!==r.sver&&(c.extend(r,i),n._onRepublishStream(r))})),e&&(n._cver=e)},_onRemoveMember:function(e,t){var n=this;u.info("remove",e,t);var r=[];c.forEach(n._cacheStreams,(function(t,n){(n.memId||n.owner&&n.owner.id)===e.id&&r.push(n)})),c.forEach(r,(function(e,r){n._onRemovePubstream(r.owner,r,t)})),c.removeAttribute(n._cacheMembers,e.id),n.onRemoveMember&&n.onRemoveMember(e,t)},_onAddStream:function(e){u.info("add stream ",e.id),u.debug("add stream ",e);var t=this;t.onAddStream(e)},_onRemovePubstream:function(e,t,n){var r=this;if(t&&0!=t.id)try{var i=c.removeAttribute(r._mediaMeters,t.id);i&&i._finally()}finally{o(t)}function o(e){2===e.type&&(c.removeAttribute(r.audioMixers,e.id),e.remotePlayAudioObject&&document.body.removeChild(e.remotePlayAudioObject)),n||(n="Unpub"),e&&!e.closeReason&&e.updateAttributes({closeReason:n});r.unsubscribeStream(e.id),c.removeAttribute(r._cacheStreams,e.id);if(r._streamAutomators&&c.removeAttribute(r._streamAutomators,e.id),r._monitSoundChanagedStreams&&c.removeAttribute(r._monitSoundChanagedStreams,e.id),r.onRemoveStream){e=r.newStream(e);r.onRemoveStream(e)}}},_onRepublishStream:function(e){var t=this;if(!t._ices[e.rtcId]&&!emedia.subscribed(e)||t._maybeNotExistStreams[e.id])t.onUpdateStream(e);else{t.unsubscribeStream(e.id);t.createWebrtcAndSubscribeStream(e.id,{onGotRemote:function(e){}})}},_onRecvRemoteMessage:function(e,t,n){var r=this;u.debug("Recv remote message",e,t);var i,o=r._cacheMembers[e];try{i=JSON.parse(t)}catch(s){}r.onRecvRemoteMessage&&r.onRecvRemoteMessage(o||e,i||t,n)},_onSoundChanage:function(e,t,n){emedia.config._printSoundData&&u.info("Stream id "+t.id+", meter "+(n&&n.instant.toFixed(2)+" "+n.slow.toFixed(2)+" "+n.clip.toFixed(2)+" "+(n.trackAudioLevel||"--")+" "+(n.trackTotalAudioEnergy||"--"))),n||(n={instant:0,slow:0,clip:0}),emedia.config.logVolumeWhenInstantGE&&emedia.config.logVolumeWhenInstantGE>0&&n.instant>=emedia.config.logVolumeWhenInstantGE&&n.instant<3*emedia.config.logVolumeWhenInstantGE&&u.info("Stream id "+t.id+", webrtc = "+(t._webrtc?t._webrtc.getRtcId():"null")+", media streamId = "+(t.getMediaStream()?t.getMediaStream().id:"null")+", instant >= "+emedia.config.logVolumeWhenInstantGE+", meter instant="+n.instant+", slow="+n.slow+", clip="+n.clip);var r=this;0===n.instant&&(n.instant=n.trackAudioLevel||n.trackTotalAudioEnergy||0),r.onSoundChanage(e,t,n),r._service._judgeTalking(n)&&r.onTalking(e,t,n)},onAddMember:function(e){},onRemoveMember:function(e,t){},onAddStream:function(e){},onRemoveStream:function(e){},onUpdateStream:function(e,t){},onRecvRemoteMessage:function(e,t){},onSoundChanage:function(e,t,n){},onTalking:function(e,t,n){},_sendRequestMessage:function(e){if(e){var t=this,n=function(){var e="";for(var n in t._cacheMembers){var r=t._cacheMembers[n];if(r.role==emedia.mgr.Role.ADMIN){e=r.id;break}}return e},r=n();if(r){var o=this._memberId,a=this.memName,c=this.nickName,u=this.newMessage(),l={op:1002,memId:r,arg:(0,s.default)({op2:e,memId:o,memName:a,nickName:c||a}),tsxTime:(new Date).getTime(),_reqOps:["1002"+e]};(0,i.default)(u,l),this.postMessage(u)}else console.warn("this confrence have not admin")}},requestToTalker:function(){this._sendRequestMessage(21)},_send_action_request_message:function(e,t,n){if(t&&e&&void 0!==n){var r=t.tsxId,o=t.arg,a=o.memId,c=this.newMessage(),u={op:1001,arg:(0,s.default)({op2:e,memId:a}),memId:a,result:n,tsxId:r,_reqOps:["1002"+e]};(0,i.default)(c,u),this.postMessage(c)}},refuseRequestToTalker:function(e){this._send_action_request_message(21,e,1)},refuseRequestToAdmin:function(e){this._send_action_request_message(22,e,1)},requestToAdmin:function(){this._sendRequestMessage(22)},_sendControlAudioMessage:function(e,t){if(e&&t){var n=this.newMessage(),r={op:1002,memId:e,arg:(0,s.default)({op2:t,memId:e}),tsxTime:(new Date).getTime(),_reqOps:[100223,100224]};(0,i.default)(n,r),this.postMessage(n)}},muteBymemberId:function(e){this._sendControlAudioMessage(e,23)},unmuteBymemberId:function(e){this._sendControlAudioMessage(e,24)}});e.exports=p},function(e,t,n){"use strict";var r=n(5),i=r.tagLogger("Member"),o=n(142),s=n(147);e.exports=r.prototypeExtend({__init__:function(){var e=this;if(!e._session)throw i.error("Require session"),"Require session";e.closed=!1,e._ices={},e.supportVCodes={},e.audioMixers={}},reflushSupportVCodes:function(e){var t=this;t.supportVCodes={},t._orderVCodes=e,e&&0!=e.length?r.forEach(e,(function(e,n){t.supportVCodes[n]=1})):i.warn("Not config support vcodes")},getOptimalVideoCodecs:function(){var e=this;if(!e._orderVCodes||0==e._orderVCodes.length)return/Chrome/.test(navigator.userAgent)?"VP8":/Safari/.test(navigator.userAgent)?"H264":"VP8";var t=0;r.forEach(e._cacheMembers,(function(){t++}));for(var n,i=0,o=0;o<e._orderVCodes.length;o++){var s=e._orderVCodes[o];if(0==i&&(i=e.supportVCodes[s]),e.supportVCodes[s]>t)return s;e.supportVCodes[s]>i&&(i=e.supportVCodes[s],n=s)}return n||e._orderVCodes&&e._orderVCodes.length>0&&e._orderVCodes[0]},setMemberId:function(e){this._memberId=e},getMemberId:function(){return this._memberId||this.id},createWebrtc:function(e,t){var n=this;e||(e={}),r.extend(e,{_rebuildCount:t||0}),!0===n._service.useRTCCfg&&n.__rtc_cfg?e.iceServerConfig=r.extend(!0,{},n.__rtc_cfg):r.isPlainObject(n._service.useRTCCfg)&&(e.iceServerConfig=r.extend(!0,{},n._service.useRTCCfg));var a=new s({confrAttendee:n,useIp:n.ip,onIceStateChange:function(e){var t=e;i.debug("evt.target ice state",t);try{if("failed"==t)return n.onEvent(new o.ICEConnectFail({webrtc:a})),void(a.onEvent&&a.onEvent(new o.ICEConnectFail({webrtc:a})));if("connected"==t)return n.onEvent(new o.ICEConnected({webrtc:a})),void(a.onEvent=null);if("closed"==t)return n.onEvent(new o.ICEClosed({webrtc:a})),void(a.onEvent&&a.onEvent(new o.ICEClosed({webrtc:a})));if("disconnected"==t)return n.onEvent(new o.ICEDisconnected({webrtc:a})),void(a.onEvent&&a.onEvent(new o.ICEDisconnected({webrtc:a})))}finally{n._onIceStateChange&&n._onIceStateChange(a,e)}},onIceCandidate:function(e){n._onIceCandidate&&e&&n._onIceCandidate(a,e)},onGotRemoteStream:function(e){i.info("got stream.",a._rtcId,a.__id,e),a.onGotMediaStream&&a.onGotMediaStream(e),n.onEvent(new o.ICERemoteMediaStream({webrtc:a}))},onAddIceCandidateError:function(e){n.onEvent(new o.AddIceCandError({webrtc:a,event:e}))},onSetSessionDescriptionError:function(e){i.warn("onSetSessionDescriptionError : Failed to set session description: "+e.toString()),n.onEvent&&n.onEvent(new o.ICEConnectFail({webrtc:a,event:e}))},onCreateSessionDescriptionError:function(e){i.warn("Failed to create session description: "+e.toString()),n.onEvent&&n.onEvent(new o.ICEConnectFail({webrtc:a,event:e}))}},e);return n._ices||(n._ices={}),n._ices[a.getRtcId()]&&n._howDoWebrtcWhenCrtExsitsWebrtc(a),n._ices[a.getRtcId()]=a,n._ices[a.__id]=a,n._iceCreateRtcPeerConnection(a.getRtcId()),i.debug("create rtc ",a),a},_howDoWebrtcWhenCrtExsitsWebrtc:function(e){var t=this;t.closeWebrtc(e.getRtcId(),!0,!1)},connect:function(e,t){var n=this;n._session.connect(e,t)},connected:function(){var e=this;return e._session.connected()},newMessage:function(e){var t=this,n=t._session.newMessage(e);return n.post=function(e,n){t.postMessage(this,e,n)},n},message:function(e){var t=this,n=t._session.newMessage(e);return n.post=function(e,n){t.postMessage(this,e,n)},n},postMessage:function(e,t,n){var r=this;try{e.sessId||(e.sessId=r._session._sessionId),r._session.postMessage(e,t,n)}catch(o){t&&t({op:1001,tsxId:e.tsxId,result:-9527,msg:"post message. exception"}),i.warn(o)}},onEvent:function(e){},_onIceStateChange:function(e,t){var n=this;i.info(e.getRtcId(),t),n.onEvent(new o.ICEChanage({webrtc:e,state:t}))},_onIceCandidate:function(e,t){var n,i=this;r.isArray(t)?n=t:(n=[],n.push(t));var s=i.newMessage().setOp(105).setRtcId(e.getRtcId()).setCands(n);i.postMessage(s,(function(e){0==e.result||i.onEvent(new o.RspFail({request:s,response:e}))}))},_initC:function(e,t,n,s,a,c){var u=this;if(t&&t.rtcId!==e.getRtcId())throw i.error("stream and webrtc rtcId not equal."),"stream and webrtc rtcId not equal.";var l=u.newMessage().setOp(102).setRtcId(e.getRtcId()).setSdp(n).setSubSId(s);e.subArgs&&r.extend(l,e.subArgs),t&&t.located()&&l.setPubS(t),u.postMessage(l,(function(n){if(0!=n.result)return u.onEvent(new o.RspFail({request:l,response:n})),void(a&&a(new o.RspFail({request:l,response:n,hidden:!0===n.retrying})));t&&!t.id&&n.streamId&&t.updateAttributes({id:n.streamId});try{c&&c()}catch(r){i.warn(r)}n.sdp&&u.ansC(e.getRtcId(),n.sdp,n.cands),n.mems&&u.onMembers&&u.onMembers(n.cver,n.mems),n.streams&&u.onStreams&&u.onStreams(n.cver,n.streams)}))},_acptC:function(e,t,n){var r=this,i=r.newMessage().setOp(104).setRtcId(e.getRtcId()).setSdp(t);r.postMessage(i,(function(e){if(0!=e.result)return r.onEvent(new o.RspFail({request:i,response:e})),void(n&&n(new o.RspFail({request:i,response:e})))}))},_ansCAndPubstream:function(e,t,n,s,a){var c=this,u=c.newMessage().setOp(106).setRtcId(e.getRtcId()).setSdp(n);e.subArgs&&r.extend(u,e.subArgs),t&&t.located()&&(t=r.extend({},t),r.removeAttribute(t,"mutedMuted"),r.removeAttribute(t,"_located"),u.setPubS(t)),c.postMessage(u,(function(e){if(0!=e.result)return c.onEvent(new o.RspFail({request:u,response:e})),void(s&&s(new o.RspFail({request:u,response:e,hidden:!0===e.retrying})));t&&!t.id&&e.streamId&&t.updateAttributes({id:e.streamId});try{a&&a()}catch(n){i.warn(n)}}))},_ansC:function(e,t,n){var r=this,i=r.newMessage().setOp(106).setRtcId(e.getRtcId()).setSdp(t);r.postMessage(i,(function(e){if(0!=e.result)return r.onEvent(new o.RspFail({request:i,response:e})),void(n&&n(new o.RspFail({request:i,response:e})))}))},_termC:function(e,t,n){var r=this,i="string"===typeof e?e:e.getRtcId(),s=r.newMessage().setOp(107).setRtcId(i).setEndReason(t);r.postMessage(s,(function(e){if(0!=e.result)return r.onEvent(new o.RspFail({request:s,response:e})),void(n&&n(new o.RspFail({request:s,response:e})))}))},_iceCreateRtcPeerConnection:function(e){var t=this;t._ices[e].createRtcPeerConnection(),i.debug("create rtc peer connection",e)},doOffer:function(e,t,n){var r=this,i=r._ices[e];i.createOffer((function(e){t(e)}))},offerCall:function(e,t,n,r,i){var o=this,s=o._ices[e];s.createOffer((function(e){o._initC&&o._initC(s,t,e,n,r,i)}))},accept:function(e,t){var n=this,r=n._ices[e];r.createPRAnswer((function(e){n._acptC&&n._acptC(r,e,t)}))},answerCall:function(e,t,n,r){var i=this,o=i._ices[e];o.createAnswer((function(e){i._ansCAndPubstream&&i._ansCAndPubstream(o,t,e,n,r)}))},answer:function(e,t){var n=this,r=n._ices[e];r.createAnswer((function(e){n._ansC&&n._ansC(r,e,t)}))},onTcklC:function(e,t){var n=this;n._addIceCandidate(t,e)},onAcptC:function(e,t,n){var r=this;r._iceSetRemoteSDP(t,e),n&&r._addIceCandidate(n,e)},onAnsC:function(e,t,n){var r=this;r._iceSetRemoteSDP(t,e),n&&r._addIceCandidate(n,e)},_addIceCandidate:function(e,t){var n=this;if(e&&0!=e.length){var r=n._ices[t];r&&r.addIceCandidate(e)}else i.warn("drop cands",e)},closeWebrtc:function(e,t,n){var o=this,s=o._ices[e];if(r.forEach(o._cacheStreams,(function(t,n){if(n.rtcId===e&&!n.located())try{var s=r.removeAttribute(o._mediaMeters,t);s&&s._finally()}catch(a){i.warn(a)}n.rtcId===e&&2===n.type&&r.removeAttribute(o.audioMixers,n.id)})),!s||s.closed)return i.warn("Webrtc not exsits or closed",s&&s.closed),n&&s&&r.forEach(o._cacheStreams,(function(t,n){n.rtcId===e&&(r.removeAttribute(o._linkedStreams,t),i.warn("Webrtc close, remvoe from _linkedStreams",t))})),void(n||o._termC(e,0));if(o._records){var a=function(e){try{o.stopRecord(e)}catch(t){i.warn(t)}finally{r.removeAttribute(o._records,e.id)}};r.forEach(o._records,(function(t,n){n.rtcId===e&&a(n)}))}try{n||s&&o._termC(s,t&&s._localStream?-10:0)}finally{s&&s.close(t),s&&o.onWebrtcTermC&&o.onWebrtcTermC(s),t||s&&r.forEach(o._cacheStreams,(function(t,s){s.rtcId===e&&(s.located()&&(emedia.stopTracks(s._localMediaStream),s&&!s.closeReason&&s.updateAttributes({closeReason:"WebrtcClose"}),o._cacheStreams[t]&&o._linkedStreams[t]&&o.onRemoveStream(s),r.removeAttribute(o._cacheStreams,t),o._streamAutomators&&r.removeAttribute(o._streamAutomators,t),o._monitSoundChanagedStreams&&r.removeAttribute(o._monitSoundChanagedStreams,t),i.info("Webrtc close. Remove stream",t,". from cache")),n&&(r.removeAttribute(o._linkedStreams,t),i.info("Webrtc close. Remove stream",t,". from _linkedStreams")))}))}return s},__close:function(e){i.warn("closing, reason = ",e);var t=this;if(!t.closed){if(t.closed=!0,t.__getCopyInterval&&(clearInterval(t.__getCopyInterval),i.warn("Stop interval get copy")),t._ices)for(var n in t._ices)t.closeWebrtc(n,!1);var r=t.newMessage().setOp(201).setReason(e||0);t.postMessage(r)}},exit:function(e){var t=this;e?(e&&t._closeMyConfr(11),setTimeout((function(){t.close(0)}),100)):t.close(0)},_closeMyConfr:function(e){var t=this,n=t.newMessage().setOp(204).setReason(e||0);t.postMessage(n,(function(e){i.warn("Close confr ",e.result,e.msg)}))},close:function(e,t){var n=this;if(!n.closed)try{r.forEach(n._cacheStreams||{},(function(e,t){t.located()&&t._localMediaStream&&emedia.stopTracks(t._localMediaStream)})),n.__close(e),r.forEach(n._cacheStreams,(function(e,t){n.onRemoveStream(t)})),r.forEach(n._cacheMembers,(function(e,t){n.onRemoveMember(t)}))}finally{try{setTimeout((function(){n._session&&n._session.close(e)}),500),n.onEvent(new o.Hangup({reason:e,failed:t,self:{id:n._memberId}})),n.onMeExit&&n.onMeExit(e,t)}catch(s){i.error(s)}finally{n._onFinally&&n._onFinally()}}},webrtcState:function(e){var t=this,n=t._ices[e];return n.iceConnectionState()},_iceSetRemoteSDP:function(e,t){var n=this,r=n._ices[t];r.setRemoteDescription(e)},setLocalStream:function(e,t){var n=this,r=n._ices[t];r.setLocalStream(e)},onWebrtcTermC:function(e){}})},function(e,t,n){"use strict";var r=n(77),i=a(r),o=n(111),s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var c=n(5),u=c.tagLogger("Webrtc"),l=n(148),d=n(143).default,f={headerSection:null,audioSection:null,videoSection:null,_parseHeaderSection:function(e,t,n){var r=t;return-1===n||(r=-1===t?n:Math.min(t,n)),r>=0?e.slice(0,r):e},_parseAudioSection:function(e,t,n){var r=t;if(r>=0)return e.slice(r,n<r?e.length:n)},_parseVideoSection:function(e,t,n){var r=n;if(r>=0)return e.slice(r,t<r?e.length:t)},spiltSection:function(e){var t=this;t._preSDP=e;var n=t._preAudioIndex=e.indexOf("m=audio"),r=t._preVideoIndex=e.indexOf("m=video");t.headerSection=t._parseHeaderSection(e,n,r),t.audioSection=t._parseAudioSection(e,n,r),t.videoSection=t._parseVideoSection(e,n,r)},setVideoBitrate:function(e){e&&this.videoSection&&(this.videoSection=this.setBitrate(this.videoSection,e))},setVideoMinBitrate:function(e){this.setAllFmtpBitrate({"x-google-min-bitrate":e})},setVideoMaxBitrate:function(e){this.setAllFmtpBitrate({"x-google-max-bitrate":e})},setVideoStartBitrate:function(e){this.setAllFmtpBitrate({"x-google-start-bitrate":e})},setAllFmtpBitrate:function(e){if(this.videoSection){var t={};(0,s.default)(e).forEach((function(n){var r=e[n],i=n+"="+r,o=new RegExp("(a=fmtp\\:\\d+\\s\\S*;?)("+n+"=\\d+)(;?\\S*)","g");t[n]={field:i,regex:o}})),this.videoSection=this.videoSection.replace(/(a=fmtp\:\d+[^\r\n]+)([\r\n]+)/g,(function(e,n,r){return n.indexOf("apt=")>=0?e:((0,s.default)(t).forEach((function(e){var r=t[e],i=r.regex,o=r.field,s=n.replace(i,(function(e,t,n,r){return t+o+r}));s.indexOf(e)<0?(s.endsWith(";")||(s+=";"),n=s+o):n=s})),n+r)}))}},setFmtpBitrate:function(e,t){if(t&&this.videoSection){var n=e+"="+t,r=new RegExp("(a=fmtp\\:\\d+\\s\\S*;?)("+e+"=\\d+)(;?\\S*)","g");this.videoSection=this.videoSection.replace(/(a=fmtp\:\d+[^\r\n]+)([\r\n]+)/g,(function(t,i,o){var s=i.replace(r,(function(e,t,r,i){return t+n+i}));return s.indexOf(e)<0&&(s.endsWith(";")||(s+=";"),s+=n),s+o}))}},setAudioBitrate:function(e){e&&this.audioSection&&(this.audioSection=this.setBitrate(this.audioSection,e))},setBitrate0:function(e,t){return e=e.replace(/(b=)(?:AS|TIAS)(\:)\d+/g,"$1AS$2"+t),e.indexOf("b=AS")<0&&(e=e.replace(/(m=(?:audio|video)[^\r\n]+)([\r\n]+)/g,"$1$2b=AS:"+t+"$2")),e},setBitrate:function(e,t){var n="AS";return emedia.isFirefox&&(t=1e3*(t>>>0),n="TIAS"),e=e.replace(/(b=)(?:AS|TIAS)(\:)\d+/g,"$1"+n+"$2"+t),e.indexOf("b="+n+":")<0&&(e=e.indexOf("c=IN ")<0?e.replace(/(m=(?:audio|video)[^\r\n]+)([\r\n]+)/g,"$1$2b="+n+":"+t+"$2"):e.replace(/c=IN ([^\r\n]+)([\r\n]+)/,"c=IN $1$2b="+n+":"+t+"$2")),e},updateVideoSection:function(e,t){var n=this;n.videoSection&&(n.videoSection=n.videoSection.replace(e,t))},updateAudioSection:function(e,t){var n=this;n.audioSection&&(n.audioSection=n.audioSection.replace(e,t))},updateVideoSendonly:function(){var e=this;e.videoSection&&(e.videoSection=e.videoSection.replace(/sendrecv/g,"sendonly"))},updateVideoRecvonly:function(){var e=this;e.videoSection&&(e.videoSection=e.videoSection.replace(/sendrecv/g,"recvonly"))},updateAudioSendonly:function(){var e=this;e.audioSection&&(e.audioSection=e.audioSection.replace(/sendrecv/g,"sendonly"))},updateAudioRecvonly:function(){var e=this;e.audioSection&&(e.audioSection=e.audioSection.replace(/sendrecv/g,"recvonly"))},updateACodes:function(e){var t=this;if(e&&t.audioSection){if("string"===typeof e){var n=[];n.push(e),e=n}for(var r={},i=/a=rtpmap:(\d+) ([A-Za-z0-9]+)\/.*/gi,o=(n=t._parseLine(t.audioSection,i),0);o<n.length;o++){var s=n[++o],a=n[++o];r[a]=s}var l=[];for(o=0;o<e.length;o++){var d=r[e[o]];d&&l.push(d)}0==l.length&&(t._webrtc?u.warn("Not found acodes map",e,t._webrtc._rtcId,t._webrtc.__id):u.warn("Not found acodes map",e));var f=t.audioSection.indexOf("\r"),p=t.audioSection.substring(0,f),h=p.split(" ");Array.prototype.push.apply(l,h.slice(3));var m=[],v={};c.forEach(l,(function(e,t){0==m.length?(m.push(t),v[t]=!0):v[t]||(m.push(t),v[t]=!0)})),h.splice(3,h.length-3,m.join(" ")),p=h.join(" "),t._webrtc&&u.warn(p,t._webrtc._rtcId,t._webrtc.__id),t.audioSection=p+t.audioSection.substring(f)}},updateVCodes:function(e){var t=this;if(e&&t.videoSection){if("string"===typeof e){var n=[];n.push(e),e=n}for(var r={},i=/a=rtpmap:(\d+) ([A-Za-z0-9]+)\/.*/gi,o=(n=t._parseLine(t.videoSection,i),0);o<n.length;o++){var s=n[++o],a=n[++o];r[a]=s}var l=/a=fmtp:(\d+) .*profile-level-id=42e01f;?.*/gi,d=t._parseLine(t.videoSection,l);d&&d.length>=2&&(r["H264"]=d[1]);var f=[];for(o=0;o<e.length;o++){var p=r[e[o]];p&&f.push(p)}0==f.length&&(t._webrtc?u.warn("Not found vcodes map",e,t._webrtc._rtcId,t._webrtc.__id):u.warn("Not found vcodes map",e));var h=t.videoSection.indexOf("\r"),m=t.videoSection.substring(0,h),v=m.split(" ");Array.prototype.push.apply(f,v.slice(3));var b=[],y={};c.forEach(f,(function(e,t){0==b.length?(b.push(t),y[t]=!0):y[t]||(b.push(t),y[t]=!0)})),v.splice(3,v.length-3,b.join(" ")),m=v.join(" "),t._webrtc&&u.warn(m,t._webrtc._rtcId,t._webrtc.__id),t.videoSection=m+t.videoSection.substring(h)}},removeSSRC:function(e){for(var t=[],n=e.split(/a=ssrc:[^\n]+/g),r=0;r<n.length;r++)"\n"!=n[r]&&t.push(n[r]);return t.join("\n")},removeField_msid:function(e){for(var t=[],n=e.split(/a=msid:[^\n]+/g),r=0;r<n.length;r++)"\n"!=n[r]&&t.push(n[r]);e=t.join("\n"),t=[],n=e.split(/[\n]+/g);for(r=0;r<n.length;r++)"\n"!=n[r]&&t.push(n[r]);return t.join("\n")},updateHeaderMsidSemantic:function(e){var t=this,n="a=msid-semantic: WMS "+e,r=t.headerSection.split(/a=msid\-semantic: WMS.*/g),i=[];switch(r.length){case 1:i.push(r[0]);break;case 2:i.push(r[0]),i.push(n),i.push("\n");break;case 3:i.push(r[0]),i.push(n),i.push("\n"),i.push(r[2]),i.push("\n");break}return t.headerSection=i.join("")},updateAudioSSRCSection:function(e,t,n,r){var i=this;i.audioSection&&(i.audioSection=i.removeSSRC(i.audioSection)),i.audioSection&&(i.audioSection=i.removeField_msid(i.audioSection)),i.audioSection&&(i.audioSection=i.audioSection+i.ssrcSection(e,t,n,r))},updateVideoSSRCSection:function(e,t,n,r){var i=this;i.videoSection&&(i.videoSection=i.removeSSRC(i.videoSection)),i.videoSection&&(i.videoSection=i.removeField_msid(i.videoSection)),i.videoSection&&(i.videoSection=i.videoSection+i.ssrcSection(e,t,n,r))},getUpdatedSDP:function(e){var t,n,r,i=this;if(void 0!==e&&null!=e||(e=i._preAudioIndex<i._preVideoIndex),i.videoSection&&i.videoSection.replace(/a=mid:([^\r\n]+)/,(function(e,n){return t=n,e})),i.audioSection&&i.audioSection.replace(/a=mid:([^\r\n]+)/,(function(e,t){return n=t,e})),e){var o=["a=group:BUNDLE"];i.audioSection&&o.push(n),i.videoSection&&o.push(t),r=i.headerSection.replace(/a=group:BUNDLE [^\r\n]+/,o.join(" ")),i.audioSection&&(r+=i.audioSection),i.videoSection&&(r+=i.videoSection)}else{o=["a=group:BUNDLE"];i.videoSection&&o.push(t),i.audioSection&&o.push(n),r=i.headerSection.replace(/a=group:BUNDLE [^\r\n]+/,o.join(" ")),i.videoSection&&(r+=i.videoSection),i.audioSection&&(r+=i.audioSection)}return r},parseMsidSemantic:function(e){var t=this,n=/a=msid\-semantic:\s*WMS (\S+)/gi,r=t._parseLine(e,n);return r&&2==r.length&&(t.msidSemantic={line:r[0],WMS:r[1]}),t.msidSemantic},ssrcSection:function(e,t,n,r){var i=["a=ssrc:"+e+" cname:"+t,"a=ssrc:"+e+" msid:"+n+" "+r,"a=ssrc:"+e+" mslabel:"+n,"a=ssrc:"+e+" label:"+r,""];return i.join("\n")},parseSSRC:function(e){var t=this,n=new RegExp("a=(ssrc):(\\d+) (\\S+):(\\S+)","ig"),r=t._parseLine(e,n);if(r){for(var i={lines:[],updateSSRCSection:t.ssrcSection},o=0;o<r.length;o++){var s=r[o];if(s.indexOf("a=ssrc")>=0)i.lines.push(s);else switch(s){case"ssrc":case"cname":case"msid":case"mslabel":case"label":i[s]=r[++o]}}return i}},_parseLine:function(e,t){var n,r=[];while(null!=(n=t.exec(e)))for(var i=0;i<n.length;i++)r.push(n[i]);if(r.length>0)return r}},p=function(e,t){c.extend(this,f),this._webrtc=t,this.spiltSection(e)};p.isAudioVideo=function(e){var t=e.indexOf("m=audio"),n=e.indexOf("m=video");return t<n},p.isVideoPreAudio=function(e){var t=e.indexOf("m=audio"),n=e.indexOf("m=video");return t>=0&&n>=0&&n<t};var h=emedia.__rtc_globalCount=0,m=c.prototypeExtend({closed:!1,sdpConstraints:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}},offerOptions:{offerToReceiveAudio:!0,offerToReceiveVideo:!0},optimalVideoCodecs:null,optimalAudioCodecs:null,__init__:function(){var e=this;e._rtcId||(e._rtcId="RTC"+h++),e.__id="_i_"+h++,e.__setRemoteSDP=!1,e.__tmpRemoteCands=[],e.__tmpLocalCands=[],e._rtcPeerConnection=null,e.cctx=e.__id,emedia&&emedia.config&&emedia.config.forceUseVideoCodecs&&emedia.config.forceUseVideoCodecs.length>0&&(e.optimalVideoCodecs=emedia.config.forceUseVideoCodecs),emedia&&emedia.config&&emedia.config.forceUseAudioCodecs&&emedia.config.forceUseAudioCodecs.length>0&&(e.optimalAudioCodecs=emedia.config.forceUseAudioCodecs),emedia&&emedia.config&&"number"===typeof emedia.config.forceVideoBitrate&&(e.vbitrate=emedia.config.forceVideoBitrate),emedia&&emedia.config&&"number"===typeof emedia.config.forceMinVideoBitrate&&(e.vminBitrate=emedia.config.forceMinVideoBitrate),emedia&&emedia.config&&"number"===typeof emedia.config.forceAudioBitrate&&(e.abitrate=emedia.config.forceAudioBitrate),u.info("Webrtc created. optimal video codecs:",e.optimalVideoCodecs,"audio codecs:",e.optimalAudioCodecs,"vbitrate:",e.vbitrate,"vminBitrate:",e.vminBitrate,"abitrate:",e.abitrate,e._rtcId,e.__id)},getRtcId:function(){return this._rtcId},iceState:function(){var e=this;return e._rtcPeerConnection.iceConnectionState},setSubArgs:function(e){var t=this;t.subArgs=e},getReceiversOfPeerConnection:function(){var e=this;if(e._rtcPeerConnection&&"closed"!=e._rtcPeerConnection.iceConnectionState)return e._rtcPeerConnection.getReceivers()},updateRemoteBySubArgs:function(){var e=this;e.subArgs&&e._remoteStream&&(emedia.enableVideoTracks(e._remoteStream,!(e.subArgs&&!1===e.subArgs.subSVideo)),emedia.enableAudioTracks(e._remoteStream,!(e.subArgs&&!1===e.subArgs.subSAudio)),u.info("enable tracks remote stream",e._remoteStream,e.subArgs,e._rtcId,e.__id,e.closed))},createRtcPeerConnection:function(e){var t=this;u.debug("begin create peer connection ......",t._rtcId,t.__id,t.closed),e||(e=t.iceServerConfig),e||emedia.isEdge?(e||(e={}),!e.iceServers&&(e.iceServers=[]),e.rtcpMuxPolicy="require",e.bundlePolicy="max-bundle",e.relayOnly&&(e.iceTransportPolicy="relay")):e=null,emedia&&emedia.config&&"function"===typeof emedia.config.reconfigRTCConfiguration&&(e=emedia.config.reconfigRTCConfiguration(e)),u.info("create pc, set config:",e,t._rtcId,t.__id,t.closed);var n=t._rtcPeerConnection=new RTCPeerConnection(e);function r(e){u.info("states: connectionState",n.connectionState,", iceConnectionState",n.iceConnectionState,"@",t._rtcId,t.__id,t.closed);try{var r=n.iceConnectionState||n.connectionState;"failed"!=n.connectionState&&"failed"!=n.iceConnectionState||(r="failed"),t.lastIceConnectionState!==r&&(t.lastIceConnectionState=r,t.onIceStateChange(r))}finally{}}n.__peerId=t._rtcId,u.debug("created local peer connection object",n,t._rtcId),n.onicecandidate=function(e){var n=e.candidate;if("icecandidate"!=e.type||n&&("string"!==typeof n.protocol||"tcp"!==n.protocol.toLowerCase())&&!/ TCP /.test(n.candidate)){if(!n.candidate)throw u.error("Not found candidate. candidate is error"),"Not found candidate. candidate is error,";if(n.cctx=t.cctx,!t.__setRemoteSDP)return(t.__tmpLocalCands||(t.__tmpLocalCands={})).push(n),void u.debug("On ICE candidate ok: but tmp buffer caused by not set remote sdp: ",n,t._rtcId,t.__id,t.closed);u.debug("On ICE candidate ok: ",n,t._rtcId,t.__id,t.closed),t._onIceCandidate(n)}else u.debug("On ICE candidate: drop",n,t._rtcId,t.__id,t.closed)},t.lastIceConnectionState="",n.onconnectionstatechange=r.bind(t),n.onicestatechange=r.bind(t),n.oniceconnectionstatechange=r.bind(t),n.onsignalingstatechange=function(e){u.info("states: signaling",n.signalingState,"@",t._rtcId,t.__id,t.closed)},null===n.ontrack&&t._onTrack&&(n.ontrack=function(e){t._onTrack(e)}),n.onaddstream=function(e){t._onGotRemoteStream(e)}},addTrack:function(e,t){var n=this;e.forEach((function(e){n._rtcPeerConnection.addTrack(e,t),u.debug("Added track(",e.id,e.kind,e.label,") of stream(",t.id,") to RtcPeerConnection",n._rtcId,n.__id,n.closed)}))},setLocalStream:function(e){var t=this;if(t._localStream=e,t._rtcPeerConnection.addTrack)e.getTracks().forEach((function(n){t._rtcPeerConnection.addTrack(n,e),u.debug("Added track(",n.enabled,n.id,n.kind,n.label,") of localStream(",e.id,") to RtcPeerConnection",t._rtcId,t.__id,t.closed)}));else{t._rtcPeerConnection.addStream(e);var n=e.getVideoTracks(),r=e.getAudioTracks();n&&n.length>0&&u.debug("RtcPeerConnection video: ",n[0].enabled,n[0].id,n[0].kind,n[0].label,t._rtcId,t.__id,t.closed),r&&r.length>0&&u.debug("RtcPeerConnection audio: ",r[0].enabled,r[0].id,r[0].kind,r[0].label,t._rtcId,t.__id,t.closed)}u.debug("Added local stream to RtcPeerConnection",e.id,e.active,t._rtcId,t.__id,this.closed)},removeStream:function(e){this._rtcPeerConnection.removeStream(e),u.debug("Remove stream from RtcPeerConnection",e,self._rtcId,self.__id,this.closed)},getLocalStream:function(){return this._localStream},getRemoteStream:function(){return this._remoteStream},createOffer:function(e,t){var n=this;u.debug("createOffer start...",n.offerOptions,n._rtcId,n.__id);var r=c.extend({},n.offerOptions);return n.subArgs&&(r={offerToReceiveAudio:!0,offerToReceiveVideo:!0}),n._rtcPeerConnection.createOffer(r).then((function(t){if(n.offerDescription=t,emedia.isEdge&&(t.sdp=t.sdp.replace(/profile-level-id=[^;]+/,"profile-level-id=42e01f")),emedia.isFirefox?n.fireFoxOfferVideoPreAudio=n.__offerVideoPreAudio=p.isVideoPreAudio(t.sdp):n.__offerVideoPreAudio=p.isVideoPreAudio(t.sdp),t.sdp=t.sdp.replace(/m=video 0/g,"m=video 9"),u.warn("setLocalDescription. modify offer. if 'm=video 0' -> 'm=video 9'; if H264, 'profile-level-id=42e01f'",n._rtcId,n.__id),n.optimalVideoCodecs&&n.optimalVideoCodecs.length>0||n.optimalAudioCodecs&&n.optimalAudioCodecs.length>0||n.offerOptions&&(!1===n.offerOptions.offerToReceiveVideo||!1===n.offerOptions.offerToReceiveAudio)){var r=new p(t.sdp,n);n.optimalVideoCodecs&&r.updateVCodes(n.optimalVideoCodecs),n.optimalAudioCodecs&&r.updateACodes(n.optimalAudioCodecs),n.offerOptions&&!1===n.offerOptions.offerToReceiveVideo&&r.updateVideoSection(/a=sendrecv|a=recvonly/g,"a=sendonly"),n.offerOptions&&!1===n.offerOptions.offerToReceiveAudio&&r.updateAudioSection(/a=sendrecv|a=recvonly/g,"a=sendonly"),t.sdp=r.getUpdatedSDP()}u.debug("setLocalDescription start",n._rtcId,n.__id,n.closed,n.optimalVideoCodecs,n.optimalAudioCodecs),n._rtcPeerConnection.setLocalDescription(t).then(n._onSetLocalSessionDescriptionSuccess.bind(n),n._onSetSessionDescriptionError.bind(n,t)).then((function(){t.cctx=n.cctx,(e||n.onCreateOfferSuccess.bind(n))(t)}))}),t||n._onCreateSessionDescriptionError.bind(n,r))},createPRAnswer:function(e,t){var n=this;return u.info(" createPRAnswer start",n.closed,n.sdpConstraints),n._rtcPeerConnection.createAnswer(n.sdpConstraints).then((function(t){u.debug("_____________PRAnswer ",t.sdp,n._rtcId,n.__id,n.closed),t.type="pranswer",t.sdp=t.sdp.replace(/a=recvonly/g,"a=inactive");var r=new p(t.sdp,n);n.optimalVideoCodecs&&r.updateVCodes(n.optimalVideoCodecs),n.optimalAudioCodecs&&r.updateACodes(n.optimalAudioCodecs),t.sdp=r.getUpdatedSDP(),n.__prAnswerDescription=t,u.debug("inactive PRAnswer ",t.sdp,n._rtcId,n.__id,n.closed),u.debug("setLocalDescription start",t,n._rtcId,n.__id,n.closed),n._rtcPeerConnection.setLocalDescription(t).then(n._onSetLocalSessionDescriptionSuccess.bind(n),n._onSetSessionDescriptionError.bind(n,t)).then((function(){r.updateHeaderMsidSemantic("MS_0000"),r.updateAudioSSRCSection(1e3,"CHROME0000","MS_0000","LABEL_AUDIO_1000"),r.updateVideoSSRCSection(2e3,"CHROME0000","MS_0000","LABEL_VIDEO_2000"),t.sdp=r.getUpdatedSDP(),u.debug("Send PRAnswer ",t.sdp,n._rtcId,n.__id,n.closed),n.cctx&&(t.cctx=n.cctx),(e||n.onCreatePRAnswerSuccess.bind(n))(t)}))}),t||n._onCreateSessionDescriptionError.bind(n,n.sdpConstraints))},createAnswer:function(e,t){var n=this;return u.info("createAnswer start",n.closed,n.sdpConstraints),n._rtcPeerConnection.createAnswer(n.sdpConstraints).then((function(t){function r(e){var n=e.parseMsidSemantic(e.headerSection);if(n){"*"==n.WMS&&e.updateHeaderMsidSemantic(n.WMS="MS_0000");var r=e.parseSSRC(e.audioSection),i=e.parseSSRC(e.videoSection);r&&e.updateAudioSSRCSection(1e3,"CHROME0000",n.WMS,r.label||"LABEL_AUDIO_1000"),i&&e.updateVideoSSRCSection(2e3,"CHROME0000",n.WMS,i.label||"LABEL_VIDEO_2000"),t.sdp=e.getUpdatedSDP()}}u.debug("_____________________Answer ",n._rtcId,n.__id,n.closed),t.type="answer";var i=new p(t.sdp,n);n.optimalVideoCodecs&&i.updateVCodes(n.optimalVideoCodecs),n.optimalAudioCodecs&&i.updateACodes(n.optimalAudioCodecs),emedia.supportPRAnswer?r(i):t.sdp=i.getUpdatedSDP(),n.__answerDescription=t,u.debug("Answer ",n._rtcId,n.__id,n.closed),u.debug("setLocalDescription start",t,n._rtcId,n.__id,n.closed),n._rtcPeerConnection.setLocalDescription(t).then(n._onSetLocalSessionDescriptionSuccess.bind(n),n._onSetSessionDescriptionError.bind(n,t)).then((function(){emedia.supportPRAnswer&&(i.updateHeaderMsidSemantic("MS_0000"),i.updateAudioSSRCSection(1e3,"CHROME0000","MS_0000","LABEL_AUDIO_1000"),i.updateVideoSSRCSection(2e3,"CHROME0000","MS_0000","LABEL_VIDEO_2000"),t.sdp=i.getUpdatedSDP()),u.debug("Send Answer ",n._rtcId,n.__id,n.closed),n.cctx&&(t.cctx=n.cctx),(e||n.onCreateAnswerSuccess.bind(n))(t)}))}),t||n._onCreateSessionDescriptionError.bind(n,n.sdpConstraints))},_printStats:function(e){var t=this;t.confrAttendee&&emedia.config.remainLastStatsCount&&e&&e.getTracks().forEach((function(e){t._printTrackStats(e)}))},_printTrackStats:function(e){var t=this;if(t.confrAttendee&&emedia.config.remainLastStatsCount){var n=t.confrAttendee._trackStats&&t.confrAttendee._trackStats[e.id];if(n){for(var r in n){var i=n[r];for(var o in i){var s=i[o];if(s)for(var a=s.curIndex,l=0;l<emedia.config.remainLastStatsCount;l++){a=(a-1)%emedia.config.remainLastStatsCount;var d=s[a];if(!d||void 0===d.data)break;u.info("[track]",t._rtcId,t.__id,e.kind,e.id,r,o,d.data,d.timestamp.toLocaleString())}}}c.removeAttribute(t.confrAttendee._trackStats,e.id)}}},close:function(e,t,n){var r=this;if(u.warn("webrtc closing",r._rtcId,r.__id,r.closed),r.__iceWaitIntervalId&&clearTimeout(r.__iceWaitIntervalId),!r.closed){t=!0===t,r.closed=!0;try{var i=function(){if(r._rtcPeerConnection&&r._rtcPeerConnection.close(),u.info("peer connection close. it is",r._rtcPeerConnection&&r._rtcPeerConnection.__peerId),!n&&emedia.isSafari){r._rtcPeerConnection.iceConnectionState||r._rtcPeerConnection.connectionState;setTimeout((function(){r._rtcPeerConnection.iceConnectionState||r._rtcPeerConnection.connectionState;r.onIceStateChange&&r.onIceStateChange("closed")}),200)}},o=r._localStream,s=r._remoteStream;emedia.config.printStatsWhenPCClose?r.getStats((function(){i(),o&&r._printStats(o),s&&r._printStats(s)})):i()}catch(a){u.warn(a)}finally{r._localStream&&!1===e&&emedia.stopTracks(r._localStream),r._remoteStream&&emedia.stopTracks(r._remoteStream),r._remoteStream=null,t||r.onClose&&r.onClose(),!0===n&&(u.info("Webrtc close. but retry build. will onIceStateChange(failed). eg. emedia.config iceWaitBuildMillis",r._rtcId,r.__id),r.onIceStateChange&&r.onIceStateChange("failed")),u.warn("webrtc closed. closed:",r._rtcId,r.__id,r.closed)}}},addIceCandidate:function(e){console.log("addIceCandidate candidate",(0,i.default)(e));var t=this,n=c.isArray(e)?e:[e];if(emedia.config.useDeployMore&&(emedia.mgr.rtc_url_config||(emedia.mgr.rtc_url_config=new d),n=emedia.mgr.rtc_url_config.replace_candidates(n)),emedia&&emedia.config&&"function"===typeof emedia.config.reChanageCandidate){for(var r=[],o=0;o<n.length;o++){e=n[o];var s=emedia.config.reChanageCandidate(e);s&&(u.info("Candidate rechanage. addons. it =",e,"->",s),c.isArray(s)?Array.prototype.push.apply(r,s):r.push(s))}n=r}t._addIceCandidate(n)},_addIceCandidate:function(e){var t=this;if(t._rtcPeerConnection){u.debug("Add ICE candidate: ",e,t._rtcId,t.__id,t.closed);var n=c.isArray(e)?e:[e];
//!_util.isArray(candidate) && _cands.push(candidate);
if(!t.__setRemoteSDP)return Array.prototype.push.apply(t.__tmpRemoteCands||(t.__tmpRemoteCands={}),n),void u.debug("Add ICE candidate but tmp buffer caused by not set remote sdp: ",e,t._rtcId,t.__id,t.closed);for(var r=0;r<n.length;r++)if(e=n[r],e.cctx&&e.cctx!=t.cctx)u.warn("addIceCandidate fail drop. cctx not equal. ",e,t._rtcId,t.__id,t.closed);else{if(!0===t.fireFoxOfferVideoPreAudio){var i=e.sdpMLineIndex;e.sdpMLineIndex=parseInt(e.sdpMid.replace(/[^0-9]*/,"")),u.warn("Firefox sdp section video pre audio, sdp mline index update ",i,"->",e.sdpMLineIndex)}e.candidate&&""!==e.candidate?t._rtcPeerConnection.addIceCandidate(new RTCIceCandidate(e)).then(t.onAddIceCandidateSuccess.bind(t),t._onAddIceCandidateError.bind(t,e)):u.warn("Add ICE candidate fail. drop it ",e,t._rtcId,t.__id,t.closed)}}},setRemoteDescription:function(e){var t=this;return t._setRemoteDescription(e)},_setRemoteDescription:function(e){var t=this;if(t.__iceWaitIntervalId&&(clearTimeout(t.__iceWaitIntervalId),t.__iceWaitIntervalId=null,u.info("emedia.config iceWaitBuildMillis, clear ice wait interval id",t._rtcId,t.__id)),u.debug("setRemoteDescription start. ",t._rtcId,t.__id,t.closed),t.offerDescription){if(e.cctx&&e.cctx!=t.cctx)return void u.warn("setRemoteDescription fail drop. cctx not equal. ",e,t._rtcId,t.__id,t.closed);if(!0===t.fireFoxOfferVideoPreAudio||!0===t.__offerVideoPreAudio){var n=new p(e.sdp,t);e.sdp=n.getUpdatedSDP(!1),u.info("Remote sdp.2. switch audio video",e.sdp)}}else e.cctx&&(t.cctx=e.cctx);if(e.sdp=e.sdp.replace(/UDP\/TLS\/RTP\/SAVPF/g,"RTP/SAVPF"),u.warn("setRemoteDescription. UDP/TLS/RTP/SAVPF -> RTP/SAVPF; if firefox: switch audio video;",t._rtcId,t.__id),t.vbitrate||t.abitrate||t.vminBitrate){n=new p(e.sdp,t);t.vbitrate&&n.setVideoBitrate(t.vbitrate),t.vminBitrate&&n.setVideoMinBitrate(t.vminBitrate),t.abitrate&&n.setAudioBitrate(t.abitrate),u.warn("vbitrate = ",t.vbitrate,"vminBitrate = ",this.vminBitrate,", abitrate = ",t.abitrate,t._rtcId,t.__id),e.sdp=n.getUpdatedSDP("undefined"===typeof t.__offerVideoPreAudio||null===t.__offerVideoPreAudio?void 0:!t.__offerVideoPreAudio)}return u.debug("final remote sdp =",e.sdp,t._rtcId,t.__id),e=t.__remoteDescription=new RTCSessionDescription(e),t._rtcPeerConnection.setRemoteDescription(e).then((function(){t.__setRemoteSDP=!0,t._onSetRemoteSuccess.apply(t,arguments),t.__tmpLocalCands&&t.__tmpLocalCands.length>0&&(u.debug("After setRemoteDescription. send cands",t._rtcId,t.__id,t.closed),t._onIceCandidate(t.__tmpLocalCands),t.__tmpLocalCands=[]),t.__tmpRemoteCands&&t.__tmpRemoteCands.length>0&&(u.debug("After setRemoteDescription. add tmp cands",t._rtcId,t.__id,t.closed),t._addIceCandidate(t.__tmpRemoteCands),t.__tmpRemoteCands=[])}),t._onSetSessionDescriptionError.bind(t,e))},iceConnectionState:function(){var e=this;return e._rtcPeerConnection.iceConnectionState},isConnected:function(){var e=this,t=e.lastIceConnectionState;return"connected"===t||"completed"===t},_onGotRemoteStream:function(e){var t=this;t._remoteStream=e.stream||e.streams[0],t._remoteStream._rtcId=t._rtcId,t._remoteStream.__rtc_c_id=t.__id,u.debug("On got remote stream",t._remoteStream?t._remoteStream.id+"_"+t._remoteStream.active:"null",t._rtcId,t.__id),t._remoteStream&&t._remoteStream.getTracks().forEach((function(e){u.debug("remote stream",t._remoteStream.id," track =",e.enabled,e.id,e.kind,e.label,t._rtcId,t.__id)})),t.updateRemoteBySubArgs(),this.onGotRemoteStream(this._remoteStream,e),u.debug("received remote stream, you will see the other.",t._rtcId,t.__id,this.closed)},_onSetRemoteSuccess:function(){u.info("onSetRemoteSuccess success",this._rtcId,this.__id),this.onSetRemoteSuccess.apply(this,arguments),this.offerDescription&&this.__remoteDescription&&this.__remoteDescription.sdp&&this._onAnswerCodes(this.__remoteDescription.sdp)},_onAnswerCodes:function(e){var t=this,n=new p(e,this);if(n.videoSection){var r=l.parseRtpParameters(n.videoSection);if(!r.codecs||0===r.codecs.length)return void u.info("not found any video codes. @ ",t._rtcId,t.__id);var i=[];c.forEach(r.codecs,(function(e,t){i.push(t.name)})),t.finalVCodeChoices=i,t.onVCodeChoices&&t.onVCodeChoices(i)}},onSetRemoteSuccess:function(){},onAddIceCandidateSuccess:function(){u.debug("addIceCandidate success",this._rtcId,this.__id)},_onAddIceCandidateError:function(e,t){u.error("failed to add ICE Candidate: "+t.toString(),", error candidate:",e,this._rtcId,this.__id),this.onAddIceCandidateError(t)},onAddIceCandidateError:function(e){},_onIceCandidate:function(e){u.debug("onIceCandidate:",e,this._rtcId,this.__id),this.onIceCandidate(e)},onIceCandidate:function(e){},onIceStateChange:function(e){u.debug("onIceStateChange : ICE state ",e)},_onCreateSessionDescriptionError:function(e,t){u.error("Failed to create session description: "+t.toString()," offerOptionsOrSDPConstraints:",e,this._rtcId,this.__id),this.onCreateSessionDescriptionError(t)},onCreateSessionDescriptionError:function(e){},onCreateOfferSuccess:function(e){u.debug("create offer success",this._rtcId,this.__id)},onCreatePRAnswerSuccess:function(e){u.debug("create answer success",this._rtcId,this.__id)},onCreateAnswerSuccess:function(e){u.debug("create answer success",this._rtcId,this.__id)},_onSetSessionDescriptionError:function(e,t){u.error("onSetSessionDescriptionError : Failed to set session description: ",t.toString(),this._rtcId,this.__id),e&&e.type&&e.sdp&&u.error("error sdp: type=",e.type,"sdp=",e.sdp,this._rtcId,this.__id),this.onSetSessionDescriptionError(t)},onSetSessionDescriptionError:function(e){},_onSetLocalSessionDescriptionSuccess:function(){var e=this;u.debug("onSetLocalSessionDescriptionSuccess : setLocalDescription complete",this._rtcId,this.__id),emedia.config.iceWaitBuildMillis&&(this.__iceWaitIntervalId&&clearTimeout(this.__iceWaitIntervalId),this.__iceWaitIntervalId=setTimeout((function(){u.info("emedia.config iceWaitBuildMillis, timeout, will close webrtc, will retry build by onIceStateChange(failed)",e._rtcId,e.__id),e.onIceStateChange&&e.onIceStateChange("failed")}),emedia.config.iceWaitBuildMillis),u.info("emedia.config iceWaitBuildMillis, start timeout",e._rtcId,e.__id)),this.onSetLocalSessionDescriptionSuccess(),this.__answerDescription&&this.__answerDescription.sdp&&this._onAnswerCodes(this.__answerDescription.sdp)},onSetLocalSessionDescriptionSuccess:function(){},onGotRemoteStream:function(e){u.debug("Got remote stream. ",e,this._rtcId,this.__id)},getStats:function(e){var t=this;return t._rtcPeerConnection?"function"!==typeof emedia.config.rtcStatsTypeMath?(u.warn("Get stats, but config rtcStatsTypeMather, ",this._rtcId,this.__id),void(e&&e())):void t._rtcPeerConnection.getStats(null).then((function(n){n.forEach((function(e,n){emedia.config.rtcStatsTypeMath(e,n)&&u.info("Rtc stats",e,t._rtcId,t.__id)})),e&&e(n)})):(u.warn("Get stats, but peer connection not exsits, ",this._rtcId,this.__id),void(e&&e()))}});e.exports=m},function(e,t,n){"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},r.splitSections=function(e){var t=e.split("\nm=");return t.map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},r.parseCandidate=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var n={foundation:t[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1];break}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)t=r[i].trim().split("="),n[t[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},r.getDtlsParameters=function(e,t){var n=r.matchPrefix(e+t,"a=fingerprint:");return{role:"auto",fingerprints:n.map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},r.getIceParameters=function(e,t){var n=r.splitLines(e);n=n.concat(r.splitLines(t));var i={usernameFragment:n.filter((function(e){return 0===e.indexOf("a=ice-ufrag:")}))[0].substr(12),password:n.filter((function(e){return 0===e.indexOf("a=ice-pwd:")}))[0].substr(10)};return i},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e),i=n[0].split(" "),o=3;o<i.length;o++){var s=i[o],a=r.matchPrefix(e,"a=rtpmap:"+s+" ")[0];if(a){var c=r.parseRtpMap(a),u=r.matchPrefix(e,"a=fmtp:"+s+" ");switch(c.parameters=u.length?r.parseFmtp(u[0]):{},c.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+s+" ").map(r.parseRtcpFb),t.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(c.name.toUpperCase());break;default:break}}}return r.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(r.parseExtmap(e))})),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)}));var i=0;return t.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(n+="a=maxptime:"+i+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){n+=r.writeExtmap(e)})),n},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),s=-1!==i.fecMechanisms.indexOf("ULPFEC"),a=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=a.length>0&&a[0].ssrc,u=r.matchPrefix(e,"a=ssrc-group:FID").map((function(e){var t=e.substr(17).split(" ");return t.map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(t=u[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(r.rtx={ssrc:t}),n.push(r),o&&(r=JSON.parse(JSON.stringify(r)),r.fec={ssrc:c,mechanism:s?"red+ulpfec":"red"},n.push(r))}})),0===n.length&&c&&n.push({ssrc:c});var l=r.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=l}))),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var i=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var o=r.matchPrefix(e,"a=rtcp-mux");return t.mux=o.length>0,t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return t=n[0].substr(7).split(" "),{stream:t[0],track:t[1]};var i=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?(t=i[0].value.split(" "),{stream:t[0],track:t[1]}):void 0},r.parseSctpDescription=function(e){var t,n=r.parseMLine(e),i=r.matchPrefix(e,"a=max-message-size:");i.length>0&&(t=parseInt(i[0].substr(19),10)),isNaN(t)&&(t=65536);var o=r.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:n.fmt,maxMessageSize:t};var s=r.matchPrefix(e,"a=sctpmap:");if(s.length>0){var a=r.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:t}}},r.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){var i,o=void 0!==t?t:2;i=e||r.generateSessionId();var s=n||"thisisadapterortc";return"v=0\r\no="+s+" "+i+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,i){var o=r.writeRtpDescription(e.kind,t);if(o+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var s="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+s,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+s,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+s,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),o},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2);default:}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){var t=r.splitLines(e),n=t[0].split(" ");return n[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e),n=t[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0],n=t.substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},r.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},e.exports=r},function(e,t,n){"use strict";var r=n(5),i=n(150);emedia.subscribed=function(e){return!!e._located||(2===e.type?!(e._located||!e._webrtc):void 0!==e._webrtc)};var o=r.prototypeExtend({voff:0,aoff:0,__init__:function(){var e=this;if(!e._mediaStream)throw _logger.error("_mediaStream empty"),"_mediaStream empty";if(e.hasEnabledTracks(e._mediaStream)){if(!e.__audioContext)throw _logger.error("require audioContext"),"require audioContext";e.__soundMeter=new i(e.__audioContext),e.__soundMeter.connectToSource(e._mediaStream,(function(t){if(t)throw t;e.__worked=e.__soundMeter.__worked=!0}))}},hasEnabledTracks:function(e){return emedia.hasEnabledTracks(e)},getSoundMeters:function(){var e=this;if(e.__soundMeter&&e.__worked)if(e._mediaStream.active){if(e.hasEnabledTracks(e._mediaStream))return{instant:e.__soundMeter.instant,slow:e.__soundMeter.slow,clip:e.__soundMeter.clip}}else e.__worked&&e._finally()},_finally:function(){var e=this;e.__soundMeter&&(e.__soundMeter.stop(),e.__worked=e.__soundMeter.__worked=!1)}});e.exports=r.prototypeExtend({__undefinedEQDelete:!0,Update:r.prototypeExtend({ifAoff:function(e){this.if("aoff",e)},ifVoff:function(e){this.if("voff",e)},ifMediaStream:function(e){this.if("mediaStream",e)},if:function(e,t){"undefined"!==typeof this[e]&&t(this[e])}}),located:function(){return this._located||!1},webrtc:function(e){return e&&(this._webrtc=e),this},getMediaStream:function(){return"undefined"!==typeof this.mediaStream?this.mediaStream:this._located?this._localMediaStream:this._webrtc&&(this._webrtc.getRemoteStream()||this._webrtc.getLocalStream())},requestFrame:function(){this._localMediaStream&&this._localMediaStream.getVideoTracks().forEach((function(e){"function"===typeof e.requestFrame&&e.requestFrame()}))},getLocalMediaStream:function(){return this._localMediaStream},getRemoteMediaStream:function(){if(this._webrtc&&"undefined"!==typeof this._webrtc.getRemoteStream())return this._webrtc.getRemoteStream()},mutedNeed:function(){return this.mutedMuted||!1},ifMediaStream:function(e){"undefined"===typeof this.mediaStream?this._located&&"undefined"!==typeof this._localMediaStream?e(this._localMediaStream):this._located||!this._webrtc||"undefined"===typeof this._webrtc.getRemoteStream()||e(this._webrtc.getRemoteStream()):e(this.mediaStream)},subscribed:function(){return emedia.subscribed(this)},updateAttributes:function(){for(var e=this,t=0;t<arguments.length;t++){var n=arguments[t];if(r.isPlainObject(n))for(var i in n){var o=n[i];e[i]=o}}},getHtmlDOMID:function(){return"_m_"+this.owner.id+"_s_"+this.id},MediaSoundMeter:o,StreamSoundMeter:r.prototypeExtend({__init__:function(){var e=this;if(!e._stream||"function"!==typeof e._stream.getMediaStream)throw _logger.error("_stream empty or not found method getMediaStream"),"_stream empty or not found method getMediaStream";if(e._streamId=e._stream.id,e._streamCreateId=e._stream.__create_id,e._mediaStream=e._mediaStream,2===e._stream.type&&!e._stream.located()&&!e._webrtc)throw _logger.error("require webrtc. when type = 2 and not located"),"require webrtc. when type = 2 and not located";e.__mediaSoundMeter=e.__mediaSoundMeter||new o({__audioContext:e.__audioContext,_mediaStream:e._mediaStream}),e.__mediaSoundMeter.useCount=(e.__mediaSoundMeter.useCount||0)+1},onSoundMeters:function(e){var t=this,n={instant:0,slow:0,clip:0};if(t._stream.aoff)return t._finally(),e(n),n;if(2!==t._stream.type&&t._stream.subArgs&&void 0!==t._stream.subArgs.subSAudio&&!t._stream.subArgs.subSAudio)return t._finally(),e(n),n;if(0==t._stream.id||2===t._stream.type&&!t._stream.located()&&(!t._stream.subArgs||!t._stream.subArgs.subSAudio)){var i,o=t._webrtc.getReceiversOfPeerConnection();if(!o||0===o.length)return e(n),n;for(var s in o)"audio"===o[s].track.kind&&(i=o[s]);if(!i)return e(n),n;if("function"===typeof i.getContributingSources){var a,c=i.getContributingSources();if(emedia.config._printSoundData&&r.logger.debug(t._stream.id,t._stream.csrc,"rtpContributingSources ",c),!c||0===c.length)return e(n),n;for(var s in c)c[s].source==t._stream.csrc&&(a=t._stream.csrc);if(emedia.config._printSoundData&&r.logger.debug(t._stream.id,t._stream.csrc,"source ",a),void 0===a)return e(n),n}}var u=t.__mediaSoundMeter.getSoundMeters()||n,l=2===t._stream.type?t._webrtc:t._stream._webrtc;(emedia.meterWithTrackAudioLevel||0===u.instant)&&l&&!l.closed&&l._rtcPeerConnection&&l._rtcPeerConnection.getStats().then((function(t){t.size>0&&t.forEach((function(t){"track"!==t.type||"audio"!==t.kind&&"audio"!==t.trackIdentifier||(u.trackAudioLevel=t.audioLevel,u.trackTotalAudioEnergy=t.totalAudioEnergy,e(u))}))})),e(u)},_finally:function(){var e=this;2===e._stream.type&&e._stream.located()&&e._remoteMediaSoundMeters&&e._remoteMediaSoundMeters._finally(),e.__mediaSoundMeter.useCount--,0===e.__mediaSoundMeter.useCount&&e.__mediaSoundMeter._finally()}})})},function(e,t,n){"use strict";function r(e){this.context=e,this.instant=0,this.slow=0,this.clip=0,this.script=e.createScriptProcessor(2048,1,1);var t=this;this.script.onaudioprocess=function(e){var n,r=e.inputBuffer.getChannelData(0),i=0,o=0;for(n=0;n<r.length;++n)i+=r[n]*r[n],Math.abs(r[n])>.99&&(o+=1);t.instant=Math.sqrt(i/r.length),t.slow=.95*t.slow+.05*t.instant,t.clip=o/r.length}}r.prototype.connectToSource=function(e,t){console.log("SoundMeter connecting");try{this.mic=this.context.createMediaStreamSource(e),this.mic.connect(this.script),this.script.connect(this.context.destination),"undefined"!==typeof t&&t(null)}catch(n){console.error(n),"undefined"!==typeof t&&t(n)}},r.prototype.stop=function(){this.mic.disconnect(),this.script.disconnect()},e.exports=r},function(e,t,n){"use strict";var r=n(5),i=r.tagLogger("Handler"),o=n(142),s=r.prototypeExtend({onEvent:function(e){var t=this;function n(){try{t.handleEvent(e)}catch(n){i.warn(n)}}if(e&&i.info("[EVT]",e.message(),e.hidden||""),e instanceof o.ServerRefuseEnter&&e.failed&&-95270===e.failed&&(e.failed=-9527),e instanceof emedia.event.StreamState&&e.stream&&e.stream.located())n();else try{e.hidden||t.onNotifyEvent&&t.onNotifyEvent(e)}finally{n()}},handleEvent:function(e){var t=this;if(e instanceof o.RecvResponse)t._onRecvResponse(e);else if(e instanceof o.ServerRefuseEnter)i.warn("Server refuse, ",e.failed,e.msg),t.onServerRefuseEnter(e);else if(e instanceof o.NetworkChanaged)i.warn("Network chanaged, ",e.preIp,e.nowIp),t.onNetworkChanaged(e);else if(e instanceof o.EnterFail)i.warn("Enter fail, result = ",e.failed),t.onEnterFail();else if(e instanceof o.WSClose)t.onWSClose();else if(e instanceof o.WSConnected)i.warn("Websocket connected");else if(e instanceof o.ICEConnected){var n=e.webrtc;t.onICEConnected(n)}else if(e instanceof o.ICEConnectFail){n=e.webrtc;t.onICEConnectFail(n)}else if(e instanceof o.ICEDisconnected){n=e.webrtc;t.onICEDisconnected(n)}else if(e instanceof o.ICEClosed){n=e.webrtc;t.onICEClosed(n)}else if(e instanceof o.ICERemoteMediaStream)t.onICERemoteMediaStream(e.webrtc);else if(e instanceof o.PushSuccess){t._cacheStreams[e.stream.id]=t._linkedStreams[e.stream.id]=e.stream;var s=t.newStream(e.stream);if(e.hidden&&!t._maybeNotExistStreams[e.stream.id]&&!s.isRepublished)return void t._onAddStream(s);emedia._yetGetUserMedia=!0;try{!0!==e.hidden&&s&&t.onUpdateStream(s,new s.Update({voff:s.voff,aoff:s.aoff,mediaStream:s.getMediaStream()}))}finally{emedia.isSafari&&r.forEach(t._cacheStreams,(function(e,n){!0===n._autoSubWhenPushStream&&(r.removeAttribute(n,"_autoSubWhenPushStream"),t.createWebrtcAndSubscribeStream(n.id))}))}}else if(e instanceof o.SubSuccess)t._linkedStreams[e.stream.id]=e.stream,e.stream.updateAttributes({_zoom:1});else if(e instanceof o.PushFail){if(!0!==e.hidden){var a=r.removeAttribute(t._linkedStreams,e.stream.id);if(i.warn("PushFail remove from _linkedStreams",e.stream.id,a),a){s=t.newStream(e.stream);t.onRemoveStream(s)}}}else if(e instanceof o.SubFail){if(!0!==e.hidden){r.removeAttribute(t._linkedStreams,e.stream.id),i.warn("SubFail remove from _linkedStreams",e.stream.id);s=t.newStream(e.stream);s.updateAttributes({rtcId:void 0,_webrtc:void 0,mediaStream:void 0}),t.onUpdateStream(s,new s.Update(s))}}else if(e instanceof o.SubFailNotSupportVCodes){var c=e.stream;i.warn("Rtc donot support pub VCodes. close. sub fail.",c.rtcId," -> ",c.id);try{t.onNotSupportPublishVideoCodecs&&t.onNotSupportPublishVideoCodecs(c)}catch(d){i.warn(d)}}else if(e instanceof o.EnterSuccess)t.onEnterSuccess();else if(e instanceof o.SwitchVCodes){c=e.stream;var u,l=e.useVCodes;n=c._webrtc;if(i.warn("Rtc switch VCodes. ",c.id,l),l&&0!=l.length||i.warn("Rtc switch VCodes. error! useVCodes is empty ",c.id,l),emedia.config&&emedia.config.forceUseVideoCodecs&&emedia.config.forceUseVideoCodecs.length>0&&(u=emedia.config.forceUseVideoCodecs,r.isArray(u)||(u=[],u.push(emedia.config.forceUseVideoCodecs))),u){if("string"===typeof u&&u!==l[0])return void i.warn("Rtc switch VCodes. igrone . useVCodes !== forceUseVideoCodecs ",c.id,n._rtcId,l,u);if(r.isArray(u)&&u[0]!==l[0])return void i.warn("Rtc switch VCodes. igrone ddd . useVCodes == forceUseVideoCodecs ",c.id,n._rtcId,l,u)}if(n&&n.optimalVideoCodecs){if("string"===typeof n.optimalVideoCodecs&&n.optimalVideoCodecs==l[0])return void i.warn("Rtc switch VCodes. igrone . useVCodes == optimalVideoCodecs ",c.id,n._rtcId,l);if(r.isArray(n.optimalVideoCodecs)&&n.optimalVideoCodecs.length>0&&n.optimalVideoCodecs[0]==l[0])return void i.warn("Rtc switch VCodes. igrone ddd . useVCodes == optimalVideoCodecs ",c.id,n._rtcId,l)}c.updateAttributes({optimalVideoCodecs:l}),n&&t.closeWebrtc(n.getRtcId(),!0),setTimeout((function(){c.updateAttributes({iceRebuildCount:1}),t.iceRebuild(c),i.warn("Rtc switch VCodes. iceRebuild end.",c.id,l)}),300)}},_onRecvResponse:function(e){var t=this,n=e.request,r=e.response;if(n&&r&&200!==n.op&&1002!==n.op&&0!==r.result){i.warn("Server refuse. when request = ",n);var o=e.failed;switch(o){case-9527:case-95270:break;case-500:case-502:case-504:case-508:case-510:t.close(4,o);break;case-506:t.close(11,o);break;case-501:t.close(11,o);default:}}},onServerRefuseEnter:function(e){var t=this,n=e.failed;switch(n){case-9527:case-95270:t.close(4,-9527);break;case-500:case-502:case-504:case-508:case-510:t.close(4,n);break;case-506:t.close(11,n);break;default:t.close(2)}},onEnterFail:function(){var e=this;e.__getCopyInterval&&clearInterval(e.__getCopyInterval)},onNetworkChanaged:function(e){var t=this,n=e.nowIp;emedia.config.rebuildPeerConnectionWhenNetworkChanaged&&setTimeout((function(){var e={};r.forEach(t._cacheStreams,(function(r,o){if(!t._maybeNotExistStreams[r]&&o._webrtc){var s=o._webrtc;e[o.rtcId]||(s.closed||"string"!==typeof s.useIp||s.useIp===n||(i.warn("network chanage. webrtc will rebuild.",s._rtcId,s.__id),t.onICEClosed(s)),e[o.rtcId]=!0)}}))}),100)},onEnterSuccess:function(){var e=this;setTimeout((function(){e._failIcesRebuild()}),50),e.getCopyIntervalMillis&&e.getCopyIntervalMillis>0&&(i.warn("Run interval get copy. interval = ",e.getCopyIntervalMillis),e.__getCopyInterval&&clearInterval(e.__getCopyInterval),e.__getCopyInterval=setInterval((function(){e._session.connected()?e._sysCopy.apply(e):(i.warn("Warn! cannot get copy. cause offline."),e.__getCopyInterval&&clearInterval(e.__getCopyInterval))}),e.getCopyIntervalMillis)),e.getMediaMeterIntervalMillis&&e.getMediaMeterIntervalMillis>0&&e._intervalGetMediaMeters()},_intervalGetMediaMeters:function(){var e=this;function t(){e.__getMediaMetersIntervalFlag&&emedia.cancelAnimationFrame(e.__getMediaMetersIntervalFlag),e.getMediaMeterIntervalMillis?e.__getMediaMetersIntervalFlag=emedia.requestAnimationFrame((function(n){"function"===typeof emedia.AudioContext&&e._flushMediaMetersByAudioContext.apply(e),!1===e.closed&&t()}),e.getMediaMeterIntervalMillis):i.warn("Ontalking closed. please use getMediaMeterIntervalMillis")}t()},_flushMediaMetersByAudioContext:function(){var e=this;r.forEach(e._cacheStreams,(function(t,n){e._monitSoundChanagedStreams&&!e._monitSoundChanagedStreams[t]||"0"!=n.id&&e._updateMetersOrNewOne.call(e,t,n)}));var t=[];r.forEach(e._mediaMeters,(function(n,r){var i=e._cacheStreams[n];i&&e._updateMetersOrNewOne.call(e,n,i),i||t.push(n)})),r.forEach(t,(function(t,n){r.removeAttribute(e._mediaMeters,n)}))},_updateMetersOrNewOne:function(e,t){var n=this,i=n._mediaMeters[e];if(2===t.type&&!t.located()&&(!t.subArgs||!t.subArgs.subSAudio)){var o=n._oneAudioMixers();if(!o||i&&i._webrtc&&o._webrtc.__id!=i._webrtc.__id)return i&&i._finally(),r.removeAttribute(n._mediaMeters,e),void n._onSoundChanage.call(n,t.owner,t)}return i&&i._streamCreateId===t.__create_id&&i.__mediaSoundMeter.__worked?(i.onSoundMeters((function(e){n._onSoundChanage.call(n,t.owner,t,e)})),i):(i&&(i._streamCreateId!==t.__create_id||i.__mediaSoundMeter.__worked)&&(i&&i._finally(),r.removeAttribute(n._mediaMeters,e),n._onSoundChanage.call(n,t.owner,t)),t.aoff?void 0:(i=n._newMediaMeters(t),i&&(n._mediaMeters[e]&&n._mediaMeters[e]._finally(),n._mediaMeters[e]=i),i))},_newAudioContext:function(){if(emedia.__usingWebAudio)return emedia.__audioContext},_newMediaMeters:function(e){var t,n=this;if(2===e.type&&e.subArgs&&e.subArgs.subSAudio&&e._webrtc&&e._webrtc.getRemoteStream()){var r=new e.StreamSoundMeter({_stream:e,_mediaStream:e._webrtc.getRemoteStream(),_webrtc:e._webrtc,__audioContext:n._newAudioContext()});return r}if(2===e.type&&e.located()){r=new e.StreamSoundMeter({_stream:e,_mediaStream:e._localMediaStream,__audioContext:n._newAudioContext()});return r}if(2===e.type&&!e.located()){var i=n._oneAudioMixers();if(!i||!i._webrtc||i._webrtc.closed)return;if(i&&(void 0===i._remoteMediaSoundMeters||!i._remoteMediaSoundMeters.__worked)&&i._webrtc&&i._webrtc.getRemoteStream()&&(i._remoteMediaSoundMeters=new i.MediaSoundMeter({_mediaStream:i._webrtc.getRemoteStream(),__audioContext:n._newAudioContext()})),!i._remoteMediaSoundMeters)return;r=new e.StreamSoundMeter({_stream:e,_webrtc:i._webrtc,__mediaSoundMeter:i._remoteMediaSoundMeters});return r}if(!e.aoff&&(t=e.getMediaStream())){r=new e.StreamSoundMeter({_stream:e,_mediaStream:t,__audioContext:n._newAudioContext()});return r}},_oneAudioMixers:function(){var e=this,t=e._cacheStreams["0"];if(t&&t._webrtc&&!t._webrtc.closed)return t;for(var n in e.audioMixers){var r=e.audioMixers[n];if(r.located())return r}},onWSClose:function(){var e=this;e.__getCopyInterval&&clearInterval(e.__getCopyInterval),i.info("Websocket closed.")},onICEDisconnected:function(e){var t=this;t.__networkWeakInterval&&clearTimeout(t.__networkWeakInterval),t.__networkWeakInterval=setTimeout((function(){t.onNetworkWeak&&t.onNetworkWeak()}),1e3),r.forEach(t._linkedStreams,(function(n,o){var s;o.rtcId==e.getRtcId()&&((s=t._maybeNotExistStreams[n])||(s=t._maybeNotExistStreams[n]=r.extend({},o),s.updateAttributes({iceRebuildCount:1})),i.info("Stream maybe not exist. caused by disconnected",o.id))}))},onICEConnectFail:function(e){var t=this;for(var n in t._linkedStreams){var s=t._linkedStreams[n];if(s.rtcId==e.getRtcId()){if(s._webrtc&&s._webrtc.__id!==e.__id){i.warn("Stream use other webrtc rtcId = ",s.rtcId,", id: ",s._webrtc.__id,e.__id);continue}var a;if((a=t._maybeNotExistStreams[n])||(a=t._maybeNotExistStreams[n]=r.extend({},s),a.updateAttributes({iceRebuildCount:1})),a){var c=new o.StreamState({stream:a});c.iceFail(),t.onEvent(c)}if(i.info("ice fail. webrtc = ",e.getRtcId()," problem stream is ",a.iceRebuildCount,a.id),a.iceRebuildCount>emedia.config.iceRebuildCount)i.info("ice fail. webrtc = ",e.getRtcId()," rebuild fail. problem stream is ",a.id),a.located()?t.onEvent(new o.PushFail({stream:s,cause:"pub ice rebuild failed."})):t.onEvent(new o.SubFail({stream:s,cause:"sub ice rebuild failed."})),t.closeWebrtc(e.getRtcId(),!1);else{var u=t._records[a.id];a._localMediaStream?i.info("ice fail. webrtc = ",e.getRtcId()," will rebuild. remain local stream. ",a.id):i.info("ice fail. webrtc = ",e.getRtcId()," will rebuild.",a.id),t.closeWebrtc(e.getRtcId(),!0),u&&(t._records[a.id]=u),function(e){setTimeout((function(){t.iceRebuild(e)}),emedia.config.iceRebuildIntervalMillis)}(a),i.info("ice fail. webrtc = ",e.getRtcId()," will rebuilding. problem stream is ",a.id)}2===s.type&&r.removeAttribute(t.audioMixers,s.id)}}},onICEClosed:function(e){var t=this;if(e.closed){i.warn("Webrtc will be removed. by __id = ",e.__id,", rtcId = ",e.getRtcId());var n=r.removeAttribute(t._ices,e.__id);n?i.warn("Webrtc removed. by id = ",n.__id,", rtcId = ",n.getRtcId()):i.warn("Webrtc removed. by id = ",e.__id,", rtcId = ",e.getRtcId());var o=t._ices[e.getRtcId()];o&&o.__id===n.__id&&(n=r.removeAttribute(t._ices,e.getRtcId()),i.warn("Webrtc removed. by rtcId = ",n.getRtcId(),", __id = ",n.__id))}else i.info("ICE self closed. not allow. will rebuild",e.getRtcId()),t.onICEConnectFail(e)},onICEConnected:function(e){var t=this;r.forEach(t._cacheStreams,(function(n,s){if(s.rtcId==e.getRtcId()){if(s.updateAttributes({finalVCodeChoices:e.finalVCodeChoices}),t._maybeNotExistStreams[n]){r.removeAttribute(t._maybeNotExistStreams,s.id),t._linkedStreams[n]=s,i.info("ice reconnected. webrtc = ",e.getRtcId(),"will update stream = ",s.id);var a=t._records[s.id];a&&a.rtcId!==s.rtcId&&(t.startRecord(s),i.warn("Re record. for ",s.id,", after rebuild ice.",a.rtcId,"->",s.rtcId))}else i.info("ice connected. webrtc = ",e.getRtcId(),s.id),s.located()&&t.onEvent(new o.PushSuccess({stream:s})),s.located()||t.onEvent(new o.SubSuccess({stream:s}));2===s.type&&(t.audioMixers[s.id]=s)}}))},onICERemoteMediaStream:function(e){var t=this;r.forEach(t._cacheStreams,(function(n,r){if(r.rtcId==e.getRtcId()&&(!r.located()||2===r.type)){var i=e.getRemoteStream();if(t._updateRemoteStream(r,i),r.onGotRemoteMediaStream)r.onGotRemoteMediaStream.call(r,i);else{r=t.newStream(r);r.updateAttributes({mediaStream:e.getRemoteStream()}),t.onUpdateStream(r,new r.Update({mediaStream:r.mediaStream}))}}}))},_failIcesRebuild:function(){var e=this,t=1;r.forEach(e._maybeNotExistStreams,(function(n,r){setTimeout((function(){e.iceRebuild(r)}),100*t)}))},iceRebuild:function(e){var t=this;return t.connected()?t._linkedStreams[e.id]&&t._cacheStreams[e.id]?void(e.iceRebuildCount>emedia.config.iceRebuildCount?(i.info("ice rebuild fail. count too many. stream is ",e.id),e.located()?t.onEvent(new o.PushFail({stream:e,cause:"pub ice rebuild failed."})):t.onEvent(new o.SubFail({stream:e,cause:"sub ice rebuild failed."}))):t.connected()?(i.info("ice try rebuild. count",e.iceRebuildCount,". stream is ",e.id),t.rebuildIce(e),e.iceRebuildCount++):i.warn("ice rebuild. stop. cause by not websocket disconnect",e.id)):(i.info("ice rebuild fail. it yet closed. stream is ",e.id,e.rtcId),r.removeAttribute(t._maybeNotExistStreams,e.id),r.removeAttribute(t._linkedStreams,e.id),void i.warn("iceRebuild, remvoe from _linkedStreams",e.id)):(e.updateAttributes({iceRebuildCount:1}),void i.warn("Websocket disconnect. waiting. rebuild count reset",e.iceRebuildCount,e.id))},rebuildIce:function(e){var t=this;t._cacheStreams[e.id]?(i.warn("Begin rebuild ice ",e.iceRebuildCount,e.id),e.located()?(e.updateAttributes({isRepublished:!0}),t.push(e,void 0,void 0,!0)):t.createWebrtcAndSubscribeStream(e.id),i.warn("Finish rebuild ice ",e.iceRebuildCount,e.id,t._cacheStreams[e.id].rtcId)):i.warn("Begin rebuild ice. not found stream at local",e.iceRebuildCount,e.id)},_sysCopy:function(){var e=this,t=e.newMessage().setOp(1e3).setCver(e._cver||0);e.postMessage(t,(function(t){0==t.result?(e._cver||0)<t.cver&&(e._cver=t.cver,e.onMembers(t.cver,t.mems||{}),e.onStreams(t.cver,t.streams||{}),i.info("Got copy success.")):i.warn("Get copy fail. result = ",t.result)}))}});e.exports=s},function(e,t,n){"use strict";var r=n(5),i=r.tagLogger("Desktop"),o=n(142);window.__shareDesktopMessageCount__=0,e.exports=r.prototypeExtend({__RTC_PAGE_MSG_TYPE__:"RTC-SD-PAGE",__RTC_EXT_MSG_TYPE__:"RTC-SD-EXT",__init__:function(){var e=this;e.__extLoaded=e.rsdExtLoaded(),e.__extLoaded&&e.__onRsdExtLoad(),window.addEventListener("load",(function(t){if(!e.__extLoaded){var n=e.rsdExtLoaded();e.__extLoaded=n}})),window.addEventListener("message",(function(t){if(t.data){var n=t.data;n.type&&n.type===e.__RTC_EXT_MSG_TYPE__&&n.evname&&(i.info("got ext-msg: ",n),"extLoaded"!==n.evname?e.__onMessage(n):e.__extLoaded||(e.__extLoaded=!0,setTimeout(e.__onRsdExtLoad(),50)))}}))},rsdExtLoaded:function(){var e=document.getElementById("RTC-Share-Deskto-installed-ele-rat1abrr");return!(!emedia.isElectron&&!e)},__sendMessage:function(e,t){var n=this,o="tsx_"+__shareDesktopMessageCount__+++"_"+Math.random().toString(36).substr(2,4);if(!n.__extLoaded)throw i.error("Rtc share desktop not loaded"),"Rtc share desktop not loaded";e.tsxId=o,n["on_"+o]=function(){t&&t.apply(n,arguments),r.removeAttribute(n,"on_"+o)},window.postMessage&&window.postMessage(e,"*")},__onMessage:function(e){var t=this,n=e.tsxId;t["on_"+n]&&t["on_"+n](e)},__onRsdExtLoad:function(){var e=this;e.onExtLoaded&&e.onExtLoaded()},openDesktopMedia:function(e,t){var n=this;if(emedia.isElectron)n.openDesktopMediaInElectron(e,t);else if(n.__extLoaded&&n.rsdExtLoaded()){var r={type:n.__RTC_PAGE_MSG_TYPE__,evname:"chooseDesktopMedia",screenOptions:e};n.__sendMessage(r,(function(e){"onAccessApproved"===e.evname&&e.streamId?t(new o.OpenDesktopMedia({desktopStreamId:e.streamId})):t(new o.OpenDesktopMediaAccessDenied)}))}else t(new o.ShareDesktopExtensionNotFound)},openDesktopMediaInElectron:function(e,t){e||(e=["screen","window"]),emedia.electron.desktopCapturer.getSources({types:e},(function(e,n){if(e)t(new o.OpenDesktopMediaAccessDenied({error:e}));else if("function"===typeof emedia.chooseElectronDesktopMedia){for(var r=0;r<n.length;r++){i.debug("desktop capturer. ",n[r]);var s=n[r];s.hxThumbDataURL=s.thumbnail.toDataURL()}emedia.chooseElectronDesktopMedia(n,(function(e){var n;n=e&&e.id?e.id:e,t(new o.OpenDesktopMedia({desktopStreamId:n}))}),(function(){t(new o.OpenDesktopMediaAccessDenied({message:"User denied access"}))}))}else t(new o.OpenDesktopMedia({desktopStreamId:n[0].id}))}))}})},function(e,t,n){"use strict";var r,i=n(5),o=i.tagLogger("PCStats");e.exports=r=i.prototypeExtend({__init__:function(){this._webrtc||this._stream&&(this._webrtc=this._stream._webrtc),this.samplesDatas={},this.gatherResults={},this._bysamples={},!1!==this._inbound_&&(this._bysamples["inbound-rtp"]=["bytesRateReceived","packageLossRate","bytesReceived","packetsLost","packetsReceived","pliCount","framesDecoded"]),!1!==this._outbound_&&(this._bysamples["outbound-rtp"]=["bytesRateSent","bytesSent","packetsSent","qpSum","pliCount"])},_onGatherResult:function(e,t,n,r){var i=this;if(i._service&&i._service.current&&emedia.config.remainLastStatsCount){var o=i._service.current._trackStats;o||(o=i._service.current._trackStats={});var s=(o[e]||(o[e]={}))[t];s||(s=o[e][t]={});var a=s[n];a||(a=s[n]=new Array(emedia.config.remainLastStatsCount)),void 0===a.curIndex&&(a.curIndex=0),a[a.curIndex]={data:r,timestamp:new Date},a.curIndex=(a.curIndex+1)%emedia.config.remainLastStatsCount}"function"===typeof this.onGatherResult&&this.onGatherResult(e,t,n,r)},stats:function(e){if(this._webrtc&&this._webrtc._rtcPeerConnection)return this._webrtc._rtcPeerConnection.getStats(e);o.warn("not found webrtc or peer connection")},statsOfTrack:function(e){if(!e instanceof window.MediaStreamTrack)throw o.error("selector not a MediaStreamTrack"),"selector not a MediaStreamTrack";return this.stats(e)},audioTrack:function(e){var t=e&&e.getAudioTracks();return t&&t.length?t[0]:void 0},videoTrack:function(e){var t=e&&e.getVideoTracks();return t&&t.length?t[0]:void 0},gatherTrack:function(e,t){var n=this;t=e.kind||t,t=t&&t.toLowerCase();var r=e.id;this.statsOfTrack(e).then((function(i){n.samplesDatas[r]||(n.samplesDatas[r]={});var s=n.samplesDatas[r];i.forEach((function(r,i){var a=n._bysamples[r.type],c=r.mediaType||i.indexOf("ideo")>=0&&"video"||i.indexOf("udio")>=0&&"audio"||void 0;if(a&&a.length&&(!0===emedia.config._printDebugStats&&o.debug(i,r,e,c,t),!c||c===t)){var u=s[r.type]||(s[r.type]={});a.forEach((function(n){var i=u[n]||(u[n]=[]),o={timestamp:r.timestamp,kind:r.mediaType||e.kind||t};o[n]="packageLossRate"===n?{packetsLost:r["packetsLost"],packetsReceived:r["packetsReceived"]}:"bytesRateReceived"===n?r["bytesReceived"]:"bytesRateSent"===n?r["bytesSent"]:r[n],i.push(o)}))}}))}))},gatherWebrtcMediaStream:function(e,t){var n=this;t?"audio"!==t.toLowerCase()?"video"!==t.toLowerCase()||e.getVideoTracks().forEach((function(e){n.gatherTrack(e,e.kind||t.toLowerCase())})):e.getAudioTracks().forEach((function(e){n.gatherTrack(e,e.kind||t.toLowerCase())})):e.getTracks().forEach((function(e){n.gatherTrack(e)}))},gatherWebrtc:function(){this._webrtc._localStream&&this.gatherWebrtcMediaStream(this._webrtc._localStream),this._webrtc._remoteStream&&this.gatherWebrtcMediaStream(this._webrtc._remoteStream)},_gather_inbound_rtp_packageLossRate:function(e){if(!e||0===e.length)return 0;var t=0,n=0;if(e.length>1)for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];i.packageLossRate.packetsReceived!=o.packageLossRate.packetsReceived?(t+=(i.packageLossRate.packetsLost-o.packageLossRate.packetsLost)/(i.packageLossRate.packetsReceived-o.packageLossRate.packetsReceived),n++):(t=0,n=0)}return e.length>=emedia.config.statsSeconds&&e.shift(),0==n?0:t/n},_gatherBytesRate:function(e,t,n){if(!n||0===n.length)return 0;var r=n[n.length-1][t]-n[0][t],i=n[n.length-1].timestamp-n[0].timestamp;return n.length>=emedia.config.statsSeconds&&n.shift(),0===i?0:parseFloat(1e3*r/i).toFixed(2)},_gather:function(e,t,n){e=e.replace(/[^\w]/g,"_"),t=t.replace(/[^\w]/g,"_");var r=i.list("_gather",e,t).join("_");if("function"===typeof this[r])return this[r](n);if(t.startsWith("bytesRate"))return this._gatherBytesRate(e,t,n);var o=n.shift();return o&&o[t]||0},_statsCount:function(){var e=this;function t(){i.forEach(e.samplesDatas,(function(t,r){var i=e.gatherResults[t]=e.gatherResults[t]||{};n(t,i,r)}))}function n(e,t,n){i.forEach(n,(function(n,i){var o=t[n]||(t[n]={});r(e,o,n,i)}))}function r(t,n,r,o){i.forEach(o,(function(i,o){var s=n[i]=e._gather(r,i,o);e._onGatherResult(t,r,i,s)}))}t()},gather:function(){this.gatherWebrtc(),this._statsCount()},intervalGather:function(e){this._intervalId&&clearInterval(this._intervalId),this._intervalId=setInterval(this.gather.bind(this),e||1e3)},stopIntervalGather:function(){this._intervalId&&clearInterval(this._intervalId)}});var s={},a=r.echo=function(e){i.forEach(e,(function(e,t){var n;!s[t.id]&&t._webrtc&&!t._webrtc.closed&&t.getMediaStream()?(s[t.id]=n=new r({_webrtc:t._webrtc}),n._mediaStream=t.getMediaStream()):!s[t.id]||t._webrtc&&!t._webrtc.closed&&t.getMediaStream()||i.removeAttribute(s,t.id)}));var t=[];i.forEach(s,(function(n,r){e&&e[n]?(r.gatherWebrtcMediaStream(r._mediaStream),r._statsCount()):t.push(n)})),i.forEach(t,(function(e,t){i.removeAttribute(s,t)}))};r.intervalEcho=function(e,t){return setInterval((function(){a(e)}),t)},i.forEach(["inbound","outbound"],(function(e,t){i.forEach(["Audio","Video"],(function(e,n){(function(e,t){var n;r[e+t]=n=function(o,s,a){var c;n.__intervalIds||(n.__intervalIds={}),c=this instanceof emedia.XService?this:emedia.useCurrentXService;var u=o.id+"___"+c.namespace,l=n.__intervalIds&&n.__intervalIds[u];return l&&clearInterval(l),l=setInterval((function(){var a,d=n[u];(!d&&o&&o._webrtc&&!o._webrtc.closed&&o.getMediaStream()?(n[u]=d=new r({_webrtc:o._webrtc,_inbound_:"inbound"===e,_outbound_:"outbound"===e}),d._service=c,s&&(d.onGatherResult=s),d._mediaStream=o.getMediaStream()):!d||o&&o._webrtc&&!o._webrtc.closed&&o._webrtc.__id===d._webrtc.__id&&o.getMediaStream()&&d._mediaStream&&d._mediaStream.id===o.getMediaStream().id||(i.removeAttribute(n,u),d=null),d)?(d.gatherWebrtcMediaStream(d._mediaStream,t),d._statsCount()):o&&c&&(a=c.getStreamById(o.id))?o=a:l&&clearInterval(l)}),a),n.__intervalIds[u]=l,l}})(t,n)}))}))},function(e,t,n){"use strict";var r,i=n(5),o=i.tagLogger("DefaultTrack"),s=n(155);function a(e){var t;return t=document.createElement("canvas"),e.appendChild(t),t.style.cssText="position: absolute; background: transparent; width: 100%; height: 100%",t.width=e.offsetWidth,t.height=e.offsetHeight,o.warn("Canvas",t.width,t.height),t}e.exports=r=s.extend({__init__:function(){this._canvas||(this._canvas=a(this._target)),this._canvasContext||(this._canvasContext=this._canvas.getContext("2d"))},resizeCanvas:function(){},_calPosition:function(){var e=s.prototype._calPosition.apply(this,arguments);return e.x=Math.floor(e.x*this._canvas.width/e.width),e.y=Math.floor(e.y*this._canvas.height/e.height),e},_draw:function(e,t,n,r,i,o){var s=this,a=s._canvasContext;(!t||t<=1)&&(t=2);var c=a.getImageData(e.x-t/2,e.y-t/2,t,t),u=function(e,t,n,r,i){for(var o=0,s=e.data;o<s.length;o+=4){var a={r:void 0===t?s[o]:t,g:void 0===n?s[o+1]:n,b:void 0===r?s[o+2]:r,alpha:void 0===i?s[o+3]:i};s[o]=a.r,s[o+1]=a.g,s[o+2]=a.b,s[o+3]=a.alpha}};c&&u(c,n,r,i,o),a.putImageData(c,e.x,e.y)},redraw:function(e,t,n,i,o,s){var a=this,c=r.prototype._draw.bind(a);c({x:e,y:t},2)},onMouseTrigger:function(e,t){e.isLeftKey()&&this._draw(e.xy,8,189,56,51,255),e.isRightKey()&&this._draw(e.xy,8,45,23,189,255),e.isWheelKey()&&this._draw(e.xy,8,58,189,76,255)},onMouseTrack:function(e,t,n){this._draw(e,2,227,18,247,255)}})},function(e,t,n){"use strict";var r=n(5),i=(r.tagLogger("MouseTrack"),n(156));e.exports=r.prototypeExtend({_scale:1,__init__:function(){},getTargetPageXY:function(){var e=this;return e._target&&r.extend({},r.getDomPageRect(e._target))},onMouseTrack:function(e,t,n){},onMouseTrigger:function(e,t){},_onMouseTrack:function(e,t,n){this.onMouseTrack&&this.onMouseTrack(e,t,n)},_onMouseTrigger:function(e,t){this.onMouseTrigger&&this.onMouseTrigger(e,t)},track:function(e){var t=this,n=e=r.extend({},e),i=t.getTargetPageXY();i&&(e=t._calPosition(e),n={x:e.x,y:e.y,pageX:i.x+e.x,pageY:i.y+e.y}),t._onMouseTrack(n,t._lastPageXY,t._lastTrigger),t._lastPageXY=n},trigger:function(e){var t=this;e=new i(e);var n,r=t.getTargetPageXY();r&&(n=t._calPosition(e.xy),e.xy={x:n.x,y:n.y,pageX:r.x+n.x,pageY:r.y+n.y}),e._time||(e._time=(new Date).getTime()),t._onMouseTrigger(e,t._lastTrigger),t._lastTrigger=e},releaseTrigger:function(){this._lastTrigger=void 0,this._lastPageXY=void 0,this.onReleaseTrigger&&this.onReleaseTrigger(this._lastTrigger)},_calPosition:function(e){var t=this;t._referenceVideo&&(e=emedia.Service.prototype.eventXYAtVideo.call(null,e,t._referenceVideo));var n=t.getTargetPageXY();if(!n)return e;r.isFloat(e.x)&&void 0!==e.width&&(e.x=e.x*e.width*t._scale*(n.width/e.width)),r.isFloat(e.y)&&void 0!==e.height&&(e.y=e.y*e.height*t._scale*(n.height/e.height)),r.isFloat(e.x)&&void 0===e.width&&(e.x=e.x*t._scale*n.width),r.isFloat(e.y)&&void 0===e.height&&(e.y=e.y*t._scale*n.height),r.isInt(e.x)&&void 0!==e.width&&(e.x=e.x*t._scale*(n.width/e.width)),r.isInt(e.y)&&void 0!==e.height&&(e.y=e.y*t._scale*(n.height/e.height)),r.isInt(e.x)&&void 0===e.width&&(e.x=e.x*t._scale),r.isInt(e.y)&&void 0===e.height&&(e.y=e.y*t._scale);var i=Math.floor(e.x),o=Math.floor(e.y);return i<0&&(i=n.width+i),o<0&&(o=n.width+o),{x:i,y:o,width:n.width,height:n.height}}})},function(e,t,n){"use strict";var r=n(5),i=(r.tagLogger("MouseTrigger"),{LEFT:1,WHEEL:2,RIGHT:4,WHEEL_ROLL_UP:8,WHEEL_ROLL_DOWN:16,KEY_UP:0,KEY_DOWN:1,MOVE:2,KEYBOARD_DOWN:3,KEYBOARD_UP:4});e.exports=r.prototypeExtend({_timeoutMillis:500,_time:(new Date).getTime(),isKeyup:function(){return i.KEY_UP==this.oper},isKeydown:function(){return i.KEY_DOWN==this.oper},isWheelup:function(){return i.WHEEL_ROLL_UP==this.btn},isWheeldown:function(){return i.WHEEL_ROLL_DOWN==this.btn},isLeftKey:function(){return i.LEFT==this.btn},isRightKey:function(){return i.RIGHT==this.btn},isWheelKey:function(){return i.WHEEL==this.btn},isWheelRoll:function(){return this.isWheeldown()||this.isWheelup()},timeout:function(){var e=(new Date).getTime();return e-this._time>=this._timeoutMillis},_toString:function(){return r.list("btn:",this.btn,", oper:",this.oper,", timeout:",this.timeout(),", at (",this.xy.x,", ",this.xy.y,")").join("")}}),e.exports.BTN=i},function(e,t,n){"use strict";var r=n(77),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s=n(5),a=s.tagLogger("AddonsP2P"),c=n(142),u=function(e){var t=e.extend({postMessage:function(t,n){var r=this,i=t.tsxId;t.tsxId||(i=t.tsxId="MSG"+Date.now()+"-"+emedia.__session_globalCount++),e.prototype.postMessage.call(r,t,n),function(e){var t=r.owner;t.isP2P()&&r._callbacks[e]&&setTimeout((function(){var t=r._callbacks[e];if(t&&1004===t.op){var n=r.newMessage({op:1001,tsxId:t.tsxId,memId:t.memId,result:0,msg:"3000ms not recv response. will success callback. "+t.tsxId});r.onMessage(n)}}),3e3)}(i)},__modifyMessageForPost:function(t){var n=this;t=e.prototype.__modifyMessageForPost.call(n,t);var r=n.owner;if(r.isP2P()){if(102===t.op||105===t.op){var o=n.newMessage({op:1001,tsxId:t.tsxId,memId:t.memId,result:0,streamId:t.rtcId+(r.isCaller()?"__Caller":"__Callee"),sver:1});if(setTimeout((function(){n.onMessage(o)}),100),!t._cached_){var a=s.extend({_cached_:!0},t);s.removeAttribute(a,"tsxId"),102===t.op&&(r.__cache_[t.rtcId]=[]).push(a),105===t.op&&r.__cache_[t.rtcId]&&r.__cache_[t.rtcId].push(a),r.__cache_[t.rtcId]&&(r.__cache_[t.rtcId].selfId=r.getMemberId())}}if(s.removeAttribute(t,"_cached_"),t.memId){var c=n.newMessage({op:1004,sessId:s.removeAttribute(t,"sessId"),memId:s.removeAttribute(t,"memId"),tsxId:s.removeAttribute(t,"tsxId"),arg:(0,i.default)(t)});t=c}switch(t.op){case 205:o=n.newMessage({op:1001,tsxId:t.tsxId,result:0});return void setTimeout((function(){n.onMessage(o)}),50);case 102:case 104:case 105:case 106:case 107:if(-10===t.endReason)return;case 1001:case 400:c=n.newMessage({op:1004,sessId:s.removeAttribute(t,"sessId"),tsxId:s.removeAttribute(t,"tsxId"),arg:(0,i.default)(t)});t=c;break;case 303:case 206:return;default:}}return t},onP2PMessage:function(e){var t=this,n=t.owner;if(t.owner.isConfr())a.warn("Recv p2p ctrl message. when CONFR. ignore");else{var r=JSON.parse(e.arg);if(r.memId=e.memId,r.tsxId=e.tsxId,r.sessId=e.sessId,400===r.op&&(r.streamId=r.rtcId+(t.owner.isCaller()?"__Callee":"__Caller")),1001!==r.op){var i=t.newMessage({op:1001,tsxId:e.tsxId,memId:e.memId,sessId:e.sessId,result:0,msg:"Web sdk success recv"});102!==r.op&&105!==r.op||s.extend(i,{streamId:r.rtcId+(n.isCaller()?"__Callee":"__Caller"),sver:1}),t.postMessage(i)}(function(e){setTimeout((function(){t.onMessage(e)}),10)})(r)}}});return s.extend(t.prototype._events,{1004:"onP2PMessage"}),t},l=function(e){var t=e.extend({__init__:function(){var t=this;e.prototype.__init__.call(t),t.__cache_={};var n=t.iceRebuild;t.iceRebuild=function(e){var t=this;t.isP2P()&&e.rtcId?e._webrtc&&!0===e._webrtc.answerWebrtc?a.warn("Stream not auto iceRebuild. caused by answer webrtc. it = ",e.id,e):e.located()?n.call(t,e):a.warn("Stream not auto iceRebuild. caused by not located. it = ",e.id,e):n.call(t,e)}},onEnter:function(t,n){var r=this;try{e.prototype.onEnter.call(r,t,n)}finally{if(!r.isP2P()||!(n=r._cacheMembers[n.id]))return;s.forEach(r.__cache_,(function(e,t){!0!==t.answered&&s.forEach(t,(function(e,t){(function(e){e.memId=n.id,r.postMessage(e)})(t)}))}))}},rejectAnswer:function(e,t,n,r){var i=this,o=i.newMessage().setOp(107).setRtcId(t).setMemId(e).setEndReason(n);i.postMessage(o,(function(e){if(0!=e.result)return i.onEvent(new c.RspFail({request:o,response:e})),void(r&&r(new c.RspFail({request:o,response:e})))}))},closeWebrtc:function(t,n,r){var i=this,o=!1;if(i.isP2P()){var c=i._ices[t];if(c){var u=c.iceConnectionState();o="failed"===u,o=o&&c._rebuildCount<emedia.config.iceRebuildCount,a.warn("Webrtc state failed. it is ",t,c._rebuildCount,emedia.config.iceRebuildCount,c.__id)}}if(e.prototype.closeWebrtc.call(i,t,n,r||o),i.isP2P()&&!r&&o&&s.forEach(i._cacheStreams,(function(e,n){n.rtcId===t&&(i._linkedStreams[e]=n,a.warn("Reput stream to _linkedStreams",e))})),i.isP2P()&&!n){s.removeAttribute(i.__cache_,t);var l=s.extend({},i._cacheStreams);s.forEach(l,(function(e,n){if(t===n.rtcId){s.removeAttribute(i._linkedStreams,n.id);var r=s.removeAttribute(i._cacheStreams,n.id);if(i._streamAutomators&&s.removeAttribute(i._streamAutomators,n.id),a.warn("P2P close webrtc. remove stream from _cacheStreams. it = ",n.id,n),r._localMediaStream&&i._service._stopTracks(r._localMediaStream),i.onRemoveStream){n=i.newStream(n);i.onRemoveStream(n)}}}))}},subscribeStream:function(t,n,r,i){var o=this;if(o.isP2P()){var s=o._ices[t],u=o._cacheStreams[n],l=u;if(l.updateAttributes({_webrtc:s,rtcId:t}),i=i||{subSVideo:!0,subSAudio:!0},l.updateAttributes({subArgs:l.subArgs||{subSVideo:!0,subSAudio:!0}}),l._webrtc&&l._webrtc.setSubArgs(l._webrtc.subArgs||{subSVideo:!0,subSAudio:!0}),!l.subArgs.subSVideo&&i.subSVideo&&l.voff)throw a.error("Sub not allow. stream voff"),"Sub not allow. stream voff";if(!l.subArgs.subSAudio&&i.subSAudio&&l.aoff)throw a.error("Sub not allow. stream aoff"),"Sub not allow. stream aoff";if(l.subArgs.subSVideo&&!i.subSVideo&&!l.voff&&emedia.isSafari)throw a.error("Sub not allow. safari close sub video. will error"),"Sub not allow. safari close sub video. will error";i&&l._webrtc&&l._webrtc.setSubArgs(i),i&&l.updateAttributes({subArgs:i});var d=new c.SubSuccess({stream:l,hidden:!0});o._updateRemoteStream(l,l._webrtc.getRemoteStream()),o.onEvent(d)}else e.prototype.subscribeStream.call(o,t,n,r,i)},unsubscribeStream:function(t){var n=this;n.isP2P()||e.prototype.unsubscribeStream.call(n,t)},onPub:function(t,n,r){var i=this;if(i.isP2P()){var o=e.prototype.onPub.call(i,t,n,r);return o}e.prototype.onPub.call(i,t,n,r)},onStreams:function(t,n){var r=this;r.isP2P()?a.warn("P2P ingrone the onStreams"):e.prototype.onStreams.call(r,t,n)},_howDoWebrtcWhenCrtExsitsWebrtc:function(t){var n=this;n.isP2P()?n.closeWebrtc(t.getRtcId(),!0,!0):e.prototype._howDoWebrtcWhenCrtExsitsWebrtc.call(n,t)},createWebrtcAndSubscribeStream:function(t,n,r,i){var o=this;if(o.isP2P()){o=this;n||(n={});var u=o._cacheStreams[t],l=o._cacheMembers[u.owner.id],d=u;i=i||d.subArgs||{subSVideo:!0,subSAudio:!0};var f=u.vcodes,p=l.vcodes,h=o.supportVCodes,m=o._getOptimalVideoCodecsSubset(f,p,h);i=i||d.subArgs;var v=d.subArgs,b=!(d.vcodes&&d.vcodes.length>0),y={offerToReceiveAudio:!0,offerToReceiveVideo:i.subSVideo&&b};y.offerToReceiveAudio||y.offerToReceiveVideo||a.warn("offerToReceiveAudio == false and offerToReceiveVideo == false");var g=o.createWebrtc({_rtcId:d.rtcId,iceServerConfig:r,optimalVideoCodecs:m,offerOptions:y,onGotMediaStream:function(e){var t=new c.SubSuccess({stream:d,hidden:!0});n.onGotRemote&&n.onGotRemote(d),o.onEvent&&o.onEvent(t)}},d.iceRebuildCount),_=g.getRtcId();a.warn(_," sub stream ",t,m);var S=d._webrtc;if(d.updateAttributes({_webrtc:g,rtcId:_,owner:s.extend({},l)}),o._ices[_]=g,g.answerWebrtc=!0,i&&d._webrtc&&d._webrtc.setSubArgs(i),i&&d.updateAttributes({subArgs:i}),_==="rtc-"+o.ticket.confrId){o.__lastCalleePub;var w=o._cacheStreams[_+(o.isCaller()?"__Caller":"__Callee")];w=new o._service.AVPubstream(w||{constaints:{audio:!d.aoff,video:!d.voff}});S&&S.getLocalStream()&&o._service._stopTracks(S.getLocalStream()),o._service.openUserMedia(w).then((function(){var e=o.newStream(w);e.updateAttributes({_localMediaStream:w.localStream,_webrtc:g,rtcId:g.getRtcId(),id:_+(o.isCaller()?"__Caller":"__Callee"),owner:{id:o.getMemberId(),nickName:o.nickName,name:o.sysUserId,ext:o.extObj}}),o.onEvent(new c.PushSuccess({stream:e,hidden:!0})),C(w.localStream),o.answerCall(_,w,x)}),x)}else C(),o.answer(_,x)}else e.prototype.createWebrtcAndSubscribeStream.call(o,t,n,r,i);function x(e){a.warn("sub stream error",t,e),v&&d._webrtc&&d._webrtc.setSubArgs(v),v&&d.updateAttributes({subArgs:v}),e=new c.SubFail({stream:d,hidden:!0===e.hidden,cause:e}),n&&n.onEvent&&n.onEvent(e),o.onEvent&&o.onEvent(e)}function C(e){e&&g.setLocalStream(e),g.setRemoteDescription(d.sdp),d.cands&&d.cands.length>0&&g.addIceCandidate(d.cands)}}});return t},d=function(e,t,n){var r=e.extend({Session:t,Attendee:n,__init__:function(){var t=this;e.prototype.__init__.call(t),void 0!==t.useRTCCfg&&!1!==t.useRTCCfg&&null!==t.useRTCCfg||(t.useRTCCfg=emedia.config.forceUseRTCCfgIfServerReturnWhenP2P)},push:function(t,n,r){var i=this;if(i.current&&i.current.isP2P()){if(2===t.type)throw a.error("P2P do not allow audio_mixer"),"P2P do not allow audio_mixer";if(t instanceof i.AVPubstream&&!t.rtcId){var o=i.current._cacheStreams["rtc-"+i.current.ticket.confrId+"__Caller"]||i.current._cacheStreams["rtc-"+i.current.ticket.confrId+"__Callee"];o||(t.rtcId="rtc-"+i.current.ticket.confrId)}}e.prototype.push.call(i,t,n,r)},newSession:function(t,n){var r=this,i=e.prototype.newSession.call(r,t,n),o=i.onTermC,u=i.onAnsC;return s.extend(i,{onInitC:function(e){if(t.isP2P()){if(e.rtcId==="rtc-"+t.ticket.confrId){var n=e.rtcId+(t.isCaller()?"__Callee":"__Caller"),r=t._cacheStreams[n];if(r&&r.owner&&r.owner.id!==e.memId)return t.rejectAnswer(e.memId,e.rtcId,10),void t.postMessage(t.newMessage({op:1001,memId:e.memId,tsxId:e.tsxId,result:-554,msg:"Other device call it. you no."}))}e.pubS.sdp=e.sdp,e.pubS.cands=e.cands,e.pubS.id=e.rtcId+(t.isCaller()?"__Callee":"__Caller"),e.pubS._located=!1,e.pubS.memId=e.memId,e.pubS.rtcId=e.rtcId,e.pubS.sver=0;r=t._cacheStreams[e.pubS.id];r&&(e.pubS.sver=r.sver+1,s.removeAttribute(t._maybeNotExistStreams,e.pubS.id)),t.onPub.call(t,++t._cver,e.memId,e.pubS)}},onTermC:function(e){if(t.isP2P()){if(-20===e.endReason){var n=t._cacheStreams[e.rtcId+"__Caller"];return a.warn("Begin re-publish. 20",n),void(n&&r._republish(n))}if(e.memId&&e.memId!==t.getMemberId()){var i=[];return s.forEach(t._cacheStreams,(function(e,t){i.push(t)})),i=i.sort((function(e,n){var r=-1;return e.id>n.id&&(r=1),t.isCallee()?0-r:r})),void s.forEach(i,(function(n,r){r&&r.owner&&r.owner.id===e.memId&&e.rtcId===r.rtcId&&(-10!==e.endReason&&o.call(t,e),e.rtcId==="rtc-"+t.ticket.confrId&&t.onUnpub(++t._cver,e.memId,r.id),10===e.endReason&&t.onEvent(new c.OtherDeviceAnswer({rtcId:e.rtcId,stream:r}))),r&&r.owner&&r.owner.id===t.getMemberId()&&e.rtcId===r.rtcId&&(t.closeWebrtc(e.rtcId),t.onUnpub(++t._cver,r.owner.id,r.id))}))}-10!==e.endReason&&o.call(t,e),10===e.endReason&&t.onEvent(new c.OtherDeviceAnswer({rtcId:e.rtcId}))}else o.call(t,e)},onAnsC:function(e){if(t.isP2P())if(t.__cache_[e.rtcId]){if(!0===t.__cache_[e.rtcId].answered)return a.warn("Webrtc ",e.rtcId,"had been ansC"),t.rejectAnswer(e.memId,e.rtcId,10),void t.postMessage(t.newMessage({op:1001,memId:e.memId,tsxId:e.tsxId,result:-554,msg:"Other device sub it. you no."}));try{if(e.pubS){var n=t.newStream(e.pubS);n.updateAttributes({_webrtc:t._ices[e.rtcId],rtcId:e.rtcId,id:e.rtcId+(t.isCaller()?"__Callee":"__Caller"),owner:t._cacheMembers[e.memId]}),t._cacheStreams[n.id]?t._cacheStreams[n.id]=n:t.onPub.call(t,++t._cver,e.memId,n),t.onEvent(new c.SubSuccess({stream:n,hidden:!0}))}var r=t._cacheMembers[e.memId];u.call(t,e),s.forEach(t._cacheMembers,(function(n,i){n!==e.memId&&r.memName===i.memName&&t.rejectAnswer(n,e.rtcId,10)}))}finally{t.__cache_[e.rtcId].answered=!0}}else a.warn("Webrtc ",e.rtcId,"not created. drop the answer");else u.call(t,e)}})}});return r};e.exports=function(e){var t=e.prototype.Session||n(140),r=u(t.extend({})),i=e.prototype.Attendee||n(145),o=l(i.extend({}));return d(e,r,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.outer=void 0;var r=n(134),i=w(r),o=n(82),s=w(o),a=n(137),c=w(a),u=n(111),l=w(u),d=n(144),f=w(d),p=n(89),h=w(p),m=n(77),v=w(m),b=n(159),y=n(138),g=w(y),_=n(79),S=w(_);function w(e){return e&&e.__esModule?e:{default:e}}var x={};function C(e){if(e&&0!=(0,l.default)(e).length)if(e.key){var t=e.key,n=e.val,r=e.success,i=e.error,o=e.type;if(this.__current_confrId){var s=this._confrs[this.__current_confrId].roleToken;if(s){var a={roleToken:s,cattrs:[{key:t,val:n,op:o}]};$.ajax({type:"POST",url:emedia.config.restPrefix+"/easemob/rtc/confr/attrs/update",data:(0,v.default)(a),contentType:"application/json",success:function(e){r&&"function"==typeof r&&r(e)},error:function(e){i&&"function"==typeof i&&i(e)}})}else console.warn("roleToken is not have")}else console.warn("please set_confr_attrs after joined")}else console.warn("options.key is not have");else console.warn("options is not have")}function O(e,t){var n={type:"POST",url:emedia.config.restPrefix+"/easemob/rtc/confr/attrs/update",data:(0,v.default)({roleToken:e,cstate:{muteAll:t}}),contentType:"application/json"};return new h.default((function(e,t){$.ajax((0,f.default)({},n,{success:function(n){0==n.error?e(n):t(n)},error:function(e){t(e)}}))}))}b.single.onMemberJoin=function(e,t){emedia.decodeMemeberName(e),this.onMemberJoined(e,b.single._confr(t))},b.single.onMemberLeave=function(e,t,n){emedia.decodeMemeberName(e),this.onMemberExited(e,t,b.single._confr(n))},b.single._onRoleUpdated=function(e,t){this.onRoleChanged(e,b.single._confr(t))},b.single._onAddMemberStream=function(e,t){e&&emedia.decodeMemeberName(e.owner),this.onStreamAdded(e.owner,e,b.single._confr(t))},b.single._onRemoveMemberStream=function(e,t){e&&emedia.decodeMemeberName(e.owner),this.onStreamRemoved(e.owner,e,b.single._confr(t))},b.single._onUpdateMemberStream=function(e,t,n){e&&emedia.decodeMemeberName(e.owner),this.onStreamUpdated&&this.onStreamUpdated(e.owner,e,t,b.single._confr(n))},b.single.onExit=function(e,t,n){this.onConferenceExit(e,t,b.single._confr(n))},x.onMemberJoined=function(e){},x.onMemberExited=function(e,t){},x.onRoleChanged=function(e){},x.onStreamAdded=function(e,t){},x.onStreamRemoved=function(e,t){},x.onConferenceExit=function(e,t){},x.joinConferenceWithTicket=b.single.joinUseTicket,x.joinConference=b.single.joinUsePassword,x.getConferenceTkt=b.single.reqTkt,x.publish=function(e,t,n){return b.single.shareVideoWithAudio(e.video,e.audio,t,n)},x.unpublish=function(e){return b.single.hungup(e)},x.unsubscribe=function(e){return b.single.hungup(e)},x.exitConference=function(e){return b.single.exit(e||!1)},x.getConferenceInfo=function(e,t){return b.single.selectConfr(e,t)},x.createConference=b.single.createConfrSptMnPrg,x.grantRole=function(e,t,n){return emedia.decodeMemeberName(t),b.single.chanageRoles(n,t,e.id)},x.degradeRole=function(e,t,n){if(e)if(t&&t instanceof Array!=0&&0!=t.length){if(n){var r=this._confrs[e];if(r){var i=r.role,o=r.roleToken;if(!(Number(n)>=Number(i))){var s={type:"POST",url:emedia.config.restPrefix+"/easemob/rtc/role/degrade",data:(0,v.default)({roleToken:o,uids:t,role:n}),contentType:"application/json"};return new h.default((function(e,t){$.ajax((0,f.default)({},s,{success:function(n){0==n.error?e(n):t(n)},error:function(e){t(e)}}))}))}console.warn("only degradeRole,oldRole: "+i+" >>> toRole: "+n)}else console.warn("confr is not exits")}}else console.warn("members is must Array also length > 0")},x.kickMembersById=function(e,t){return emedia.decodeMemeberName(t),b.single.kickMember(t,e.id)},x.destroyConference=function(e){return b.single.disbandConfr(e,e.roleToken)},x.setConferenceAttrs=function(e){e.type="UPDATE",C.call(this,e)},x.deleteConferenceAttrs=function(e){e.type="DEL",C.call(this,e)},x.onConfrStateUpdated=function(e){var t=this,n=function(){var n=e.muteAll;void 0!==n&&(n?t.onMuteAll&&"function"==typeof t.onMuteAll&&t.onMuteAll():t.onUnMuteAll&&"function"==typeof t.onUnMuteAll&&t.onUnMuteAll())},r=this.__current_confrId;if(r){var i=this._services[r];if(i){var o=i.current;o&&o.role&&o.role!=this.Role.ADMIN&&n()}}},x.joinRoom=function(){var e=(0,c.default)(i.default.mark((function e(t){var n,r,o,a,c,u,l,d,p,m,b,y,g,_,S,w,x,C,O,T;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=function(e){var t=emedia.config,n=t.restPrefix,r=t.appkey;if(r){var i=r.split("#")[0],o=r.split("#")[1],s=n+"/"+i+"/"+o+"/conferences/room";return new h.default((function(t,n){var r={url:s,data:(0,v.default)(e),type:"POST",contentType:"application/json",success:function(e){e.error?n(e):t(e)},error:function(e){n(e)}};$.ajax(r)}))}console.warn("appkey is not defined")},r=this,o=function(e){var t=emedia.config.restPrefix+"/easemob/rtc/req/ticket?_ct="+(new Date).getTime();e.region&&(t+="&REGION="+e.region),e.confrId&&(t+="&CONFRID="+e.confrId);var n={type:"POST",url:t,data:(0,v.default)(e),contentType:"application/json",dataType:"json"};return new h.default((function(e,t){$.ajax((0,f.default)({},n,{success:function(n){0==n.error?e(n):t(n)},error:function(e){t(e)}}))}))},a=t.roomName,c=t.password,u=t.role,l=t.config,d=this.identityName,p=this.identityToken,a){e.next=8;break}return console.warn("the roomName is required at joinRoom"),e.abrupt("return");case 8:if(c){e.next=11;break}return console.warn("the password is required at joinRoom"),e.abrupt("return");case 11:if(d){e.next=14;break}return console.warn("the memName is required at joinRoom"),e.abrupt("return");case 14:if(p){e.next=17;break}return console.warn("the token is required at joinRoom"),e.abrupt("return");case 17:if(u){e.next=20;break}return console.warn("the role is required at joinRoom"),e.abrupt("return");case 20:return e.prev=20,m=(0,f.default)({roomName:a,password:c,memName:d,token:p},l),e.next=24,n(m);case 24:return b=e.sent,y=b.confrId,e.prev=26,g={uid:d,token:p,confrId:y,password:c,role:u,terminal:this._terminalInfo,rec:l.rec,recMerge:l.recMerge},e.next=30,o(g);case 30:return _=e.sent,_.mixed=11===_.type||12===_.type,_.id=_.serverConfrId=_.confrId=y,this._confrs[y]=(0,s.default)(this._confrs[y]||{},_),e.prev=34,S=_.ticket,w=l.nickName,x=l.ext,C=b.confrId,O=b.isCreator,e.next=40,r.joinConferenceWithTicket(C,S,(0,f.default)({nickName:w},x));case 40:return T=e.sent,O&&(T.isCreator=O),e.abrupt("return",T);case 45:if(e.prev=45,e.t0=e["catch"](34),!/cause: -523|cause:-523/.test(e.t0.errorMessage)){e.next=49;break}return e.abrupt("return",{error:-523,message:"talker count limit"});case 49:return e.abrupt("return",{error:-1,message:"joinRoom error"});case 50:e.next=57;break;case 52:if(e.prev=52,e.t1=e["catch"](26),!e.t1.response){e.next=56;break}return e.abrupt("return",JSON.parse(e.t1.response));case 56:return e.abrupt("return",{error:-1,message:"joinRoom error"});case 57:e.next=64;break;case 59:if(e.prev=59,e.t2=e["catch"](20),!e.t2.response){e.next=63;break}return e.abrupt("return",JSON.parse(e.t2.response));case 63:return e.abrupt("return",{error:-1,message:"joinRoom error"});case 64:case"end":return e.stop()}}),e,this,[[20,59],[26,52],[34,45]])})));return function(t){return e.apply(this,arguments)}}(),x.requestToTalker=function(e){if(e){var t=this._services[e];t.requestToTalker()}else console.warn("requestToTalker confrId is required")},x.requestToAdmin=function(e){if(e){var t=this._services[e];t.requestToAdmin()}else console.warn("requestToTalker confrId is required")},x.muteBymemberId=function(e,t){if(e&&t){var n=this._services[e];n.muteBymemberId(t)}else console.warn("muteBymemberId confrId and memberId is required")},x.unmuteBymemberId=function(e,t){if(e&&t){var n=this._services[e];n.unmuteBymemberId(t)}else console.warn("muteBymemberId confrId and memberId is required")},x.muteAll=function(e){if(e){var t=this._services[e];if(t){var n=t.current,r=n.role,i=n.roleToken;if(7==r){if(i){var o=!0;return O.call(this,i,o)}}else console.warn("only admin can action")}else console.warn("service is not exits")}else console.warn("muteAll confrId is required")},x.unmuteAll=function(e){if(e){var t=this._services[e];if(t){var n=t.current,r=n.role,i=n.roleToken;if(7==r){if(i){var o=!1;return O.call(this,i,o)}}else console.warn("only admin can action")}else console.warn("service is not exits")}else console.warn("unmuteAll confrId is required")},x.updateLiveLayout=function(e,t){if(e)if(t){var n=this._services[e].current,r=n.role,i=n.roleToken,o=n.liveCfgs;if(7==r)if(i){if(o){var s=o[0].id,a=emedia.config.restPrefix+"/easemob/rtc/live/layout",c={confrId:e,liveId:s,regions:t,roleToken:i};return new h.default((function(e,t){$.ajax({url:a,type:"POST",data:(0,v.default)(c),contentType:"application/json",dataType:"json",success:function(n){0==n.error?e(n):t(n)},error:function(e){t(e)}})}))}console.warn("updateLiveLayout liveCfgs is not have")}else console.error("updateLiveLayout roleToken is required");else console.warn("only admin can updateLiveLayout")}else console.warn("updateLiveLayout regions is required");else console.warn("updateLiveLayout confrId is required")},x.deleteLive=function(e){if(e){var t=this._services[e].current,n=t.liveCfgs,r=t.role,i=t.roleToken;if(n)if(7==r){if(i){var o=n[0].id,s=emedia.config.restPrefix+"/easemob/rtc/delete/live",a={confrId:e,liveId:o,roleToken:i};return new h.default((function(e,t){$.ajax({url:s,type:"DELETE",data:(0,v.default)(a),contentType:"application/json",dataType:"json",success:function(n){0==n.error?e(n):t(n)},error:function(e){t(e)}})}))}console.error("updateLiveLayout roleToken is required")}else console.warn("only admin can deleteLive");else console.warn("this service Live is not")}else console.warn("deleteLive confrId is required")},emedia.decodeMemeberName=function(e){if("function"!==typeof emedia.decodeMemeberNameString)return e;if("string"===typeof e)return emedia.decodeMemeberNameString(e);if(g.default.isArray(e)){for(var t=0;t<e.length;t++)e[t]=emedia.decodeMemeberName(e[t]);return e}return e.name?(e.globalName=e.name,void(e.memName=e.name=emedia.decodeMemeberName(e.name))):e.memName?(e.globalName=e.memName,void(e.memName=e.name=emedia.decodeMemeberName(e.memName))):void 0},emedia.ConfrType=b.single.ConfrType,emedia.Role=b.single.Role,emedia.StreamType=b.single.StreamType,(0,S.default)((function(){var e=window.WebIM;if(e&&e.conn&&"function"===typeof e.conn.onOpened){var t=function(){emedia.decodeMemeberNameString=function(t){if("string"===typeof t){if(t.indexOf(e.conn.orgName)<0)return t;var n=t.indexOf("_");n<0?n=0:n++;var r=t.indexOf("@");return r<0&&(r=t.length),t.substring(n,r)}return t},b.single.setUrlCreator((function(t,n){return e.conn.apiUrl+t})),b.single.setIdentity(e.conn.orgName+"#"+e.conn.appName+"_"+e.conn.user,e.conn.token)},n=e.conn.onOpened;e.conn.onOpened=function(){n.apply(e.conn,arguments),t()},e.conn.token&&t()}}));t.outer=g.default.extend(b.single,x)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.single=void 0;var r=n(6),i=y(r),o=n(77),s=y(o),a=n(89),c=(y(a),n(5)),u=y(c),l=n(79),d=y(l),f=n(138),p=y(f),h=n(160),m=n(262),v=n(149),b=y(v);function y(e){return e&&e.__esModule?e:{default:e}}var g=u.default.tagLogger("mgr");window.emedia=window.emedia||{};var _={createConfr:"/easemob/rtc/req/ticket",reqTkt:"/easemob/rtc/req/ticket",chanageRoles:"/easemob/rtc/chanage/roles",disbandConfr:"/easemob/rtc/disband/conference",kickMember:"/easemob/rtc/kick/member",selectConfr:"/easemob/rtc/select/confr"};function S(){this._confrs={},this._services={},this._events={},this._videos={}}S.prototype.ConfrType={COMMUNICATION:10,COMMUNICATION_MIX:11,LIVE:12,P2P:13,INTERCOMM:14},S.prototype.Role={ADMIN:7,TALKER:3,AUDIENCE:1},S.prototype.StreamType={VIDEO:0,DESKTOP:1,MIXVIDEO:2};var w=function(e,t){return function(n){d.default.ajax({type:"POST",url:e,data:(0,s.default)(t),contentType:"application/json",dataType:"json",success:function(r,i,o){g.debug("REST: ",r," -> ",t,e),0===r.error?(u.default.removeAttribute(r,"error"),n.next(r),n.complete()):(u.default.extend(r,{errorType:"server_refuse"}),n.error(r))},error:function(r,i,o){var s={errorType:"http_error",error:r.status,errorMessage:o};g.debug("REST: ",s," -> ",t,e),n.error({errorType:"http_error",error:r.status,errorMessage:o})}})}};(function(e){u.default.forEach(e,(function(e,t){S.prototype[e]=function(n){var r=t;r=r+"?_ct="+(new Date).getTime(),n.region&&(r=r+"&REGION="+n.region),n.confrId&&(r=r+"&CONFRID="+n.confrId);var i=this.createUrl(r,e);return w(i,n)}}))})(_),S.prototype.createUrl=function(e,t){var n=emedia.config&&emedia.config.restPrefix||"";return n+e},S.prototype.setUrlCreator=function(e){this.createUrl=e.bind(this)},S.prototype.destroy=function(){},S.prototype.ZeroStream=b.default.extend({__init__:function(){var e=this;e.type=2,e.id="0",e._located=!1,e.mutedMuted=!1},onGotRemoteMediaStream:function(e){var t=this;if(!t.remotePlayAudioObject){t.id;var n=document.createElement("audio");n.style.display="none",n.id="__o_remote_play_audio_"+t.id,n.autoplay=!0,n.playsinline=!0,t.remotePlayAudioObject=n,document.body.appendChild(n)}t.remotePlayAudioObject.srcObject=e}}),S.prototype.setIdentity=function(e,t,n){this.identityName=e,this.identityToken=t,this.ext=n,this._terminalInfo={browser:emedia.browser,browserVersion:emedia.browserVersion,version:window._emediaVersion||emedia.config.version,userAgent:emedia.config.userAgent},g.info("set identity: ",e,t),this.destroy(),emedia.config({autoSub:!1,onlyEnter:!0})},S.prototype.EventsObservable=n(360).default;var x=(0,m.catchError)((function(e,t){throw g.error(e),e}));function C(e,t,n,r){var o=this,s=void 0,a=void 0;if(arguments.length>=0&&"object"===(0,i.default)(arguments[0])){var c=arguments[0];s=c.region,e=c.confrType,t=c.password,n=c.rec,r=c.recMerge,a=c.liveCfg}return"string"===typeof e&&(e=parseInt(e)),h.Observable.create(S.prototype.createConfr.call(o,{region:s,uid:o.identityName,token:o.identityToken,confrType:e,password:t,terminal:o._terminalInfo,rec:n,recMerge:r,liveCfg:a})).pipe((0,m.map)((function(e){return e.mixed=11===e.type||12===e.type,e.id=e.serverConfrId=e.confrId,o._confrs[e.confrId]=p.default.extend({},e),u.default.removeAttribute(e,"rtcCfg"),e})),x)}function O(e,t,n,r,o){var s=this,a=void 0,c=void 0;if(arguments.length>=0&&"object"===(0,i.default)(arguments[0])){var l=arguments[0];a=l.region,e=l.confrType,t=l.password,n=l.rec,r=l.recMerge,o=l.supportWechatMiniProgram,c=l.liveCfg}"string"===typeof e&&(e=parseInt(e));var d={region:a,uid:s.identityName,token:s.identityToken,confrType:e,password:t,terminal:s._terminalInfo,rec:n,recMerge:r,supportWechatMiniProgram:o,liveCfg:c};return o&&(d.useVCodes=["VP8","H264"]),h.Observable.create(S.prototype.createConfr.call(s,d)).pipe((0,m.map)((function(e){return e.mixed=11===e.type||12===e.type,e.id=e.serverConfrId=e.confrId,s._confrs[e.confrId]=p.default.extend({},e),u.default.removeAttribute(e,"rtcCfg"),e})),x)}function T(e,t){var n,r=this;if(arguments.length>=0&&"object"===(0,i.default)(arguments[0])){var o=arguments[0];e=o.confrId,t=o.password,n=o.role}var s=r._confr(e),a={uid:r.identityName,token:r.identityToken,confrId:s&&s.id||e,password:t,role:n,terminal:r._terminalInfo};return r._confrs[e]&&(a.roleToken=r._confrs[e].roleToken),h.Observable.create(S.prototype.reqTkt.call(r,a)).pipe((0,m.map)((function(t){return t.mixed=11===t.type||12===t.type,t.id=t.serverConfrId=t.confrId=e,r._confrs[e]=u.default.extend(r._confrs[e]||{},t),u.default.removeAttribute(t,"rtcCfg"),t})),x)}function E(e,t,n){var r=this,i=r._confr(n),o=r._service(n),s={confrId:i&&i.id||n,uids:t,role:e,roleToken:i.roleToken};return h.Observable.create(S.prototype.chanageRoles.call(r,s)).pipe((0,m.map)((function(e){return o&&o.current&&o.current._sysCopy(),i.id})),x)}function I(e,t){var n=this,r=n._confr(e),i={confrId:r&&r.id||e,roleToken:r&&r.roleToken||t};return h.Observable.create(S.prototype.disbandConfr.call(n,i)).pipe((0,m.map)((function(t){return u.default.removeAttribute(n._confrs,e),r.id})),x)}function k(e,t){var n=this,r=n._confr(t),i={confrId:r&&r.id||t,uids:e,roleToken:r.roleToken};return h.Observable.create(S.prototype.kickMember.call(n,i)).pipe((0,m.map)((function(e){return r.id})),x)}function R(e,t){var n=this,r=n._confr(e),i={uid:n.identityName,token:n.identityToken,confrId:r&&r.id||e,password:t};return r&&(i.password=t||r.password,i.roleToken=r.roleToken),h.Observable.create(S.prototype.selectConfr.call(n,i)).pipe(x)}function P(e,t){}function M(e,t){var n=this,r=n._confr(e),i=n._service(e);switch(r.type){case 0:case 10:break;case 11:break;case 12:var o=new n.ZeroStream;if(i.current._cacheStreams[o.id]=o,i.current.role==ne.Role.AUDIENCE)return K.call(n,e,o,!1,!0).pipe((0,m.concatMap)((function(){return(0,h.of)(u.default.extend({},n._confrs[e]))})));break;case 13:case 14:return(0,h.throwError)("not support conf type: "+r.type);default:return(0,h.throwError)("not support conf type: "+r.type)}return(0,h.of)(u.default.extend({},n._confrs[e]))}function A(e,t,n){var r=this;return emedia.ctrl.support(n,(function(t,n,i){r.onHasRemoteControl(t,n,i,e)}),(function(t,n,i){r.onRemoteFreeControl(t,n,i,e)})),g.info("support remote control. ",e,t),(0,h.of)(u.default.extend({},r._confrs[e]))}function j(e,t,n){var r=this;if(r.joined(e))return(0,h.throwError)("had joined confr "+e+", if you want join again, please call exitConference");var i=r._events[e]=new r.EventsObservable(r,e,(function(t){P.call(r,e,t)}));r.confrEventsObserver&&i.subscribe(r.confrEventsObserver);var o=r._service(e);return o=r._services[e]=new emedia.XService({listeners:i,nickName:n&&n.nickName}),o.setup(t,n),h.Observable.create((function(t){o.join((function(n){r.__current_confrId=e,r._confrs[e].joinId=n,r._confrs[e].role=o.current&&o.current.role,t.next(r._confrs[e]),t.complete()}),(function(e){o.exit(),t.error({errorType:"join_fail",error:-200,errorMessage:e.message()})}))})).pipe((0,m.concatMap)((function(t,n){return A.call(r,e,t,o)})),(0,m.concatMap)((function(t,n){return M.call(r,e,t)})),x)}function N(e,t,n){var r=this;return T.call(r,e,t,n).pipe((0,m.concatMap)((function(t,i){return j.call(r,e,t.ticket,n)})))}function D(e,t,n){var r=this;return R.call(r,e,t,n).pipe((0,m.concatMap)((function(i,o){return N.call(r,e,t,n)})))}function B(e,t){var n=t.aoff,r=t.voff;n&&r&&(t.aoff=0,t.constaints.audio=!0);var i=this,o=i._service(e);return h.Observable.create((function(e){o.openUserMedia(t).then((function(){e.next(t),e.complete()}),(function(t){e.error({errorType:"open_user_media_fail",error:-201,errorMessage:t.message()})}))})).pipe(x)}function L(e,t){var n=this,r=n._service(e);return h.Observable.create((function(e){r.push(t,(function(t){e.next(t),e.complete()}),(function(t){e.error({errorType:"push_fail",error:-203,errorMessage:t.message()})}))})).pipe(x)}function F(e,t,n){var r=this,i=(r._confr(n),r._service(n));return e="string"===typeof e?i.getStreamById(e):i.getStreamById(e.id),e?t?p.default.isEqual(t,e.constaints.video)?V.call(r,n,e,0):U.call(r,n,e,t):V.call(r,n,e,1):(0,h.throwError)("pub stream not exsits. it is "+e)}function V(e,t,n){var r=this,i=r._service(e);return h.Observable.create((function(e){i.voff(t,n,(function(t){e.error({errorType:"voff_fail",error:-203,errorMessage:t.message()})}),(function(){e.next(i.getStreamById(t.id)),e.complete()}))})).pipe(x)}function U(e,t,n){var r=this,i=r._service(e);return h.Observable.create((function(e){var r={};p.default.isObject(t.constaints)&&(r=u.default.extend(!0,{},t.constaints)),r.video=n,i.chanageConstraints(t,r,(function(t){e.error({errorType:"ChanageVideoConstraints_fail",error:-203,errorMessage:t.message()})}),(function(){e.next(i.getStreamById(t.id)),e.complete()}))})).pipe(x)}function $(e,t,n){var r=this,i=r._confr(n),o=r._service(n);return e="string"===typeof e?o.getStreamById(e):o.getStreamById(e.id),e?i.type!==r.ConfrType.COMMUNICATION_MIX&&i.type!==r.ConfrType.LIVE||1!==e.type||t?W.call(r,n,e,t):(g.warn("confr mix. not allow desktop with audio."),(0,h.throwError)("confr mix. not allow desktop with audio.")):(0,h.throwError)("pub stream not exsits. it is "+e)}function W(e,t,n){var r=this,i=r._service(e);return h.Observable.create((function(e){i.aoff(t,n,(function(t){e.error({errorType:"aoff_fail",error:-203,errorMessage:t.message()})}),(function(){e.next(i.getStreamById(t.id)),e.complete()}))})).pipe(x)}function z(e,t,n,r){var i=this,o=i._confr(e),s=i._service(e);if(s.current.role==i.Role.AUDIENCE)return(0,h.throwError)("Audience not allow publish");if(o.av)return(0,h.throwError)("Audio and video stream has been published. not allow repeat publish.");var a=o.mixed?s.AudioMixerPubstream:s.AVPubstream,c=o.av=new a({constaints:t,aoff:t.audio?0:1,voff:t.video?0:1,ext:r});return B.call(i,o.id,c).pipe((0,m.concatMap)((function(e){if(i.realConstaints){var t=i.realConstaints,s=t.audio,a=t.video;e.constaints=i.realConstaints,e.aoff=s?0:1,e.voff=a?0:1}return n&&u.default.targetDOM(n)&&attachMediaStream(n,e.localStream),L.call(i,o.id,e,r)})),(0,m.map)((function(e){if(i.realConstaints){var t=i.realConstaints,r=t.audio,s=t.video;e.constaints=i.realConstaints,e.aoff=r?0:1,e.voff=s?0:1}return o.av=e,n&&i.streamBindVideo(o.av,n),o.type==i.ConfrType.LIVE&&i.hungup(0),u.default.extend({},e)})),(0,m.catchError)((function(e,t){throw o.av&&i.hungup(o.av),o.av=void 0,g.error(e),e})))}function H(e){var t=this,n=t._confr(e),r=t._service(e);return r.current.role==t.Role.AUDIENCE?(0,h.throwError)("Audience not allow publish"):h.Observable.create((function(e){r.switchMobileCamera(n.av,(function(t){e.error({errorType:"switch_camera_fail",error:-203,errorMessage:t.message()})}),(function(){e.complete()}))})).pipe(x)}function G(e){var t=this,n=t._confr(e),r=t._service(e);return r.current.role==t.Role.AUDIENCE?(0,h.throwError)("Audience not allow publish"):h.Observable.create((function(e){r.chanageCamera(n.av,(function(t){e.error({errorType:"switch_camera_fail",error:-203,errorMessage:t.message()})}),(function(){e.complete()}))})).pipe(x)}function q(e){var t=e.confrId,n=e.constaints,r=e.videoTag,i=e.ext,o=e.stopSharedCallback,s=this,a=s._confr(t),c=s._service(t);if(c.current.role==s.Role.AUDIENCE)return(0,h.throwError)("Audience not allow publish");if(a.desktop)return(0,h.throwError)("desktop stream has been published. not allow repeat publish.");if((a.type===s.ConfrType.COMMUNICATION_MIX||a.type===s.ConfrType.LIVE)&&n.audio)return g.warn("confr mix. not allow desktop with audio."),(0,h.throwError)("confr mix. not allow desktop with audio.");n.audio||!a.av||a.av.aoff||g.warn("repeat audio. desktop and av");var l=a.desktop=new c.ShareDesktopPubstream({screenOptions:n.video&&n.video.screenOptions||["screen","window","tab"],mandatory:n.video&&n.video.mandatory||{},vbitrate:n.video&&n.video.bitrate,abitrate:n.audio&&n.audio.bitrate,aoff:n.audio?0:1,ext:i,onMediaInactive:function(){"function"==typeof o&&o()}});return B.call(s,a.id,l).pipe((0,m.concatMap)((function(e){return r&&u.default.targetDOM(r)&&attachMediaStream(r,e.localStream),L.call(s,a.id,e,i)})),(0,m.map)((function(e){return a.desktop=e,r&&u.default.targetDOM(r)&&s.streamBindVideo(a.desktop,r),u.default.extend({},e)})),(0,m.catchError)((function(e,t){throw a.desktop=void 0,g.error(e),e})))}function K(e,t,n,r,i){var o=this,s="string"===typeof t?t:t.id,a=o._confr(e),c=o._service(e);return 2===t.type&&1==r&&0!=t.id&&(r=!1,g.warn("Mixed audio stream. not allow repeat sub audio. force reset subSAudio = false")),i&&u.default.targetDOM(i)&&o.streamBindVideo(s,i),h.Observable.create((function(e){c.subscribe(s,(function(t){try{if("0"!=s){var n=c.getStreamById(s),r={video:n.subArgs?n.subArgs.subSVideo:!n.voff,audio:n.subArgs?n.subArgs.subSAudio:!n.aoff};2===n.type&&(r.audio=!0),o._onMemberMediaChanaged(n.owner,n,r,a.confrId)}}finally{e.next(t),e.complete()}}),(function(t){e.error({errorType:"sub_fail",error:-203,errorMessage:t.message()})}),{subSVideo:n,subSAudio:r})})).pipe(x)}function Y(e,t,n){var r=this,i=r._service(n);e=i.current._cacheStreams["string"===typeof e?e:e.id];var o=t||r.crtAndReturnVideo(e.owner,e);if(o){r._videos[e.id]=o,o.setAttribute("autoplay","autoplay"),o.setAttribute("playsinline","playsinline"),o.setAttribute("hx_stream",e.id),e.aoff?o.setAttribute("aoff","aoff"):o.removeAttribute("aoff"),e.voff?o.setAttribute("voff","voff"):o.removeAttribute("voff"),e.ifMediaStream((function(e){o&&attachMediaStream(o,e),o.hasAttribute("flow")&&r.onMediaTransmission(o,(function(e,t,n,r){(0,d.default)(o).trigger("onMediaTransmission",[e,t,n,r])}))}));var s=(0,d.default)(o);s.off("hungup"),s.on("hungup",(function(t,i,o){r.hungup(e,n),o&&o()})),s.off("subscribe"),s.on("subscribe",(function(t,i,o,s,a){e.located()?s&&s("local stream not allow sub"):(i=e.subArgs&&e.subArgs.subSVideo||!0,o=e.subArgs&&e.subArgs.subSAudio||!0,r.subscribe(e.owner,e,i,o,n).then(a).catch(s))})),s.off("pauseVideo"),s.on("pauseVideo",(function(t,o,a){e=i.current._cacheStreams["string"===typeof e?e:e.id],e.located()?(s[0].__constaints_video=e.constaints&&e.constaints.video,r.pauseVideo(e,n).then(a).catch(o)):r.subscribe(e.owner,e,!1,e.subArgs&&e.subArgs.subSAudio||!e.aoff,n).then(a).catch(o)})),s.off("resumeVideo"),s.on("resumeVideo",(function(t,o,a,c){e=i.current._cacheStreams["string"===typeof e?e:e.id],e.located()?(void 0===c&&(c=s[0].__constaints_video,void 0!==c&&null!=c||(c=!0)),s[0].__constaints_video=void 0,r.resumeVideo(e,c,n).then(a).catch(o)):r.subscribe(e.owner,e,!0,e.subArgs&&e.subArgs.subSVideo||!e.voff,n).then(a).catch(o)})),s.off("pauseAudio"),s.on("pauseAudio",(function(t,i,o){e.located()?r.pauseAudio(e,n).then(o).catch(i):r.subscribe(e.owner,e,e.subArgs.subSVideo,!1,n).then(o).catch(i)})),s.off("resumeAudio"),s.on("resumeAudio",(function(t,i,o){e.located()?r.resumeAudio(e,n).then(o).catch(i):r.subscribe(e.owner,e,e.subArgs.subSVideo,!0,n).then(o).catch(i)})),s.off("remoteControl"),s.on("remoteControl",(function(t,i,s,a,c,u,l,d){if(e.located())throw g.error("not allow remote control at local"),"not allow remote control at local";r.remoteControl(e,o,o,i,s,a,c,u,l,d,n)})),s.off("chanageCamera"),s.on("chanageCamera",(function(e,t,i){r.chanageCamera(n).then(i).catch(t)})),s.off("captureVideo"),s.on("captureVideo",(function(e,t,i,s){var a=r.captureVideo(o,i,s,n);t&&t(a)})),s.off("capturePictureRemote"),s.on("capturePictureRemote",(function(t,i,o){r.capturePictureRemote(e,!1,n).then(o).catch(i)})),s.off("freezeFrameRemote"),s.on("freezeFrameRemote",(function(t,i,o){r.freezeFrameRemote(e,n).then(o).catch(i)})),s.off("zoomRemote"),s.on("zoomRemote",(function(t,i,o,s){r.zoomRemote(e,i,n).then(s).catch(o)})),s.off("torchRemote"),s.on("torchRemote",(function(t,i,o,s){r.torchRemote(e,i,n).then(s).catch(o)})),s.off("freeRemoteControl"),s.on("freeRemoteControl",(function(t,i,o){try{r.freeRemoteControl(e,n)}finally{o&&o()}}));var a={video:!e.voff,audio:!e.aoff,voff:e.voff,aoff:e.aoff};e.located()||(a={video:e.subArgs?e.subArgs.subSVideo:!e.voff,audio:e.subArgs?e.subArgs.subSAudio:!e.aoff,voff:e.voff,aoff:e.aoff}),s.trigger("onMediaChanaged",[a,e,e.owner,n]),o.getAttribute("sound")&&(i.current._monitSoundChanagedStreams=i.current._monitSoundChanagedStreams||{},i.current._monitSoundChanagedStreams[e.id]=e.id)}}function J(e,t,n,r){var i=this;"string"!==typeof t&&(t=t.id);i._confr(e);var o=i._service(e);return h.Observable.create((function(e){o.focusExpoRemote(t,n,r,(function(t){e.error({errorType:"focusexpo_remote_fail",error:-203,errorMessage:t.message()})}),(function(){e.complete()}))})).pipe(x)}function X(e,t,n){var r=this;"string"!==typeof t&&(t=t.id);r._confr(e);var i=r._service(e);return h.Observable.create((function(e){i.capturePictureRemote(t,n,(function(t){e.next(t),e.complete()}),(function(t){e.error({errorType:"capture_remote_fail",error:-203,errorMessage:t.message()})}))})).pipe(x)}function Z(e,t,n){var r=this;"string"!==typeof t&&(t=t.id);r._confr(e);var i=r._service(e);return h.Observable.create((function(e){i.zoomRemote(t,n,(function(t){e.error({errorType:"capture_remote_fail",error:-203,errorMessage:t.message()})}),(function(){e.complete()}))})).pipe(x)}function Q(e,t,n){var r=this;"string"!==typeof t&&(t=t.id);r._confr(e);var i=r._service(e);return h.Observable.create((function(e){i.torchRemote(t,n,(function(t){e.next(t),e.complete()}),(function(t){e.error({errorType:"torch_remote_fail",error:-203,errorMessage:t.message()})}))})).pipe(x)}function ee(e,t){var n=this;"string"!==typeof t&&(t=t.id);n._confr(e);var r=n._service(e);return h.Observable.create((function(e){r.freezeFrameRemote(t,(function(t){e.next(t),e.complete()}),(function(t){e.error({errorType:"freeze_remote_fail",error:-203,errorMessage:t.message()})}))})).pipe(x)}var te=u.default.extend(new S,{_confr:function(e){var t=this;return e||(e=t.__current_confrId),t._confrs[e]},_service:function(e){var t=this;return e||(e=t.__current_confrId),this._services[e]},getStreamById:function(e,t){var n=this,r=n._service(t);return r&&r.getStreamById(e)},getMemberById:function(e,t){var n=this,r=n._service(t);return r&&r.getMemberById(e)},streamBindVideo:function(e,t,n){Y.call(this,e,t,n)},getBindVideoBy:function(e){var t=this;if("string"!==typeof e&&e&&e.id&&(e=e.id),"string"!==typeof e)throw g.error("Bad stream ",e),"Bad stream "+e;return t._videos[e]},createConfr:function(e,t,n,r){return C.apply(this,arguments).toPromise()},createConfrSptMnPrg:function(e,t,n,r){return O.apply(this,arguments).toPromise()},reqTkt:function(e,t){return T.apply(this,arguments).toPromise()},chanageRoles:function(e,t,n){return E.apply(this,arguments).toPromise()},disbandConfr:function(e,t){return I.apply(this,arguments).toPromise()},kickMember:function(e,t){return k.apply(this,arguments).toPromise()},selectConfr:function(e,t){return R.apply(this,arguments).toPromise()},joinUsePassword:function(e,t,n){return D.call(this,e,t,n).toPromise()},joinUseTicket:function(e,t,n){return j.call(this,e,t,n).toPromise()},joined:function(e){return e&&this._confrs[e]&&this._confrs[e].joinId},shareDesktopWithAudio:function(e){var t=e.videoConstaints,n=e.withAudio,r=e.videoTag,i=e.ext,o=e.confrId,s=e.sharedCallback,a=e.stopSharedCallback,c=this;u.default.targetDOM(r)||(o=i,i=r,r=void 0);var l={video:t,audio:n},d={confrId:o,constaints:l,videoTag:r,ext:i,sharedCallback:s,stopSharedCallback:a};return q.call(c,d).toPromise()},chanageCamera:function(e){return G.call(this,e).toPromise()},switchMobileCamera:function(e){return H.call(this,e).toPromise()},shareVideoWithAudio:function(e,t,n,r,i){var o=this;u.default.targetDOM(n)||(i=r,r=n,n=void 0);var a={video:e,audio:t},c=JSON.parse((0,s.default)(a));return o.realConstaints=c,z.call(o,i,a,n,r).toPromise()},captureVideo:function(e,t,n,r){var i=this,o=i._service(r);return o.captureVideo(e,t,n)},openUserMedia:function(e,t){var n=this,r=n._service(t);return h.Observable.create((function(t){r.__getUserMedia(e,(function(e,n){t.next(n),t.complete()}),(function(e){t.error(e)}))})).pipe(x).toPromise()},mediaDevices:function(e){return"function"===typeof e&&(e=void 0),h.Observable.create((function(t){navigator.mediaDevices.enumerateDevices().then((function(n){for(var r=[],i=0;i!==n.length;++i){var o=n[i];o.deviceId;e||r.push(o),e&&e===o.kind?r.push(o):"audioinput"===o.kind||"audiooutput"===o.kind||"videoinput"===o.kind||g.info("Some other kind of source/device: ",o)}t.next(r),t.complete()})).catch((function(e){g.warn("navigator.getUserMedia error: ",e),t.error(e)}))})).pipe(x).toPromise()},resumeVideo:function(e,t,n){return F.call(this,e,t||!0,n).toPromise()},pauseVideo:function(e,t){return F.call(this,e,!1,t).toPromise()},resumeAudio:function(e,t){return $.call(this,e,!1,t).toPromise()},pauseAudio:function(e,t){return $.call(this,e,!0,t).toPromise()},freezeFrameRemote:function(e,t){return ee.call(this,t,e).toPromise()},torchRemote:function(e,t,n){return Q.call(this,n,e,t).toPromise()},zoomRemote:function(e,t,n){return Z.call(this,n,e,t).toPromise()},capturePictureRemote:function(e,t){return X.call(this,t,e,!1).toPromise()},focusExpoRemote:function(e,t,n,r){return J.call(this,r,e,t,n).toPromise()},onFocusExpoRemoteWhenClickVideo:function(e,t,n,r){var i=this;return"function"===typeof t&&(r=n,n=t,t=void 0),(0,d.default)(e).off(t||"click"),(0,d.default)(e).on(t||"click",(function(t){var o=e.getAttribute("hx_stream");i.focusExpoRemote(o,e,t).then(r).catch(n)})),t},offEventAtTag:function(e,t){t&&(0,d.default)(e).off(t)},hungup:function(e,t){var n,r=this;n="string"===typeof e?e:e.id||e+"";var i=r._service(t),o=r._confr(t);if(o&&i){i.hungup(n);var s=!1;if(o.av&&(s=o.av.id===n)&&(o.av=void 0),o.desktop&&o.desktop.id===n&&(o.desktop=void 0),s&&o.type==r.ConfrType.LIVE&&i.current.role==ne.Role.AUDIENCE){var a=i.current&&i.current._cacheStreams["0"];r.subscribe(i.current,a,!1,!0,t)}}else g.warn("when hungup stream. not found confr and service.",e)},subscribe:function(e,t,n,r,i,o){var s=this;return u.default.targetDOM(i)||(o=i,i=void 0),K.call(s,o,t,n,r,i).toPromise()},exit:function(e,t){var n=this,r=n._service(t);r?r.exit(e):g.warn("when exit. not found service.",t)},_onExit:function(e,t,n){var r=this;try{r.__current_confrId=void 0,r.onExit(t,n,e)}finally{u.default.removeAttribute(r._confrs,e),u.default.removeAttribute(r._services,e),u.default.removeAttribute(r._videos,e),u.default.removeAttribute(r._events,e)}},onExit:function(e,t,n){},_onRoleUpdated:function(e,t){},onMemberJoin:function(e,t){},onMemberLeave:function(e,t,n){},_onRecvRemoteMessage:function(e,t,n){},crtAndReturnVideo:function(e,t,n){},unloadVideo:function(e,t,n,r){},remoteControl:function(e,t,n,r,i,o,s,a,c,u,l){var d=this,f=d._service(l);r=!!r;var p="string"===typeof e?e:e.id;r?emedia.ctrl.mirrorControlled(f,p,t,n,i,o,s,a,c,u):emedia.ctrl.controlled(f,p,t,n,i,o,s,a,c,u)},freeRemoteControl:function(e,t){var n=this,r=n._service(t),i="string"===typeof e?e:e.id;emedia.ctrl.disControlled(r,i)},zeptoTrigger:function(e,t){var n=[];return Array.prototype.push.apply(n,Array.prototype.slice.call(arguments,2)),h.Observable.create((function(r){var i=[function(){r.error.apply(r,arguments)},function(){r.next.apply(r,arguments),r.complete()}];Array.prototype.push.apply(i,n),(0,d.default)(e).trigger(t,i)})).pipe(x).toPromise()},_onAddMemberStream:function(e,t){},_onRemoveMemberStream:function(e,t){},_onUpdateMemberStream:function(e,t,n){},_onMemberMediaChanaged:function(e,t,n,r){var i=this._videos[t.id];n&&(n.voff=t.voff,n.aoff=t.aoff),i&&(0,d.default)(i).trigger("onMediaChanaged",[n,t,e,r])},onMediaChanaged:function(e,t){this.addVideoEventListener(e,"onMediaChanaged",t)},_onMemberSoundChanaged:function(e,t,n,r){var i=this._videos[t.id];i&&(0,d.default)(i).trigger("onSoundChanaged",[n,t,e,r])},onSoundChanaged:function(e,t){if(!emedia.config.getMediaMeterIntervalMillis||emedia.config.getMediaMeterIntervalMillis<=0)throw g.error("monit sound chanaged not config. please config getMediaMeterIntervalMillis"),"monit sound chanaged not config. please config getMediaMeterIntervalMillis";e.setAttribute("sound","sound"),this.addVideoEventListener(e,"onSoundChanaged",t)},onMediaTransmission:function(e,t){if(emedia.helper&&"function"===typeof emedia.helper.inboundVideo){var n=this._service(),r=e.getAttribute("hx_stream"),i=r&&n.getStreamById(r),o=e.getAttribute("flowWebrtc");i&&i._webrtc&&o==i._webrtc.__id||(e.hasAttribute("flow")&&i&&i._webrtc?(i.located()?emedia.helper.outboundVideo(i,t,1e3):emedia.helper.inboundVideo(i,t,1e3),e.setAttribute("flowWebrtc",i._webrtc.__id)):(this.addVideoEventListener(e,"onMediaTransmission",t),e.setAttribute("flow","flow")))}else g.warn("please import helper. <script>")},_onTalking:function(e,t,n,r){},_onNotSupportMemberPublishVideoCodecs:function(e,t,n){var r=this._videos[t.id];r&&(0,d.default)(r).trigger("onNotSupportVideoCodecs",[t,e,n])},onNotSupportVideoCodecs:function(e,t){this.addVideoEventListener(e,"onNotSupportVideoCodecs",t)},_onStreamIceStateChanged:function(e,t,n,r){var i=this._videos[t.id];i&&(0,d.default)(i).trigger("onIceStateChanged",[n,t,e,r])},onIceStateChanged:function(e,t){this.addVideoEventListener(e,"onIceStateChanged",t)},onHasRemoteControl:function(e,t,n,r){var i=this._videos[e.id];i&&(0,d.default)(i).trigger("onRemoteControl",[t,n,e,r])},onRemoteControl:function(e,t){this.addVideoEventListener(e,"onRemoteControl",t)},onRemoteFreeControl:function(e,t,n,r){var i=this._videos[e.id];i&&(0,d.default)(i).trigger("onFreeControl",[t,n,e,r])},onFreeControl:function(e,t){this.addVideoEventListener(e,"onFreeControl",t)},addVideoEventListener:function(e,t,n){(0,d.default)(e).off(t),(0,d.default)(e).on(t,(function(){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);n&&n.apply(e,t)}))}});p.default.each(["hungup","subscribe","pauseVideo","resumeVideo","pauseAudio","resumeAudio","chanageCamera","freeRemoteControl","capturePictureRemote","freezeFrameRemote"],(function(e,t){var n=e.replace(/\b[a-z]/g,(function(e){return e.toUpperCase()}));te["trigger"+n]=function(t){var n=[];return n.push(t),n.push(e),Array.prototype.push.apply(n,Array.prototype.slice.call(arguments,1)),te.zeptoTrigger.apply(te,n)}})),te.triggerTorchRemote=function(e,t){return h.Observable.create((function(n){(0,d.default)(e).trigger("torchRemote",[t,function(){n.error.apply(n,arguments)},function(){n.next.apply(n,arguments),n.complete()}])})).pipe(x).toPromise()},te.triggerZoomRemote=function(e,t){return h.Observable.create((function(n){(0,d.default)(e).trigger("zoomRemote",[t,function(){n.error.apply(n,arguments)},function(){n.next.apply(n,arguments),n.complete()}])})).pipe(x).toPromise()},te.triggerSubscribe=function(e,t,n){return h.Observable.create((function(r){(0,d.default)(e).trigger("subscribe",[t,n,function(){r.error.apply(r,arguments)},function(){r.next.apply(r,arguments),r.complete()}])})).pipe(x).toPromise()},te.triggerRemoteControl=function(e,t,n,r,i,o,s,a){(0,d.default)(e).trigger("remoteControl",[t,n,r,i,o,s,a])},te.triggerCaptureVideo=function(e,t,n){return h.Observable.create((function(r){(0,d.default)(e).trigger("captureVideo",[function(){r.next.apply(r,arguments),r.complete()},t,n])})).pipe(x).toPromise()};var ne=t.single=te},function(e,t,n){"use strict";n.r(t);var r=n(161);n.d(t,"Observable",(function(){return r["Observable"]}));var i=n(178);n.d(t,"ConnectableObservable",(function(){return i["ConnectableObservable"]}));var o=n(183);n.d(t,"GroupedObservable",(function(){return o["GroupedObservable"]}));var s=n(175);n.d(t,"observable",(function(){return s["observable"]}));var a=n(179);n.d(t,"Subject",(function(){return a["Subject"]}));var c=n(184);n.d(t,"BehaviorSubject",(function(){return c["BehaviorSubject"]}));var u=n(185);n.d(t,"ReplaySubject",(function(){return u["ReplaySubject"]}));var l=n(202);n.d(t,"AsyncSubject",(function(){return l["AsyncSubject"]}));var d=n(203);n.d(t,"asapScheduler",(function(){return d["asap"]}));var f=n(207);n.d(t,"asyncScheduler",(function(){return f["async"]}));var p=n(186);n.d(t,"queueScheduler",(function(){return p["queue"]}));var h=n(208);n.d(t,"animationFrameScheduler",(function(){return h["animationFrame"]}));var m=n(211);n.d(t,"VirtualTimeScheduler",(function(){return m["VirtualTimeScheduler"]})),n.d(t,"VirtualAction",(function(){return m["VirtualAction"]}));var v=n(192);n.d(t,"Scheduler",(function(){return v["Scheduler"]}));var b=n(169);n.d(t,"Subscription",(function(){return b["Subscription"]}));var y=n(163);n.d(t,"Subscriber",(function(){return y["Subscriber"]}));var g=n(194);n.d(t,"Notification",(function(){return g["Notification"]})),n.d(t,"NotificationKind",(function(){return g["NotificationKind"]}));var _=n(176);n.d(t,"pipe",(function(){return _["pipe"]}));var S=n(177);n.d(t,"noop",(function(){return S["noop"]}));var w=n(212);n.d(t,"identity",(function(){return w["identity"]}));var x=n(213);n.d(t,"isObservable",(function(){return x["isObservable"]}));var C=n(214);n.d(t,"ArgumentOutOfRangeError",(function(){return C["ArgumentOutOfRangeError"]}));var O=n(215);n.d(t,"EmptyError",(function(){return O["EmptyError"]}));var T=n(180);n.d(t,"ObjectUnsubscribedError",(function(){return T["ObjectUnsubscribedError"]}));var E=n(172);n.d(t,"UnsubscriptionError",(function(){return E["UnsubscriptionError"]}));var I=n(216);n.d(t,"TimeoutError",(function(){return I["TimeoutError"]}));var k=n(217);n.d(t,"bindCallback",(function(){return k["bindCallback"]}));var R=n(219);n.d(t,"bindNodeCallback",(function(){return R["bindNodeCallback"]}));var P=n(220);n.d(t,"combineLatest",(function(){return P["combineLatest"]}));var M=n(231);n.d(t,"concat",(function(){return M["concat"]}));var A=n(242);n.d(t,"defer",(function(){return A["defer"]}));var j=n(195);n.d(t,"empty",(function(){return j["empty"]}));var N=n(243);n.d(t,"forkJoin",(function(){return N["forkJoin"]}));var D=n(235);n.d(t,"from",(function(){return D["from"]}));var B=n(244);n.d(t,"fromEvent",(function(){return B["fromEvent"]}));var L=n(245);n.d(t,"fromEventPattern",(function(){return L["fromEventPattern"]}));var F=n(246);n.d(t,"generate",(function(){return F["generate"]}));var V=n(247);n.d(t,"iif",(function(){return V["iif"]}));var U=n(248);n.d(t,"interval",(function(){return U["interval"]}));var $=n(250);n.d(t,"merge",(function(){return $["merge"]}));var W=n(251);n.d(t,"never",(function(){return W["never"]}));var z=n(196);n.d(t,"of",(function(){return z["of"]}));var H=n(252);n.d(t,"onErrorResumeNext",(function(){return H["onErrorResumeNext"]}));var G=n(253);n.d(t,"pairs",(function(){return G["pairs"]}));var q=n(254);n.d(t,"partition",(function(){return q["partition"]}));var K=n(257);n.d(t,"race",(function(){return K["race"]}));var Y=n(258);n.d(t,"range",(function(){return Y["range"]}));var J=n(201);n.d(t,"throwError",(function(){return J["throwError"]}));var X=n(259);n.d(t,"timer",(function(){return X["timer"]}));var Z=n(260);n.d(t,"using",(function(){return Z["using"]}));var Q=n(261);n.d(t,"zip",(function(){return Q["zip"]}));var ee=n(236);n.d(t,"scheduled",(function(){return ee["scheduled"]})),n.d(t,"EMPTY",(function(){return j["EMPTY"]})),n.d(t,"NEVER",(function(){return W["NEVER"]}));var te=n(167);n.d(t,"config",(function(){return te["config"]}))},function(e,t,n){"use strict";n.r(t),n.d(t,"Observable",(function(){return c}));var r=n(162),i=n(174),o=n(175),s=n(176),a=n(167),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=Object(i["toSubscriber"])(e,t,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||a["config"].useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a["config"].useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){a["config"].useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Object(r["canReportError"])(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return t=u(t),new t((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o["observable"]]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Object(s["pipeFromArray"])(e)(this)},e.prototype.toPromise=function(e){var t=this;return e=u(e),new e((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function u(e){if(e||(e=a["config"].Promise||Promise),!e)throw new Error("no Promise impl found");return e}},function(e,t,n){"use strict";n.r(t),n.d(t,"canReportError",(function(){return i}));var r=n(163);function i(e){while(e){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r["Subscriber"]?i:null}return!0}},function(e,t,n){"use strict";n.r(t),n.d(t,"Subscriber",(function(){return l})),n.d(t,"SafeSubscriber",(function(){return d}));var r=n(164),i=n(165),o=n(166),s=n(169),a=n(173),c=n(167),u=n(168),l=function(e){function t(n,r,i){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o["empty"];break;case 1:if(!n){s.destination=o["empty"];break}if("object"===typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new d(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new d(s,n,r,i);break}return s}return r["__extends"](t,e),t.prototype[a["rxSubscriber"]]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s["Subscription"]),d=function(e){function t(t,n,r,s){var a,c=e.call(this)||this;c._parentSubscriber=t;var u=c;return Object(i["isFunction"])(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==o["empty"]&&(u=Object.create(n),Object(i["isFunction"])(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=a,c._error=r,c._complete=s,c}return r["__extends"](t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c["config"].useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c["config"].useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(u["hostReportError"])(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(u["hostReportError"])(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c["config"].useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),c["config"].useDeprecatedSynchronousErrorHandling)throw n;Object(u["hostReportError"])(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c["config"].useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return c["config"].useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(u["hostReportError"])(r),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l)},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return s})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return d})),n.d(t,"__exportStar",(function(){return f})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return h})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return v})),n.d(t,"__await",(function(){return b})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return g})),n.d(t,"__asyncValues",(function(){return _})),n.d(t,"__makeTemplateObject",(function(){return S})),n.d(t,"__importStar",(function(){return w})),n.d(t,"__importDefault",(function(){return x}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r["throw"](e))}catch(t){o(t)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function f(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function h(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{c(i[e](t))}catch(n){d(o[0][3],n)}}function c(e){e.value instanceof b?Promise.resolve(e.value.v).then(u,l):d(o[0][2],e)}function u(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function g(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"===typeof p?p(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){t=e[n](t),i(r,o,t.done,t.value)}))}}function i(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";function r(e){return"function"===typeof e}n.r(t),n.d(t,"isFunction",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"empty",(function(){return o}));var r=n(167),i=n(168),o={closed:!0,next:function(e){},error:function(e){if(r["config"].useDeprecatedSynchronousErrorHandling)throw e;Object(i["hostReportError"])(e)},complete:function(){}}},function(e,t,n){"use strict";n.r(t),n.d(t,"config",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;t.stack}r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}),0)}n.r(t),n.d(t,"hostReportError",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"Subscription",(function(){return a}));var r=n(170),i=n(171),o=n(165),s=n(172),a=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,a=n._parentOrParents,u=n._unsubscribe,l=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof e)a.remove(this);else if(null!==a)for(var d=0;d<a.length;++d){var f=a[d];f.remove(this)}if(Object(o["isFunction"])(u))try{u.call(this)}catch(m){t=m instanceof s["UnsubscriptionError"]?c(m.errors):[m]}if(Object(r["isArray"])(l)){d=-1;var p=l.length;while(++d<p){var h=l[d];if(Object(i["isObject"])(h))try{h.unsubscribe()}catch(m){t=t||[],m instanceof s["UnsubscriptionError"]?t=t.concat(c(m.errors)):t.push(m)}}}if(t)throw new s["UnsubscriptionError"](t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!==typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;n=new e,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function c(e){return e.reduce((function(e,t){return e.concat(t instanceof s["UnsubscriptionError"]?t.errors:t)}),[])}},function(e,t,n){"use strict";n.r(t),n.d(t,"isArray",(function(){return r}));var r=function(){return Array.isArray||function(e){return e&&"number"===typeof e.length}}()},function(e,t,n){"use strict";function r(e){return null!==e&&"object"===typeof e}n.r(t),n.d(t,"isObject",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"UnsubscriptionError",(function(){return i}));var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),i=r},function(e,t,n){"use strict";n.r(t),n.d(t,"rxSubscriber",(function(){return r})),n.d(t,"$$rxSubscriber",(function(){return i}));var r=function(){return"function"===typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),i=r},function(e,t,n){"use strict";n.r(t),n.d(t,"toSubscriber",(function(){return s}));var r=n(163),i=n(173),o=n(166);function s(e,t,n){if(e){if(e instanceof r["Subscriber"])return e;if(e[i["rxSubscriber"]])return e[i["rxSubscriber"]]()}return e||t||n?new r["Subscriber"](e,t,n):new r["Subscriber"](o["empty"])}},function(e,t,n){"use strict";n.r(t),n.d(t,"observable",(function(){return r}));var r=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}()},function(e,t,n){"use strict";n.r(t),n.d(t,"pipe",(function(){return i})),n.d(t,"pipeFromArray",(function(){return o}));var r=n(177);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)}function o(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:r["noop"]}},function(e,t,n){"use strict";function r(){}n.r(t),n.d(t,"noop",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"ConnectableObservable",(function(){return u})),n.d(t,"connectableObservableDescriptor",(function(){return l}));var r=n(164),i=n(179),o=n(161),s=n(163),a=n(169),c=n(182),u=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r["__extends"](t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,e=this._connection=new a["Subscription"],e.add(this.source.subscribe(new d(this.getSubject(),this))),e.closed&&(this._connection=null,e=a["Subscription"].EMPTY)),e},t.prototype.refCount=function(){return Object(c["refCount"])()(this)},t}(o["Observable"]),l=function(){var e=u.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r["__extends"](t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i["SubjectSubscriber"]);s["Subscriber"]},function(e,t,n){"use strict";n.r(t),n.d(t,"SubjectSubscriber",(function(){return l})),n.d(t,"Subject",(function(){return d})),n.d(t,"AnonymousSubject",(function(){return f}));var r=n(164),i=n(161),o=n(163),s=n(169),a=n(180),c=n(181),u=n(173),l=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r["__extends"](t,e),t}(o["Subscriber"]),d=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r["__extends"](t,e),t.prototype[u["rxSubscriber"]]=function(){return new l(this)},t.prototype.lift=function(e){var t=new f(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a["ObjectUnsubscribedError"];if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new a["ObjectUnsubscribedError"];this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a["ObjectUnsubscribedError"];this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a["ObjectUnsubscribedError"];return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a["ObjectUnsubscribedError"];return this.hasError?(e.error(this.thrownError),s["Subscription"].EMPTY):this.isStopped?(e.complete(),s["Subscription"].EMPTY):(this.observers.push(e),new c["SubjectSubscription"](this,e))},t.prototype.asObservable=function(){var e=new i["Observable"];return e.source=this,e},t.create=function(e,t){return new f(e,t)},t}(i["Observable"]),f=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r["__extends"](t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){var t=this.source;return t?this.source.subscribe(e):s["Subscription"].EMPTY},t}(d)},function(e,t,n){"use strict";n.r(t),n.d(t,"ObjectUnsubscribedError",(function(){return i}));var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),i=r},function(e,t,n){"use strict";n.r(t),n.d(t,"SubjectSubscription",(function(){return o}));var r=n(164),i=n(169),o=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r["__extends"](t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(i["Subscription"])},function(e,t,n){"use strict";n.r(t),n.d(t,"refCount",(function(){return o}));var r=n(164),i=n(163);function o(){return function(e){return e.lift(new s(e))}}var s=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new a(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r["__extends"](t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"groupBy",(function(){return c})),n.d(t,"GroupedObservable",(function(){return f}));var r=n(164),i=n(163),o=n(169),s=n(161),a=n(179);function c(e,t,n,r){return function(i){return i.lift(new u(e,t,n,r))}}var u=function(){function e(e,t,n,r){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),l=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.keySelector=n,s.elementSelector=r,s.durationSelector=i,s.subjectSelector=o,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return r["__extends"](t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(n){return void this.error(n)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(c){this.error(c)}else r=e;if(!i){i=this.subjectSelector?this.subjectSelector():new a["Subject"],n.set(t,i);var o=new f(t,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new f(t,i))}catch(c){return void this.error(c)}this.add(s.subscribe(new d(t,i,this)))}}i.closed||i.next(r)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,n){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(i["Subscriber"]),d=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.key=t,i.group=n,i.parent=r,i}return r["__extends"](t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this,t=e.parent,n=e.key;this.key=this.parent=null,t&&t.removeGroup(n)},t}(i["Subscriber"]),f=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.groupSubject=n,i.refCountSubscription=r,i}return r["__extends"](t,e),t.prototype._subscribe=function(e){var t=new o["Subscription"],n=this,r=n.refCountSubscription,i=n.groupSubject;return r&&!r.closed&&t.add(new p(r)),t.add(i.subscribe(e)),t},t}(s["Observable"]),p=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return r["__extends"](t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o["Subscription"])},function(e,t,n){"use strict";n.r(t),n.d(t,"BehaviorSubject",(function(){return s}));var r=n(164),i=n(179),o=n(180),s=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r["__extends"](t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o["ObjectUnsubscribedError"];return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i["Subject"])},function(e,t,n){"use strict";n.r(t),n.d(t,"ReplaySubject",(function(){return l}));var r=n(164),i=n(179),o=n(186),s=n(169),a=n(193),c=n(180),u=n(181),l=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r["__extends"](t,e),t.prototype.nextInfiniteTimeWindow=function(t){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new d(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new c["ObjectUnsubscribedError"];if(this.isStopped||this.hasError?t=s["Subscription"].EMPTY:(this.observers.push(e),t=new u["SubjectSubscription"](this,e)),i&&e.add(e=new a["ObserveOnSubscriber"](e,i)),n)for(var l=0;l<o&&!e.closed;l++)e.next(r[l]);else for(l=0;l<o&&!e.closed;l++)e.next(r[l].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o["queue"]).now()},t.prototype._trimBufferThenGetEvents=function(){var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;while(o<i){if(e-r[o].time<n)break;o++}return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(i["Subject"]),d=function(){function e(e,t){this.time=e,this.value=t}return e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"queue",(function(){return o}));var r=n(187),i=n(190),o=new i["QueueScheduler"](r["QueueAction"])},function(e,t,n){"use strict";n.r(t),n.d(t,"QueueAction",(function(){return o}));var r=n(164),i=n(188),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r["__extends"](t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(i["AsyncAction"])},function(e,t,n){"use strict";n.r(t),n.d(t,"AsyncAction",(function(){return o}));var r=n(164),i=n(189),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r["__extends"](t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(i["Action"])},function(e,t,n){"use strict";n.r(t),n.d(t,"Action",(function(){return o}));var r=n(164),i=n(169),o=function(e){function t(t,n){return e.call(this)||this}return r["__extends"](t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(i["Subscription"])},function(e,t,n){"use strict";n.r(t),n.d(t,"QueueScheduler",(function(){return o}));var r=n(164),i=n(191),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r["__extends"](t,e),t}(i["AsyncScheduler"])},function(e,t,n){"use strict";n.r(t),n.d(t,"AsyncScheduler",(function(){return o}));var r=n(164),i=n(192),o=function(e){function t(n,r){void 0===r&&(r=i["Scheduler"].now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r["__extends"](t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){while(e=t.shift())e.unsubscribe();throw n}}},t}(i["Scheduler"])},function(e,t,n){"use strict";n.r(t),n.d(t,"Scheduler",(function(){return r}));var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"observeOn",(function(){return s})),n.d(t,"ObserveOnOperator",(function(){return a})),n.d(t,"ObserveOnSubscriber",(function(){return c})),n.d(t,"ObserveOnMessage",(function(){return u}));var r=n(164),i=n(163),o=n(194);function s(e,t){return void 0===t&&(t=0),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.scheduler,this.delay))},e}(),c=function(e){function t(t,n,r){void 0===r&&(r=0);var i=e.call(this,t)||this;return i.scheduler=n,i.delay=r,i}return r["__extends"](t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){var n=this.destination;n.add(this.scheduler.schedule(t.dispatch,this.delay,new u(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(o["Notification"].createNext(e))},t.prototype._error=function(e){this.scheduleMessage(o["Notification"].createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(o["Notification"].createComplete()),this.unsubscribe()},t}(i["Subscriber"]),u=function(){function e(e,t){this.notification=e,this.destination=t}return e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"NotificationKind",(function(){return r})),n.d(t,"Notification",(function(){return a}));var r,i=n(195),o=n(196),s=n(201);r||(r={});var a=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){var r=this.kind;switch(r){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"===typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Object(o["of"])(this.value);case"E":return Object(s["throwError"])(this.error);case"C":return Object(i["empty"])()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return"undefined"!==typeof t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"EMPTY",(function(){return i})),n.d(t,"empty",(function(){return o}));var r=n(161),i=new r["Observable"]((function(e){return e.complete()}));function o(e){return e?s(e):i}function s(e){return new r["Observable"]((function(t){return e.schedule((function(){return t.complete()}))}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"of",(function(){return s}));var r=n(197),i=n(198),o=n(200);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Object(r["isScheduler"])(n)?(e.pop(),Object(o["scheduleArray"])(e,n)):Object(i["fromArray"])(e)}},function(e,t,n){"use strict";function r(e){return e&&"function"===typeof e.schedule}n.r(t),n.d(t,"isScheduler",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"fromArray",(function(){return s}));var r=n(161),i=n(199),o=n(200);function s(e,t){return t?Object(o["scheduleArray"])(e,t):new r["Observable"](Object(i["subscribeToArray"])(e))}},function(e,t,n){"use strict";n.r(t),n.d(t,"subscribeToArray",(function(){return r}));var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},function(e,t,n){"use strict";n.r(t),n.d(t,"scheduleArray",(function(){return o}));var r=n(161),i=n(169);function o(e,t){return new r["Observable"]((function(n){var r=new i["Subscription"],o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"throwError",(function(){return i}));var r=n(161);function i(e,t){return t?new r["Observable"]((function(n){return t.schedule(o,0,{error:e,subscriber:n})})):new r["Observable"]((function(t){return t.error(e)}))}function o(e){var t=e.error,n=e.subscriber;n.error(t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"AsyncSubject",(function(){return s}));var r=n(164),i=n(179),o=n(169),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return r["__extends"](t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),o["Subscription"].EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),o["Subscription"].EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(i["Subject"])},function(e,t,n){"use strict";n.r(t),n.d(t,"asap",(function(){return o}));var r=n(204),i=n(206),o=new i["AsapScheduler"](r["AsapAction"])},function(e,t,n){"use strict";n.r(t),n.d(t,"AsapAction",(function(){return s}));var r=n(164),i=n(205),o=n(188),s=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r["__extends"](t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=i["Immediate"].setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(i["Immediate"].clearImmediate(n),t.scheduled=void 0)},t}(o["AsyncAction"])},function(e,t,n){"use strict";n.r(t),n.d(t,"Immediate",(function(){return s}));var r=1,i={};function o(e){var t=i[e];t&&t()}var s={setImmediate:function(e){var t=r++;return i[t]=e,Promise.resolve().then((function(){return o(t)})),t},clearImmediate:function(e){delete i[e]}}},function(e,t,n){"use strict";n.r(t),n.d(t,"AsapScheduler",(function(){return o}));var r=n(164),i=n(191),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r["__extends"](t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){while(++r<i&&(e=n.shift()))e.unsubscribe();throw t}},t}(i["AsyncScheduler"])},function(e,t,n){"use strict";n.r(t),n.d(t,"async",(function(){return o}));var r=n(188),i=n(191),o=new i["AsyncScheduler"](r["AsyncAction"])},function(e,t,n){"use strict";n.r(t),n.d(t,"animationFrame",(function(){return o}));var r=n(209),i=n(210),o=new i["AnimationFrameScheduler"](r["AnimationFrameAction"])},function(e,t,n){"use strict";n.r(t),n.d(t,"AnimationFrameAction",(function(){return o}));var r=n(164),i=n(188),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r["__extends"](t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(i["AsyncAction"])},function(e,t,n){"use strict";n.r(t),n.d(t,"AnimationFrameScheduler",(function(){return o}));var r=n(164),i=n(191),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r["__extends"](t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){while(++r<i&&(e=n.shift()))e.unsubscribe();throw t}},t}(i["AsyncScheduler"])},function(e,t,n){"use strict";n.r(t),n.d(t,"VirtualTimeScheduler",(function(){return s})),n.d(t,"VirtualAction",(function(){return a}));var r=n(164),i=n(188),o=n(191),s=function(e){function t(t,n){void 0===t&&(t=a),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return r["__extends"](t,e),t.prototype.flush=function(){var e,t,n=this,r=n.actions,i=n.maxFrames;while((t=r[0])&&t.delay<=i)if(r.shift(),this.frame=t.delay,e=t.execute(t.state,t.delay))break;if(e){while(t=r.shift())t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(o["AsyncScheduler"]),a=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.index=r,i.active=!0,i.index=t.index=r,i}return r["__extends"](t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(i["AsyncAction"])},function(e,t,n){"use strict";function r(e){return e}n.r(t),n.d(t,"identity",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"isObservable",(function(){return i}));var r=n(161);function i(e){return!!e&&(e instanceof r["Observable"]||"function"===typeof e.lift&&"function"===typeof e.subscribe)}},function(e,t,n){"use strict";n.r(t),n.d(t,"ArgumentOutOfRangeError",(function(){return i}));var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),i=r},function(e,t,n){"use strict";n.r(t),n.d(t,"EmptyError",(function(){return i}));var r=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),i=r},function(e,t,n){"use strict";n.r(t),n.d(t,"TimeoutError",(function(){return i}));var r=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),i=r},function(e,t,n){"use strict";n.r(t),n.d(t,"bindCallback",(function(){return u}));var r=n(161),i=n(202),o=n(218),s=n(162),a=n(170),c=n(197);function u(e,t,n){if(t){if(!Object(c["isScheduler"])(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return u(e,n).apply(void 0,r).pipe(Object(o["map"])((function(e){return Object(a["isArray"])(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var a,c=this,u={context:c,subject:a,callbackFunc:e,scheduler:n};return new r["Observable"]((function(r){if(n){var o={args:t,subscriber:r,params:u};return n.schedule(l,0,o)}if(!a){a=new i["AsyncSubject"];var d=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.next(e.length<=1?e[0]:e),a.complete()};try{e.apply(c,t.concat([d]))}catch(f){Object(s["canReportError"])(a)?a.error(f):console.warn(f)}}return a.subscribe(r)}))}}function l(e){var t=this,n=e.args,r=e.subscriber,o=e.params,s=o.callbackFunc,a=o.context,c=o.scheduler,u=o.subject;if(!u){u=o.subject=new i["AsyncSubject"];var l=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length<=1?e[0]:e;t.add(c.schedule(d,0,{value:r,subject:u}))};try{s.apply(a,n.concat([l]))}catch(f){u.error(f)}}this.add(u.subscribe(r))}function d(e){var t=e.value,n=e.subject;n.next(t),n.complete()}},function(e,t,n){"use strict";n.r(t),n.d(t,"map",(function(){return o})),n.d(t,"MapOperator",(function(){return s}));var r=n(164),i=n(163);function o(e,t){return function(n){if("function"!==typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r["__extends"](t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"bindNodeCallback",(function(){return u}));var r=n(161),i=n(202),o=n(218),s=n(162),a=n(197),c=n(170);function u(e,t,n){if(t){if(!Object(a["isScheduler"])(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return u(e,n).apply(void 0,r).pipe(Object(o["map"])((function(e){return Object(c["isArray"])(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var a={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new r["Observable"]((function(r){var o=a.context,c=a.subject;if(n)return n.schedule(l,0,{params:a,subscriber:r,context:o});if(!c){c=a.subject=new i["AsyncSubject"];var u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?c.error(n):(c.next(e.length<=1?e[0]:e),c.complete())};try{e.apply(o,t.concat([u]))}catch(d){Object(s["canReportError"])(c)?c.error(d):console.warn(d)}}return c.subscribe(r)}))}}function l(e){var t=this,n=e.params,r=e.subscriber,o=e.context,s=n.callbackFunc,a=n.args,c=n.scheduler,u=n.subject;if(!u){u=n.subject=new i["AsyncSubject"];var l=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.shift();if(r)t.add(c.schedule(f,0,{err:r,subject:u}));else{var i=e.length<=1?e[0]:e;t.add(c.schedule(d,0,{value:i,subject:u}))}};try{s.apply(o,a.concat([l]))}catch(p){this.add(c.schedule(f,0,{err:p,subject:u}))}}this.add(u.subscribe(r))}function d(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function f(e){var t=e.err,n=e.subject;n.error(t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"combineLatest",(function(){return l})),n.d(t,"CombineLatestOperator",(function(){return d})),n.d(t,"CombineLatestSubscriber",(function(){return f}));var r=n(164),i=n(197),o=n(170),s=n(221),a=n(222),c=n(198),u={};function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null,r=null;return Object(i["isScheduler"])(e[e.length-1])&&(r=e.pop()),"function"===typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(o["isArray"])(e[0])&&(e=e[0]),Object(c["fromArray"])(e,r).lift(new d(n))}var d=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.resultSelector))},e}(),f=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r["__extends"](t,e),t.prototype._next=function(e){this.values.push(u),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(a["subscribeToResult"])(this,r,r,n))}}},t.prototype.notifyComplete=function(e){0===(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.values,s=o[n],a=this.toRespond?s===u?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(s["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"OuterSubscriber",(function(){return o}));var r=n(164),i=n(163),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r["__extends"](t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"subscribeToResult",(function(){return s}));var r=n(223),i=n(224),o=n(161);function s(e,t,n,s,a){if(void 0===a&&(a=new r["InnerSubscriber"](e,n,s)),!a.closed)return t instanceof o["Observable"]?t.subscribe(a):Object(i["subscribeTo"])(t)(a)}},function(e,t,n){"use strict";n.r(t),n.d(t,"InnerSubscriber",(function(){return o}));var r=n(164),i=n(163),o=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r["__extends"](t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"subscribeTo",(function(){return f}));var r=n(199),i=n(225),o=n(226),s=n(228),a=n(229),c=n(230),u=n(171),l=n(227),d=n(175),f=function(e){if(e&&"function"===typeof e[d["observable"]])return Object(s["subscribeToObservable"])(e);if(Object(a["isArrayLike"])(e))return Object(r["subscribeToArray"])(e);if(Object(c["isPromise"])(e))return Object(i["subscribeToPromise"])(e);if(e&&"function"===typeof e[l["iterator"]])return Object(o["subscribeToIterable"])(e);var t=Object(u["isObject"])(e)?"an invalid object":"'"+e+"'",n="You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"subscribeToPromise",(function(){return i}));var r=n(168),i=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,r["hostReportError"]),t}}},function(e,t,n){"use strict";n.r(t),n.d(t,"subscribeToIterable",(function(){return i}));var r=n(227),i=function(e){return function(t){var n=e[r["iterator"]]();do{var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}while(1);return"function"===typeof n.return&&t.add((function(){n.return&&n.return()})),t}}},function(e,t,n){"use strict";function r(){return"function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.r(t),n.d(t,"getSymbolIterator",(function(){return r})),n.d(t,"iterator",(function(){return i})),n.d(t,"$$iterator",(function(){return o}));var i=r(),o=i},function(e,t,n){"use strict";n.r(t),n.d(t,"subscribeToObservable",(function(){return i}));var r=n(175),i=function(e){return function(t){var n=e[r["observable"]]();if("function"!==typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"isArrayLike",(function(){return r}));var r=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e}},function(e,t,n){"use strict";function r(e){return!!e&&"function"!==typeof e.subscribe&&"function"===typeof e.then}n.r(t),n.d(t,"isPromise",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"concat",(function(){return o}));var r=n(196),i=n(232);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(i["concatAll"])()(r["of"].apply(void 0,e))}},function(e,t,n){"use strict";n.r(t),n.d(t,"concatAll",(function(){return i}));var r=n(233);function i(){return Object(r["mergeAll"])(1)}},function(e,t,n){"use strict";n.r(t),n.d(t,"mergeAll",(function(){return o}));var r=n(234),i=n(212);function o(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Object(r["mergeMap"])(i["identity"],e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"mergeMap",(function(){return u})),n.d(t,"MergeMapOperator",(function(){return l})),n.d(t,"MergeMapSubscriber",(function(){return d}));var r=n(164),i=n(222),o=n(221),s=n(223),a=n(218),c=n(235);function u(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"===typeof t?function(r){return r.pipe(u((function(n,r){return Object(c["from"])(e(n,r)).pipe(Object(a["map"])((function(e,i){return t(n,e,r,i)})))}),n))}:("number"===typeof t&&(n=t),function(t){return t.lift(new l(e,n))})}var l=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.project,this.concurrent))},e}(),d=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r["__extends"](t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new s["InnerSubscriber"](this,void 0,void 0),o=this.destination;o.add(r),Object(i["subscribeToResult"])(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"from",(function(){return s}));var r=n(161),i=n(224),o=n(236);function s(e,t){return t?Object(o["scheduled"])(e,t):e instanceof r["Observable"]?e:new r["Observable"](Object(i["subscribeTo"])(e))}},function(e,t,n){"use strict";n.r(t),n.d(t,"scheduled",(function(){return d}));var r=n(237),i=n(238),o=n(200),s=n(239),a=n(240),c=n(230),u=n(229),l=n(241);function d(e,t){if(null!=e){if(Object(a["isInteropObservable"])(e))return Object(r["scheduleObservable"])(e,t);if(Object(c["isPromise"])(e))return Object(i["schedulePromise"])(e,t);if(Object(u["isArrayLike"])(e))return Object(o["scheduleArray"])(e,t);if(Object(l["isIterable"])(e)||"string"===typeof e)return Object(s["scheduleIterable"])(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},function(e,t,n){"use strict";n.r(t),n.d(t,"scheduleObservable",(function(){return s}));var r=n(161),i=n(169),o=n(175);function s(e,t){return new r["Observable"]((function(n){var r=new i["Subscription"];return r.add(t.schedule((function(){var i=e[o["observable"]]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"schedulePromise",(function(){return o}));var r=n(161),i=n(169);function o(e,t){return new r["Observable"]((function(n){var r=new i["Subscription"];return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"scheduleIterable",(function(){return s}));var r=n(161),i=n(169),o=n(227);function s(e,t){if(!e)throw new Error("Iterable cannot be null");return new r["Observable"]((function(n){var r,s=new i["Subscription"];return s.add((function(){r&&"function"===typeof r.return&&r.return()})),s.add(t.schedule((function(){r=e[o["iterator"]](),s.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),s}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"isInteropObservable",(function(){return i}));var r=n(175);function i(e){return e&&"function"===typeof e[r["observable"]]}},function(e,t,n){"use strict";n.r(t),n.d(t,"isIterable",(function(){return i}));var r=n(227);function i(e){return e&&"function"===typeof e[r["iterator"]]}},function(e,t,n){"use strict";n.r(t),n.d(t,"defer",(function(){return s}));var r=n(161),i=n(235),o=n(195);function s(e){return new r["Observable"]((function(t){var n;try{n=e()}catch(s){return void t.error(s)}var r=n?Object(i["from"])(n):Object(o["empty"])();return r.subscribe(t)}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"forkJoin",(function(){return c}));var r=n(161),i=n(170),o=n(218),s=n(171),a=n(235);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(Object(i["isArray"])(n))return u(n,null);if(Object(s["isObject"])(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return u(r.map((function(e){return n[e]})),r)}}if("function"===typeof e[e.length-1]){var a=e.pop();return e=1===e.length&&Object(i["isArray"])(e[0])?e[0]:e,u(e,null).pipe(Object(o["map"])((function(e){return a.apply(void 0,e)})))}return u(e,null)}function u(e,t){return new r["Observable"]((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,s=0,c=function(c){var u=Object(a["from"])(e[c]),l=!1;n.add(u.subscribe({next:function(e){l||(l=!0,s++),i[c]=e},error:function(e){return n.error(e)},complete:function(){o++,o!==r&&l||(s===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},u=0;u<r;u++)c(u);else n.complete()}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"fromEvent",(function(){return a}));var r=n(161),i=n(170),o=n(165),s=n(218);function a(e,t,n,u){return Object(o["isFunction"])(n)&&(u=n,n=void 0),u?a(e,t,n).pipe(Object(s["map"])((function(e){return Object(i["isArray"])(e)?u.apply(void 0,e):u(e)}))):new r["Observable"]((function(r){function i(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}c(e,t,i,r,n)}))}function c(e,t,n,r,i){var o;if(d(e)){var s=e;e.addEventListener(t,n,i),o=function(){return s.removeEventListener(t,n,i)}}else if(l(e)){var a=e;e.on(t,n),o=function(){return a.off(t,n)}}else if(u(e)){var f=e;e.addListener(t,n),o=function(){return f.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var p=0,h=e.length;p<h;p++)c(e[p],t,n,r,i)}r.add(o)}function u(e){return e&&"function"===typeof e.addListener&&"function"===typeof e.removeListener}function l(e){return e&&"function"===typeof e.on&&"function"===typeof e.off}function d(e){return e&&"function"===typeof e.addEventListener&&"function"===typeof e.removeEventListener}},function(e,t,n){"use strict";n.r(t),n.d(t,"fromEventPattern",(function(){return a}));var r=n(161),i=n(170),o=n(165),s=n(218);function a(e,t,n){return n?a(e,t).pipe(Object(s["map"])((function(e){return Object(i["isArray"])(e)?n.apply(void 0,e):n(e)}))):new r["Observable"]((function(n){var r,i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{r=e(i)}catch(s){return void n.error(s)}if(Object(o["isFunction"])(t))return function(){return t(i,r)}}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"generate",(function(){return s}));var r=n(161),i=n(212),o=n(197);function s(e,t,n,s,c){var u,l;if(1==arguments.length){var d=e;l=d.initialState,t=d.condition,n=d.iterate,u=d.resultSelector||i["identity"],c=d.scheduler}else void 0===s||Object(o["isScheduler"])(s)?(l=e,u=i["identity"],c=s):(l=e,u=s);return new r["Observable"]((function(e){var r=l;if(c)return c.schedule(a,0,{subscriber:e,iterate:n,condition:t,resultSelector:u,state:r});do{if(t){var i=void 0;try{i=t(r)}catch(s){return void e.error(s)}if(!i){e.complete();break}}var o=void 0;try{o=u(r)}catch(s){return void e.error(s)}if(e.next(o),e.closed)break;try{r=n(r)}catch(s){return void e.error(s)}}while(1)}))}function a(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(o){return void t.error(o)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(o){return void t.error(o)}if(!r)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(o){return void t.error(o)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"iif",(function(){return o}));var r=n(242),i=n(195);function o(e,t,n){return void 0===t&&(t=i["EMPTY"]),void 0===n&&(n=i["EMPTY"]),Object(r["defer"])((function(){return e()?t:n}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"interval",(function(){return s}));var r=n(161),i=n(207),o=n(249);function s(e,t){return void 0===e&&(e=0),void 0===t&&(t=i["async"]),(!Object(o["isNumeric"])(e)||e<0)&&(e=0),t&&"function"===typeof t.schedule||(t=i["async"]),new r["Observable"]((function(n){return n.add(t.schedule(a,e,{subscriber:n,counter:0,period:e})),n}))}function a(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}},function(e,t,n){"use strict";n.r(t),n.d(t,"isNumeric",(function(){return i}));var r=n(170);function i(e){return!Object(r["isArray"])(e)&&e-parseFloat(e)+1>=0}},function(e,t,n){"use strict";n.r(t),n.d(t,"merge",(function(){return a}));var r=n(161),i=n(197),o=n(233),s=n(198);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,a=null,c=e[e.length-1];return Object(i["isScheduler"])(c)?(a=e.pop(),e.length>1&&"number"===typeof e[e.length-1]&&(n=e.pop())):"number"===typeof c&&(n=e.pop()),null===a&&1===e.length&&e[0]instanceof r["Observable"]?e[0]:Object(o["mergeAll"])(n)(Object(s["fromArray"])(e,a))}},function(e,t,n){"use strict";n.r(t),n.d(t,"NEVER",(function(){return o})),n.d(t,"never",(function(){return s}));var r=n(161),i=n(177),o=new r["Observable"](i["noop"]);function s(){return o}},function(e,t,n){"use strict";n.r(t),n.d(t,"onErrorResumeNext",(function(){return a}));var r=n(161),i=n(235),o=n(170),s=n(195);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return s["EMPTY"];var n=e[0],c=e.slice(1);return 1===e.length&&Object(o["isArray"])(n)?a.apply(void 0,n):new r["Observable"]((function(e){var t=function(){return e.add(a.apply(void 0,c).subscribe(e))};return Object(i["from"])(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"pairs",(function(){return o})),n.d(t,"dispatch",(function(){return s}));var r=n(161),i=n(169);function o(e,t){return t?new r["Observable"]((function(n){var r=Object.keys(e),o=new i["Subscription"];return o.add(t.schedule(s,0,{keys:r,index:0,subscriber:n,subscription:o,obj:e})),o})):new r["Observable"]((function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var i=n[r];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()}))}function s(e){var t=e.keys,n=e.index,r=e.subscriber,i=e.subscription,o=e.obj;if(!r.closed)if(n<t.length){var s=t[n];r.next([s,o[s]]),i.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}},function(e,t,n){"use strict";n.r(t),n.d(t,"partition",(function(){return a}));var r=n(255),i=n(224),o=n(256),s=n(161);function a(e,t,n){return[Object(o["filter"])(t,n)(new s["Observable"](Object(i["subscribeTo"])(e))),Object(o["filter"])(Object(r["not"])(t,n))(new s["Observable"](Object(i["subscribeTo"])(e)))]}},function(e,t,n){"use strict";function r(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}n.r(t),n.d(t,"not",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"filter",(function(){return o}));var r=n(164),i=n(163);function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r["__extends"](t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"race",(function(){return c})),n.d(t,"RaceOperator",(function(){return u})),n.d(t,"RaceSubscriber",(function(){return l}));var r=n(164),i=n(170),o=n(198),s=n(221),a=n(222);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!Object(i["isArray"])(e[0]))return e[0];e=e[0]}return Object(o["fromArray"])(e,void 0).lift(new u)}var u=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new l(e))},e}(),l=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r["__extends"](t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=Object(a["subscribeToResult"])(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(t)},t}(s["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"range",(function(){return i})),n.d(t,"dispatch",(function(){return o}));var r=n(161);function i(e,t,n){return void 0===e&&(e=0),new r["Observable"]((function(r){void 0===t&&(t=e,e=0);var i=0,s=e;if(n)return n.schedule(o,0,{index:i,count:t,start:e,subscriber:r});do{if(i++>=t){r.complete();break}if(r.next(s++),r.closed)break}while(1)}))}function o(e){var t=e.start,n=e.index,r=e.count,i=e.subscriber;n>=r?i.complete():(i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}},function(e,t,n){"use strict";n.r(t),n.d(t,"timer",(function(){return a}));var r=n(161),i=n(207),o=n(249),s=n(197);function a(e,t,n){void 0===e&&(e=0);var a=-1;return Object(o["isNumeric"])(t)?a=Number(t)<1?1:Number(t):Object(s["isScheduler"])(t)&&(n=t),Object(s["isScheduler"])(n)||(n=i["async"]),new r["Observable"]((function(t){var r=Object(o["isNumeric"])(e)?e:+e-n.now();return n.schedule(c,r,{index:0,period:a,subscriber:t})}))}function c(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"using",(function(){return s}));var r=n(161),i=n(235),o=n(195);function s(e,t){return new r["Observable"]((function(n){var r,s;try{r=e()}catch(u){return void n.error(u)}try{s=t(r)}catch(u){return void n.error(u)}var a=s?Object(i["from"])(s):o["EMPTY"],c=a.subscribe(n);return function(){c.unsubscribe(),r&&r.unsubscribe()}}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"zip",(function(){return l})),n.d(t,"ZipOperator",(function(){return d})),n.d(t,"ZipSubscriber",(function(){return f}));var r=n(164),i=n(198),o=n(170),s=n(163),a=n(221),c=n(222),u=n(227);function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"===typeof n&&e.pop(),Object(i["fromArray"])(e,void 0).lift(new d(n))}var d=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.resultSelector))},e}(),f=function(e){function t(t,n,r){void 0===r&&(r=Object.create(null));var i=e.call(this,t)||this;return i.iterators=[],i.active=0,i.resultSelector="function"===typeof n?n:null,i.values=r,i}return r["__extends"](t,e),t.prototype._next=function(e){var t=this.iterators;Object(o["isArray"])(e)?t.push(new h(e)):"function"===typeof e[u["iterator"]]?t.push(new p(e[u["iterator"]]())):t.push(new m(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];if(r.stillUnsubscribed){var i=this.destination;i.add(r.subscribe(r,n))}else this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){var i=e[r];if("function"===typeof i.hasValue&&!i.hasValue())return}var o=!1,s=[];for(r=0;r<t;r++){i=e[r];var a=i.next();if(i.hasCompleted()&&(o=!0),a.done)return void n.complete();s.push(a.value)}this.resultSelector?this._tryresultSelector(s):n.next(s),o&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(s["Subscriber"]),p=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),h=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[u["iterator"]]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),m=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return r["__extends"](t,e),t.prototype[u["iterator"]]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return Object(c["subscribeToResult"])(this,this.observable,this,t)},t}(a["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t);var r=n(263);n.d(t,"audit",(function(){return r["audit"]}));var i=n(264);n.d(t,"auditTime",(function(){return i["auditTime"]}));var o=n(265);n.d(t,"buffer",(function(){return o["buffer"]}));var s=n(266);n.d(t,"bufferCount",(function(){return s["bufferCount"]}));var a=n(267);n.d(t,"bufferTime",(function(){return a["bufferTime"]}));var c=n(268);n.d(t,"bufferToggle",(function(){return c["bufferToggle"]}));var u=n(269);n.d(t,"bufferWhen",(function(){return u["bufferWhen"]}));var l=n(270);n.d(t,"catchError",(function(){return l["catchError"]}));var d=n(271);n.d(t,"combineAll",(function(){return d["combineAll"]}));var f=n(272);n.d(t,"combineLatest",(function(){return f["combineLatest"]}));var p=n(273);n.d(t,"concat",(function(){return p["concat"]}));var h=n(232);n.d(t,"concatAll",(function(){return h["concatAll"]}));var m=n(274);n.d(t,"concatMap",(function(){return m["concatMap"]}));var v=n(275);n.d(t,"concatMapTo",(function(){return v["concatMapTo"]}));var b=n(276);n.d(t,"count",(function(){return b["count"]}));var y=n(277);n.d(t,"debounce",(function(){return y["debounce"]}));var g=n(278);n.d(t,"debounceTime",(function(){return g["debounceTime"]}));var _=n(279);n.d(t,"defaultIfEmpty",(function(){return _["defaultIfEmpty"]}));var S=n(280);n.d(t,"delay",(function(){return S["delay"]}));var w=n(282);n.d(t,"delayWhen",(function(){return w["delayWhen"]}));var x=n(283);n.d(t,"dematerialize",(function(){return x["dematerialize"]}));var C=n(284);n.d(t,"distinct",(function(){return C["distinct"]}));var O=n(285);n.d(t,"distinctUntilChanged",(function(){return O["distinctUntilChanged"]}));var T=n(286);n.d(t,"distinctUntilKeyChanged",(function(){return T["distinctUntilKeyChanged"]}));var E=n(287);n.d(t,"elementAt",(function(){return E["elementAt"]}));var I=n(290);n.d(t,"endWith",(function(){return I["endWith"]}));var k=n(291);n.d(t,"every",(function(){return k["every"]}));var R=n(292);n.d(t,"exhaust",(function(){return R["exhaust"]}));var P=n(293);n.d(t,"exhaustMap",(function(){return P["exhaustMap"]}));var M=n(294);n.d(t,"expand",(function(){return M["expand"]}));var A=n(256);n.d(t,"filter",(function(){return A["filter"]}));var j=n(295);n.d(t,"finalize",(function(){return j["finalize"]}));var N=n(296);n.d(t,"find",(function(){return N["find"]}));var D=n(297);n.d(t,"findIndex",(function(){return D["findIndex"]}));var B=n(298);n.d(t,"first",(function(){return B["first"]}));var L=n(183);n.d(t,"groupBy",(function(){return L["groupBy"]}));var F=n(299);n.d(t,"ignoreElements",(function(){return F["ignoreElements"]}));var V=n(300);n.d(t,"isEmpty",(function(){return V["isEmpty"]}));var U=n(301);n.d(t,"last",(function(){return U["last"]}));var $=n(218);n.d(t,"map",(function(){return $["map"]}));var W=n(303);n.d(t,"mapTo",(function(){return W["mapTo"]}));var z=n(304);n.d(t,"materialize",(function(){return z["materialize"]}));var H=n(305);n.d(t,"max",(function(){return H["max"]}));var G=n(308);n.d(t,"merge",(function(){return G["merge"]}));var q=n(233);n.d(t,"mergeAll",(function(){return q["mergeAll"]}));var K=n(234);n.d(t,"mergeMap",(function(){return K["mergeMap"]})),n.d(t,"flatMap",(function(){return K["mergeMap"]}));var Y=n(309);n.d(t,"mergeMapTo",(function(){return Y["mergeMapTo"]}));var J=n(310);n.d(t,"mergeScan",(function(){return J["mergeScan"]}));var X=n(311);n.d(t,"min",(function(){return X["min"]}));var Z=n(312);n.d(t,"multicast",(function(){return Z["multicast"]}));var Q=n(193);n.d(t,"observeOn",(function(){return Q["observeOn"]}));var ee=n(313);n.d(t,"onErrorResumeNext",(function(){return ee["onErrorResumeNext"]}));var te=n(314);n.d(t,"pairwise",(function(){return te["pairwise"]}));var ne=n(315);n.d(t,"partition",(function(){return ne["partition"]}));var re=n(316);n.d(t,"pluck",(function(){return re["pluck"]}));var ie=n(317);n.d(t,"publish",(function(){return ie["publish"]}));var oe=n(318);n.d(t,"publishBehavior",(function(){return oe["publishBehavior"]}));var se=n(319);n.d(t,"publishLast",(function(){return se["publishLast"]}));var ae=n(320);n.d(t,"publishReplay",(function(){return ae["publishReplay"]}));var ce=n(321);n.d(t,"race",(function(){return ce["race"]}));var ue=n(306);n.d(t,"reduce",(function(){return ue["reduce"]}));var le=n(322);n.d(t,"repeat",(function(){return le["repeat"]}));var de=n(323);n.d(t,"repeatWhen",(function(){return de["repeatWhen"]}));var fe=n(324);n.d(t,"retry",(function(){return fe["retry"]}));var pe=n(325);n.d(t,"retryWhen",(function(){return pe["retryWhen"]}));var he=n(182);n.d(t,"refCount",(function(){return he["refCount"]}));var me=n(326);n.d(t,"sample",(function(){return me["sample"]}));var ve=n(327);n.d(t,"sampleTime",(function(){return ve["sampleTime"]}));var be=n(307);n.d(t,"scan",(function(){return be["scan"]}));var ye=n(328);n.d(t,"sequenceEqual",(function(){return ye["sequenceEqual"]}));var ge=n(329);n.d(t,"share",(function(){return ge["share"]}));var _e=n(330);n.d(t,"shareReplay",(function(){return _e["shareReplay"]}));var Se=n(331);n.d(t,"single",(function(){return Se["single"]}));var we=n(332);n.d(t,"skip",(function(){return we["skip"]}));var xe=n(333);n.d(t,"skipLast",(function(){return xe["skipLast"]}));var Ce=n(334);n.d(t,"skipUntil",(function(){return Ce["skipUntil"]}));var Oe=n(335);n.d(t,"skipWhile",(function(){return Oe["skipWhile"]}));var Te=n(336);n.d(t,"startWith",(function(){return Te["startWith"]}));var Ee=n(337);n.d(t,"subscribeOn",(function(){return Ee["subscribeOn"]}));var Ie=n(339);n.d(t,"switchAll",(function(){return Ie["switchAll"]}));var ke=n(340);n.d(t,"switchMap",(function(){return ke["switchMap"]}));var Re=n(341);n.d(t,"switchMapTo",(function(){return Re["switchMapTo"]}));var Pe=n(289);n.d(t,"take",(function(){return Pe["take"]}));var Me=n(302);n.d(t,"takeLast",(function(){return Me["takeLast"]}));var Ae=n(342);n.d(t,"takeUntil",(function(){return Ae["takeUntil"]}));var je=n(343);n.d(t,"takeWhile",(function(){return je["takeWhile"]}));var Ne=n(344);n.d(t,"tap",(function(){return Ne["tap"]}));var De=n(345);n.d(t,"throttle",(function(){return De["throttle"]}));var Be=n(346);n.d(t,"throttleTime",(function(){return Be["throttleTime"]}));var Le=n(288);n.d(t,"throwIfEmpty",(function(){return Le["throwIfEmpty"]}));var Fe=n(347);n.d(t,"timeInterval",(function(){return Fe["timeInterval"]}));var Ve=n(348);n.d(t,"timeout",(function(){return Ve["timeout"]}));var Ue=n(349);n.d(t,"timeoutWith",(function(){return Ue["timeoutWith"]}));var $e=n(350);n.d(t,"timestamp",(function(){return $e["timestamp"]}));var We=n(351);n.d(t,"toArray",(function(){return We["toArray"]}));var ze=n(352);n.d(t,"window",(function(){return ze["window"]}));var He=n(353);n.d(t,"windowCount",(function(){return He["windowCount"]}));var Ge=n(354);n.d(t,"windowTime",(function(){return Ge["windowTime"]}));var qe=n(355);n.d(t,"windowToggle",(function(){return qe["windowToggle"]}));var Ke=n(356);n.d(t,"windowWhen",(function(){return Ke["windowWhen"]}));var Ye=n(357);n.d(t,"withLatestFrom",(function(){return Ye["withLatestFrom"]}));var Je=n(358);n.d(t,"zip",(function(){return Je["zip"]}));var Xe=n(359);n.d(t,"zipAll",(function(){return Xe["zipAll"]}))},function(e,t,n){"use strict";n.r(t),n.d(t,"audit",(function(){return s}));var r=n(164),i=n(221),o=n(222);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.durationSelector))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return r["__extends"](t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=void 0;try{var n=this.durationSelector;t=n(e)}catch(i){return this.destination.error(i)}var r=Object(o["subscribeToResult"])(this,t);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}},t.prototype.clearThrottle=function(){var e=this,t=e.value,n=e.hasValue,r=e.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),n&&(this.value=null,this.hasValue=!1,this.destination.next(t))},t.prototype.notifyNext=function(e,t,n,r){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"auditTime",(function(){return s}));var r=n(207),i=n(263),o=n(259);function s(e,t){return void 0===t&&(t=r["async"]),Object(i["audit"])((function(){return Object(o["timer"])(e,t)}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"buffer",(function(){return s}));var r=n(164),i=n(221),o=n(222);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.closingNotifier))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.buffer=[],r.add(Object(o["subscribeToResult"])(r,n)),r}return r["__extends"](t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"bufferCount",(function(){return o}));var r=n(164),i=n(163);function o(e,t){return void 0===t&&(t=null),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?c:a}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.bufferSize=n,r.buffer=[],r}return r["__extends"](t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(i["Subscriber"]),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.bufferSize=n,i.startBufferEvery=r,i.buffers=[],i.count=0,i}return r["__extends"](t,e),t.prototype._next=function(e){var t=this,n=t.bufferSize,r=t.startBufferEvery,i=t.buffers,o=t.count;this.count++,o%r===0&&i.push([]);for(var s=i.length;s--;){var a=i[s];a.push(e),a.length===n&&(i.splice(s,1),this.destination.next(a))}},t.prototype._complete=function(){var t=this,n=t.buffers,r=t.destination;while(n.length>0){var i=n.shift();i.length>0&&r.next(i)}e.prototype._complete.call(this)},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"bufferTime",(function(){return a}));var r=n(164),i=n(207),o=n(163),s=n(197);function a(e){var t=arguments.length,n=i["async"];Object(s["isScheduler"])(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var r=null;t>=2&&(r=arguments[1]);var o=Number.POSITIVE_INFINITY;return t>=3&&(o=arguments[2]),function(t){return t.lift(new c(e,r,o,n))}}var c=function(){function e(e,t,n,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),u=function(){function e(){this.buffer=[]}return e}(),l=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;s.bufferTimeSpan=n,s.bufferCreationInterval=r,s.maxBufferSize=i,s.scheduler=o,s.contexts=[];var a=s.openContext();if(s.timespanOnly=null==r||r<0,s.timespanOnly){var c={subscriber:s,context:a,bufferTimeSpan:n};s.add(a.closeAction=o.schedule(d,n,c))}else{var u={subscriber:s,context:a},l={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:s,scheduler:o};s.add(a.closeAction=o.schedule(p,n,u)),s.add(o.schedule(f,r,l))}return s}return r["__extends"](t,e),t.prototype._next=function(e){for(var t,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],s=o.buffer;s.push(e),s.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this,n=t.contexts,r=t.destination;while(n.length>0){var i=n.shift();r.next(i.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:e,bufferTimeSpan:n};this.add(e.closeAction=this.scheduler.schedule(d,n,r))}},t.prototype.openContext=function(){var e=new u;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts,n=t?t.indexOf(e):-1;n>=0&&t.splice(t.indexOf(e),1)},t}(o["Subscriber"]);function d(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function f(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,i=e.scheduler,o=r.openContext(),s=this;r.closed||(r.add(o.closeAction=i.schedule(p,n,{subscriber:r,context:o})),s.schedule(e,t))}function p(e){var t=e.subscriber,n=e.context;t.closeContext(n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"bufferToggle",(function(){return a}));var r=n(164),i=n(169),o=n(222),s=n(221);function a(e,t){return function(n){return n.lift(new c(e,t))}}var c=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.openings,this.closingSelector))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(Object(o["subscribeToResult"])(i,n)),i}return r["__extends"](t,e),t.prototype._next=function(e){for(var t=this.contexts,n=t.length,r=0;r<n;r++)t[r].buffer.push(e)},t.prototype._error=function(t){var n=this.contexts;while(n.length>0){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;while(t.length>0){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector,n=t.call(this,e);n&&this.trySubscribe(n)}catch(r){this._error(r)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var n=e.buffer,r=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(r),r.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,n=[],r=new i["Subscription"],s={buffer:n,subscription:r};t.push(s);var a=Object(o["subscribeToResult"])(this,e,s);!a||a.closed?this.closeBuffer(s):(a.context=s,this.add(a),r.add(a))},t}(s["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"bufferWhen",(function(){return a}));var r=n(164),i=n(169),o=n(221),s=n(222);function a(e){return function(t){return t.lift(new c(e))}}var c=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.closingSelector))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.closingSelector=n,r.subscribing=!1,r.openBuffer(),r}return r["__extends"](t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(e,t,n,r,i){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{var r=this.closingSelector;t=r()}catch(o){return this.error(o)}e=new i["Subscription"],this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Object(s["subscribeToResult"])(this,t)),this.subscribing=!1},t}(o["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"catchError",(function(){return a}));var r=n(164),i=n(221),o=n(223),s=n(222);function a(e){return function(t){var n=new c(e),r=t.lift(n);return n.caught=r}}var c=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.selector,this.caught))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.selector=n,i.caught=r,i}return r["__extends"](t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(i){return void e.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var r=new o["InnerSubscriber"](this,void 0,void 0);this.add(r),Object(s["subscribeToResult"])(this,n,void 0,void 0,r)}},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"combineAll",(function(){return i}));var r=n(220);function i(e){return function(t){return t.lift(new r["CombineLatestOperator"](e))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"combineLatest",(function(){return s}));var r=n(170),i=n(220),o=n(235);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return"function"===typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(r["isArray"])(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(Object(o["from"])([t].concat(e)),new i["CombineLatestOperator"](n))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"concat",(function(){return i}));var r=n(231);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(r["concat"].apply(void 0,[t].concat(e)))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"concatMap",(function(){return i}));var r=n(234);function i(e,t){return Object(r["mergeMap"])(e,t,1)}},function(e,t,n){"use strict";n.r(t),n.d(t,"concatMapTo",(function(){return i}));var r=n(274);function i(e,t){return Object(r["concatMap"])((function(){return e}),t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"count",(function(){return o}));var r=n(164),i=n(163);function o(e){return function(t){return t.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.count=0,i.index=0,i}return r["__extends"](t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"debounce",(function(){return s}));var r=n(164),i=n(221),o=n(222);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.durationSelector))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r.durationSubscription=null,r}return r["__extends"](t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(n){this.destination.error(n)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),n=Object(o["subscribeToResult"])(this,t),n&&!n.closed&&this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(e,t,n,r,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"debounceTime",(function(){return s}));var r=n(164),i=n(163),o=n(207);function s(e,t){return void 0===t&&(t=o["async"]),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.dueTime,this.scheduler))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r["__extends"](t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(u,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(i["Subscriber"]);function u(e){e.debouncedNext()}},function(e,t,n){"use strict";n.r(t),n.d(t,"defaultIfEmpty",(function(){return o}));var r=n(164),i=n(163);function o(e){return void 0===e&&(e=null),function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.defaultValue))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r["__extends"](t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"delay",(function(){return c}));var r=n(164),i=n(207),o=n(281),s=n(163),a=n(194);function c(e,t){void 0===t&&(t=i["async"]);var n=Object(o["isDate"])(e),r=n?+e-t.now():Math.abs(e);return function(e){return e.lift(new u(r,t))}}var u=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.delay,this.scheduler))},e}(),l=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return r["__extends"](t,e),t.dispatch=function(e){var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;while(n.length>0&&n[0].time-r.now()<=0)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0;var n=this.destination;n.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new d(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(a["Notification"].createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(a["Notification"].createComplete()),this.unsubscribe()},t}(s["Subscriber"]),d=function(){function e(e,t){this.time=e,this.notification=t}return e}()},function(e,t,n){"use strict";function r(e){return e instanceof Date&&!isNaN(+e)}n.r(t),n.d(t,"isDate",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"delayWhen",(function(){return c}));var r=n(164),i=n(163),o=n(161),s=n(221),a=n(222);function c(e,t){return t?function(n){return new d(n,t).lift(new u(e))}:function(t){return t.lift(new u(e))}}var u=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.delayDurationSelector))},e}(),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.delayDurationSelector=n,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return r["__extends"](t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var n=this.delayDurationSelector(e,t);n&&this.tryDelay(n,e)}catch(r){this.destination.error(r)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var n=Object(a["subscribeToResult"])(this,e,t);if(n&&!n.closed){var r=this.destination;r.add(n),this.delayNotifierSubscriptions.push(n)}},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(s["OuterSubscriber"]),d=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subscriptionDelay=n,r}return r["__extends"](t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new f(e,this.source))},t}(o["Observable"]),f=function(e){function t(t,n){var r=e.call(this)||this;return r.parent=t,r.source=n,r.sourceSubscribed=!1,r}return r["__extends"](t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"dematerialize",(function(){return o}));var r=n(164),i=n(163);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){return e.call(this,t)||this}return r["__extends"](t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"distinct",(function(){return s})),n.d(t,"DistinctSubscriber",(function(){return c}));var r=n(164),i=n(221),o=n(222);function s(e,t){return function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.keySelector,this.flushes))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=n,i.values=new Set,r&&i.add(Object(o["subscribeToResult"])(i,r)),i}return r["__extends"](t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(r){return void n.error(r)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"distinctUntilChanged",(function(){return o}));var r=n(164),i=n(163);function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.compare,this.keySelector))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=r,i.hasKey=!1,"function"===typeof n&&(i.compare=n),i}return r["__extends"](t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(o){return this.destination.error(o)}var r=!1;if(this.hasKey)try{var i=this.compare;r=i(this.key,t)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"distinctUntilKeyChanged",(function(){return i}));var r=n(285);function i(e,t){return Object(r["distinctUntilChanged"])((function(n,r){return t?t(n[e],r[e]):n[e]===r[e]}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"elementAt",(function(){return c}));var r=n(214),i=n(256),o=n(288),s=n(279),a=n(289);function c(e,t){if(e<0)throw new r["ArgumentOutOfRangeError"];var n=arguments.length>=2;return function(c){return c.pipe(Object(i["filter"])((function(t,n){return n===e})),Object(a["take"])(1),n?Object(s["defaultIfEmpty"])(t):Object(o["throwIfEmpty"])((function(){return new r["ArgumentOutOfRangeError"]})))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"throwIfEmpty",(function(){return s}));var r=n(164),i=n(215),o=n(163);function s(e){return void 0===e&&(e=u),function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.errorFactory))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.errorFactory=n,r.hasValue=!1,r}return r["__extends"](t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(o["Subscriber"]);function u(){return new i["EmptyError"]}},function(e,t,n){"use strict";n.r(t),n.d(t,"take",(function(){return a}));var r=n(164),i=n(163),o=n(214),s=n(195);function a(e){return function(t){return 0===e?Object(s["empty"])():t.lift(new c(e))}}var c=function(){function e(e){if(this.total=e,this.total<0)throw new o["ArgumentOutOfRangeError"]}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.total))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r["__extends"](t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"endWith",(function(){return o}));var r=n(231),i=n(196);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return Object(r["concat"])(t,i["of"].apply(void 0,e))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"every",(function(){return o}));var r=n(164),i=n(163);function o(e,t){return function(n){return n.lift(new s(e,t,n))}}var s=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg,this.source))},e}(),a=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return r["__extends"](t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"exhaust",(function(){return s}));var r=n(164),i=n(221),o=n(222);function s(){return function(e){return e.lift(new a)}}var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new c(e))},e}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return r["__extends"](t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(o["subscribeToResult"])(this,e)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"exhaustMap",(function(){return u}));var r=n(164),i=n(221),o=n(223),s=n(222),a=n(218),c=n(235);function u(e,t){return t?function(n){return n.pipe(u((function(n,r){return Object(c["from"])(e(n,r)).pipe(Object(a["map"])((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new l(e))}}var l=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.project))},e}(),d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return r["__extends"](t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new o["InnerSubscriber"](this,void 0,void 0),i=this.destination;i.add(r),Object(s["subscribeToResult"])(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){var t=this.destination;t.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"expand",(function(){return s})),n.d(t,"ExpandOperator",(function(){return a})),n.d(t,"ExpandSubscriber",(function(){return c}));var r=n(164),i=n(221),o=n(222);function s(e,t,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(r){return r.lift(new a(e,t,n))}}var a=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.project,this.concurrent,this.scheduler))},e}(),c=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return r["__extends"](t,e),t.dispatch=function(e){var t=e.subscriber,n=e.result,r=e.value,i=e.index;t.subscribeToProjection(n,r,i)},t.prototype._next=function(e){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(e);try{var i=this.project,o=i(e,r);if(this.scheduler){var s={subscriber:this,result:o,value:e,index:r},a=this.destination;a.add(this.scheduler.schedule(t.dispatch,0,s))}else this.subscribeToProjection(o,e,r)}catch(c){n.error(c)}}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,n){this.active++;var r=this.destination;r.add(Object(o["subscribeToResult"])(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this._next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer,n=this.destination;n.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"finalize",(function(){return s}));var r=n(164),i=n(163),o=n(169);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.callback))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.add(new o["Subscription"](n)),r}return r["__extends"](t,e),t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"find",(function(){return o})),n.d(t,"FindValueOperator",(function(){return s})),n.d(t,"FindValueSubscriber",(function(){return a}));var r=n(164),i=n(163);function o(e,t){if("function"!==typeof e)throw new TypeError("predicate is not a function");return function(n){return n.lift(new s(e,n,!1,t))}}var s=function(){function e(e,t,n,r){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=r}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),a=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.predicate=n,s.source=r,s.yieldIndex=i,s.thisArg=o,s.index=0,s}return r["__extends"](t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this,n=t.predicate,r=t.thisArg,i=this.index++;try{var o=n.call(r||this,e,i,this.source);o&&this.notifyComplete(this.yieldIndex?i:e)}catch(s){this.destination.error(s)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"findIndex",(function(){return i}));var r=n(296);function i(e,t){return function(n){return n.lift(new r["FindValueOperator"](e,n,!0,t))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"first",(function(){return u}));var r=n(215),i=n(256),o=n(289),s=n(279),a=n(288),c=n(212);function u(e,t){var n=arguments.length>=2;return function(u){return u.pipe(e?Object(i["filter"])((function(t,n){return e(t,n,u)})):c["identity"],Object(o["take"])(1),n?Object(s["defaultIfEmpty"])(t):Object(a["throwIfEmpty"])((function(){return new r["EmptyError"]})))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"ignoreElements",(function(){return o}));var r=n(164),i=n(163);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r["__extends"](t,e),t.prototype._next=function(e){},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"isEmpty",(function(){return o}));var r=n(164),i=n(163);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){return e.call(this,t)||this}return r["__extends"](t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"last",(function(){return u}));var r=n(215),i=n(256),o=n(302),s=n(288),a=n(279),c=n(212);function u(e,t){var n=arguments.length>=2;return function(u){return u.pipe(e?Object(i["filter"])((function(t,n){return e(t,n,u)})):c["identity"],Object(o["takeLast"])(1),n?Object(a["defaultIfEmpty"])(t):Object(s["throwIfEmpty"])((function(){return new r["EmptyError"]})))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"takeLast",(function(){return a}));var r=n(164),i=n(163),o=n(214),s=n(195);function a(e){return function(t){return 0===e?Object(s["empty"])():t.lift(new c(e))}}var c=function(){function e(e){if(this.total=e,this.total<0)throw new o["ArgumentOutOfRangeError"]}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.total))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r["__extends"](t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;if(t.length<n)t.push(e);else{var i=r%n;t[i]=e}},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"mapTo",(function(){return o}));var r=n(164),i=n(163);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.value))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.value=n,r}return r["__extends"](t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"materialize",(function(){return s}));var r=n(164),i=n(163),o=n(194);function s(){return function(e){return e.lift(new a)}}var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new c(e))},e}(),c=function(e){function t(t){return e.call(this,t)||this}return r["__extends"](t,e),t.prototype._next=function(e){this.destination.next(o["Notification"].createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(o["Notification"].createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(o["Notification"].createComplete()),e.complete()},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"max",(function(){return i}));var r=n(306);function i(e){var t="function"===typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t};return Object(r["reduce"])(t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"reduce",(function(){return a}));var r=n(307),i=n(302),o=n(279),s=n(176);function a(e,t){return arguments.length>=2?function(n){return Object(s["pipe"])(Object(r["scan"])(e,t),Object(i["takeLast"])(1),Object(o["defaultIfEmpty"])(t))(n)}:function(t){return Object(s["pipe"])(Object(r["scan"])((function(t,n,r){return e(t,n,r+1)})),Object(i["takeLast"])(1))(t)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"scan",(function(){return o}));var r=n(164),i=n(163);function o(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(e,t,n))}}var s=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.accumulator,this.seed,this.hasSeed))},e}(),a=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r["__extends"](t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"merge",(function(){return i}));var r=n(250);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(r["merge"].apply(void 0,[t].concat(e)))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"mergeMapTo",(function(){return i}));var r=n(234);function i(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"===typeof t?Object(r["mergeMap"])((function(){return e}),t,n):("number"===typeof t&&(n=t),Object(r["mergeMap"])((function(){return e}),n))}},function(e,t,n){"use strict";n.r(t),n.d(t,"mergeScan",(function(){return a})),n.d(t,"MergeScanOperator",(function(){return c})),n.d(t,"MergeScanSubscriber",(function(){return u}));var r=n(164),i=n(222),o=n(221),s=n(223);function a(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new c(e,t,n))}}var c=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.accumulator,this.seed,this.concurrent))},e}(),u=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o.acc=r,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r["__extends"](t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,n=this.destination,r=void 0;try{var i=this.accumulator;r=i(this.acc,e,t)}catch(o){return n.error(o)}this.active++,this._innerSub(r,e,t)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,n){var r=new s["InnerSubscriber"](this,void 0,void 0),o=this.destination;o.add(r),Object(i["subscribeToResult"])(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.destination;this.acc=t,this.hasValue=!0,o.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer,n=this.destination;n.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(o["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"min",(function(){return i}));var r=n(306);function i(e){var t="function"===typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t};return Object(r["reduce"])(t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"multicast",(function(){return i})),n.d(t,"MulticastOperator",(function(){return o}));var r=n(178);function i(e,t){return function(n){var i;if(i="function"===typeof e?e:function(){return e},"function"===typeof t)return n.lift(new o(i,t));var s=Object.create(n,r["connectableObservableDescriptor"]);return s.source=n,s.subjectFactory=i,s}}var o=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i},e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"onErrorResumeNext",(function(){return u})),n.d(t,"onErrorResumeNextStatic",(function(){return l}));var r=n(164),i=n(235),o=n(170),s=n(221),a=n(223),c=n(222);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&Object(o["isArray"])(e[0])&&(e=e[0]),function(t){return t.lift(new d(e))}}function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return 1===e.length&&Object(o["isArray"])(e[0])&&(e=e[0]),n=e.shift(),Object(i["from"])(n,null).lift(new d(e))}var d=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.nextSources))},e}(),f=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.nextSources=n,r}return r["__extends"](t,e),t.prototype.notifyError=function(e,t){this.subscribeToNextSource()},t.prototype.notifyComplete=function(e){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new a["InnerSubscriber"](this,void 0,void 0),n=this.destination;n.add(t),Object(c["subscribeToResult"])(this,e,void 0,void 0,t)}else this.destination.complete()},t}(s["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"pairwise",(function(){return o}));var r=n(164),i=n(163);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){var n=e.call(this,t)||this;return n.hasPrev=!1,n}return r["__extends"](t,e),t.prototype._next=function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"partition",(function(){return o}));var r=n(255),i=n(256);function o(e,t){return function(n){return[Object(i["filter"])(e,t)(n),Object(i["filter"])(Object(r["not"])(e,t))(n)]}}},function(e,t,n){"use strict";n.r(t),n.d(t,"pluck",(function(){return i}));var r=n(218);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(t){return Object(r["map"])(o(e,n))(t)}}function o(e,t){var n=function(n){for(var r=n,i=0;i<t;i++){var o=r[e[i]];if("undefined"===typeof o)return;r=o}return r};return n}},function(e,t,n){"use strict";n.r(t),n.d(t,"publish",(function(){return o}));var r=n(179),i=n(312);function o(e){return e?Object(i["multicast"])((function(){return new r["Subject"]}),e):Object(i["multicast"])(new r["Subject"])}},function(e,t,n){"use strict";n.r(t),n.d(t,"publishBehavior",(function(){return o}));var r=n(184),i=n(312);function o(e){return function(t){return Object(i["multicast"])(new r["BehaviorSubject"](e))(t)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"publishLast",(function(){return o}));var r=n(202),i=n(312);function o(){return function(e){return Object(i["multicast"])(new r["AsyncSubject"])(e)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"publishReplay",(function(){return o}));var r=n(185),i=n(312);function o(e,t,n,o){n&&"function"!==typeof n&&(o=n);var s="function"===typeof n?n:void 0,a=new r["ReplaySubject"](e,t,o);return function(e){return Object(i["multicast"])((function(){return a}),s)(e)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"race",(function(){return o}));var r=n(170),i=n(257);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&Object(r["isArray"])(e[0])&&(e=e[0]),t.lift.call(i["race"].apply(void 0,[t].concat(e)))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"repeat",(function(){return s}));var r=n(164),i=n(163),o=n(195);function s(e){return void 0===e&&(e=-1),function(t){return 0===e?Object(o["empty"])():e<0?t.lift(new a(-1,t)):t.lift(new a(e-1,t))}}var a=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.count,this.source))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return r["__extends"](t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this,n=t.source,r=t.count;if(0===r)return e.prototype.complete.call(this);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"repeatWhen",(function(){return a}));var r=n(164),i=n(179),o=n(221),s=n(222);function a(e){return function(t){return t.lift(new c(e))}}var c=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.notifier,t))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i.sourceIsBeingSubscribedTo=!0,i}return r["__extends"](t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(t){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},t.prototype._unsubscribe=function(){var e=this,t=e.notifications,n=e.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),n&&(n.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){var t;this.notifications=new i["Subject"];try{var n=this.notifier;t=n(this.notifications)}catch(r){return e.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=Object(s["subscribeToResult"])(this,t)},t}(o["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"retry",(function(){return o}));var r=n(164),i=n(163);function o(e){return void 0===e&&(e=-1),function(t){return t.lift(new s(e,t))}}var s=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.count,this.source))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return r["__extends"](t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this,r=n.source,i=n.count;if(0===i)return e.prototype.error.call(this,t);i>-1&&(this.count=i-1),r.subscribe(this._unsubscribeAndRecycle())}},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"retryWhen",(function(){return a}));var r=n(164),i=n(179),o=n(221),s=n(222);function a(e){return function(t){return t.lift(new c(e,t))}}var c=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.notifier,this.source))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i}return r["__extends"](t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,r=this.retries,o=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{n=new i["Subject"];try{var a=this.notifier;r=a(n)}catch(c){return e.prototype.error.call(this,c)}o=Object(s["subscribeToResult"])(this,r)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=o,n.next(t)}},t.prototype._unsubscribe=function(){var e=this,t=e.errors,n=e.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),n&&(n.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(e,t,n,r,i){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)},t}(o["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"sample",(function(){return s}));var r=n(164),i=n(221),o=n(222);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new c(e),r=t.subscribe(n);return r.add(Object(o["subscribeToResult"])(n,this.notifier)),r},e}(),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return r["__extends"](t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(e,t,n,r,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"sampleTime",(function(){return s}));var r=n(164),i=n(163),o=n(207);function s(e,t){return void 0===t&&(t=o["async"]),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.period,this.scheduler))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.period=n,i.scheduler=r,i.hasValue=!1,i.add(r.schedule(u,n,{subscriber:i,period:n})),i}return r["__extends"](t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(i["Subscriber"]);function u(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"sequenceEqual",(function(){return o})),n.d(t,"SequenceEqualOperator",(function(){return s})),n.d(t,"SequenceEqualSubscriber",(function(){return a}));var r=n(164),i=n(163);function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.compareTo,this.comparator))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.compareTo=n,i.comparator=r,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(n.subscribe(new c(t,i))),i}return r["__extends"](t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){var e=this,t=e._a,n=e._b,r=e.comparator;while(t.length>0&&n.length>0){var i=t.shift(),o=n.shift(),s=!1;try{s=r?r(i,o):i===o}catch(a){this.destination.error(a)}s||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(i["Subscriber"]),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.parent=n,r}return r["__extends"](t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"share",(function(){return a}));var r=n(312),i=n(182),o=n(179);function s(){return new o["Subject"]}function a(){return function(e){return Object(i["refCount"])()(Object(r["multicast"])(s)(e))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"shareReplay",(function(){return i}));var r=n(185);function i(e,t,n){var r;return r=e&&"object"===typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(o(r))}}function o(e){var t,n,i=e.bufferSize,o=void 0===i?Number.POSITIVE_INFINITY:i,s=e.windowTime,a=void 0===s?Number.POSITIVE_INFINITY:s,c=e.refCount,u=e.scheduler,l=0,d=!1,f=!1;return function(e){l++,t&&!d||(d=!1,t=new r["ReplaySubject"](o,a,u),n=e.subscribe({next:function(e){t.next(e)},error:function(e){d=!0,t.error(e)},complete:function(){f=!0,t.complete()}}));var i=t.subscribe(this);this.add((function(){l--,i.unsubscribe(),n&&!f&&c&&0===l&&(n.unsubscribe(),n=void 0,t=void 0)}))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"single",(function(){return s}));var r=n(164),i=n(163),o=n(215);function s(e){return function(t){return t.lift(new a(e,t))}}var a=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.predicate,this.source))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.seenValue=!1,i.index=0,i}return r["__extends"](t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(n){this.destination.error(n)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new o["EmptyError"])},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"skip",(function(){return o}));var r=n(164),i=n(163);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.total))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r["__extends"](t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"skipLast",(function(){return s}));var r=n(164),i=n(163),o=n(214);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new o["ArgumentOutOfRangeError"]}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new i["Subscriber"](e)):t.subscribe(new c(e,this._skipCount))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r._skipCount=n,r._count=0,r._ring=new Array(n),r}return r["__extends"](t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var r=n%t,i=this._ring,o=i[r];i[r]=e,this.destination.next(o)}},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"skipUntil",(function(){return a}));var r=n(164),i=n(221),o=n(223),s=n(222);function a(e){return function(t){return t.lift(new c(e))}}var c=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.notifier))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;r.hasValue=!1;var i=new o["InnerSubscriber"](r,void 0,void 0);return r.add(i),r.innerSubscription=i,Object(s["subscribeToResult"])(r,n,void 0,void 0,i),r}return r["__extends"](t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype.notifyNext=function(e,t,n,r,i){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"skipWhile",(function(){return o}));var r=n(164),i=n(163);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return r["__extends"](t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(n){this.destination.error(n)}},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"startWith",(function(){return o}));var r=n(231),i=n(197);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Object(i["isScheduler"])(n)?(e.pop(),function(t){return Object(r["concat"])(e,t,n)}):function(t){return Object(r["concat"])(e,t)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"subscribeOn",(function(){return i}));var r=n(338);function i(e,t){return void 0===t&&(t=0),function(n){return n.lift(new o(e,t))}}var o=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new r["SubscribeOnObservable"](t,this.delay,this.scheduler).subscribe(e)},e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"SubscribeOnObservable",(function(){return a}));var r=n(164),i=n(161),o=n(203),s=n(249),a=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=o["asap"]);var i=e.call(this)||this;return i.source=t,i.delayTime=n,i.scheduler=r,(!Object(s["isNumeric"])(n)||n<0)&&(i.delayTime=0),r&&"function"===typeof r.schedule||(i.scheduler=o["asap"]),i}return r["__extends"](t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=o["asap"]),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source,i=this.scheduler;return i.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(i["Observable"])},function(e,t,n){"use strict";n.r(t),n.d(t,"switchAll",(function(){return o}));var r=n(340),i=n(212);function o(){return Object(r["switchMap"])(i["identity"])}},function(e,t,n){"use strict";n.r(t),n.d(t,"switchMap",(function(){return u}));var r=n(164),i=n(221),o=n(223),s=n(222),a=n(218),c=n(235);function u(e,t){return"function"===typeof t?function(n){return n.pipe(u((function(n,r){return Object(c["from"])(e(n,r)).pipe(Object(a["map"])((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new l(e))}}var l=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.project))},e}(),d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return r["__extends"](t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new o["InnerSubscriber"](this,void 0,void 0),a=this.destination;a.add(i),this.innerSubscription=Object(s["subscribeToResult"])(this,e,t,n,i)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){var n=this.destination;n.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"switchMapTo",(function(){return i}));var r=n(340);function i(e,t){return t?Object(r["switchMap"])((function(){return e}),t):Object(r["switchMap"])((function(){return e}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"takeUntil",(function(){return s}));var r=n(164),i=n(221),o=n(222);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new c(e),r=Object(o["subscribeToResult"])(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n},e}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return r["__extends"](t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"takeWhile",(function(){return o}));var r=n(164),i=n(163);function o(e,t){return void 0===t&&(t=!1),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.inclusive))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.inclusive=r,i.index=0,i}return r["__extends"](t,e),t.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(r){return void n.error(r)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"tap",(function(){return a}));var r=n(164),i=n(163),o=n(177),s=n(165);function a(e,t,n){return function(r){return r.lift(new c(e,t,n))}}var c=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))},e}(),u=function(e){function t(t,n,r,i){var a=e.call(this,t)||this;return a._tapNext=o["noop"],a._tapError=o["noop"],a._tapComplete=o["noop"],a._tapError=r||o["noop"],a._tapComplete=i||o["noop"],Object(s["isFunction"])(n)?(a._context=a,a._tapNext=n):n&&(a._context=n,a._tapNext=n.next||o["noop"],a._tapError=n.error||o["noop"],a._tapComplete=n.complete||o["noop"]),a}return r["__extends"](t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"defaultThrottleConfig",(function(){return s})),n.d(t,"throttle",(function(){return a}));var r=n(164),i=n(221),o=n(222),s={leading:!0,trailing:!1};function a(e,t){return void 0===t&&(t=s),function(n){return n.lift(new c(e,t.leading,t.trailing))}}var c=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.durationSelector,this.leading,this.trailing))},e}(),u=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}return r["__extends"](t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this,t=e._hasValue,n=e._sendValue;t&&(this.destination.next(n),this.throttle(n)),this._hasValue=!1,this._sendValue=null},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=Object(o["subscribeToResult"])(this,t))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(t){return this.destination.error(t),null}},t.prototype.throttlingDone=function(){var e=this,t=e._throttled,n=e._trailing;t&&t.unsubscribe(),this._throttled=null,n&&this.send()},t.prototype.notifyNext=function(e,t,n,r,i){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"throttleTime",(function(){return a}));var r=n(164),i=n(163),o=n(207),s=n(345);function a(e,t,n){return void 0===t&&(t=o["async"]),void 0===n&&(n=s["defaultThrottleConfig"]),function(r){return r.lift(new c(e,t,n.leading,n.trailing))}}var c=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),u=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.duration=n,s.scheduler=r,s.leading=i,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return r["__extends"](t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(l,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(i["Subscriber"]);function l(e){var t=e.subscriber;t.clearThrottle()}},function(e,t,n){"use strict";n.r(t),n.d(t,"timeInterval",(function(){return a})),n.d(t,"TimeInterval",(function(){return c}));var r=n(207),i=n(307),o=n(242),s=n(218);function a(e){return void 0===e&&(e=r["async"]),function(t){return Object(o["defer"])((function(){return t.pipe(Object(i["scan"])((function(t,n){var r=t.current;return{value:n,current:e.now(),last:r}}),{current:e.now(),value:void 0,last:void 0}),Object(s["map"])((function(e){var t=e.current,n=e.last,r=e.value;return new c(r,t-n)})))}))}}var c=function(){function e(e,t){this.value=e,this.interval=t}return e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"timeout",(function(){return a}));var r=n(207),i=n(216),o=n(349),s=n(201);function a(e,t){return void 0===t&&(t=r["async"]),Object(o["timeoutWith"])(e,Object(s["throwError"])(new i["TimeoutError"]),t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"timeoutWith",(function(){return c}));var r=n(164),i=n(207),o=n(281),s=n(221),a=n(222);function c(e,t,n){return void 0===n&&(n=i["async"]),function(r){var i=Object(o["isDate"])(e),s=i?+e-n.now():Math.abs(e);return r.lift(new u(s,i,t,n))}}var u=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),l=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.absoluteTimeout=n,s.waitFor=r,s.withObservable=i,s.scheduler=o,s.action=null,s.scheduleTimeout(),s}return r["__extends"](t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(Object(a["subscribeToResult"])(e,t))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},t}(s["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"timestamp",(function(){return o})),n.d(t,"Timestamp",(function(){return s}));var r=n(207),i=n(218);function o(e){return void 0===e&&(e=r["async"]),Object(i["map"])((function(t){return new s(t,e.now())}))}var s=function(){function e(e,t){this.value=e,this.timestamp=t}return e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"toArray",(function(){return o}));var r=n(306);function i(e,t,n){return 0===n?[t]:(e.push(t),e)}function o(){return Object(r["reduce"])(i,[])}},function(e,t,n){"use strict";n.r(t),n.d(t,"window",(function(){return a}));var r=n(164),i=n(179),o=n(221),s=n(222);function a(e){return function(t){return t.lift(new c(e))}}var c=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new u(e),r=t.subscribe(n);return r.closed||n.add(Object(s["subscribeToResult"])(n,this.windowBoundaries)),r},e}(),u=function(e){function t(t){var n=e.call(this,t)||this;return n.window=new i["Subject"],t.next(n.window),n}return r["__extends"](t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.openWindow()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new i["Subject"];t.next(n)},t}(o["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"windowCount",(function(){return s}));var r=n(164),i=n(163),o=n(179);function s(e,t){return void 0===t&&(t=0),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.windowSize,this.startWindowEvery))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.destination=t,i.windowSize=n,i.startWindowEvery=r,i.windows=[new o["Subject"]],i.count=0,t.next(i.windows[0]),i}return r["__extends"](t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,s=i.length,a=0;a<s&&!this.closed;a++)i[a].next(e);var c=this.count-r+1;if(c>=0&&c%t===0&&!this.closed&&i.shift().complete(),++this.count%t===0&&!this.closed){var u=new o["Subject"];i.push(u),n.next(u)}},t.prototype._error=function(e){var t=this.windows;if(t)while(t.length>0&&!this.closed)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)while(e.length>0&&!this.closed)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(i["Subscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"windowTime",(function(){return u}));var r=n(164),i=n(179),o=n(207),s=n(163),a=n(249),c=n(197);function u(e){var t=o["async"],n=null,r=Number.POSITIVE_INFINITY;return Object(c["isScheduler"])(arguments[3])&&(t=arguments[3]),Object(c["isScheduler"])(arguments[2])?t=arguments[2]:Object(a["isNumeric"])(arguments[2])&&(r=arguments[2]),Object(c["isScheduler"])(arguments[1])?t=arguments[1]:Object(a["isNumeric"])(arguments[1])&&(n=arguments[1]),function(i){return i.lift(new l(e,n,r,t))}}var l=function(){function e(e,t,n,r){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return r["__extends"](t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(i["Subject"]),f=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;s.destination=t,s.windowTimeSpan=n,s.windowCreationInterval=r,s.maxWindowSize=i,s.scheduler=o,s.windows=[];var a=s.openWindow();if(null!==r&&r>=0){var c={subscriber:s,window:a,context:null},u={windowTimeSpan:n,windowCreationInterval:r,subscriber:s,scheduler:o};s.add(o.schedule(m,n,c)),s.add(o.schedule(h,r,u))}else{var l={subscriber:s,window:a,windowTimeSpan:n};s.add(o.schedule(p,n,l))}return s}return r["__extends"](t,e),t.prototype._next=function(e){for(var t=this.windows,n=t.length,r=0;r<n;r++){var i=t[r];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},t.prototype._error=function(e){var t=this.windows;while(t.length>0)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;while(e.length>0){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new d;this.windows.push(e);var t=this.destination;return t.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(s["Subscriber"]);function p(e){var t=e.subscriber,n=e.windowTimeSpan,r=e.window;r&&t.closeWindow(r),e.window=t.openWindow(),this.schedule(e,n)}function h(e){var t=e.windowTimeSpan,n=e.subscriber,r=e.scheduler,i=e.windowCreationInterval,o=n.openWindow(),s=this,a={action:s,subscription:null},c={subscriber:n,window:o,context:a};a.subscription=r.schedule(m,t,c),s.add(a.subscription),s.schedule(e,i)}function m(e){var t=e.subscriber,n=e.window,r=e.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),t.closeWindow(n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"windowToggle",(function(){return c}));var r=n(164),i=n(179),o=n(169),s=n(221),a=n(222);function c(e,t){return function(n){return n.lift(new u(e,t))}}var u=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.openings,this.closingSelector))},e}(),l=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(i.openSubscription=Object(a["subscribeToResult"])(i,n,n)),i}return r["__extends"](t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,r=0;r<n;r++)t[r].window.next(e)},t.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n){var r=n.length,i=-1;while(++i<r){var o=n[i];o.window.error(t),o.subscription.unsubscribe()}}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t){var n=t.length,r=-1;while(++r<n){var i=t[r];i.window.complete(),i.subscription.unsubscribe()}}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e){var t=e.length,n=-1;while(++n<t){var r=e[n];r.window.unsubscribe(),r.subscription.unsubscribe()}}},t.prototype.notifyNext=function(e,t,n,r,s){if(e===this.openings){var c=void 0;try{var u=this.closingSelector;c=u(t)}catch(h){return this.error(h)}var l=new i["Subject"],d=new o["Subscription"],f={window:l,subscription:d};this.contexts.push(f);var p=Object(a["subscribeToResult"])(this,c,f);p.closed?this.closeWindow(this.contexts.length-1):(p.context=f,d.add(p)),this.destination.next(l)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,n=t[e],r=n.window,i=n.subscription;t.splice(e,1),r.complete(),i.unsubscribe()}},t}(s["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"windowWhen",(function(){return a}));var r=n(164),i=n(179),o=n(221),s=n(222);function a(e){return function(t){return t.lift(new c(e))}}var c=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.closingSelector))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.closingSelector=n,r.openWindow(),r}return r["__extends"](t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.openWindow(i)},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n,r=this.window=new i["Subject"];this.destination.next(r);try{var o=this.closingSelector;n=o()}catch(a){return this.destination.error(a),void this.window.error(a)}this.add(this.closingNotification=Object(s["subscribeToResult"])(this,n))},t}(o["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"withLatestFrom",(function(){return s}));var r=n(164),i=n(221),o=n(222);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;"function"===typeof e[e.length-1]&&(n=e.pop());var r=e;return t.lift(new a(r,n))}}var a=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.observables,this.project))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;i.observables=n,i.project=r,i.toRespond=[];var s=n.length;i.values=new Array(s);for(var a=0;a<s;a++)i.toRespond.push(a);for(a=0;a<s;a++){var c=n[a];i.add(Object(o["subscribeToResult"])(i,c,c,a))}return i}return r["__extends"](t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.values[n]=t;var o=this.toRespond;if(o.length>0){var s=o.indexOf(n);-1!==s&&o.splice(s,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(i["OuterSubscriber"])},function(e,t,n){"use strict";n.r(t),n.d(t,"zip",(function(){return i}));var r=n(261);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(r["zip"].apply(void 0,[t].concat(e)))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"zipAll",(function(){return i}));var r=n(261);function i(e){return function(t){return t.lift(new r["ZipOperator"](e))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=c(r),o=n(160),s=n(79),a=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){this.mgr=e,this.confrId=t,l.apply(this),this.subject=new o.Subject,this.onRemoteStream=n}function l(){i.default.extend(this,{subscribe:function(e,t,n){return this.subject.subscribe(e,t,n)}},{onMeExit:function(e,t){this.mgr._onExit(this.confrId,e,t)},onAddMember:function(e){this.mgr.onMemberJoin(e,this.confrId)},onRemoveMember:function(e,t){this.mgr.onMemberLeave(e,t,this.confrId)},onAddStream:function(e){0!=e.id&&(e.located()||this.onRemoteStream&&this.onRemoteStream(e),this.mgr.streamBindVideo(e,void 0,this.confrId),this.mgr._onAddMemberStream(e,this.confrId))},onRemoveStream:function(e){if(0!=e.id){var t=this.mgr._confr(this.confrId);t&&e&&e.located()&&(t.av&&t.av.id===e.id&&(t.av=void 0),t.desktop&&t.desktop.id===e.id&&(t.desktop=void 0));var n=i.default.removeAttribute(this.mgr._videos,e.id);this.mgr._onRemoveMemberStream(e,this.confrId),n&&this.mgr.unloadVideo(e.owner,e,n)}},onUpdateStream:function(e,t){if(0!=e.id){var n=this,r=this.mgr._videos[e.id];r&&(t&&t.ifMediaStream((function(e){r&&attachMediaStream(r,e),r&&r.hasAttribute("flow")&&n.mgr.onMediaTransmission(r,(function(e,t,n,i){(0,a.default)(r).trigger("onMediaTransmission",[e,t,n,i])}))})),e.aoff?r.setAttribute("aoff","aoff"):r.removeAttribute("aoff"),e.voff?r.setAttribute("voff","voff"):r.removeAttribute("voff"));var i={video:!e.voff,audio:!e.aoff};t&&t.ifVoff((function(t){i||(i={}),i.video=!t,e.located()||(i.video=e.subArgs?e.subArgs.subSVideo:!e.voff)})),t&&t.ifAoff((function(t){i||(i={}),i.audio=!t,e.located()||(i.audio=e.subArgs?e.subArgs.subSAudio:!e.aoff,2===e.type&&(i.audio=!0))})),i&&this.mgr._onMemberMediaChanaged(e.owner,e,i,this.confrId),i&&this.mgr._onUpdateMemberStream(e,i,this.confrId)}},onNetworkWeak:function(){},onNotSupportPublishVideoCodecs:function(e){this.mgr._onNotSupportMemberPublishVideoCodecs(e,this.confrId)},onRecvRemoteMessage:function(e,t){this.mgr._onRecvRemoteMessage(e,t,this.confrId)},onSoundChanage:function(e,t,n){this.mgr._onMemberSoundChanaged(e,t,n,this.confrId)},onTalking:function(e,t,n){this.mgr._onTalking(e,t,n,this.confrId)},onRoleUpdate:function(e,t){var n=this.mgr._confrs[this.confrId];t&&(n.roleToken=t),n.role=e,e==this.mgr.Role.AUDIENCE&&(n.av&&this.mgr.hungup(n.av),n.desktop&&this.mgr.hungup(n.desktop)),this.mgr._onRoleUpdated(e,this.confrId)},onNotifyEvent:function(e){var t=this;try{if(e instanceof emedia.event.ICEChanage){var n=e.webrtc,r=e.state;i.default.forEach(t._cacheStreams,(function(e,o){if(o.rtcId==n.getRtcId()){var s=i.default.extend({},o),a=i.default.extend({},o.owner);t.mgr._onStreamIceStateChanged(a,s,r,t.confrId)}}))}}finally{t.subject.next(e)}}})}t.default=u},function(e,t,n){"use strict";var r=n(77),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s=n(5),a=s.tagLogger("PannelVideo"),c=n(362),u=n(363),l=(n(155),n(156)),d=n(364);function f(e){f._overrideCount++,f.overrideObj!==e&&(f.overrideObj=e,p.override=e.listeners.onRemoveMember,p.overrideService=e,e.listeners.onRemoveMember=p)}function p(e,t){try{var n=e&&e.id&&T(p.overrideService,e.id);n&&n.length&&s.forEach(n,(function(t,n){a.warn("Remove member. free remote controller. it is ",n.id,n._ctrlStream.id,n._controller.memName,e.id),n._free(),n._callbacks&&n._callbacks.onRemoteFreeControl&&n._callbacks.onRemoteFreeControl(n._ctrlStream,n._controller,n._cId)}))}finally{p.override&&p.override.apply(this,arguments)}}function h(e){h._overrideCount++,h.overrideObj!==e&&(h.overrideObj=e,v.override=e.listeners.onRemoveStream,v.overrideService=e,e.listeners.onRemoveStream=v)}function m(e){}function v(e){b(v.overrideService,e),v.override&&v.override.apply(this,arguments)}function b(e,t){N(e,t.id);var n=E(e,t);n&&s.forEach(n,(function(e,t){t._free&&t._free()})),s.removeAttribute(e.current.__remoteControls,t.id)}function y(e){if(y._overrideCount++,y.overrideObj!==e){y.overrideObj=e;var t=e.onHungup;e.onHungup=function(n){b(e,n),t&&t.apply(this,arguments)}.bind(e)}}function g(e,t){if(g._overrideCount++,g.overrideObj!==e){g.overrideObj=e;var n=e._onRemotePannelControl;e._onRemotePannelControl=function(e){I(this,e,!1,t),n&&n.apply(this,arguments)}.bind(e)}}function _(e,t,n){var r=[];n&&s.forEach(n.actions,(function(e,t){t.xy&&r.push({x:Math.round(1e4*t.xy.x),y:Math.round(1e4*t.xy.y),oper:t.oper,btn:t.btn,sn:t.sn,_time:t._time}),t.xy||r.push({oper:t.oper,btn:t.btn,sn:t.sn,_time:t._time})}));var o={op2:30,evt:0,streamId:t.id,actions:r,cId:n.cId};return e.current.newMessage({op:1002,memId:t.owner.id,arg:(0,i.default)(o),_reqOps:[100230]})}function S(e){"string"===typeof e.arg&&(e.arg=JSON.parse(e.arg));var t=e.arg,n=[],r=[];t&&t.actions&&s.forEach(t.actions,(function(e,t){void 0!==t.x&&void 0!==t.y&&n.push({xy:{x:t.x/1e4,y:t.y/1e4},oper:t.oper,btn:t.btn,sn:t.sn,_time:t._time}),(void 0===t.x||void 0===t.y)&&r.push({oper:t.oper,btn:t.btn,sn:t.sn,_time:t._time})})),t.mouse=n,t.keyboard=r}f._overrideCount=0,h._overrideCount=0,y._overrideCount=0,g._overrideCount=0;var w=0,x=s.prototypeExtend({__init__:function(){this.id=w++},accept:function(e,t){var n=this;if(n.hasOtherControl())throw n.busy(),a.error("Other has been controled."),"Other has been controled.";var r=!1,i=E(this._service,this._ctrlStream,this._controller);if(i&&s.forEach(i,(function(e,t){t.id<n.id?t._free():r=!0})),r)n._free();else{var o=this._service.current.__remoteControls||(this._service.current.__remoteControls={});o[n.id]=n,U(this,e,t),C(this._service,this._reqevt,0)}},controlling:function(){var e=this,t=[],n=E(this._service,this._ctrlStream);return n&&s.forEach(n,(function(n,r){r._controller.memName===e._controller.memName&&t.push(r)})),t&&t.length?t:void 0},hasOtherControl:function(){var e=this,t=!1,n=E(this._service,this._ctrlStream);return n&&s.forEach(n,(function(n,r){r._controller.memName!=e._controller.memName&&(t=!0)})),t},busy:function(){C(this._service,this._reqevt,-403)},reject:function(){C(this._service,this._reqevt,-402)},_free:function(){s.removeAttribute(this._service.current.__remoteControls,this.id)},forceDisconnect:function(){var e=E(this._service,this._ctrlStream);e&&s.forEach(e,(function(e,t){t._free&&t._free()})),a.info("remote control force disconnect")}});function C(e,t,n){e.current.message({op:1001,tsxId:t.tsxId,memId:t.memId,arg:(0,i.default)({cId:t.arg.cId}),result:n}).post()}function O(e,t){C(e,t,-405)}function T(e,t,n){var r=[];return e.current.__remoteControls&&s.forEach(e.current.__remoteControls,(function(e,i){n&&i._ctrlStream.id!==n.id||t&&i._controller.id!==t||r.push(i)})),r}function E(e,t,n,r){var i=[];return e.current.__remoteControls&&s.forEach(e.current.__remoteControls,(function(e,o){t&&o._ctrlStream.id!==t.id||n&&o._controller.memName!==n.memName||r&&o._cId!==r||i.push(o)})),i}function I(e,t,n,r){S(t);var o=t.arg,c=o.cId,u=o.streamId,d=e.getMemberById(t.memId),f=e.getStreamById(u);function p(){if(!d||!f)return O(e,t),!0;if(1===o.evt){var n,i=new x({_service:e,_controller:d,_ctrlStream:f,_cId:c,_reqevt:t,_callbacks:r});return i.hasOtherControl()?(i.busy(),!0):(n=i.controlling())?(s.forEach(n,(function(e,t){t._cId=c})),C(e,t,0),!0):(r&&r.onHasRemoteControl&&r.onHasRemoteControl(f,d,i),!0)}if(2===o.evt){var a=E(e,f,d,c);return a&&s.forEach(a,(function(n,r){r._free&&r._free(),C(e,t,0)})),r&&r.onRemoteFreeControl&&r.onRemoteFreeControl(f,d,c),!0}}if(n||!p()){var h=E(e,f,d,c);if(n||h&&0!==h.length||O(e,t),h&&s.forEach(h,(function(e,t){t._lastRecvTimestamp=(new Date).getTime()})),n){var m=e.current.__remoteControls[f.id];h=h||[],m&&h.push(m)}s.forEach(h,(function(r,c){var u=0,d=o.mouse;if(d&&d.length>0)try{s.forEach(d,(function(e,t){t.sn>u&&(u=t.sn),t.oper===l.BTN.MOVE?c.mouseTrack&&c.mouseTrack.track(t.xy):c.mouseTrack&&c.mouseTrack.trigger(new l(t))}))}catch(p){a.warn(p)}d=o.keyboard;if(d&&d.length>0)try{s.forEach(d,(function(e,t){t.sn>u&&(u=t.sn),c.keyboard&&(t.oper===l.BTN.KEYBOARD_DOWN?c.keyboard.onKeyDown(t.btn):t.oper===l.BTN.KEYBOARD_UP&&c.keyboard.onKeyUp(t.btn))}))}catch(p){a.warn(p)}if(!0!==n)try{f()}catch(p){a.warn(p)}function f(){e.current.message({op:1001,tsxId:t.tsxId,memId:t.memId,arg:(0,i.default)({sn:u}),result:0}).post((function(e){a.debug("Send remote control response. the result = ",e.result,e.msg||"")}))}}))}}function k(e,t,n,r,i){r&&r()}function R(e,t,n,r,i){r&&r()}function P(e,t,n,r,i,o,s){var a=e.eventXYAtMedia(r,n);a&&(a={x:a.x/a.width,y:a.y/a.height},j(e,{xy:a,oper:l.BTN.MOVE,sid:t},s),o&&o(a,i))}function M(e,t,n,r,i,o,a){r.xy=e.eventXYAtMedia(r.xy,n),r.xy&&(r.xy={x:r.xy.x/r.xy.width,y:r.xy.y/r.xy.height},s.extend(r,{sid:t}),j(e,r,a),o&&o(r,i))}function A(e,t,n,r,i,o){j(e,{oper:n,btn:r,sid:t},o),i&&i(n,r)}function j(e,t,n){var r=t.sid,i=e.getStreamById(r);e.current.__remoteControls&&e.current.__remoteControls[r]&&I(e,_(e,i,{actions:[t]}),!0);var o=e.current.__pannelBuffers[r],c=o.getUnclearSize();if(o.put(t),c<emedia.config.allowSendWhenLessThan){var u=function t(){for(var c=o.getUnread(),u=0,l=0;c&&l<c.length;l++){var d=c[l];s.removeAttribute(d,"sid"),u<d.sn&&(u=d.sn)}c&&0!==c.length&&(a.debug(r,"buffer remain:",o.getUnclearSize(),", send evt:",c.length),e.current.postMessage(_(e,i,{actions:c,cId:o._cId}),(function(e){if(-402!==e.result)if(-403!==e.result)if(-408!==e.result){if(-507===e.result||-405===e.result)return o.clearRead(u),void(n&&n.onNotAllowRemoteControl&&n.onNotAllowRemoteControl(i));0===e.result&&(o._lastRspTimestamp=(new Date).getTime());var c=e.arg;c&&(c=JSON.parse(c))&&!s.isInt(c.sn)?a.warn("rsp.sn not a Number.",c.sn,"for streamId",r):c&&void 0!==c.sn&&o.clearRead(c.sn),t()}else n&&n.onRemoteControlTimeout&&n.onRemoteControlTimeout(i);else n&&n.onBusy&&n.onBusy(i);else n&&n.onReject&&n.onReject(i)})))};u()}}function N(e,t){var n,r=e.current.__pannelMouses&&s.removeAttribute(e.current.__pannelMouses,t),o=e.current.__pannelKeyboards&&s.removeAttribute(e.current.__pannelKeyboards,t);if(e.current.__pannelBuffers&&(n=s.removeAttribute(e.current.__pannelBuffers,t)),r&&r.ungrab(),o&&o.ungrab(),m(e),n){var c=e.getStreamById(t);if(n._callbacks&&n._callbacks.onDisControlled&&n._callbacks.onDisControlled(c),c){var u=e.current.newMessage({op:1002,memId:c.owner.id,arg:(0,i.default)({op2:30,streamId:c.id,evt:2,cId:n._cId}),_reqOps:[100230]});e.current.postMessage(u,(function(e){0!==e.result&&a.warn("Unkown resultï¼",e.result)}))}}}function D(e,t,n,r){var i={};s.forEach(arguments,(function(e,t){"function"===typeof t&&(i[t.name]=t)})),L(e,t,n,!0,r,i)}function B(e,t,n,r){var i={};s.forEach(arguments,(function(e,t){"function"===typeof t&&(i[t.name]=t)})),L(e,t,n,!1,r,i)}function L(e,t,n,r,o,s){var c=Math.uuidFast();c=c.substr(c.length-6,6);var u=e.getStreamById(t);if(!u._webrtc)throw s&&s.onNotAllowRemoteControl&&s.onNotAllowRemoteControl(u),a.error("Not allow control. cause by the stream not sub"),"Not allow control. cause by the stream not sub";var l={op2:30,streamId:u.id,evt:1,cId:c},d=e.current.newMessage({op:1002,memId:u.owner.id,arg:(0,i.default)(l),_reqOps:[100230]});e.current.postMessage(d,(function(i){if(-402!==i.result)if(-403!==i.result)if(-408!==i.result)if(-507!==i.result&&-405!==i.result){if(0===i.result)return F(e,t,n,r,o,s,c,!0),void(s&&s.onAccept&&s.onAccept(u));a.warn("Unkown resultï¼",i.result),s&&s.onNotAllowRemoteControl&&s.onNotAllowRemoteControl(u)}else s&&s.onNotAllowRemoteControl&&s.onNotAllowRemoteControl(u);else s&&s.onRemoteControlTimeout&&s.onRemoteControlTimeout(u);else s&&s.onBusy&&s.onBusy(u);else s&&s.onReject&&s.onReject(u)}))}function F(e,t,n,r,i,o,s,f){void 0===i&&(i=n);var p=e.getStreamById(t),h=(e.current.__pannelMouses||(e.current.__pannelMouses={}))[t];if(h&&N(e,t),!p.located()&&!p.owner.acptOps[1003])throw a.error("which do not recv remote message, it is ",p.owner.memName),p.owner.memName+" do not recv remote message";h=new c({_target:i,_focused:!0,onMouseEnter:function(){k.call(h,e,t,n,o&&o.onMouseEnter,o),m&&m.grab()},onMouseExit:function(){R.call(h,e,t,n,o&&o.onMouseExit,o),m&&m.ungrab()},onMouseButton:function(i,s){!0===r&&(i.xy.x=-i.xy.x),M.call(h,e,t,n,i,s,o&&o.onMouseButton,o)},onMouseMove:function(i,s){emedia.config.disableTrack||(!0===r&&(i.x=-i.x),P.call(h,e,t,n,i,s,o&&o.onMouseMove,o))}});var m,v=e.current.__pannelBuffers||(e.current.__pannelBuffers={});v[t]=new d({_cId:s,_callbacks:o,trackBufferSize:emedia.config.trackBufferSize||1e3});(e.current.__pannelMouses||(e.current.__pannelMouses={}))[t]=h,h.grab(),f&&(m=new u({_target:document,_focused:!0,onKeyPress:function(n,r){var i=r?l.BTN.KEYBOARD_DOWN:l.BTN.KEYBOARD_UP,s=n;A.call(m,e,t,i,s,o&&o.onKeyboard,o)}}),(e.current.__pannelKeyboards||(e.current.__pannelKeyboards={}))[t]=m)}function V(e,t,n,r){var i=new c({_target:e,_focused:!0,onMouseEnter:function(){},onMouseExit:function(){t.releaseTrigger()},onMouseButton:function(e,i){e.xy={x:e.xy.x/e.xy.width,y:e.xy.y/e.xy.height},!0===r&&(e.xy.x=-e.xy.x),n&&(e.xy=emedia.Service.prototype.eventXYAtMedia.call(null,e.xy,n)),e.xy&&t.trigger(e)},onMouseMove:function(e,i){e={x:e.x/e.width,y:e.y/e.height},!0===r&&(e.x=-e.x),n&&(e=emedia.Service.prototype.eventXYAtMedia.call(null,e,n)),e&&t.track(e)}});return i.grab(),i}function U(e,t,n){var r=t;r&&(e.mouseTrack=r),e.keyboard=n}function $(e){var t={};s.forEach(arguments,(function(e,n){0!=e&&"function"===typeof n&&(t[n.name]=n)})),y(e),h(e),f(e),g(e,t),G(e)}function W(e,t){var n=e.getStreamById(t),r=E(e,n);if(r&&0!==r.length)return r[0]._controller.memName}function z(e,t,n,r){var i=e.getStreamById(t),o={_ctrlStream:i,_controller:i.owner,_service:e};U(o,n,r),(e.current.__remoteControls||(e.current.__remoteControls={}))[t]=o}function H(e,t){s.removeAttribute(e.current.__remoteControls,t)}var G=function e(t){var n,r;(e.timeoutId&&clearTimeout(e.timeoutId),e.timeoutId=setTimeout((function(){e(t)}),emedia.config.ctrlCheckIntervalMillis),t.current)&&((n=t.current.__remoteControls)&&s.forEach(n,(function(e,t){if(void 0!==t.id&&e==t.id){var n=(new Date).getTime();t._lastRecvTimestamp&&n-t._lastRecvTimestamp>emedia.config.ctrlTimeoutMillis&&(a.warn("Timeout for remote controller. it is ",t.id,t._ctrlStream.id,t._controller.memName),t._free(),t._callbacks&&t._callbacks.onRemoteFreeControl&&t._callbacks.onRemoteFreeControl(t._ctrlStream,t._controller,t._cId))}})),(r=t.current.__pannelBuffers)&&s.forEach(r,(function(e,n){var r=t.getStreamById(e);r&&!r.located()&&t.current.message({op:1002,memId:r.owner.id,arg:(0,i.default)({op2:30,streamId:r.id,evt:3,cId:n._cId}),_reqOps:[100230]}).post((function(e){}))})))};e.exports={mirrorControlled:D,controlled:B,disControlled:N,controlling:U,graffiti:V,echoControl:z,disEchoControl:H,support:$,getController:W}},function(e,t,n){"use strict";var r=n(5),i=(r.tagLogger("Mouse"),n(156));e.exports=r.prototypeExtend({__init__:function(){this._handlers=r.extend({mousedown:this._handleMouseDown.bind(this),mouseup:this._handleMouseUp.bind(this),mousemove:this._handleMouseMove.bind(this),mousewheel:this._handleMouseWheel.bind(this),mousedisable:this._handleMouseDisable.bind(this),mouseover:this._handleMouseOver.bind(this),mouseout:this._handleMouseOut.bind(this)},this._handlers||{})},onMouseButton:function(e,t){},onMouseMove:function(e,t){},onMouseEnter:function(){},onMouseExit:function(){},_onMouseButton:function(e,t,n){var r=(new Date).getTime(),o=new i({xy:e,oper:t,btn:n,_time:r});this.onMouseButton&&this.onMouseButton(o,this._lastTrigger),this._lastTrigger=o},_onMouseMove:function(e){this.onMouseMove&&this.onMouseMove(e,this._lastTrigger)},_captureMouse:function(){this._target.setCapture&&this._target.setCapture(),this._mouseCaptured=!0},_releaseMouse:function(){this._target.releaseCapture&&this._target.releaseCapture(),this._mouseCaptured=!1},_resetDoubleClickTimer:function(){this._doubleClickTimer=null},_handleMouseOver:function(e){!1!==this._mouseExit&&(this._mouseExit=!1,this.onMouseEnter&&this.onMouseEnter())},_handleMouseOut:function(e){!0!==this._mouseExit&&(this._mouseExit=!0,this.onMouseExit&&this.onMouseExit()),this._lastTrigger=void 0},_handleMouseDown:function(e){this._captureMouse(),this._handleMouseButton(e,i.BTN.KEY_DOWN)},_handleMouseUp:function(e){this._mouseCaptured&&(this._handleMouseButton(e,i.BTN.KEY_UP),this._releaseMouse())},_handleMouseWheel:function(e){if(this._focused){e=e||window.event;var t=r.getEventElementXY(e,this._target,this._scale),n=(e.detail?-1*e.detail:e.wheelDelta/40)>0?i.BTN.WHEEL_ROLL_UP:i.BTN.WHEEL_ROLL_DOWN;this._onMouseButton(t,i.BTN.KEY_DOWN,n),r.stopEvent(e)}},_handleMouseMove:function(e){if(this._focused){e=e||window.event;var t=r.getEventElementXY(e,this._target,this._scale);this._onMouseMove(t),r.stopEvent(e)}},_handleMouseDisable:function(e){if(this._focused){e=e||window.event;var t=r.getEventElementXY(e,this._target,this._scale);try{return!(t.realX>=0&&t.realY>=0&&t.realX<this._target.offsetWidth&&t.realY<this._target.offsetHeight)}finally{r.stopEvent(e)}}},_handleMouseButton:function(e,t){if(this._focused){e=e||window.event;var n,o=r.getEventElementXY(e,this._target,this._scale);if(e.touches||e.changedTouches){if(t==i.BTN.KEY_DOWN){if(null===this._doubleClickTimer)this._lastTouchPos=o;else{clearTimeout(this._doubleClickTimer);var s=this._lastTouchPos.x-o.x,a=this._lastTouchPos.y-o.y;Math.sqrt(s*s+a*a)<20*window.devicePixelRatio&&(o=this._lastTouchPos)}this._doubleClickTimer=setTimeout(this._resetDoubleClickTimer.bind(this),500)}n=i.BTN.LEFT}else n=e.which?1<<e.button:(1&e.button)+2*(2&e.button)+(4&e.button)/2;this._onMouseButton(o,t,n),r.stopEvent(e)}},grab:function(){var e=this._target;r.addEvent(e,"mouseover",this._handlers.mouseover),r.addEvent(e,"mouseout",this._handlers.mouseout),r.addEvent(e,"touchstart",this._handlers.mousedown),r.addEvent(e,"touchend",this._handlers.mouseup),r.addEvent(e,"touchmove",this._handlers.mousemove),r.addEvent(e,"mousedown",this._handlers.mousedown),r.addEvent(e,"mouseup",this._handlers.mouseup),r.addEvent(e,"mousemove",this._handlers.mousemove),r.addEvent(e,r.layoutEngine.gecko?"DOMMouseScroll":"mousewheel",this._handlers.mousewheel),r.addEvent(e,"contextmenu",this._handlers.mousedisable)},ungrab:function(){var e=this._target;r.removeEvent(e,"mouseover",this._handlers.mouseover),r.removeEvent(e,"mouseout",this._handlers.mouseout),r.removeEvent(e,"touchstart",this._handlers.mousedown),r.removeEvent(e,"touchend",this._handlers.mouseup),r.removeEvent(e,"touchmove",this._handlers.mousemove),r.removeEvent(e,"mousedown",this._handlers.mousedown),r.removeEvent(e,"mouseup",this._handlers.mouseup),r.removeEvent(e,"mousemove",this._handlers.mousemove),r.removeEvent(e,r.layoutEngine.gecko?"DOMMouseScroll":"mousewheel",this._handlers.mousewheel),r.removeEvent(e,"contextmenu",this._handlers.mousedisable)}})},function(e,t,n){"use strict";var r=n(5),i=r.tagLogger("Keyboard");e.exports=r.prototypeExtend({__init__:function(){this._eventHandlers={keyup:this._handleKeyUp.bind(this),keydown:this._handleKeyDown.bind(this),keypress:this._handleKeyPress.bind(this),blur:this._allKeysUp.bind(this)}},getKey:function(e){return"keyCode"in e&&"key"in e?e.key+":"+e.keyCode:"keyCode"in e?e.keyCode:e.key},onKeyPress:function(e,t){},_onKeyPress:function(e,t){this.onKeyPress&&this.onKeyPress(e,t)},_handleRfbEvent:function(e,t){e.shiftKey,e.ctrlKey,e.altKey;var n=e.keyCode||e.which;this._onKeyPress(n,"keydown"==t)},_handleKeyDown:function(e){return!this._focused||!this._handleRfbEvent(e,"keydown")||(r.stopEvent(e),!1)},_handleKeyPress:function(e){return!this._focused||(r.stopEvent(e),!1)},_handleKeyUp:function(e){return!this._focused||!this._handleRfbEvent(e,"keyup")||(r.stopEvent(e),!1)},_allKeysUp:function(){},sync:function(e){},grab:function(){var e=this._target;r.addEvent(e,"keydown",this._eventHandlers.keydown),r.addEvent(e,"keyup",this._eventHandlers.keyup),r.addEvent(e,"keypress",this._eventHandlers.keypress),r.addEvent(e,"blur",this._eventHandlers.blur),i.info("keyboard grab at element")},ungrab:function(){var e=this._target;r.removeEvent(e,"keydown",this._eventHandlers.keydown),r.removeEvent(e,"keyup",this._eventHandlers.keyup),r.removeEvent(e,"keypress",this._eventHandlers.keypress),r.removeEvent(e,"blur",this._eventHandlers.blur),this._allKeysUp(),i.info("keyboard upgrab at element")}})},function(e,t,n){"use strict";var r=n(5),i=(r.tagLogger("TotalBuffer"),n(365)),o=n(366),s=n(156);e.exports=r.prototypeExtend({trackBufferSize:100,_trackBufferCompRadio:.25,_sn:1,__init__:function(){this._eventBuffer=new i({_nextsn:this._nextsn.bind(this)}),this._trackBuffer=new o({_nextsn:this._nextsn.bind(this),_compRadio:this._trackBufferCompRadio,mouseTrackBufferSize:this.trackBufferSize})},_nextsn:function(){return this._sn++},put:function(e){e&&void 0!==e.oper&&(e.oper===s.BTN.MOVE?this._trackBuffer.put(e):this._eventBuffer.put(e))},getUnread1:function(e){function t(e,t){return e._time-t.time}var n;if(!e){var r=this._eventBuffer.getUnread(),i=this._trackBuffer.getUnread();return Array.prototype.push.apply(r,i),n=r,n.sort(t),n}n=[];r=this._eventBuffer._getUnread(e),i=this._trackBuffer._getUnread(e);Array.prototype.push.apply(n,r),Array.prototype.push.apply(n,i),n.sort(t),n=n.slice(0,e>n.length?n.length:e);for(var o=0;o<n.length;o++)n[o].oper===s.BTN.MOVE?this._trackBuffer.getUnread(1):this._eventBuffer.getUnread(1);return n},getUnread:function(e){e||(e=this._eventBuffer.getUnreadSize()+this._trackBuffer.getUnreadSize());var t=[];while(t.length!==e){var n=this._eventBuffer._getUnread(1),r=this._trackBuffer._getUnread(1);if(void 0===n&&r)t.push(this._trackBuffer.getUnread(1));else if(void 0===r&&n)t.push(this._eventBuffer.getUnread(1));else{if(void 0===r&&void 0===n)return t;n.sn<r.sn?t.push(this._eventBuffer.getUnread(1)):t.push(this._trackBuffer.getUnread(1))}}return t},getUnreadSize:function(){return this._trackBuffer.getUnreadSize()+this._eventBuffer.getUnreadSize()},getUnclearSize:function(){return this._trackBuffer.getUnclearSize()+this._eventBuffer.getUnclearSize()},clearRead:function(e){return this._eventBuffer.clearRead(e)+this._trackBuffer.clearRead(e)}})},function(e,t,n){"use strict";var r=n(5);r.tagLogger("EventBuffer");e.exports=r.prototypeExtend({_buffer:[],_sn:1,_beginIndex:0,_readIndex:0,_endIndex:0,_nextsn:function(){return this._sn++},put:function(e){e&&(e.sn=this._nextsn(),this._buffer.push(e),this._endIndex++)},_getUnread:function(e){return this._readIndex===this._endIndex?1===e?void 0:[]:this._buffer[this._readIndex]},getUnread:function(e){var t;try{return t=this._getUnread(e),t}finally{t&&(this._readIndex+=1===e?1:t.length)}},getUnreadSize:function(){return this._endIndex-this._readIndex},getUnclearSize:function(){return this._readIndex-this._beginIndex},clearRead:function(e){if(this._readIndex!==this._beginIndex){for(var t=0,n=this._beginIndex;n<this._readIndex;n++){if(!(this._buffer[n].sn<=e))break;t++}if(0===t)return 0;for(n=0;n<t;n++)this._buffer.shift();return this._beginIndex=0,this._readIndex-=t,this._endIndex-=t,t}}})},function(e,t,n){"use strict";var r=n(5);r.tagLogger("TrackBuffer");e.exports=r.prototypeExtend({mouseTrackBufferSize:1e3,_sn:1,_compRadio:.25,_beginIndex:0,_readIndex:0,_endIndex:0,__init__:function(){this._mouseTrackBuffer=new Array(this.mouseTrackBufferSize)},_nextsn:function(){return this._sn++},_index:function(e){return e%this.mouseTrackBufferSize},comp1:function(e){if(!(e>=1)){var t=Math.floor(1/e),n=this._beginIndex,r=n+1;while(n<this._endIndex){for(var i=2;i<t&&n+i<this._endIndex;i++)this._mouseTrackBuffer[this._index(r++)]=this._mouseTrackBuffer[this._index(n+i)];n+=t}this._endIndex=r}},put1:function(e){if(e){e.sn=this._nextsn(),this._endIndex-this._readIndex===this.mouseTrackBufferSize&&(this.comp1(this._compRadio),this._readIndex=this._beginIndex);var t=this._index(this._beginIndex),n=(this._index(this._readIndex),this._index(this._endIndex)),r=n;r<=t&&r>=0&&this._endIndex>this._beginIndex&&this._beginIndex++,this._mouseTrackBuffer[r]=e,this._endIndex++}},compHalfOfUnread:function(){var e=this._readIndex+2,t=this._readIndex+1;while(e<this._endIndex)this._mouseTrackBuffer[this._index(t++)]=this._mouseTrackBuffer[this._index(e)],e+=2;this._endIndex=t},put:function(e){if(e){e.sn=this._nextsn(),this._endIndex-this._beginIndex===this.mouseTrackBufferSize&&this.compHalfOfUnread();var t=this._index(this._endIndex);this._mouseTrackBuffer[t]=e,this._endIndex++}},_interval:function(e,t){var n=this._index(e),r=this._index(t);if(n<r)return this._mouseTrackBuffer.slice(n,r);var i=this._mouseTrackBuffer.slice(n);return Array.prototype.push.apply(i,this._mouseTrackBuffer.slice(0,r)),i},_getUnread:function(e){return this._readIndex===this._endIndex?1===e?void 0:[]:this._mouseTrackBuffer[this._index(this._readIndex)]},getUnread:function(e){var t;try{return t=this._getUnread(e),t}finally{t&&(this._readIndex+=1===e?1:t.length)}},getUnreadSize:function(){return this._endIndex-this._readIndex},getUnclearSize:function(){return this._readIndex-this._beginIndex},clearRead:function(e){if(this._readIndex!==this._beginIndex){for(var t=0,n=this._beginIndex;n<this._readIndex;n++){var r=this._index(n);if(!(this._mouseTrackBuffer[r].sn<=e))break;this._beginIndex++,t++}return t}}})},function(e,t,n){"use strict";var r=n(5),i=r.tagLogger("CompositeCanvas");function o(){}for(var s in CanvasRenderingContext2D.prototype)(function(e){o.prototype[e]=function(){if("function"===typeof this._canvasContext[e])this._canvasContext[e].apply(this._canvasContext,arguments);else{var t=arguments.length>=1?arguments[0]:void 0;if(!t)return this._canvasContext[e];this._canvasContext[e]=t}}})(s);var a=r.prototypeExtend(o,{__init__:function(){var e=this;e.compositeCanvasTag||(e.compositeCanvasTag=document.createElement("canvas")),e._canvasContext=e.compositeCanvasTag.getContext("2d"),e._canvasContext.globalAlpha=void 0!==this._globalAlpha?this._globalAlpha:1,e._compositeOperation=e._compositeOperation||c.source_over,e.globalCompositeOperation(e._compositeOperation)},setCanvas:function(){for(var e,t=this,n=0;n<arguments.length;n++)e=arguments[n],"function"===typeof e&&e(this.compositeCanvasTag,this._canvasContext),"function"!==typeof e&&r.isPlainObject(e)&&r.forEach(e,(function(e,n){i.debug("Canvas set ",e," = ",n),t.compositeCanvasTag.setAttribute(e,n)}));return t},getCanvasImageData:function(e,t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e.getContext("2d");return i.globalAlpha=t||0,i.getImageData.apply(i,n)},_composite:function(e){var t=this;return new a(t,{_compositeOperation:e})},composite:function(e){var t=this;return t.globalCompositeOperation(e),t},requestAnimationFrame:function(e){var t=this;return t.requestFrame(),t._requestAnimationFrameStart=window.requestAnimationFrame((function(e){t.requestAnimationFrame(e)})),t},cancelAnimationFrame:function(){var e=this;return e._requestAnimationFrameStart&&window.cancelAnimationFrame(e._requestAnimationFrameStart),e},requestFrame:function(e){var t,n=this;if("function"!==typeof this.requestOneFrame)throw i.error("Pleas implement requestOneFrame()"),"Pleas implement requestOneFrame()";try{this.requestOneFrame()}catch(o){i.error(o)}if(e&&(t=Math.floor(1e3/e)),!t)return n;var r=this.requestFrame.bind(this);return this.intervalId=setInterval((function(){r(e)}),t),n},stopRequestFrame:function(){return this.intervalId&&clearInterval(this.intervalId),this}});a.CompositeOperation=["source-atop","source-in","source-out","source-over","destination-atop","destination-in","destination-out","destination-over","lighter","darker","xor","copy"];var c=a.operation={source_atop:"source-atop",source_in:"source-in",source_out:"source-out",source_over:"source-over",destination_atop:"destination-atop",destination_in:"destination-in",destination_out:"destination-out",destination_over:"destination-over",lighter:"lighter",darker:"darker",xor:"xor",copy:"copy"};a.compositeVideoOverCanvas=function(e,t,n){var r;return(r=e.compositeCanvas)||(r=new a({compositeCanvasTag:e,requestOneFrame:function(){t&&r.drawImage(t,0,0,e.width,e.height),n&&r.drawImage(n,0,0,e.width,e.height)}}),e.compositeCanvas=r),r},e.exports=a},function(e,t,n){"use strict";var r=n(5);r.tagLogger("Keyboard");e.exports=r.prototypeExtend({onKeyDown:function(e){},onKeyUp:function(e){}})},function(e,t,n){"use strict";window.emedia=window.emedia||{};var r=n(5),i=r.tagLogger("electron");emedia.electron=window.require("electron"),emedia.chooseElectronDesktopMedia=function(e,t,n){i.info("Choose desktop. ",e[0]),t(e[0])}},function(e,t,n){"use strict";var r=n(3).default,i=n(371),o=n(372),s=n(373).default,a=n(374),c=n(375).default,u=o.RouteTo,l=o.Api,d=r.logger,f={api:null,caller:"",connection:null,pattern:null,listener:{onAcceptCall:function(e,t){},onRinging:function(e){},onTermCall:function(){},onIceConnectionStateChange:function(e){},onGotLocalStream:function(){},onGotRemoteStream:function(){},onOtherUserOpenVoice:function(){},onOtherUserOpenVideo:function(){}},mediaStreamConstaints:{audio:!0,video:!0},init:function(){var e=this;if("undefined"===typeof e.connection)throw"Caller need a instance of Easemob.im.Connection";e.api=e.api||new l({imConnection:e.connection,rtcHandler:new i({imConnection:e.connection})}),e.api.onInitC=function(){e._onInitC.apply(e,arguments)},e.api.onInvite=function(){e.listener.onInvite.apply(e,arguments)},e.api.onIceConnectionStateChange=function(t){e.listener.onIceConnectionStateChange.apply(e,arguments)},WebIM.WebRTC.useDeployMore&&(WebIM.WebRTC.emedia.config({useDeployMore:WebIM.WebRTC.useDeployMore}),e.deploy_more_config=new c,console.log("1v1 useDeployMore call deploy_more_config",e.deploy_more_config))},createConference:function(e,t){var n=new u({rtKey:""});this.api.reqTkt(n,!0,void 0,e,(function(e,n){n.ticket;n.conferenceId=n.confrId,t&&t(e,n)}))},inviteConference:function(e,t,n,r,i){var o=new u({to:n,rtKey:"",rtflag:0});this.api.invite(o,e,t,r,(function(e,t){i&&i(e,t)}))},getConferenceTkt:function(e,t,n){var r=new u({rtKey:""});this.api.reqTkt(r,!1,e,t,(function(e,t){n&&n(e,t)}))},makeVideoCall:function(e,t,n,i){var o=this,s={};r.extend(s,o.mediaStreamConstaints),this.call(e,s,t,n,i)},makeVoiceCall:function(e,t,n,i){var o=this,s={};r.extend(s,o.mediaStreamConstaints),s.video=!1,o.call(e,s,t,n,i)},acceptCall:function(){var e=this;e.pattern.accept()},endCall:function(e){var t=this;t.caller="",t.pattern.termCall()},call:function(e,t,n,r,i){var o=this;this.callee=this.api.jid(e);var s=new u({rtKey:"",sid:n,to:e,success:function(e){d.debug("iq to server success",e)},fail:function(e){d.debug("iq to server error",e),o.onError(e)}});this.api.reqP2P(s,t.video?1:0,t.audio?1:0,this.api.jid(e),r,i,(function(e,s){"0"!=s.online?(s.streamType=t.audio&&t.video?"VIDEO":"VOICE",o.deploy_more_config&&(s.rtcCfg=o.deploy_more_config.replace_trun_url(s.rtcCfg)),o._onGotServerP2PConfig(e,s),o.pattern.initC(t,n,r,i)):o.listener.onError({message:"callee is not online!"})}))},controlStream:function(e,t){var n=new u({to:t,rtKey:"",rtflag:0});this.api.streamControl(n,null,this.rtcId,e,this.localStream)},getServerRecordId:function(){var e=this.api,t=e.rtcHandler,n=t.confrId;return n||null},_onInitC:function(e,t,n,r,i){var o=this;o.callee=e,o.deploy_more_config&&(t.rtcCfg=o.deploy_more_config.replace_trun_url(t.rtcCfg)),o._rtcCfg=t.rtcCfg,o._WebRTCCfg=t.WebRTC,o.sessId=t.sessId,o.rtcId=t.rtcId,o.switchPattern("VIDEO"==t.streamType?"VIDEO":"VOICE"),t.globalMediaConstaints=o.mediaStreamConstaints,o.pattern._onInitC(e,t,n,r,i)},_onInvite:function(){},_onGotServerP2PConfig:function(e,t){var n=this;0==t.result&&(n._p2pConfig=t,n._rtcCfg=t.rtcCfg,n._rtcCfg2=t.rtcCfg2,n.sessId=t.sessId,n.rtcId="RTCID"+t.sessId,n._rtKey=n._rtkey=t.rtKey||t.rtkey,n._rtFlag=n._rtflag=t.rtFlag||t.rtflag,n._WebRTCCfg=t.WebRTC,n.admtok=t.admtok,n.tkt=t.tkt,n.switchPattern(t.streamType))},switchPattern:function(e){var t=this;!t._WebRTCCfg&&(t.pattern=new a({callee:t.callee,_p2pConfig:t._p2pConfig,_rtcCfg:t._rtcCfg,_rtcCfg2:t._rtcCfg2,_rtKey:t._rtKey||t._rtkey,_rtFlag:t._rtFlag||t._rtflag,_sessId:t.sessId,_rtcId:t.rtcId,webRtc:new s({streamType:e,subArgs:{subSVideo:"VIDEO"===e,subSAudio:!0},onGotLocalStream:function(n,r){t.listener.onGotLocalStream(n,e),t.localStream=n},onGotRemoteStream:function(n,r){t.listener.onGotRemoteStream(n,e),t.remoteStream=n},onError:t.listener.onError}),api:t.api,onAcceptCall:t.listener&&t.listener.onAcceptCall||function(){},onRinging:t.listener&&t.listener.onRinging||function(){},onTermCall:t.listener&&t.listener.onTermCall||function(){},onOtherUserOpenVoice:t.listener&&t.listener.onOtherUserOpenVoice||function(){},onOtherUserOpenVideo:t.listener&&t.listener.onOtherUserOpenVideo||function(){}}))}};e.exports=function(e){r.extend(!0,this,f,e||{}),this.init()}},function(e,t,n){"use strict";var r=n(3).default,i=r.logger,o=n(372),s=o.RouteTo,a={_apiCallbacks:{},imConnection:null,_connectedSid:"",init:function(){var e=this,t=e.imConnection;t.registerConfrIQHandler=function(t,n,r){try{e.handleRtcMessage(t)}catch(o){i.error(o)}}},handleRtcMessage:function(e,t,n){var o=this;if(e){var a=WebIM.conn.context.root.lookup("easemob.pb.ConferenceBody"),c=a.decode(e.payload),u=(e.id,e.from.name||"");u.lastIndexOf("/")>=0&&(u=u.substring(0,u.lastIndexOf("/")));var l=c.routeKey,d=c.sessionId;(o._fromSessionID||(o._fromSessionID={}))[u]=d;var f=r.parseJSON(c.content);f.confrId&&(this.confrId=f.confrId);var p=f,h=1==c.type?"VIDEO":"VOICE";""==h&&(h="VOICE"),p.streamType=h,102==p.op&&(o.singalStreamType=h);var m=f.tsxId;if(o.ctx=f.ctx,i.debug("Recv [op = "+p.op+"] [tsxId="+m+"]\r\n json :",e),""!=o._connectedSid||0!=p.result&&102!=p.op&&202!=p.op){if(o._connectedSid!=d){if(i.debug("Error recv [op = "+p.op+"] [tsxId="+m+"]. caused by _connectedSid != fromSessionId :",o._connectedSid,d),102==p.op&&d&&o._connectedSid){var v=new s({to:u,rtKey:l,sid:d,success:function(e){i.debug("iq to server success",e)},fail:function(e){i.debug("iq to server error",e),o.onError(e)}}),b={data:{op:107,sessId:p.sessId,rtcId:p.rtcId,reason:"busy"},reason:"busy"};o.sendRtcMessage(v,b)}return}}else o._connectedSid=d;if(107==p.op){o._connectedSid="",o._fromSessionID={};var y={0:"hangup",1:"noresponse",2:"reject",3:"busy",4:"fail",5:"unsupported",6:"offline"},g=c.endReason;p.reason=void 0!=g&&y[g]}if(p.sdp&&("string"===typeof p.sdp&&(p.sdp=r.parseJSON(p.sdp)),p.sdp.type&&(p.sdp.type=p.sdp.type.toLowerCase())),p.cands){"string"===typeof p.cands&&(p.cands=r.parseJSON(p.cands));for(var _=0;_<p.cands.length;_++){if("string"===typeof p.cands[_])try{p.cands[_]=r.parseJSON(p.cands[_])}catch(S){p.cands[_]={candidate:p.cands[_]}}p.cands[_].sdpMLineIndex=void 0!==p.cands[_].sdpMLineIndex?p.cands[_].sdpMLineIndex:p.cands[_].mlineindex,p.cands[_].sdpMid=void 0!==p.cands[_].sdpMid?p.cands[_].sdpMid:p.cands[_].mid,delete p.cands[_].mlineindex,delete p.cands[_].mid}}if(p.rtcCfg&&"string"===typeof p.rtcCfg&&(p.rtcCfg=r.parseJSON(p.rtcCfg)),p.rtcCfg2&&"string"===typeof p.rtcCfg2&&(p.rtcCfg2=r.parseJSON(p.rtcCfg2)),p.WebRTC&&"string"===typeof p.WebRTC&&(p.WebRTC=r.parseJSON(p.WebRTC)),p.confrId&&(p.conferenceId=p.confrId),m&&o._apiCallbacks[m])try{o._apiCallbacks[m].callback&&o._apiCallbacks[m].callback(u,p)}catch(w){throw w}finally{delete o._apiCallbacks[m]}else o.onRecvRtcMessage(u,p,l,m,d);return!0}},onRecvRtcMessage:function(e,t,n,o,s){i.debug(" form : "+e+" \r\n json :"+r.stringifyJSON(rtcJSON))},convertRtcOptions:function(e){var t=e.data.sdp;if(t){var n={type:t.type,sdp:t.sdp};t=n,t.type=t.type.toUpperCase(),t=r.stringifyJSON(t),e.data.sdp=t}var i=e.data.cands;if(i){if(r.isArray(i));else{var o=[];o.push(i),i=o}for(var s in i){var a=i[s];if(void 0!==a.candidate&&void 0!==a.sdpMLineIndex&&void 0!==a.sdpMid){var c={type:"candidate",candidate:a.candidate,mlineindex:a.sdpMLineIndex,mid:a.sdpMid};i[s]=r.stringifyJSON(c)}}e.data.cands=i}var u=e.data.rtcCfg;u&&"string"!==typeof u&&(e.data.rtcCfg=r.stringifyJSON(u));var l=e.data.WebRTC;l&&"string"!==typeof l&&(e.data.WebRTC=r.stringifyJSON(l))},getShortId:function(e){var t,n;return(t=e.indexOf("_")+1)<1&&(t=0),(n=e.indexOf("@",-1))<0&&(n=e.length),e.substring(t,n)},sendRtcMessage:function(e,t,n){var i=this,o=i.imConnection,s=o.getUniqueId(),a=e.to&&e.to||o.domain;if(a.indexOf("@")>=0){var c=a.split("_");c.splice(0,1),a=c.join("_").split("@")[0],""==i._connectedSid&&102==t.data.op&&(i._connectedSid=u)}var u=e.sid||i._fromSessionID&&i._fromSessionID[a];u=u||((i._fromSessionID||(i._fromSessionID={}))[a]=o.getUniqueId("CONFR_")),(i._fromSessionID||(i._fromSessionID={}))[a]=u;var l=e.rtKey||e.rtkey;l||(l="");var d=e.rtflag;!isNaN(d)||(d=1),t.data||(t.data={}),t.data.tsxId=s,i.ctx&&(t.data.ctx=i.ctx),i.convertRtcOptions(t);var f=t.streamType||i.singalStreamType||"VIDEO";102==t.data.op&&(i.singalStreamType=f);var p=e.id||o.getUniqueId("CONFR_");n&&(i._apiCallbacks[s]={callback:n});var h={id:p,to:a,from:o.context.jid,type:"VIDEO"==f?1:0,rtflag:d,stream_type:f,sid:u,content:t.data,reason:t.reason,rtKey:l};if(0==t.data.op&&(h.rec=t.data.rec,h.recMerge=t.data.recMerge,this.rec=t.data.rec,this.recMerge=t.data.recMerge),202!=t.data.op&&this._sendMessage(h,WebIM.conn),107==t.data.op&&i._connectedSid&&(e.sid&&i._connectedSid!=e.sid||(i._connectedSid="",i._fromSessionID={})),202==t.data.op){var m=r.list("Invite",i.getShortId(a),"join conference:",t.data.confrId).join(" "),v=(p=o.getUniqueId("CONFR_INVITE"),{msg:m,id:p,to:a,from:o.context.jid,contents:[{contenttype:"TEXT",text:m}],gid:t.data.gid,password:t.data.password,exts:{key:"conferenceId",type:7,value:t.data.confrId}});return this._sendGroupInviteMsg(v,WebIM.conn)}},_sendGroupInviteMsg:function(e,t){var n=[],r=t.context.root.lookup("easemob.pb.MessageBody.Content"),i=r.decode(n);i.type=0,i.text=e.msg;var o=t.context.root.lookup("easemob.pb.MessageBody"),s=o.decode(n);s.from={name:e.from.name},s.to={name:e.to},s.contents=[i];var a=t.context.root.lookup("easemob.pb.KeyValue"),c=a.decode(n),u=a.decode(n),l=a.decode(n);c.key="conferenceId",c.type=7,c.stringValue=e.exts.value,u.key="msg_extension",u.type=7,u.stringValue=JSON.stringify({inviter:e.from.name,group_id:e.gid}),l.key="password",l.type=7,l.stringValue=e.password,s.ext=[c,u,l],s.type=1,s=o.encode(s).finish();var d=t.context.root.lookup("easemob.pb.Meta"),f=d.decode(n);f.id=e.id,f.from=e.from,f.to={appKey:t.appKey,name:e.to,domain:"easemob.com"},f.ns=1,f.type=1,f.payload=s;var p=t.context.root.lookup("easemob.pb.CommSyncUL"),h=p.decode(n);h.meta=f,h=p.encode(h).finish();var m=t.context.root.lookup("easemob.pb.MSync"),v=m.decode(n);v.version=t.version,v.encryptType=t.encryptType,v.command=0,v.guid=t.context.jid,v.payload=h,v=m.encode(v).finish(),t.sendMSync(v)},_sendMessage:function(e,t){var n,r=[],i=t.context.root.lookup("easemob.pb.ConferenceBody"),o=i.decode(r);e.content.video;0==e.content.op?(n={op:e.content.op,callVersion:"2.0.0",audio:e.content.audio,video:e.content.video,tsxId:String(e.content.tsxId),peer:e.content.peer+"/",push:0},e.rec&&(n.rec=1),e.recMerge&&(n.recMerge=1)):102==e.content.op?(n=e.content,n.tsxId=String(e.content.tsxId),this.rec&&(n.rec=1)):400==e.content.op?n=e.content:(n=e.content,n.tsxId=String(e.content.tsxId));var s=e.content.op;if(o.content=JSON.stringify(n),o.routeFlag=e.rtflag,o.operation=7,o.sessionId=String(e.sid),o.type=e.type,o.routeKey=e.rtKey,o.routeFlag=e.rtflag,o.peerName=e.from.name,107==s){var a={success:0,ok:0,timeout:1,decline:2,busy:3,"failed-transport":4,unsupported:5,offline:6};o.endReason=a[e.reason]}o=i.encode(o).finish();var c=t.context.root.lookup("easemob.pb.Meta"),u=c.decode(r);u.id=String(e.id),u.ns=4,u.to={appKey:e.from.appKey,domain:e.from.domain,name:e.to},102==e.content.op&&(u.from=e.from),u.payload=o;var l=t.context.root.lookup("easemob.pb.CommSyncUL"),d=l.decode(r);d.meta=u,d=l.encode(d).finish();var f=t.context.root.lookup("easemob.pb.MSync"),p=f.decode(r);p.version=t.version,p.encryptType=t.encryptType,p.command=0,p.guid=t.context.jid,p.payload=d,p=f.encode(p).finish(),t.sendMSync(p)}},c=function(e){r.extend(!0,this,a,e||{}),this.init()};e.exports=c},function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(3).default,o=i.logger,s={rtFlag:1,success:function(e){},fail:function(e){}},a=function e(t){if(!(this instanceof e)){var n=function(e){var t=this;i.extend(!0,t,e||{})};return i.extend(!0,n.prototype,s,t||{}),n}var r=this;i.extend(!0,r,s,t||{})};t.RouteTo=a;var c={imConnection:null,rtcHandler:null,events:{0:"onReqP2P",1:"onNewCfr",2:"onDelCfr",3:"onReqTkt",100:"onPing",101:"onPong",102:"onInitC",103:"onReqC",104:"onAcptC",105:"onTcklC",106:"onAnsC",107:"onTermC",202:"onInvite",300:"onEvEnter",301:"onEvExit",302:"onEvPub",303:"onEvUnpub",304:"onEvMems",204:"onEvClose",400:"onStreamControl",401:"onEvJoin",onServerError:"onServerError"},register:function(e){if("object"===("undefined"===typeof e?"undefined":r(e)))for(var t in e)this.bind(t,e[t])},bind:function(e,t){var n,r=this;(n=r.events[e])||(n=r.events[e]="on_"+e),r[n]=t},jid:function(e){return/^.+#.+_.+@.+$/g.test(e)?e:this.imConnection.context.appKey+"_"+e+"@"+this.imConnection.domain},reqP2P:function(e,t,n,r,i,s,a){o.debug("req p2p ...");var c={data:{op:0,video:t,audio:n,peer:r,rec:i,recMerge:s}};c.streamType=t&&n?"VIDEO":"VOICE",this.rtcHandler.sendRtcMessage(e,c,a)},newCfr:function(e,t,n,r){o.debug("newCfr ...");var i=this,s={data:{op:1}};t&&(s.data.reqTkt=t),n&&(s.data.password=n),i.rtcHandler.sendRtcMessage(e,s,r)},enter:function(e,t,n,r,i,s,a){o.debug("enter ...");var c=this,u={data:{op:200}};t&&(u.data.WebRTCId=t),n&&(u.data.reqMembers=n),r&&(u.data.tkt=r),i&&(u.data.nonce=i),s&&(u.data.digest=s),c.rtcHandler.sendRtcMessage(e,u,a)},ping:function(e,t,n){o.debug("ping ...");var r=this,i={data:{op:100}};t&&(i.data.sessId=t),r.rtcHandler.sendRtcMessage(e,i,n)},streamControl:function(e,t,n,r,i,s){o.debug("streamControl ...");var a=this,c={data:{op:400}},u=0==r||3==r;0==r||1==r?emedia.enableAudioTracks(i,u):emedia.enableVideoTracks(i,u),t&&(c.data.sessId=t),n&&(c.data.rtcId=n),"undefined"!==typeof r&&null!=r&&(c.data.controlType=r),a.rtcHandler.sendRtcMessage(e,c,s)},reqTkt:function(e,t,n,r,i){o.debug("reqTkt ...");var s=this,a={data:{op:3}};t&&(a.data.isCreate=t),n&&(a.data.confrId=n),"string"===typeof r&&(a.data.password=r),s.rtcHandler.sendRtcMessage(e,a,i)},invite:function(e,t,n,r,i){o.debug("reqTkt ...");var s=this,a={data:{op:202}};t&&(a.data.confrId=t),"string"===typeof n&&(a.data.password=n),r&&(a.data.gid=r),s.rtcHandler.sendRtcMessage(e,a,i)},initC:function(e,t,n,r,i,s,a,c,u,l,d,f,p){o.debug("initC ...");var h=e.to.split("_");h.splice(0,1),e.to=h.join("_").split("@")[0];var m={data:{op:102}};m.streamType=t||"VIDEO",n&&(m.data.WebRTCId=n),r&&(m.data.tkt=r),i&&(m.data.sessId=i),s&&(m.data.rtcId=s),a&&(m.data.pubS=a),c&&(m.data.subS=c),u&&(m.data.sdp=u),l&&(m.data.cands=l),d&&(m.data.rtcCfg=d),f&&(m.data.WebRTC=f),m.data.expr=emedia.supportPRAnswer?1:0,this.rtcHandler.sendRtcMessage(e,m,p)},tcklC:function(e,t,n,r,i,s){o.debug("tcklC ...");var a=this,c={data:{op:105}};t&&(c.data.sessId=t),n&&(c.data.rtcId=n),r&&(c.data.sdp=r),i&&(c.data.cands=i),a.rtcHandler.sendRtcMessage(e,c,s)},ansC:function(e,t,n,r,i,s,a,c){o.debug("ansC ...");var u=this,l={data:{op:106}};t&&(l.data.sessId=t),n&&(l.data.rtcId=n),r&&(l.data.sdp=r),i&&(l.data.cands=i),!1===a&&(l.data.enableVoice=a),!1===c&&(l.data.enableVideo=c),u.rtcHandler.sendRtcMessage(e,l,s)},acptC:function(e,t,n,r,i,s,a,c,u){o.debug("acptC ...");var l=this,d={data:{op:104}};t&&(d.data.sessId=t),n&&(d.data.rtcId=n),r&&(d.data.sdp=r),i&&(d.data.cands=i),s&&(d.data.ans=s),!1===c&&(d.data.enableVoice=c),!1===u&&(d.data.enableVideo=u),l.rtcHandler.sendRtcMessage(e,d,a)},getMems:function(e,t,n,r){o.debug("getMems ...");var i=this,s={data:{op:203}};t&&(s.data.WebRTCId=t),n&&(s.data.sessId=n),i.rtcHandler.sendRtcMessage(e,s,r)},subC:function(e,t,n,r,i){o.debug("subC ...");var s=this,a={data:{op:205}};t&&(a.data.sessId=t),n&&(a.data.rtcId=n),r&&(a.data.subS=r),s.rtcHandler.sendRtcMessage(e,a,i)},usubC:function(e,t,n,r){o.debug("usubC ...");var i=this,s={data:{op:206}};t&&(s.data.sessId=t),n&&(s.data.rtcId=n),i.rtcHandler.sendRtcMessage(e,s,r)},termC:function(e,t,n,r,i){o.debug("termC ...");var s=this,a={data:{op:107,reason:r}};t&&(a.data.sessId=t),n&&(a.data.rtcId=n),r&&(a.reason=r),s.rtcHandler.sendRtcMessage(e,a,i)},exit:function(e,t,n,r){o.debug("exit ...");var i=this,s={data:{op:201}};t&&(s.data.WebRTCId=t),n&&(s.data.sessId=n),i.rtcHandler.sendRtcMessage(e,s,r)},delCfr:function(e,t,n,r){o.debug("delCfr ...");var i=this,s={data:{op:2}};t&&(s.data.WebRTCId=t),n&&(s.data.admtok=n),i.rtcHandler.sendRtcMessage(e,s,r)}};t.Api=function(e){var t=this;function n(e,n,r,i,s){var a;0!=n.result&&t["onServerError"]?t["onServerError"].call(t,e,n,r,i,s):t.events[n.op]&&(a=t[t.events[n.op]])?a.call(t,e,n,r,i,s):o.info("can not handle(recvRtcMessage) the op: "+n.op,n)}i.extend(!0,this,c,e||{}),this.rtcHandler.onRecvRtcMessage=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(4);i.Webrtc.prototype.AVPubstream=i.Service.prototype.AVPubstream,i.Webrtc.prototype._openCamera=function(){i.Service.prototype._openCamera.apply(this,arguments)},i.Webrtc.prototype.__getUserMedia=function(){i.Service.prototype.__getUserMedia.apply(this,arguments)},i.Webrtc.prototype.__controlStream=function(){i.Service.prototype.__controlStream.apply(this,arguments)},i.Webrtc.prototype.__sysGetUserMedia=function(){i.Service.prototype.__sysGetUserMedia.apply(this,arguments)},i.Webrtc.prototype._onStreamInactive=function(e,t){i.util.logger.warn("media stream inactive. it =",e.id)},i.Webrtc.prototype._onStreamActive=function(e,t){i.util.logger.warn("media stream active. it =",e.id)},i.Webrtc.prototype.createMedia=function(e,t){var n=this,r=new n.AVPubstream({constaints:e,aoff:0,voff:0}),o=i.Service.prototype.openUserMedia.bind(this);o(r).then((function(e,r){WebIM.__alreadyOpenMedias.push(r),t&&t(n,r)}),(function(e){i.util.logger.debug("[WebRTC-API] getUserMedia() error: ",e),n.onError(e)}))},i.Webrtc.prototype.createMedia=r=function(e,t){var n=this,o=new MediaStream;function s(){0===--s.count&&(WebIM.__alreadyOpenMedias.push(o),t&&t(n,o))}function a(e){e&&e.getTracks().forEach((function(e){o.addTrack(e)}))}var c=!e||e.audio,u=!e||e.video;if(!c&&!u)return s.count=0,s();if(c&&u)return s.count=2,r.call(this,{video:e.video,audio:!1},(function(e,t){a(t),s()})),void r.call(this,{video:!1,audio:e.audio},(function(e,t){a(t),s()}));s.count=1;var l=new n.AVPubstream({constaints:e}),d=i.Service.prototype.openUserMedia.bind(this);d(l).then((function(e,t){a(t),s()}),(function(e){s(),i.util.logger.debug("[WebRTC-API] getUserMedia() error: ",e),"function"===typeof e.message?e.message=e.message():"string"===typeof e.message&&""!==e.message?e.message=e.message:e.message="open media error. "+e.name,e.message=e.message+" when get "+(u?"carma":"microphone"),n.onError(e)}))},i.Webrtc.prototype.setLocalVideoSrcObject=function(e){var t=this;t._localStream=e,t.onGotLocalStream(e,this.streamType),t.setLocalStream(e),i.util.logger.debug("[WebRTC-API] you can see yourself !")};var o=i.Webrtc.prototype.setRemoteDescription;i.Webrtc.prototype.setRemoteDescription=function(e){var t=this;if("VOICE"===t.streamType){var n=function(t,n){var r=e.sdp.indexOf("m=video"),i=e.sdp.indexOf("m=audio"),o=i>r?i:e.sdp.length;e.sdp=e.sdp.replace(t,(function(e,t,i){return t>=r&&t<o?n:e}))};n(/a=sendrecv|a=sendonly/g,"a=inactive")}return o.call(t,e)},t.default=i.Webrtc},function(e,t,n){"use strict";var r=n(3).default,i=n(372).RouteTo,o=r.logger,s=i({success:function(e){o.debug("iq to server success",e)},fail:function(e){o.debug("iq to server error",e)}}),a={_pingIntervalId:null,_p2pConfig:null,_rtcCfg:null,_rtcCfg2:null,_rtKey:null,_rtFlag:null,webRtc:null,api:null,callee:null,isCaller:!1,accepted:!1,setLocalSDP:!1,setRemoteSDP:!1,hangup:!1,init:function(){var e=this;e.api.onPing=function(){e._onPing.apply(e,arguments)},e.api.onTcklC=function(){e._onTcklC.apply(e,arguments)},e.api.onAcptC=function(){e._onAcptC.apply(e,arguments)},e.api.onAnsC=function(){e._onAnsC.apply(e,arguments)},e.api.onTermC=function(){e._onTermC.apply(e,arguments)},e.api.onEvJoin=function(){e._onEvJoin.apply(e,arguments)},e.api.onStreamControl=function(){e._onStreamControl.apply(e,arguments)},e.webRtc.onIceCandidate=function(){e._onIceCandidate.apply(e,arguments)},e.webRtc.onIceStateChange=function(){e._onIceStateChange.apply(e,arguments)}},_ping:function(){var e=this;function t(){var t=new s({to:e.callee,rtKey:e._rtKey});e.api.ping(t,e._sessId,(function(e,t){o.debug("ping result",t)}))}e._pingIntervalId=window.setInterval(t,5e4)},_onPing:function(e,t,n,r,i){o.debug("_onPing from",i)},initC:function(e,t){var n=this;n.sid=t,n.isCaller=!0,n.accepted=!1,n.setLocalSDP=!1,n.setRemoteSDP=!1,n.hangup=!1,n.streamType=e.audio&&e.video?"VIDEO":"VOICE",n.createLocalMedia(e)},createLocalMedia:function(e){var t=this;this.webRtc.createMedia(e,(function(e,n){t.webRtc.createRtcPeerConnection(t._rtcCfg),e.setLocalVideoSrcObject(n),e.localStream=n,t.webRtc.createOffer((function(e){t._onGotWebRtcOffer(e)}))}))},_onGotWebRtcOffer:function(e){var t=this,n=new s({to:t.callee,rtKey:t._rtKey});t.api.initC(n,t.streamType,null,null,t._sessId,t._rtcId,null,null,e,null,t._rtcCfg2,null,(function(e,t){o.debug("initc result",t)})),t.setLocalSDP=!0,t._ping()},_onAcptC:function(e,t){var n=this;t.ans&&1==t.ans?(o.info("[WebRTC-API] _onAcptC : 104, ans = 1, it is a answer. will onAcceptCall"),n.onAcceptCall(e,t,!1!==t.enableVoice,!1!==t.enableVideo),n._onAnsC(e,t)):WebIM.WebRTC.supportPRAnswer?(o.info("[WebRTC-API] _onAcptC : recv pranswer. "),(t.sdp||t.cands)&&(t.sdp&&n.webRtc.setRemoteDescription(t.sdp),n.setRemoteSDP=!0,n._handRecvCandsOrSend(e,t),n.onAcceptCall(e,t,!1!==t.enableVoice,!1!==t.enableVideo))):(o.info("[WebRTC-API] _onAcptC : not supported pranswer. drop it. will onAcceptCall"),n.setRemoteSDP=!1,n._handRecvCandsOrSend(e,t),n.onAcceptCall(e,t,!1!==t.enableVoice,!1!==t.enableVideo))},_onEvJoin:function(e,t,n,r,i){var s=this;o.debug("_onEvJoin from",i,e),s.onAcceptCall(e,t,!1!==t.enableVoice,!1!==t.enableVideo)},onAcceptCall:function(e,t,n,r){},__onVoiceOrVideo:function(e,t,n){var r=this;!1===t.enableVoice?r.onOtherUserOpenVoice(e,!1):r.onOtherUserOpenVoice(e,!0),!1===t.enableVideo?r.onOtherUserOpenVideo(e,!1):r.onOtherUserOpenVideo(e,!0)},_onStreamControl:function(e,t,n,r,i){var o=this,s=t.controlType;0===s&&o.onOtherUserOpenVoice(e,!1),1===s&&o.onOtherUserOpenVoice(e,!0),2===s&&o.onOtherUserOpenVideo(e,!1),3===s&&o.onOtherUserOpenVideo(e,!0),o.onStreamControl(e,t,n,r,i)},onStreamControl:function(e,t,n,r,i){},onOtherUserOpenVoice:function(e,t){o.debug("from open:",t," voice .",e)},onOtherUserOpenVideo:function(e,t){o.debug("from open:",t," voideo .",e)},_onAnsC:function(e,t){var n=this;o.info("[WebRTC-API] _onAnsC : recv answer. "),n.accepted=!0,t.sdp&&n.webRtc.setRemoteDescription(t.sdp),n.setRemoteSDP=!0,n._handRecvCandsOrSend(e,t),n.__onVoiceOrVideo(e,t)},_onInitC:function(e,t,n,r,i){var s=this;s.isCaller=!1,s.accepted=!1,s.setLocalSDP=!1,s.setRemoteSDP=!1,s.hangup=!1,s.callee=e,s._rtcCfg2=t.rtcCfg,s._rtKey=n,s._tsxId=r,s._fromSid=i,s._rtcId=t.rtcId,s._sessId=t.sessId,s.streamType=t.streamType,s.globalMediaConstaints=t.globalMediaConstaints,s.webRtc.createRtcPeerConnection(s._rtcCfg2),s.callerNotPranswer=0===t.expr,o.warn("caller not pranswer ",s.callerNotPranswer),t.sdp&&o.debug(t.sdp.sdp),t.sdp&&s.webRtc.setRemoteDescription(t.sdp).then((function(){s.setRemoteSDP=!0,s._handRecvCandsOrSend(e,t),WebIM.WebRTC.supportPRAnswer?s.webRtc.createPRAnswer((function(e){s._onGotWebRtcPRAnswer(e),setTimeout((function(){o.info("[WebRTC-API] onRinging : after send pranswer. ",s.callee),s.onRinging(s.callee,s.streamType)}),500)})):(setTimeout((function(){o.info("[WebRTC-API] onRinging : After iniC, cause by: not supported pranswer. ",s.callee),s.onRinging(s.callee,s.streamType)}),500),s._ping())}))},_onGotWebRtcPRAnswer:function(e){var t=this,n=new s({to:t.callee,rtKey:t._rtKey});t.api.acptC(n,t._sessId,t._rtcId,e),t.setLocalSDP=!0,t._handRecvCandsOrSend(),t._ping()},onRinging:function(e,t){},accept:function(){var e=this;function t(){o.info("createAndSendAnswer : ...... "),e.webRtc.createAnswer((function(t){var n=new s({to:e.callee,rtKey:e._rtKey});WebIM.WebRTC.supportPRAnswer?e.webRtc.isConnected()||e.callerNotPranswer?(o.info("[WebRTC-API] ice connected or caller not pranswer, may send answer"),e.api.ansC(n,e._sessId,e._rtcId,t)):(o.info("[WebRTC-API] ice state not connected, send answer waiting."),e.webRtc._hookWhenICEReady=function(){o.info("[WebRTC-API] ice connected, send answer"),e.api.ansC(n,e._sessId,e._rtcId,t)}):e.api.acptC(n,e._sessId,e._rtcId,t,null,1),WebIM.WebRTC.supportPRAnswer||(e.setLocalSDP=!0),e._handRecvCandsOrSend(),e.accepted=!0}))}var n={audio:e.globalMediaConstaints&&e.globalMediaConstaints.audio||!0};"VIDEO"==e.streamType&&(n.video=e.globalMediaConstaints&&e.globalMediaConstaints.video||!0),e.webRtc.createMedia(n,(function(e,n){e.setLocalVideoSrcObject(n),t()}))},_handRecvCandsOrSend:function(e,t){var n=this;setTimeout((function(){n._onTcklC(e,t)}),50),setTimeout((function(){n._onIceCandidate()}),50)},_onTcklC:function(e,t){var n=this;if(n.setRemoteSDP)o.info("[WebRTC-API] recv and add cands."),n._recvCands&&n._recvCands.length>0&&n.webRtc.addIceCandidate(n._recvCands),n._recvCands&&n._recvCands.length>0&&(n._recvCands=[]),t&&t.cands&&n.webRtc.addIceCandidate(t.cands);else if(t&&t.cands&&t.cands.length>0){for(var r=0;r<t.cands.length;r++)(n._recvCands||(n._recvCands=[])).push(t.cands[r]);o.debug("[_onTcklC] temporary memory[recv] ice candidate. util setRemoteSDP = true")}},_onIceStateChange:function(e){var t=this;o.debug("[WebRTC-API] ice state is "+e),t.webRtc.isConnected()&&(t.webRtc._hookWhenICEReady&&t.webRtc._hookWhenICEReady(),t.webRtc._hookWhenICEReady=void 0),"closed"===e&&(t.setLocalSDP=!1,t.setRemoteSDP=!1),t.api.onIceConnectionStateChange(e)},_onIceCandidate:function(e){var t=this;if(t.setLocalSDP){var n=function(e){o.debug("send ice candidate...");var n=new s({to:t.callee,rtKey:t._rtKey});e&&t.api.tcklC(n,t._sessId,t._rtcId,null,e)};t._cands&&t._cands.length>0&&(n(t._cands),t._cands=[]),e&&n(e)}else e&&(t._cands||(t._cands=[])).push(e),o.debug("[_onIceCandidate] temporary memory[send] ice candidate. util setLocalSDP = true")},__termCall1:function(e){var t=this;t._pingIntervalId&&window.clearInterval(t._pingIntervalId);var n,r=new s({to:t.callee,rtKey:t._rtKey});e||!t.isCaller&&!t.accepted&&(n="decline")||(n="success"),t.hangup||t.api.termC(r,t._sessId,t._rtcId,n),t.webRtc.close(),t.hangup=!0,t.setLocalSDP=!1,t.setRemoteSDP=!1,t.onTermCall(e)},termCall:function(e){var t=this;try{t.__termCall1(e)}finally{if(WebIM.__alreadyOpenMedias&&WebIM.__alreadyOpenMedias.length>0){for(var n in WebIM.__alreadyOpenMedias){var r=WebIM.__alreadyOpenMedias[n];try{emedia.stopTracks(r)}catch(i){}}WebIM.__alreadyOpenMedias=[]}}},_onTermC:function(e,t){o.debug("[_onTermC] options.reason = "+t.reason);var n=this;n.hangup=!0,n.setLocalSDP=!1,n.setRemoteSDP=!1,n.termCall(t.reason)},onTermCall:function(){}};e.exports=function(e){var t=this;r.extend(!0,this,a,e||{}),t.init()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function i(){this.rtcconfig=void 0,this.get_rtcconfig()}i.prototype={get_rtcconfig:function(){var e={url:"https://rs.easemob.com/easemob/rtcconfig.json",async:!1},t=this,n=void 0;try{$.ajax(r({},e,{async:!1,success:function(e){e&&Object.keys(e).length>0&&(t.rtcconfig=e,n=e)},error:function(e){return console.error("DeployMore get error",e),e}}))}catch(i){return n}return n},replace_trun_url:function(e){if(this.rtcconfig&&this.rtcconfig.turn){var t=e.iceServers;if(!t)return e;if(t instanceof Array==0)return e;var n=this.rtcconfig.turn;return t=t.map((function(e){e.url&&(e.url="turn:"+n)})),e}return e}},t.default=i}])}))},e379:function(e,t,n){"use strict";var r,i,o,s,a=n("199f"),c=n("0f33"),u=n("09e4"),l=n("0ee6"),d=n("c85d"),f=n("7024"),p=n("2ba0"),h=n("77da"),m=n("793f"),v=n("bb6e"),b=n("90c5"),y=n("8f08"),g=n("d714"),_=n("0209"),S=n("0761"),w=n("808c"),x=n("894d"),C=n("0fd9").set,O=n("5923"),T=n("8fe4"),E=n("b1b0"),I=n("761e"),k=n("189d"),R=n("a547"),P=n("25d0"),M=n("8b0e"),A=n("fce5"),j=M("species"),N="Promise",D=R.get,B=R.set,L=R.getterFor(N),F=d,V=u.TypeError,U=u.document,$=u.process,W=l("fetch"),z=I.f,H=z,G="process"==g($),q=!!(U&&U.createEvent&&u.dispatchEvent),K="unhandledrejection",Y="rejectionhandled",J=0,X=1,Z=2,Q=1,ee=2,te=P(N,(function(){var e=_(F)!==String(F);if(!e){if(66===A)return!0;if(!G&&"function"!=typeof PromiseRejectionEvent)return!0}if(c&&!F.prototype["finally"])return!0;if(A>=51&&/native code/.test(F))return!1;var t=F.resolve(1),n=function(e){e((function(){}),(function(){}))},r=t.constructor={};return r[j]=n,!(t.then((function(){}))instanceof n)})),ne=te||!w((function(e){F.all(e)["catch"]((function(){}))})),re=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},ie=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;O((function(){var i=t.value,o=t.state==X,s=0;while(r.length>s){var a,c,u,l=r[s++],d=o?l.ok:l.fail,f=l.resolve,p=l.reject,h=l.domain;try{d?(o||(t.rejection===ee&&ce(e,t),t.rejection=Q),!0===d?a=i:(h&&h.enter(),a=d(i),h&&(h.exit(),u=!0)),a===l.promise?p(V("Promise-chain cycle")):(c=re(a))?c.call(a,f,p):f(a)):p(i)}catch(m){h&&!u&&h.exit(),p(m)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&se(e,t)}))}},oe=function(e,t,n){var r,i;q?(r=U.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},(i=u["on"+e])?i(r):e===K&&E("Unhandled promise rejection",n)},se=function(e,t){C.call(u,(function(){var n,r=t.value,i=ae(t);if(i&&(n=k((function(){G?$.emit("unhandledRejection",r,e):oe(K,e,r)})),t.rejection=G||ae(t)?ee:Q,n.error))throw n.value}))},ae=function(e){return e.rejection!==Q&&!e.parent},ce=function(e,t){C.call(u,(function(){G?$.emit("rejectionHandled",e):oe(Y,e,t.value)}))},ue=function(e,t,n,r){return function(i){e(t,n,i,r)}},le=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=Z,ie(e,t,!0))},de=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw V("Promise can't be resolved itself");var i=re(n);i?O((function(){var r={done:!1};try{i.call(n,ue(de,e,r,t),ue(le,e,r,t))}catch(o){le(e,r,o,t)}})):(t.value=n,t.state=X,ie(e,t,!1))}catch(o){le(e,{done:!1},o,t)}}};te&&(F=function(e){y(this,F,N),b(e),r.call(this);var t=D(this);try{e(ue(de,this,t),ue(le,this,t))}catch(n){le(this,t,n)}},r=function(e){B(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:J,value:void 0})},r.prototype=p(F.prototype,{then:function(e,t){var n=L(this),r=z(x(this,F));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=G?$.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=J&&ie(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=D(e);this.promise=e,this.resolve=ue(de,e,t),this.reject=ue(le,e,t)},I.f=z=function(e){return e===F||e===o?new i(e):H(e)},c||"function"!=typeof d||(s=d.prototype.then,f(d.prototype,"then",(function(e,t){var n=this;return new F((function(e,t){s.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof W&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return T(F,W.apply(u,arguments))}}))),a({global:!0,wrap:!0,forced:te},{Promise:F}),h(F,N,!1,!0),m(N),o=l(N),a({target:N,stat:!0,forced:te},{reject:function(e){var t=z(this);return t.reject.call(void 0,e),t.promise}}),a({target:N,stat:!0,forced:c||te},{resolve:function(e){return T(c&&this===o?F:this,e)}}),a({target:N,stat:!0,forced:ne},{all:function(e){var t=this,n=z(t),r=n.resolve,i=n.reject,o=k((function(){var n=b(t.resolve),o=[],s=0,a=1;S(e,(function(e){var c=s++,u=!1;o.push(void 0),a++,n.call(t,e).then((function(e){u||(u=!0,o[c]=e,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=z(t),r=n.reject,i=k((function(){var i=b(t.resolve);S(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},e623:function(e,t,n){"use strict";var r=n("a84f"),i=n("613f"),o=n("ca70"),s=n("a547"),a=n("a580"),c="Array Iterator",u=s.set,l=s.getterFor(c);e.exports=a(Array,"Array",(function(e,t){u(this,{type:c,target:r(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},e683:function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},e893:function(e,t,n){var r=n("5135"),i=n("56ef"),o=n("06cf"),s=n("9bf2");e.exports=function(e,t){for(var n=i(t),a=s.f,c=o.f,u=0;u<n.length;u++){var l=n[u];r(e,l)||a(e,l,c(t,l))}}},ebca:function(e,t,n){var r=n("76af");e.exports=function(e){return Object(r(e))}},f0bd:function(e,t,n){"use strict";(function(e){
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var n="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();function i(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}function o(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),r))}}var s=n&&window.Promise,a=s?i:o;function c(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function u(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView,r=n.getComputedStyle(e,null);return t?r[t]:r}function l(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function d(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=u(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:d(l(e))}function f(e){return e&&e.referenceNode?e.referenceNode:e}var p=n&&!(!window.MSInputMethodContext||!document.documentMode),h=n&&/MSIE 10/.test(navigator.userAgent);function m(e){return 11===e?p:10===e?h:p||h}function v(e){if(!e)return document.documentElement;var t=m(10)?document.body:null,n=e.offsetParent||null;while(n===t&&e.nextElementSibling)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===u(n,"position")?v(n):n:e?e.ownerDocument.documentElement:document.documentElement}function b(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||v(e.firstElementChild)===e)}function y(e){return null!==e.parentNode?y(e.parentNode):e}function g(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var s=o.commonAncestorContainer;if(e!==s&&t!==s||r.contains(i))return b(s)?s:v(s);var a=y(e);return a.host?g(a.host,t):g(e,y(t).host)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var i=e.ownerDocument.documentElement,o=e.ownerDocument.scrollingElement||i;return o[n]}return e[n]}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=_(t,"top"),i=_(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}function w(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function x(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],m(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function C(e){var t=e.body,n=e.documentElement,r=m(10)&&getComputedStyle(n);return{height:x("Height",t,n,r),width:x("Width",t,n,r)}}var O=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function k(e){return I({},e,{right:e.left+e.width,bottom:e.top+e.height})}function R(e){var t={};try{if(m(10)){t=e.getBoundingClientRect();var n=_(e,"top"),r=_(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(f){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?C(e.ownerDocument):{},s=o.width||e.clientWidth||i.width,a=o.height||e.clientHeight||i.height,c=e.offsetWidth-s,l=e.offsetHeight-a;if(c||l){var d=u(e);c-=w(d,"x"),l-=w(d,"y"),i.width-=c,i.height-=l}return k(i)}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=m(10),i="HTML"===t.nodeName,o=R(e),s=R(t),a=d(e),c=u(t),l=parseFloat(c.borderTopWidth),f=parseFloat(c.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var p=k({top:o.top-s.top-l,left:o.left-s.left-f,width:o.width,height:o.height});if(p.marginTop=0,p.marginLeft=0,!r&&i){var h=parseFloat(c.marginTop),v=parseFloat(c.marginLeft);p.top-=l-h,p.bottom-=l-h,p.left-=f-v,p.right-=f-v,p.marginTop=h,p.marginLeft=v}return(r&&!n?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(p=S(p,t)),p}function M(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=P(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:_(n),a=t?0:_(n,"left"),c={top:s-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:i,height:o};return k(c)}function A(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===u(e,"position"))return!0;var n=l(e);return!!n&&A(n)}function j(e){if(!e||!e.parentElement||m())return document.documentElement;var t=e.parentElement;while(t&&"none"===u(t,"transform"))t=t.parentElement;return t||document.documentElement}function N(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=i?j(e):g(e,f(t));if("viewport"===r)o=M(s,i);else{var a=void 0;"scrollParent"===r?(a=d(l(t)),"BODY"===a.nodeName&&(a=e.ownerDocument.documentElement)):a="window"===r?e.ownerDocument.documentElement:r;var c=P(a,s,i);if("HTML"!==a.nodeName||A(s))o=c;else{var u=C(e.ownerDocument),p=u.height,h=u.width;o.top+=c.top-c.marginTop,o.bottom=p+c.top,o.left+=c.left-c.marginLeft,o.right=h+c.left}}n=n||0;var m="number"===typeof n;return o.left+=m?n:n.left||0,o.top+=m?n:n.top||0,o.right-=m?n:n.right||0,o.bottom-=m?n:n.bottom||0,o}function D(e){var t=e.width,n=e.height;return t*n}function B(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=N(n,r,o,i),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},c=Object.keys(a).map((function(e){return I({key:e},a[e],{area:D(a[e])})})).sort((function(e,t){return t.area-e.area})),u=c.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),l=u.length>0?u[0].key:c[0].key,d=e.split("-")[1];return l+(d?"-"+d:"")}function L(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?j(t):g(t,f(n));return P(n,i,r)}function F(e){var t=e.ownerDocument.defaultView,n=t.getComputedStyle(e),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),i=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),o={width:e.offsetWidth+i,height:e.offsetHeight+r};return o}function V(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function U(e,t,n){n=n.split("-")[0];var r=F(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",c=o?"height":"width",u=o?"width":"height";return i[s]=t[s]+t[c]/2-r[c]/2,i[a]=n===a?t[a]-r[u]:t[V(a)],i}function $(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function W(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=$(e,(function(e){return e[t]===n}));return e.indexOf(r)}function z(e,t,n){var r=void 0===n?e:e.slice(0,W(e,"name",n));return r.forEach((function(e){e["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e["function"]||e.fn;e.enabled&&c(n)&&(t.offsets.popper=k(t.offsets.popper),t.offsets.reference=k(t.offsets.reference),t=n(t,e))})),t}function H(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=L(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=B(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=U(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=z(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function G(e,t){return e.some((function(e){var n=e.name,r=e.enabled;return r&&n===t}))}function q(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?""+i+n:e;if("undefined"!==typeof document.body.style[o])return o}return null}function K(){return this.state.isDestroyed=!0,G(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[q("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Y(e){var t=e.ownerDocument;return t?t.defaultView:window}function J(e,t,n,r){var i="BODY"===e.nodeName,o=i?e.ownerDocument.defaultView:e;o.addEventListener(t,n,{passive:!0}),i||J(d(o.parentNode),t,n,r),r.push(o)}function X(e,t,n,r){n.updateBound=r,Y(e).addEventListener("resize",n.updateBound,{passive:!0});var i=d(e);return J(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function Z(){this.state.eventsEnabled||(this.state=X(this.reference,this.options,this.state,this.scheduleUpdate))}function Q(e,t){return Y(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function ee(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=Q(this.reference,this.state))}function te(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function ne(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&te(t[n])&&(r="px"),e.style[n]=t[n]+r}))}function re(e,t){Object.keys(t).forEach((function(n){var r=t[n];!1!==r?e.setAttribute(n,t[n]):e.removeAttribute(n)}))}function ie(e){return ne(e.instance.popper,e.styles),re(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&ne(e.arrowElement,e.arrowStyles),e}function oe(e,t,n,r,i){var o=L(i,t,e,n.positionFixed),s=B(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),ne(t,{position:n.positionFixed?"fixed":"absolute"}),n}function se(e,t){var n=e.offsets,r=n.popper,i=n.reference,o=Math.round,s=Math.floor,a=function(e){return e},c=o(i.width),u=o(r.width),l=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),f=c%2===u%2,p=c%2===1&&u%2===1,h=t?l||d||f?o:s:a,m=t?o:a;return{left:h(p&&!d&&t?r.left-1:r.left),top:m(r.top),bottom:m(r.bottom),right:h(r.right)}}var ae=n&&/Firefox/i.test(navigator.userAgent);function ce(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=$(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:t.gpuAcceleration,a=v(e.instance.popper),c=R(a),u={position:i.position},l=se(e,window.devicePixelRatio<2||!ae),d="bottom"===n?"top":"bottom",f="right"===r?"left":"right",p=q("transform"),h=void 0,m=void 0;if(m="bottom"===d?"HTML"===a.nodeName?-a.clientHeight+l.bottom:-c.height+l.bottom:l.top,h="right"===f?"HTML"===a.nodeName?-a.clientWidth+l.right:-c.width+l.right:l.left,s&&p)u[p]="translate3d("+h+"px, "+m+"px, 0)",u[d]=0,u[f]=0,u.willChange="transform";else{var b="bottom"===d?-1:1,y="right"===f?-1:1;u[d]=m*b,u[f]=h*y,u.willChange=d+", "+f}var g={"x-placement":e.placement};return e.attributes=I({},g,e.attributes),e.styles=I({},u,e.styles),e.arrowStyles=I({},e.offsets.arrow,e.arrowStyles),e}function ue(e,t,n){var r=$(e,(function(e){var n=e.name;return n===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var o="`"+t+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}function le(e,t){var n;if(!ue(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(r=e.instance.popper.querySelector(r),!r)return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=e.offsets,s=o.popper,a=o.reference,c=-1!==["left","right"].indexOf(i),l=c?"height":"width",d=c?"Top":"Left",f=d.toLowerCase(),p=c?"left":"top",h=c?"bottom":"right",m=F(r)[l];a[h]-m<s[f]&&(e.offsets.popper[f]-=s[f]-(a[h]-m)),a[f]+m>s[h]&&(e.offsets.popper[f]+=a[f]+m-s[h]),e.offsets.popper=k(e.offsets.popper);var v=a[f]+a[l]/2-m/2,b=u(e.instance.popper),y=parseFloat(b["margin"+d]),g=parseFloat(b["border"+d+"Width"]),_=v-e.offsets.popper[f]-y-g;return _=Math.max(Math.min(s[l]-m,_),0),e.arrowElement=r,e.offsets.arrow=(n={},E(n,f,Math.round(_)),E(n,p,""),n),e}function de(e){return"end"===e?"start":"start"===e?"end":e}var fe=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],pe=fe.slice(3);function he(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=pe.indexOf(e),r=pe.slice(n+1).concat(pe.slice(0,n));return t?r.reverse():r}var me={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function ve(e,t){if(G(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=N(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=V(r),o=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case me.FLIP:s=[r,i];break;case me.CLOCKWISE:s=he(r);break;case me.COUNTERCLOCKWISE:s=he(r,!0);break;default:s=t.behavior}return s.forEach((function(a,c){if(r!==a||s.length===c+1)return e;r=e.placement.split("-")[0],i=V(r);var u=e.offsets.popper,l=e.offsets.reference,d=Math.floor,f="left"===r&&d(u.right)>d(l.left)||"right"===r&&d(u.left)<d(l.right)||"top"===r&&d(u.bottom)>d(l.top)||"bottom"===r&&d(u.top)<d(l.bottom),p=d(u.left)<d(n.left),h=d(u.right)>d(n.right),m=d(u.top)<d(n.top),v=d(u.bottom)>d(n.bottom),b="left"===r&&p||"right"===r&&h||"top"===r&&m||"bottom"===r&&v,y=-1!==["top","bottom"].indexOf(r),g=!!t.flipVariations&&(y&&"start"===o&&p||y&&"end"===o&&h||!y&&"start"===o&&m||!y&&"end"===o&&v),_=!!t.flipVariationsByContent&&(y&&"start"===o&&h||y&&"end"===o&&p||!y&&"start"===o&&v||!y&&"end"===o&&m),S=g||_;(f||b||S)&&(e.flipped=!0,(f||b)&&(r=s[c+1]),S&&(o=de(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=I({},e.offsets.popper,U(e.instance.popper,e.offsets.reference,e.placement)),e=z(e.instance.modifiers,e,"flip"))})),e}function be(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(i),a=s?"right":"bottom",c=s?"left":"top",u=s?"width":"height";return n[a]<o(r[c])&&(e.offsets.popper[c]=o(r[c])-n[u]),n[c]>o(r[a])&&(e.offsets.popper[c]=o(r[a])),e}function ye(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],s=i[2];if(!o)return e;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=r}var c=k(a);return c[t]/100*o}if("vh"===s||"vw"===s){var u=void 0;return u="vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0),u/100*o}return o}function ge(e,t,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),s=e.split(/(\+|\-)/).map((function(e){return e.trim()})),a=s.indexOf($(s,(function(e){return-1!==e.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,u=-1!==a?[s.slice(0,a).concat([s[a].split(c)[0]]),[s[a].split(c)[1]].concat(s.slice(a+1))]:[s];return u=u.map((function(e,r){var i=(1===r?!o:o)?"height":"width",s=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)}),[]).map((function(e){return ye(e,i,t,n)}))})),u.forEach((function(e,t){e.forEach((function(n,r){te(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}function _e(e,t){var n=t.offset,r=e.placement,i=e.offsets,o=i.popper,s=i.reference,a=r.split("-")[0],c=void 0;return c=te(+n)?[+n,0]:ge(n,o,s,a),"left"===a?(o.top+=c[0],o.left-=c[1]):"right"===a?(o.top+=c[0],o.left+=c[1]):"top"===a?(o.left+=c[0],o.top-=c[1]):"bottom"===a&&(o.left+=c[0],o.top+=c[1]),e.popper=o,e}function Se(e,t){var n=t.boundariesElement||v(e.instance.popper);e.instance.reference===n&&(n=v(n));var r=q("transform"),i=e.instance.popper.style,o=i.top,s=i.left,a=i[r];i.top="",i.left="",i[r]="";var c=N(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=o,i.left=s,i[r]=a,t.boundaries=c;var u=t.priority,l=e.offsets.popper,d={primary:function(e){var n=l[e];return l[e]<c[e]&&!t.escapeWithReference&&(n=Math.max(l[e],c[e])),E({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=l[n];return l[e]>c[e]&&!t.escapeWithReference&&(r=Math.min(l[n],c[e]-("right"===e?l.width:l.height))),E({},n,r)}};return u.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=I({},l,d[t](e))})),e.offsets.popper=l,e}function we(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,s=i.popper,a=-1!==["bottom","top"].indexOf(n),c=a?"left":"top",u=a?"width":"height",l={start:E({},c,o[c]),end:E({},c,o[c]+o[u]-s[u])};e.offsets.popper=I({},s,l[r])}return e}function xe(e){if(!ue(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=$(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function Ce(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return i[s?"left":"top"]=o[n]-(a?i[s?"width":"height"]:0),e.placement=V(t),e.offsets.popper=k(i),e}var Oe={shift:{order:100,enabled:!0,fn:we},offset:{order:200,enabled:!0,fn:_e,offset:0},preventOverflow:{order:300,enabled:!0,fn:Se,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:be},arrow:{order:500,enabled:!0,fn:le,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:ve,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:Ce},hide:{order:800,enabled:!0,fn:xe},computeStyle:{order:850,enabled:!0,fn:ce,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:ie,onLoad:oe,gpuAcceleration:void 0}},Te={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Oe},Ee=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};O(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=a(this.update.bind(this)),this.options=I({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(I({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){r.options.modifiers[t]=I({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return I({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&c(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return T(e,[{key:"update",value:function(){return H.call(this)}},{key:"destroy",value:function(){return K.call(this)}},{key:"enableEventListeners",value:function(){return Z.call(this)}},{key:"disableEventListeners",value:function(){return ee.call(this)}}]),e}();Ee.Utils=("undefined"!==typeof window?window:e).PopperUtils,Ee.placements=fe,Ee.Defaults=Te,t["a"]=Ee}).call(this,n("c8ba"))},f14a:function(e,t,n){var r=n("f55b"),i=n("c51e");e.exports=Object.keys||function(e){return r(e,i)}},f385:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},f55b:function(e,t,n){var r=n("7f34"),i=n("a84f"),o=n("c272").indexOf,s=n("1fc1");e.exports=function(e,t){var n,a=i(e),c=0,u=[];for(n in a)!r(s,n)&&r(a,n)&&u.push(n);while(t.length>c)r(a,n=t[c++])&&(~o(u,n)||u.push(n));return u}},f5df:function(e,t,n){var r=n("00ee"),i=n("c6b6"),o=n("b622"),s=o("toStringTag"),a="Arguments"==i(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=c(t=Object(e),s))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},f6b4:function(e,t,n){"use strict";var r=n("c532");function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},f772:function(e,t,n){var r=n("5692"),i=n("90e3"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},fb8a:function(e,t,n){var r=n("59c2"),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},fc6a:function(e,t,n){var r=n("44ad"),i=n("1d80");e.exports=function(e){return r(i(e))}},fce5:function(e,t,n){var r,i,o=n("09e4"),s=n("5f2f"),a=o.process,c=a&&a.versions,u=c&&c.v8;u?(r=u.split("."),i=r[0]+r[1]):s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=r[1]))),e.exports=i&&+i},fdbe:function(e,t,n){var r=n("f55b"),i=n("c51e"),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fe68:function(e,t,n){var r=n("bb6e");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}}}]);
//# sourceMappingURL=chunk-vendors.37c3c3d1.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30465935"],{"0366":function(t,e,s){var i=s("1c0b");t.exports=function(t,e,s){if(i(t),void 0===e)return t;switch(s){case 0:return function(){return t.call(e)};case 1:return function(s){return t.call(e,s)};case 2:return function(s,i){return t.call(e,s,i)};case 3:return function(s,i,a){return t.call(e,s,i,a)}}return function(){return t.apply(e,arguments)}}},"1c0b":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"1dde":function(t,e,s){var i=s("d039"),a=s("b622"),n=s("2d00"),r=a("species");t.exports=function(t){return n>=51||!i((function(){var e=[],s=e.constructor={};return s[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"2d00":function(t,e,s){var i,a,n=s("da84"),r=s("342f"),o=n.process,c=o&&o.versions,u=c&&c.v8;u?(i=u.split("."),a=i[0]+i[1]):r&&(i=r.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=r.match(/Chrome\/(\d+)/),i&&(a=i[1]))),t.exports=a&&+a},"342f":function(t,e,s){var i=s("d066");t.exports=i("navigator","userAgent")||""},"37f4":function(t,e,s){},"4de4":function(t,e,s){"use strict";var i=s("23e7"),a=s("b727").filter,n=s("1dde"),r=s("ae40"),o=n("filter"),c=r("filter");i({target:"Array",proto:!0,forced:!o||!c},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},"5e07":function(t,e,s){"use strict";var i=s("37f4"),a=s.n(i);a.a},"65f0":function(t,e,s){var i=s("861d"),a=s("e8b5"),n=s("b622"),r=n("species");t.exports=function(t,e){var s;return a(t)&&(s=t.constructor,"function"!=typeof s||s!==Array&&!a(s.prototype)?i(s)&&(s=s[r],null===s&&(s=void 0)):s=void 0),new(void 0===s?Array:s)(0===e?0:e)}},"7b0b":function(t,e,s){var i=s("1d80");t.exports=function(t){return Object(i(t))}},8959:function(t,e,s){},"8c17":function(t,e,s){"use strict";var i=s("c96d"),a=s.n(i);a.a},"903d":function(t,e,s){},a10d:function(t,e,s){"use strict";var i=s("8959"),a=s.n(i);a.a},ad42:function(t,e,s){"use strict";var i=s("d3b7a"),a=s.n(i);a.a},b0c0:function(t,e,s){var i=s("83ab"),a=s("9bf2").f,n=Function.prototype,r=n.toString,o=/^\s*function ([^ (]*)/,c="name";i&&!(c in n)&&a(n,c,{configurable:!0,get:function(){try{return r.call(this).match(o)[1]}catch(t){return""}}})},b727:function(t,e,s){var i=s("0366"),a=s("44ad"),n=s("7b0b"),r=s("50c4"),o=s("65f0"),c=[].push,u=function(t){var e=1==t,s=2==t,u=3==t,l=4==t,h=6==t,d=5==t||h;return function(m,f,p,v){for(var g,b,w=n(m),y=a(w),C=i(f,p,3),_=r(y.length),$=0,x=v||o,k=e?x(m,_):s?x(m,0):void 0;_>$;$++)if((d||$ in y)&&(g=y[$],b=C(g,$,w),t))if(e)k[$]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return $;case 2:c.call(k,g)}else if(l)return!1;return h?-1:u||l?l:k}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},bb51:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"home"}},[s("div",{staticClass:"welcome"},[s("div",[s("h1",[t._v(t._s(t.$store.state.user.userId))])])]),s("div",{staticClass:"top"}),s("div",{staticClass:"director"},[s("div",{staticClass:"left",style:!t.listSheen&&{transform:" translateX(-100%)"}},[s("div",{staticClass:"newsList"},[s("div",{staticClass:"listTitle"},[s("div",[t._v("消息列表")]),s("div",{on:{click:function(e){t.listSheen=!1}}},[s("svg",{staticClass:"bi bi-chevron-left",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"}})])])]),s("NewsList",{attrs:{list:t.friendList,type:"chat"}},[t._v("好友列表")]),s("NewsList",{attrs:{list:t.group,type:"groupchat"}},[t._v("群组列表")]),s("NewsList",{attrs:{list:t.chatRoom,type:"chatroom"}},[t._v("聊天室")])],1)]),s("div",{staticClass:"right"},[s("div",{staticClass:"Sheenwindow"},[s("div",{staticClass:"title"},[s("div",{staticClass:"listBtn",on:{click:t.listShow}},[s("svg",{staticClass:"bi bi-justify",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M2 12.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"}})])]),s("h1",[t._v(t._s(t.topTitle))]),s("div",{staticClass:"functionBtn",on:{click:t.addClick}},[s("svg",{staticClass:"bi bi-plus-circle",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z"}}),s("path",{attrs:{"fill-rule":"evenodd",d:"M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z"}}),s("path",{attrs:{"fill-rule":"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}})])])]),s("div",{staticClass:"anms"},[s("LoandAnms",{attrs:{title:t.amnsTitle}})],1),s("ChatWin")],1),s("div",{staticClass:"inputwindow"},[s("div",{staticClass:"toMsgbtn"},[s("button",{staticClass:"gobtn btn btn-primary",style:""!=t.massgeg&&{animation:"mymove 5s infinite"},attrs:{type:"button"},on:{click:t.toMassage}},[t._v("发送")])]),s("div",{staticClass:"txt"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.massgeg,expression:"massgeg"}],attrs:{disabled:t.disableInput&&"disabled",rows:"10"},domProps:{value:t.massgeg},on:{click:function(e){t.listSheen=!1},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.toMassage(e)},input:function(e){e.target.composing||(t.massgeg=e.target.value)}}})])])])])])},a=[],n=(s("d81d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"newsList"},[s("div",{staticClass:"title",on:{click:function(e){t.litsSheen=!t.litsSheen}}},[t._t("default"),s("span",[t._v("↑")]),s("span",[t._v("↓")])],2),s("div",{staticClass:"list",class:{litsSheen:!t.litsSheen}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.litsSheen,expression:"litsSheen"}],staticClass:"ico",on:{click:function(e){t.litsSheen=!1}}},[s("svg",{staticClass:"bi bi-chevron-compact-down",attrs:{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M1.553 6.776a.5.5 0 0 1 .67-.223L8 9.44l5.776-2.888a.5.5 0 1 1 .448.894l-6 3a.5.5 0 0 1-.448 0l-6-3a.5.5 0 0 1-.223-.67z"}})])]),t._l(t.list,(function(e,i){return s("div",{key:i},[s("ListItem",{attrs:{item:e,type:t.type,pos:i%2==0}})],1)}))],2)])}),r=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Listitem",class:{pos:t.pos},on:{click:t.toMassageWin}},[s("div",{staticClass:"head",class:{animation:t.animation}},[t._v(t._s(t.item.name?t.item.name:t.item.groupname))]),s("div",{staticClass:"massage",class:{posMsg:!t.pos,animation:t.animation}},[t._v(t._s(t.msg))])])},c=[],u=(s("b0c0"),{name:"Listitem",props:["item","pos","type"],data:function(){return{msg:"斩无消息",animation:!1}},computed:{Massage:function(){return this.$store.state.massage?this.$store.state.massage[this.$store.state.massage.length-1]:[]},id:function(){return"groupchat"==this.type?this.item.groupid:"chatroom"==this.type?this.item.id:this.item.name}},watch:{Massage:function(t){this.messageTips(t)}},methods:{toMassageWin:function(){this.animation=!1,this.$store.commit("setTarget",{id:this.id,type:this.type}),"groupchat"!=this.type?this.$store.commit("setTomassageTarget",this.item.name):this.$store.commit("setTomassageTarget",this.item.groupname)},messageTips:function(t){if(t.data)return"chat"==this.type&&t.from==this.id&&t.to==this.$store.state.user.userId&&"TEXT"==t.contentsType?(this.animation=!0,void(this.msg=t.data)):"chat"==this.type&&t.from==this.id&&t.to==this.$store.state.user.userId?(this.animation=!0,void(this.msg="有新消息")):t.to==this.id?(this.animation=!0,void(this.msg=t.data)):void 0}},created:function(){var t=this;this.$store.state.massage.map((function(e){t.messageTips(e)}))}}),l=u,h=(s("8c17"),s("2877")),d=Object(h["a"])(l,o,c,!1,null,"369e99fc",null),m=d.exports,f={name:"newsList",props:["list","type"],data:function(){return{litsSheen:!1}},components:{ListItem:m}},p=f,v=(s("a10d"),Object(h["a"])(p,n,r,!1,null,"461a7145",null)),g=v.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chatwin"},t._l(t.messagelist,(function(t,e){return s("div",{key:e,staticClass:"item"},[s("ChatList",{attrs:{item:t}})],1)})),0)},w=[],y=(s("4de4"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chatlist",style:t.handleData.pos&&{"flex-direction":"row-reverse"}},[s("div",[s("div",{staticClass:"head"},[t._v(t._s(t.handleData.from))])]),s("div",{staticClass:"msg"},[t._v(t._s(t.handleData.data))])])}),C=[],_={name:"chatlist",props:["item"],computed:{handleData:function(){if(!this.item.data){var t=Object.assign({},this.item);return t.data=this.item.msg,t.from=this.$store.state.user.userId,t.pos=!0,t}return this.item}},methods:{color:function(){}}},$=_,x=(s("ad42"),Object(h["a"])($,y,C,!1,null,"b6c4ee8e",null)),k=x.exports,S={naem:"chatwin",data:function(){return{}},components:{ChatList:k},computed:{messagelist:function(){if(0!=this.$store.state.massage.length)return this.screen(this.$store.state.massage)},target:function(){return this.$store.state.target}},watch:{messagelist:function(){this.$nextTick((function(){var t=document.querySelector(".chatwin");t.scrollTop=t.scrollHeight}))}},methods:{screen:function(t){var e=this;return t.filter((function(t){if(e.target.type==t.type&&(e.target.id==t.from||e.target.id==t.to))return!0}))}}},T=S,L=(s("5e07"),Object(h["a"])(T,b,w,!1,null,"ba53fcf4",null)),M=L.exports,I=s("dbb8"),A={name:"hoem",data:function(){return{massgeg:"",listSheen:!1}},computed:{topTitle:function(){return this.$store.state.tomassage.target},amnsTitle:function(){var t="Welcome to BiaolgChat";return this.$store.state.massage.map((function(e){e.from&&(t=e.from)})),t},friendList:function(){return this.$store.state.user.myFriend},group:function(){return this.$store.state.user.myGroup},chatRoom:function(){return this.$store.state.user.chatRoom},disableInput:function(){return""==this.$store.state.target.id},chatRoom_b:function(){return"chatroom"==this.$store.state.target.type}},watch:{topTitle:function(){this.listSheen=!1}},components:{NewsList:g,ChatWin:M,LoandAnms:I["a"]},methods:{toMassage:function(){if("\n"!=this.massgeg&&""!=this.massgeg){var t=WebIM.conn.getUniqueId(),e=new WebIM.message("txt",t);e.set({msg:this.massgeg,to:this.$store.state.target.id,roomType:this.chatRoom_b,success:function(t,e){},fail:function(t){}}),"chat"!=this.$store.state.target.type&&e.setGroup("groupchat"),WebIM.conn.send(e.body),e.body.type=this.$store.state.target.type,this.$store.commit("setMassage",e.body),this.massgeg=""}else this.massgeg=""},listShow:function(){this.listSheen=!this.listSheen},addClick:function(){this.$store.commit("setEject",{sheen:!0,ifinput:!0,title:"添加好友",content:"请输入用户名:",btntitle:{yes:"添加",no:"取消"}})}},created:function(){""==this.$store.state.token&&this.$router.push("Ling")},mounted:function(){var t=this;setTimeout((function(){t.listSheen=!0}),3e3)}},E=A,z=(s("fdc9"),Object(h["a"])(E,i,a,!1,null,"091410fa",null));e["default"]=z.exports},c96d:function(t,e,s){},d3b7a:function(t,e,s){},d81d:function(t,e,s){"use strict";var i=s("23e7"),a=s("b727").map,n=s("1dde"),r=s("ae40"),o=n("map"),c=r("map");i({target:"Array",proto:!0,forced:!o||!c},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(t,e,s){var i=s("c6b6");t.exports=Array.isArray||function(t){return"Array"==i(t)}},fdc9:function(t,e,s){"use strict";var i=s("903d"),a=s.n(i);a.a}}]);
//# sourceMappingURL=chunk-30465935.225d1c8d.js.map
(function(t){function e(e){for(var o,i,r=e[0],c=e[1],u=e[2],l=0,f=[];l<r.length;l++)i=r[l],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&f.push(s[i][0]),s[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);d&&d(e);while(f.length)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,i=1;i<n.length;i++){var r=n[i];0!==s[r]&&(o=!1)}o&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},i={app:0},s={app:0},a=[];function r(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-30465935":"225d1c8d","chunk-b744b580":"614f6997"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-30465935":1,"chunk-b744b580":1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise((function(e,n){for(var o="css/"+({}[t]||t)+"."+{"chunk-30465935":"cb894350","chunk-b744b580":"93dc567d"}[t]+".css",s=c.p+o,a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var u=a[r],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===o||l===s))return e()}var f=document.getElementsByTagName("style");for(r=0;r<f.length;r++){u=f[r],l=u.getAttribute("data-href");if(l===o||l===s)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var o=e&&e.target&&e.target.src||s,a=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=o,delete i[t],d.parentNode.removeChild(d),n(a)},d.href=s;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){i[t]=0})));var o=s[t];if(0!==o)if(o)e.push(o[2]);else{var a=new Promise((function(e,n){o=s[t]=[e,n]}));e.push(o[2]=a);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=r(t);var f=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(d);var n=s[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",f.name="ChunkLoadError",f.type=o,f.request=i,n[1](f)}s[t]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var f=0;f<u.length;f++)e(u[f]);var d=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"1f45":function(t,e,n){t.exports=n.p+"media/tips.c74e031e.mp3"},2395:function(t,e,n){},"2f16":function(t,e,n){},"2f6c":function(t,e,n){"use strict";var o=n("d211"),i=n.n(o);i.a},"4cc8":function(t,e,n){"use strict";var o=n("8783"),i=n.n(o);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e623"),n("e379"),n("5dc8"),n("37e1"),n("0cdd");var o=n("2b0e"),i=n("5f5b");n("ab8b"),n("2dd8");o["default"].use(i["a"]);n("d3b7");var s=n("bc3a"),a=n.n(s),r={},c=a.a.create(r);c.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),c.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t,e){t.axios=c,window.axios=c,Object.defineProperties(t.prototype,{axios:{get:function(){return c}},$axios:{get:function(){return c}}})},o["default"].use(Plugin);Plugin;var u=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("div",{attrs:{id:"nav"}}),o("audio",{attrs:{id:"tis",src:n("1f45")}}),o("Popup",{on:{btnClick:function(e){t.ejectBtnState=e}}}),o("loading"),o("router-view")],1)},l=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.state.sheen,expression:"state.sheen"}],staticClass:"Eject"},[n("div",{staticClass:"box",style:t.state.sheen&&{transform:"translateY(0%)"}},[n("div",{staticClass:"title"},[t._v(t._s(t.state.title))]),n("div",{staticClass:"content"},[t._v(t._s(t.state.content))]),t.state.ifinput?n("div",{staticClass:"inputname"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.tagname,expression:"tagname"}],attrs:{type:"text"},domProps:{value:t.tagname},on:{input:function(e){e.target.composing||(t.tagname=e.target.value)}}})]):t._e(),n("div",{staticClass:"btn-box"},[n("button",{staticClass:"btn btn-primary",style:""==t.state.btntitle.no&&{width:"100%"},attrs:{type:"button"},on:{click:function(e){return t.choice(t.state.btntitle.yes)}}},[t._v(t._s(t.state.btntitle.yes))]),""!=t.state.btntitle.no?n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.choice(t.state.btntitle.no)}}},[t._v(t._s(t.state.btntitle.no))]):t._e()])])])])},d=[],p={name:"EjectTo",data:function(){return{tagname:""}},computed:{state:function(){return this.$store.state.eject}},methods:{choice:function(t){this.$store.commit("setEjectSheen",!1);var e={type:t,tagname:this.tagname};this.$emit("btnClick",e)}}},m=p,h=(n("2f6c"),n("2877")),g=Object(h["a"])(m,f,d,!1,null,"ff164afc",null),b=g.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.state.sheen?n("div",{staticClass:"loading"},[n("div",{staticClass:"box"},[n("LoadAnms",{attrs:{title:"LONG..."}})],1),n("div",{staticClass:"title"},[n("h1",[t._v(t._s(t.state.title)+"...")])])]):t._e()},y=[],w=n("dbb8"),_={name:"loading",data:function(){return{sheen:!1}},components:{LoadAnms:w["a"]},computed:{state:function(){return this.$store.state.londing}}},j=_,C=(n("93e4"),Object(h["a"])(j,v,y,!1,null,"478b4038",null)),M=C.exports,S={name:"app",data:function(){return{ejectBtnState:"",audio:null}},computed:{tpismusic:function(){return this.$store.state.tpismusic}},components:{Popup:b,loading:M},watch:{ejectBtnState:function(t){switch(t.type){case"注册账号":this.$store.commit("setLingSheen",!0),this.ejectBtnState="";break;case"同意":WebIM.conn.subscribed({to:this.$store.state.FriendsAdd.from,message:"[resp:true]"}),WebIM.Tool.queryFriends(),this.$store.commit("setFriendsAdd",{}),this.ejectBtnState="";break;case"添加":WebIM.conn.subscribe({to:t.tagname,message:Vue.$store.state.user.userId+"申请好友添加!"}),WebIM.Tool.queryFriends(),this.ejectBtnState="";break;default:this.ejectBtnState="";break}},tpismusic:function(){this.audio.play()}},mounted:function(){this.audio=document.getElementById("tis")}},x=S,L=(n("7c55"),Object(h["a"])(x,u,l,!1,null,null,null)),k=L.exports,R=n("8c4f");o["default"].use(R["a"]);var E=[{path:"/Ling",name:"Ling",component:function(){return n.e("chunk-b744b580").then(n.bind(null,"989a"))}},{path:"/Home",name:"Home",component:function(){return n.e("chunk-30465935").then(n.bind(null,"bb51"))}},{path:"*",name:"Ling",component:function(){return n.e("chunk-b744b580").then(n.bind(null,"989a"))}}],O=new R["a"]({routes:E}),$=O,P=n("2f62");o["default"].use(P["a"]);var T=new P["a"].Store({state:{token:"",eject:{sheen:!1,ifinput:!1,title:"标题",content:"内容",btntitle:{yes:"确认",no:"取消"}},londing:{sheen:!1,title:"加载中"},ling:{sheen:!1},user:{userId:"",myFriend:[],myGroup:[],chatRoom:[]},target:{id:"",type:""},massage:[],tomassage:{target:"",text:""},FriendsAdd:{},tpismusic:0},mutations:{setEjectBtnchoice:function(t,e){t.eject.btnchoice=e},setEjectSheen:function(t,e){t.eject.sheen=e},setEject:function(t,e){t.eject=e},setLonging:function(t,e){t.londing=e},setLoadingSheen:function(t,e){t.londing.sheen=e},setLingSheen:function(t,e){t.ling.sheen=e},setMyFriend:function(t,e){t.user.myFriend=e},setMyGroup:function(t,e){t.user.myGroup=e},setChatRoom:function(t,e){t.user.chatRoom=e},setMassage:function(t,e){t.massage.push(e)},steTomassageValue:function(t,e){t.tomassage.text=e},setTomassageTarget:function(t,e){t.tomassage.target=e},setTarget:function(t,e){t.target=e},setFriendsAdd:function(t,e){t.FriendsAdd=e},setTpismusic:function(t){t.tpismusic++}},actions:{},getters:{}}),A=n("2b27"),F=n.n(A);n("c975");function B(){var t=("https:"===window.location.protocol?"https:":"http:")+"//a1.easemob.com",e="//im-api-v2.easemob.com/ws";return(-1!==window.location.href.indexOf("www.test.com")||-1!==window.location.href.indexOf("172.17.1.95")||-1!==window.location.href.indexOf("localhost"))&&(t=("https:"===window.location.protocol?"https:":"http:")+"//a1.easemob.com",e=("https:"===window.location.protocol?"https:":"http:")+"//im-api-v2.easemob.com/ws"),{apiUrl:t,xmppUrl:e}}var N={xmppURL:B().xmppUrl,apiURL:B().apiUrl,appkey:"1105200613181065#biaolgchat",Host:"easemob.com",https:!0,isHttpDNS:!1,isMultiLoginSessions:!0,isWindowSDK:!1,isSandBox:!1,isDebug:!0,isStropheLog:!1,autoReconnectNumMax:5,autoReconnectInterval:2,isWebRTC:!0,i18n:"us",isAutoLogin:!0,p2pMessageCacheSize:500,delivery:!0,groupMessageCacheSize:200,loglevel:"ERROR",enableLocalStorage:!0},U=N,I=n("1053"),V=n.n(I),q=n("1575"),W=n.n(q),G=n("e374"),D=n.n(G);var H={};H=window.WebIM=V.a,H.config=U,H.conn=new H.connection({appKey:H.config.appkey,isHttpDNS:H.config.isHttpDNS,isMultiLoginSessions:H.config.isMultiLoginSessions,https:H.config.https,url:H.config.xmppURL,apiUrl:H.config.apiURL,isAutoLogin:!0,heartBeatWait:H.config.heartBeatWait,autoReconnectNumMax:H.config.autoReconnectNumMax,autoReconnectInterval:H.config.autoReconnectInterval,isStropheLog:H.config.isStropheLog,delivery:H.config.delivery}),H.conn.apiUrl||(H.conn.apiUrl=H.config.apiURL);var z={queryFriends:function(){H.conn.getRoster({success:function(t){for(var e=[],n=0,o=t.length;n<o;n++){var i=t[n];"both"!==i.subscription&&"to"!==i.subscription||e.push(i)}Vue.$store.commit("setMyFriend",e)}})},queryGroup:function(){H.conn.getGroup({success:function(t){Vue.$store.commit("setMyGroup",t.data)},error:function(t){}})},queryChatRoom:function(){H.conn.getChatRooms({apiUrl:"https://a1.easemob.com",pagenum:1,pagesize:20,success:function(t){Vue.$store.commit("setChatRoom",t.data)},error:function(){}})}};H.conn.listen({onOpened:function(t){Vue.$store.commit("setLoadingSheen",!1),z.queryFriends(),z.queryGroup(),z.queryChatRoom()},onClosed:function(t){},onTextMessage:function(t){Vue.$store.commit("setMassage",t),Vue.$store.commit("setTpismusic")},onEmojiMessage:function(t){},onPictureMessage:function(t){},onCmdMessage:function(t){},onAudioMessage:function(t){},onLocationMessage:function(t){},onFileMessage:function(t){},onVideoMessage:function(t){},onPresence:function(t){"subscribe"===t.type&&(Vue.$store.commit("setFriendsAdd",t),Vue.$store.commit("setEject",{sheen:!0,ifinput:!1,title:t.from+"请求添加好友",content:t.from+":"+t.status,btntitle:{yes:"同意",no:"忽略"}})),"subscribed"===t.type&&(Vue.$store.commit("setEject",{sheen:!0,ifinput:!1,title:"广播消息",content:t.from+"同意您的申请",btntitle:{yes:"确定",no:""}}),z.queryFriends())},onRoster:function(t){},onInviteMessage:function(t){},onOnline:function(){},onOffline:function(){},onError:function(t){var e=JSON.parse(t.data.data).error_description;0==t.type||28==t.type||("user not found"==e||"invalid password"==e||"user not activated"==e?Vue.$store.commit("setEject",{sheen:!0,ifinput:!1,title:"登录",content:"用户名或密码不正确!",btntitle:{yes:"注册账号",no:"返回"}}):t.type)},onRecallMessage:function(t){},onBlacklistUpdate:function(t){},onReceivedMessage:function(t){},onDeliveredMessage:function(t){},onReadMessage:function(t){},onCreateGroup:function(t){},onMutedMessage:function(t){}}),H.Tool=z,H.WebRTC=D.a,H.EMedia=W.a;var J=H;o["default"].use(F.a),o["default"].config.productionTip=!1,String.prototype.compare=function(t){return this.toLowerCase()==t.toLowerCase()},window.Vue=new o["default"]({router:$,store:T,WebIM:J,render:function(t){return t(k)}}).$mount("#app")},"7c55":function(t,e,n){"use strict";var o=n("2395"),i=n.n(o);i.a},8783:function(t,e,n){},"93e4":function(t,e,n){"use strict";var o=n("2f16"),i=n.n(o);i.a},d211:function(t,e,n){},dbb8:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"LoandAnms"},[n("div",{staticClass:"preloader"},[n("div",{staticClass:"preloader__ring"},t._l(30,(function(e){return n("div",{key:e,staticClass:"preloader__sector"},[t._v(t._s(t.title[e-1]))])})),0),n("div",{staticClass:"preloader__ring"},t._l(30,(function(e){return n("div",{key:e,staticClass:"preloader__sector"},[t._v(t._s(t.title[e-1]))])})),0)])])},i=[],s={name:"LoandAnms",props:["title"]},a=s,r=(n("4cc8"),n("2877")),c=Object(r["a"])(a,o,i,!1,null,"4d49f8f4",null);e["a"]=c.exports}});
//# sourceMappingURL=app.78285d81.js.map